import{J as Pt,S as Yt,i as Zt,s as Xt,K as Gt,L as Kt,m as ne,h as V,n as N,p as Wt,b as Ee,H as xe,M as Re,N as Jr,k as se,q as Ge,l as oe,r as Ke,G as Q,u as wn,a as Ze,c as Xe,g as ke,v as Nn,d as ze,f as kn,I as xt,y as mt,e as tr,z as Dt,A as _t,B as yt,O as ld,P as Wl,Q as Hl,R as mi,T as Fy,U as jo,V as Ai,W as fd,X as Cy,j as Sy,o as By,Y as Di,Z as vs,_ as du,$ as ou}from"../chunks/index.8f0b1a8a.js";import{d as En,w as Fn}from"../chunks/index.4d4fc2a3.js";function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},bl.apply(this,arguments)}var cd={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ht(t){return typeof t=="number"}function hn(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function hd(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function dd(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function pd(t){return t&&t.constructor.prototype.isUnit===!0||!1}function In(t){return typeof t=="string"}var qt=Array.isArray;function kr(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Ka(t){return Array.isArray(t)||kr(t)}function Oy(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function My(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function xy(t){return t&&t.constructor.prototype.isRange===!0||!1}function Gl(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Py(t){return typeof t=="boolean"}function Ty(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function Iy(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Ny(t){return typeof t=="function"}function ky(t){return t instanceof Date}function Ry(t){return t instanceof RegExp}function Ly(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!hd(t)&&!dd(t))}function Uy(t){return t===null}function vd(t){return t===void 0}function jy(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Vy(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function qy(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function zy(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wy(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Hy(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Gy(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ky(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Yy(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Zy(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xy(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Jy(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function $y(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qy(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function eA(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function tA(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function rA(t){return t&&t.constructor.prototype.isChain===!0||!1}function Gu(t){var e=typeof t;return e==="object"?t===null?"null":hn(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function _r(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return _r(r)});if(t instanceof Date)return new Date(t.valueOf());if(hn(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return nA(t,_r)}function nA(t,e){var r={};for(var i in t)Ku(t,i)&&(r[i]=e(t[i]));return r}function iA(t,e){for(var r in e)Ku(e,r)&&(t[r]=e[r]);return t}function Ya(t,e){var r,i,u;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(i=0,u=t.length;i<u;i++)if(!Ya(t[i],e[i]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ya(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Ku(t,e){return t&&Object.hasOwnProperty.call(t,e)}function uA(t,e){for(var r={},i=0;i<e.length;i++){var u=e[i],a=t[u];a!==void 0&&(r[u]=a)}return r}var aA=["Matrix","Array"],sA=["number","BigNumber","Fraction"],gs=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(cd)};bl(gs,cd,{MATRIX_OPTIONS:aA,NUMBER_OPTIONS:sA});function yn(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oA(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var i=0,u=function(){};return{s:u,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,c;return{s:function(){r=r.call(t)},n:function(){var p=r.next();return a=p.done,p},e:function(p){o=!0,c=p},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw c}}}}function oA(t,e){if(t){if(typeof t=="string")return C0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(t,e)}}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function iu(t){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function S0(){return!0}function fn(){return!1}function tu(){}var B0="Argument is not a typed-function.";function gd(){function t(R){return iu(R)==="object"&&R!==null&&R.constructor===Object}var e=[{name:"number",test:function(U){return typeof U=="number"}},{name:"string",test:function(U){return typeof U=="string"}},{name:"boolean",test:function(U){return typeof U=="boolean"}},{name:"Function",test:function(U){return typeof U=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(U){return U instanceof Date}},{name:"RegExp",test:function(U){return U instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(U){return U===null}},{name:"undefined",test:function(U){return U===void 0}}],r={name:"any",test:S0,isAny:!0},i,u,a=0,o={createCount:0};function c(R){var U=i.get(R);if(U)return U;var Z='Unknown type "'+R+'"',ue=R.toLowerCase(),ee,he=yn(u),ie;try{for(he.s();!(ie=he.n()).done;)if(ee=ie.value,ee.toLowerCase()===ue){Z+='. Did you mean "'+ee+'" ?';break}}catch(ae){he.e(ae)}finally{he.f()}throw new TypeError(Z)}function d(R){for(var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",Z=U?c(U).index:u.length,ue=[],ee=0;ee<R.length;++ee){if(!R[ee]||typeof R[ee].name!="string"||typeof R[ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var he=R[ee].name;if(i.has(he))throw new TypeError('Duplicate type name "'+he+'"');ue.push(he),i.set(he,{name:he,test:R[ee].test,isAny:R[ee].isAny,index:Z+ee,conversionsTo:[]})}var ie=u.slice(Z);u=u.slice(0,Z).concat(ue).concat(ie);for(var ae=Z+ue.length;ae<u.length;++ae)i.get(u[ae]).index=ae}function p(){i=new Map,u=[],a=0,d([r],!1)}p(),d(e);function h(){var R,U=yn(u),Z;try{for(U.s();!(Z=U.n()).done;)R=Z.value,i.get(R).conversionsTo=[]}catch(ue){U.e(ue)}finally{U.f()}a=0}function l(R){var U=u.filter(function(Z){var ue=i.get(Z);return!ue.isAny&&ue.test(R)});return U.length?U:["any"]}function f(R){return R&&typeof R=="function"&&"_typedFunctionData"in R}function D(R,U,Z){if(!f(R))throw new TypeError(B0);var ue=Z&&Z.exact,ee=Array.isArray(U)?U.join(","):U,he=O(ee),ie=m(he);if(!ue||ie in R.signatures){var ae=R._typedFunctionData.signatureMap.get(ie);if(ae)return ae}var De=he.length,Be;if(ue){Be=[];var We;for(We in R.signatures)Be.push(R._typedFunctionData.signatureMap.get(We))}else Be=R._typedFunctionData.signatures;for(var Ae=0;Ae<De;++Ae){var Lt=he[Ae],Ot=[],Jt=void 0,Ut=yn(Be),pr;try{for(Ut.s();!(pr=Ut.n()).done;){Jt=pr.value;var jt=T(Jt.params,Ae);if(!(!jt||Lt.restParam&&!jt.restParam)){if(!jt.hasAny){var vr=function(){var fr=w(jt);if(Lt.types.some(function(pn){return!fr.has(pn.name)}))return"continue"}();if(vr==="continue")continue}Ot.push(Jt)}}}catch(fr){Ut.e(fr)}finally{Ut.f()}if(Be=Ot,Be.length===0)break}var sr,or=yn(Be),$r;try{for(or.s();!($r=or.n()).done;)if(sr=$r.value,sr.params.length<=De)return sr}catch(fr){or.e(fr)}finally{or.f()}throw new TypeError("Signature not found (signature: "+(R.name||"unnamed")+"("+m(he,", ")+"))")}function A(R,U,Z){return D(R,U,Z).implementation}function g(R,U){var Z=c(U);if(Z.test(R))return R;var ue=Z.conversionsTo;if(ue.length===0)throw new Error("There are no conversions to "+U+" defined.");for(var ee=0;ee<ue.length;ee++){var he=c(ue[ee].from);if(he.test(R))return ue[ee].convert(R)}throw new Error("Cannot convert "+R+" to "+U)}function m(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return R.map(function(Z){return Z.name}).join(U)}function y(R){var U=R.indexOf("...")===0,Z=U?R.length>3?R.slice(3):"any":R,ue=Z.split("|").map(function(ae){return c(ae.trim())}),ee=!1,he=U?"...":"",ie=ue.map(function(ae){return ee=ae.isAny||ee,he+=ae.name+"|",{name:ae.name,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:null,conversionIndex:-1}});return{types:ie,name:he.slice(0,-1),hasAny:ee,hasConversion:!1,restParam:U}}function F(R){var U=R.types.map(function(ie){return ie.name}),Z=te(U),ue=R.hasAny,ee=R.name,he=Z.map(function(ie){var ae=c(ie.from);return ue=ae.isAny||ue,ee+="|"+ie.from,{name:ie.from,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:ie,conversionIndex:ie.index}});return{types:R.types.concat(he),name:ee,hasAny:ue,hasConversion:he.length>0,restParam:R.restParam}}function w(R){return R.typeSet||(R.typeSet=new Set,R.types.forEach(function(U){return R.typeSet.add(U.name)})),R.typeSet}function O(R){var U=[];if(typeof R!="string")throw new TypeError("Signatures must be strings");var Z=R.trim();if(Z==="")return U;for(var ue=Z.split(","),ee=0;ee<ue.length;++ee){var he=y(ue[ee].trim());if(he.restParam&&ee!==ue.length-1)throw new SyntaxError('Unexpected rest parameter "'+ue[ee]+'": only allowed for the last parameter');if(he.types.length===0)return null;U.push(he)}return U}function C(R){var U=Qe(R);return U?U.restParam:!1}function B(R){if(!R||R.types.length===0)return S0;if(R.types.length===1)return c(R.types[0].name).test;if(R.types.length===2){var U=c(R.types[0].name).test,Z=c(R.types[1].name).test;return function(he){return U(he)||Z(he)}}else{var ue=R.types.map(function(ee){return c(ee.name).test});return function(he){for(var ie=0;ie<ue.length;ie++)if(ue[ie](he))return!0;return!1}}}function x(R){var U,Z,ue;if(C(R)){U=ct(R).map(B);var ee=U.length,he=B(Qe(R)),ie=function(De){for(var Be=ee;Be<De.length;Be++)if(!he(De[Be]))return!1;return!0};return function(De){for(var Be=0;Be<U.length;Be++)if(!U[Be](De[Be]))return!1;return ie(De)&&De.length>=ee+1}}else return R.length===0?function(De){return De.length===0}:R.length===1?(Z=B(R[0]),function(De){return Z(De[0])&&De.length===1}):R.length===2?(Z=B(R[0]),ue=B(R[1]),function(De){return Z(De[0])&&ue(De[1])&&De.length===2}):(U=R.map(B),function(De){for(var Be=0;Be<U.length;Be++)if(!U[Be](De[Be]))return!1;return De.length===U.length})}function T(R,U){return U<R.length?R[U]:C(R)?Qe(R):null}function I(R,U){var Z=T(R,U);return Z?w(Z):new Set}function W(R){return R.conversion===null||R.conversion===void 0}function K(R,U){var Z=new Set;return R.forEach(function(ue){var ee=I(ue.params,U),he,ie=yn(ee),ae;try{for(ie.s();!(ae=ie.n()).done;)he=ae.value,Z.add(he)}catch(De){ie.e(De)}finally{ie.f()}}),Z.has("any")?["any"]:Array.from(Z)}function Y(R,U,Z){var ue,ee,he=R||"unnamed",ie=Z,ae,De=function(){var Ut=[];if(ie.forEach(function(jt){var vr=T(jt.params,ae),sr=B(vr);(ae<jt.params.length||C(jt.params))&&sr(U[ae])&&Ut.push(jt)}),Ut.length===0){if(ee=K(ie,ae),ee.length>0){var pr=l(U[ae]);return ue=new TypeError("Unexpected type of argument in function "+he+" (expected: "+ee.join(" or ")+", actual: "+pr.join(" | ")+", index: "+ae+")"),ue.data={category:"wrongType",fn:he,index:ae,actual:pr,expected:ee},{v:ue}}}else ie=Ut};for(ae=0;ae<U.length;ae++){var Be=De();if(iu(Be)==="object")return Be.v}var We=ie.map(function(Jt){return C(Jt.params)?1/0:Jt.params.length});if(U.length<Math.min.apply(null,We))return ee=K(ie,ae),ue=new TypeError("Too few arguments in function "+he+" (expected: "+ee.join(" or ")+", index: "+U.length+")"),ue.data={category:"tooFewArgs",fn:he,index:U.length,expected:ee},ue;var Ae=Math.max.apply(null,We);if(U.length>Ae)return ue=new TypeError("Too many arguments in function "+he+" (expected: "+Ae+", actual: "+U.length+")"),ue.data={category:"tooManyArgs",fn:he,index:U.length,expectedLength:Ae},ue;for(var Lt=[],Ot=0;Ot<U.length;++Ot)Lt.push(l(U[Ot]).join("|"));return ue=new TypeError('Arguments of type "'+Lt.join(", ")+'" do not match any of the defined signatures of function '+he+"."),ue.data={category:"mismatch",actual:Lt},ue}function q(R){for(var U=u.length+1,Z=0;Z<R.types.length;Z++)W(R.types[Z])&&(U=Math.min(U,R.types[Z].typeIndex));return U}function H(R){for(var U=a+1,Z=0;Z<R.types.length;Z++)W(R.types[Z])||(U=Math.min(U,R.types[Z].conversionIndex));return U}function j(R,U){if(R.hasAny){if(!U.hasAny)return 1}else if(U.hasAny)return-1;if(R.restParam){if(!U.restParam)return 1}else if(U.restParam)return-1;if(R.hasConversion){if(!U.hasConversion)return 1}else if(U.hasConversion)return-1;var Z=q(R)-q(U);if(Z<0)return-1;if(Z>0)return 1;var ue=H(R)-H(U);return ue<0?-1:ue>0?1:0}function G(R,U){var Z=R.params,ue=U.params,ee=Qe(Z),he=Qe(ue),ie=C(Z),ae=C(ue);if(ie&&ee.hasAny){if(!ae||!he.hasAny)return 1}else if(ae&&he.hasAny)return-1;var De=0,Be=0,We,Ae=yn(Z),Lt;try{for(Ae.s();!(Lt=Ae.n()).done;)We=Lt.value,We.hasAny&&++De,We.hasConversion&&++Be}catch(Sn){Ae.e(Sn)}finally{Ae.f()}var Ot=0,Jt=0,Ut=yn(ue),pr;try{for(Ut.s();!(pr=Ut.n()).done;)We=pr.value,We.hasAny&&++Ot,We.hasConversion&&++Jt}catch(Sn){Ut.e(Sn)}finally{Ut.f()}if(De!==Ot)return De-Ot;if(ie&&ee.hasConversion){if(!ae||!he.hasConversion)return 1}else if(ae&&he.hasConversion)return-1;if(Be!==Jt)return Be-Jt;if(ie){if(!ae)return 1}else if(ae)return-1;var jt=(Z.length-ue.length)*(ie?-1:1);if(jt!==0)return jt;for(var vr=[],sr=0,or=0;or<Z.length;++or){var $r=j(Z[or],ue[or]);vr.push($r),sr+=$r}if(sr!==0)return sr;for(var fr,pn=0,jn=vr;pn<jn.length;pn++)if(fr=jn[pn],fr!==0)return fr;return 0}function te(R){if(R.length===0)return[];var U=R.map(c);R.length>1&&U.sort(function(De,Be){return De.index-Be.index});var Z=U[0].conversionsTo;if(R.length===1)return Z;Z=Z.concat([]);for(var ue=new Set(R),ee=1;ee<U.length;++ee){var he=void 0,ie=yn(U[ee].conversionsTo),ae;try{for(ie.s();!(ae=ie.n()).done;)he=ae.value,ue.has(he.from)||(Z.push(he),ue.add(he.from))}catch(De){ie.e(De)}finally{ie.f()}}return Z}function ce(R,U){var Z=U;if(R.some(function(ae){return ae.hasConversion})){var ue=C(R),ee=R.map(ve);Z=function(){for(var De=[],Be=ue?arguments.length-1:arguments.length,We=0;We<Be;We++)De[We]=ee[We](arguments[We]);return ue&&(De[Be]=arguments[Be].map(ee[Be])),U.apply(this,De)}}var he=Z;if(C(R)){var ie=R.length-1;he=function(){return Z.apply(this,it(arguments,0,ie).concat([it(arguments,ie)]))}}return he}function ve(R){var U,Z,ue,ee,he=[],ie=[];switch(R.types.forEach(function(ae){ae.conversion&&(he.push(c(ae.conversion.from).test),ie.push(ae.conversion.convert))}),ie.length){case 0:return function(De){return De};case 1:return U=he[0],ue=ie[0],function(De){return U(De)?ue(De):De};case 2:return U=he[0],Z=he[1],ue=ie[0],ee=ie[1],function(De){return U(De)?ue(De):Z(De)?ee(De):De};default:return function(De){for(var Be=0;Be<ie.length;Be++)if(he[Be](De))return ie[Be](De);return De}}}function we(R){function U(Z,ue,ee){if(ue<Z.length){var he=Z[ue],ie=[];if(he.restParam){var ae=he.types.filter(W);ae.length<he.types.length&&ie.push({types:ae,name:"..."+ae.map(function(De){return De.name}).join("|"),hasAny:ae.some(function(De){return De.isAny}),hasConversion:!1,restParam:!0}),ie.push(he)}else ie=he.types.map(function(De){return{types:[De],name:De.name,hasAny:De.isAny,hasConversion:De.conversion,restParam:!1}});return dt(ie,function(De){return U(Z,ue+1,ee.concat([De]))})}else return[ee]}return U(R,0,[])}function Se(R,U){for(var Z=Math.max(R.length,U.length),ue=0;ue<Z;ue++){var ee=I(R,ue),he=I(U,ue),ie=!1,ae=void 0,De=yn(he),Be;try{for(De.s();!(Be=De.n()).done;)if(ae=Be.value,ee.has(ae)){ie=!0;break}}catch(Jt){De.e(Jt)}finally{De.f()}if(!ie)return!1}var We=R.length,Ae=U.length,Lt=C(R),Ot=C(U);return Lt?Ot?We===Ae:Ae>=We:Ot?We>=Ae:We===Ae}function Te(R){return R.map(function(U){return wt(U)?At(U.referToSelf.callback):Ar(U)?Je(U.referTo.references,U.referTo.callback):U})}function Ce(R,U,Z){var ue=[],ee,he=yn(R),ie;try{for(he.s();!(ie=he.n()).done;){ee=ie.value;var ae=Z[ee];if(typeof ae!="number")throw new TypeError('No definition for referenced signature "'+ee+'"');if(ae=U[ae],typeof ae!="function")return!1;ue.push(ae)}}catch(De){he.e(De)}finally{he.f()}return ue}function Pe(R,U,Z){for(var ue=Te(R),ee=new Array(ue.length).fill(!1),he=!0;he;){he=!1;for(var ie=!0,ae=0;ae<ue.length;++ae)if(!ee[ae]){var De=ue[ae];if(wt(De))ue[ae]=De.referToSelf.callback(Z),ue[ae].referToSelf=De.referToSelf,ee[ae]=!0,ie=!1;else if(Ar(De)){var Be=Ce(De.referTo.references,ue,U);Be?(ue[ae]=De.referTo.callback.apply(this,Be),ue[ae].referTo=De.referTo,ee[ae]=!0,ie=!1):he=!0}}if(ie&&he)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ue}function Ie(R){var U=/\bthis(\(|\.signatures\b)/;Object.keys(R).forEach(function(Z){var ue=R[Z];if(U.test(ue.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Le(R,U){if(o.createCount++,Object.keys(U).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Ie(U);var Z=[],ue=[],ee={},he=[],ie,ae=function(){if(!Object.prototype.hasOwnProperty.call(U,ie))return"continue";var rr=O(ie);if(!rr)return"continue";Z.forEach(function(en){if(Se(en,rr))throw new TypeError('Conflicting signatures "'+m(en)+'" and "'+m(rr)+'".')}),Z.push(rr);var Pr=ue.length;ue.push(U[ie]);var Ci=rr.map(F),qn=void 0,Mn=yn(we(Ci)),Si;try{for(Mn.s();!(Si=Mn.n()).done;){qn=Si.value;var vn=m(qn);he.push({params:qn,name:vn,fn:Pr}),qn.every(function(en){return!en.hasConversion})&&(ee[vn]=Pr)}}catch(en){Mn.e(en)}finally{Mn.f()}};for(ie in U)var De=ae();he.sort(G);var Be=Pe(ue,ee,On),We;for(We in ee)Object.prototype.hasOwnProperty.call(ee,We)&&(ee[We]=Be[ee[We]]);for(var Ae=[],Lt=new Map,Ot=0,Jt=he;Ot<Jt.length;Ot++)We=Jt[Ot],Lt.has(We.name)||(We.fn=Be[We.fn],Ae.push(We),Lt.set(We.name,We));for(var Ut=Ae[0]&&Ae[0].params.length<=2&&!C(Ae[0].params),pr=Ae[1]&&Ae[1].params.length<=2&&!C(Ae[1].params),jt=Ae[2]&&Ae[2].params.length<=2&&!C(Ae[2].params),vr=Ae[3]&&Ae[3].params.length<=2&&!C(Ae[3].params),sr=Ae[4]&&Ae[4].params.length<=2&&!C(Ae[4].params),or=Ae[5]&&Ae[5].params.length<=2&&!C(Ae[5].params),$r=Ut&&pr&&jt&&vr&&sr&&or,fr=0;fr<Ae.length;++fr)Ae[fr].test=x(Ae[fr].params);for(var pn=Ut?B(Ae[0].params[0]):fn,jn=pr?B(Ae[1].params[0]):fn,Sn=jt?B(Ae[2].params[0]):fn,Bn=vr?B(Ae[3].params[0]):fn,Li=sr?B(Ae[4].params[0]):fn,Ei=or?B(Ae[5].params[0]):fn,vu=Ut?B(Ae[0].params[1]):fn,br=pr?B(Ae[1].params[1]):fn,$t=jt?B(Ae[2].params[1]):fn,gu=vr?B(Ae[3].params[1]):fn,ri=sr?B(Ae[4].params[1]):fn,Qr=or?B(Ae[5].params[1]):fn,Vn=0;Vn<Ae.length;++Vn)Ae[Vn].implementation=ce(Ae[Vn].params,Ae[Vn].fn);var Fi=Ut?Ae[0].implementation:tu,mu=pr?Ae[1].implementation:tu,Du=jt?Ae[2].implementation:tu,Ui=vr?Ae[3].implementation:tu,_u=sr?Ae[4].implementation:tu,yu=or?Ae[5].implementation:tu,Au=Ut?Ae[0].params.length:-1,bu=pr?Ae[1].params.length:-1,wu=jt?Ae[2].params.length:-1,Eu=vr?Ae[3].params.length:-1,ni=sr?Ae[4].params.length:-1,Fu=or?Ae[5].params.length:-1,ii=$r?6:0,Cu=Ae.length,Su=Ae.map(function(gr){return gr.test}),Bu=Ae.map(function(gr){return gr.implementation}),ji=function(){for(var rr=ii;rr<Cu;rr++)if(Su[rr](arguments))return Bu[rr].apply(this,arguments);return o.onMismatch(R,arguments,Ae)};function On(gr,rr){return arguments.length===Au&&pn(gr)&&vu(rr)?Fi.apply(this,arguments):arguments.length===bu&&jn(gr)&&br(rr)?mu.apply(this,arguments):arguments.length===wu&&Sn(gr)&&$t(rr)?Du.apply(this,arguments):arguments.length===Eu&&Bn(gr)&&gu(rr)?Ui.apply(this,arguments):arguments.length===ni&&Li(gr)&&ri(rr)?_u.apply(this,arguments):arguments.length===Fu&&Ei(gr)&&Qr(rr)?yu.apply(this,arguments):ji.apply(this,arguments)}try{Object.defineProperty(On,"name",{value:R})}catch{}return On.signatures=ee,On._typedFunctionData={signatures:Ae,signatureMap:Lt},On}function at(R,U,Z){throw Y(R,U,Z)}function ct(R){return it(R,0,R.length-1)}function Qe(R){return R[R.length-1]}function it(R,U,Z){return Array.prototype.slice.call(R,U,Z)}function ht(R,U){for(var Z=0;Z<R.length;Z++)if(U(R[Z]))return R[Z]}function dt(R,U){return Array.prototype.concat.apply([],R.map(U))}function rt(){var R=ct(arguments).map(function(Z){return m(O(Z))}),U=Qe(arguments);if(typeof U!="function")throw new TypeError("Callback function expected as last argument");return Je(R,U)}function Je(R,U){return{referTo:{references:R,callback:U}}}function At(R){if(typeof R!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:R}}}function Ar(R){return R&&iu(R.referTo)==="object"&&Array.isArray(R.referTo.references)&&typeof R.referTo.callback=="function"}function wt(R){return R&&iu(R.referToSelf)==="object"&&typeof R.referToSelf.callback=="function"}function ye(R,U){if(!R)return U;if(U&&U!==R){var Z=new Error("Function names do not match (expected: "+R+", actual: "+U+")");throw Z.data={actual:U,expected:R},Z}return R}function _e(R){var U;for(var Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&(f(R[Z])||typeof R[Z].signature=="string")&&(U=ye(U,R[Z].name));return U}function pt(R,U){var Z;for(Z in U)if(Object.prototype.hasOwnProperty.call(U,Z)){if(Z in R&&U[Z]!==R[Z]){var ue=new Error('Signature "'+Z+'" is defined twice');throw ue.data={signature:Z,sourceFunction:U[Z],destFunction:R[Z]},ue}R[Z]=U[Z]}}var Nt=o;o=function(U){for(var Z=typeof U=="string",ue=Z?1:0,ee=Z?U:"",he={},ie=ue;ie<arguments.length;++ie){var ae=arguments[ie],De={},Be=void 0;if(typeof ae=="function"?(Be=ae.name,typeof ae.signature=="string"?De[ae.signature]=ae:f(ae)&&(De=ae.signatures)):t(ae)&&(De=ae,Z||(Be=_e(ae))),Object.keys(De).length===0){var We=new TypeError("Argument to 'typed' at index "+ie+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw We.data={index:ie,argument:ae},We}Z||(ee=ye(ee,Be)),pt(he,De)}return Le(ee||"",he)},o.create=gd,o.createCount=Nt.createCount,o.onMismatch=at,o.throwMismatchError=at,o.createError=Y,o.clear=p,o.clearConversions=h,o.addTypes=d,o._findType=c,o.referTo=rt,o.referToSelf=At,o.convert=g,o.findSignature=D,o.find=A,o.isTypedFunction=f,o.warnAgainstDeprecatedThis=!0,o.addType=function(R,U){var Z="any";U!==!1&&i.has("Object")&&(Z="Object"),o.addTypes([R],Z)};function ar(R){if(!R||typeof R.from!="string"||typeof R.to!="string"||typeof R.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(R.to===R.from)throw new SyntaxError('Illegal to define conversion from "'+R.from+'" to itself.')}return o.addConversion=function(R){ar(R);var U=c(R.to);if(U.conversionsTo.every(function(Z){return Z.from!==R.from}))U.conversionsTo.push({from:R.from,convert:R.convert,index:a++});else throw new Error('There is already a conversion from "'+R.from+'" to "'+U.name+'"')},o.addConversions=function(R){R.forEach(o.addConversion)},o.removeConversion=function(R){ar(R);var U=c(R.to),Z=ht(U.conversionsTo,function(ee){return ee.from===R.from});if(!Z)throw new Error("Attempt to remove nonexistent conversion from "+R.from+" to "+R.to);if(Z.convert!==R.convert)throw new Error("Conversion to remove does not match existing conversion");var ue=U.conversionsTo.indexOf(Z);U.conversionsTo.splice(ue,1)},o.resolve=function(R,U){if(!f(R))throw new TypeError(B0);for(var Z=R._typedFunctionData.signatures,ue=0;ue<Z.length;++ue)if(Z[ue].test(U))return Z[ue];return null},o}const O0=gd();function yr(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function Vo(t,e,r){var i={2:"0b",8:"0o",16:"0x"},u=i[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!yr(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(u).concat(t.toString(e)).concat(a)}function wl(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i,u;if(e&&(e.notation&&(r=e.notation),Ht(e)?i=e:Ht(e.precision)&&(i=e.precision),e.wordSize&&(u=e.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return fA(t,i);case"exponential":return md(t,i);case"engineering":return lA(t,i);case"bin":return Vo(t,2,u);case"oct":return Vo(t,8,u);case"hex":return Vo(t,16,u);case"auto":return cA(t,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ms(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],i=e[2],u=parseFloat(e[4]||"0"),a=i.indexOf(".");u+=a!==-1?a-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(c){return u-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function lA(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=ms(t),i=Ds(r,e),u=i.exponent,a=i.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(Ht(e))for(;e>a.length||u-o+1>a.length;)a.push(0);else for(var c=Math.abs(u-o)-(a.length-1),d=0;d<c;d++)a.push(0);for(var p=Math.abs(u-o),h=1;p>0;)h++,p--;var l=a.slice(h).join(""),f=Ht(e)&&l.length||l.match(/[1-9]/)?"."+l:"",D=a.slice(0,h).join("")+f+"e"+(u>=0?"+":"")+o.toString();return i.sign+D}function fA(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=ms(t),i=typeof e=="number"?Ds(r,r.exponent+1+e):r,u=i.coefficients,a=i.exponent+1,o=a+(e||0);return u.length<o&&(u=u.concat(au(o-u.length))),a<0&&(u=au(-a+1).concat(u),a=1),a<u.length&&u.splice(a,0,a===0?"0.":"."),i.sign+u.join("")}function md(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=ms(t),i=e?Ds(r,e):r,u=i.coefficients,a=i.exponent;u.length<e&&(u=u.concat(au(e-u.length)));var o=u.shift();return i.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(a>=0?"+":"")+a}function cA(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var i=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5,a=ms(t),o=e?Ds(a,e):a;if(o.exponent<i||o.exponent>=u)return md(t,e);var c=o.coefficients,d=o.exponent;c.length<e&&(c=c.concat(au(e-c.length))),c=c.concat(au(d-c.length+1+(c.length<e?e-c.length:0))),c=au(-d).concat(c);var p=d>0?d:0;return p<c.length-1&&c.splice(p+1,0,"."),o.sign+c.join("")}function Ds(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=r.coefficients;e<=0;)i.unshift(0),r.exponent++,e++;if(i.length>e){var u=i.splice(e,i.length-e);if(u[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),r.exponent++,a++),a--,i[a]++}}return r}function au(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function hA(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var dA=Number.EPSILON||2220446049250313e-31;function Za(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<dA?!0:i<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}function qo(t,e,r){var i=t.constructor,u=new i(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(t.greaterThan(u.pow(r-1).sub(1))||t.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(u.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function pA(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i,u;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?i=e:e.precision&&(i=e.precision),e.wordSize&&(u=e.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return gA(t,i);case"exponential":return M0(t,i);case"engineering":return vA(t,i);case"bin":return qo(t,2,u);case"oct":return qo(t,8,u);case"hex":return qo(t,16,u);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var c,d=t.toSignificantDigits(i),p=d.e;return p>=a&&p<o?c=d.toFixed():c=M0(t,i),c.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],l=arguments[4];return h!=="."?h+l:l})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function vA(t,e){var r=t.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,u=t.mul(Math.pow(10,-i)),a=u.toPrecision(e);return a.indexOf("e")!==-1&&(a=u.toString()),a+"e"+(r>=0?"+":"")+i.toString()}function M0(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function gA(t,e){return t.toFixed(e)}function Vr(t,e){var r=mA(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function mA(t,e){if(typeof t=="number")return wl(t,e);if(hn(t))return pA(t,e);if(DA(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return Dd(t,e);if(In(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(i=>'"'+i+'": '+Vr(t[i],e));return"{"+r.join(", ")+"}"}return String(t)}function Dd(t,e){if(Array.isArray(t)){for(var r="[",i=t.length,u=0;u<i;u++)u!==0&&(r+=", "),r+=Dd(t[u],e);return r+="]",r}else return Vr(t,e)}function DA(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Et(t,e,r){if(!(this instanceof Et))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Et.prototype=new RangeError;Et.prototype.constructor=RangeError;Et.prototype.name="DimensionError";Et.prototype.isDimensionError=!0;function Ri(t,e,r){if(!(this instanceof Ri))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ri.prototype=new RangeError;Ri.prototype.constructor=RangeError;Ri.prototype.name="IndexError";Ri.prototype.isIndexError=!0;function _i(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function _d(t,e,r){var i,u=t.length;if(u!==e[r])throw new Et(u,e[r]);if(r<e.length-1){var a=r+1;for(i=0;i<u;i++){var o=t[i];if(!Array.isArray(o))throw new Et(e.length-1,e.length,"<");_d(t[i],e,a)}}else for(i=0;i<u;i++)if(Array.isArray(t[i]))throw new Et(e.length+1,e.length,">")}function x0(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Et(t.length,0)}else _d(t,e,0)}function zt(t,e){if(!Ht(t)||!yr(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Ri(t,e)}function P0(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(u){if(!Ht(u)||!yr(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(e)+")")});var i=r!==void 0?r:0;return El(t,e,0,i),t}function El(t,e,r,i){var u,a,o=t.length,c=e[r],d=Math.min(o,c);if(t.length=c,r<e.length-1){var p=r+1;for(u=0;u<d;u++)a=t[u],Array.isArray(a)||(a=[a],t[u]=a),El(a,e,p,i);for(u=d;u<c;u++)a=[],t[u]=a,El(a,e,p,i)}else{for(u=0;u<d;u++)for(;Array.isArray(t[u]);)t[u]=t[u][0];for(u=d;u<c;u++)t[u]=i}}function _A(t,e){var r=AA(t),i=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Et(0,i,"!=");e=Kl(e,i);var u=yd(e);if(i!==u)throw new Et(u,i,"!=");try{return yA(r,e)}catch(a){throw a instanceof Et?new Et(u,i,"!="):a}}function Kl(t,e){var r=yd(t),i=t.slice(),u=-1,a=t.indexOf(u),o=t.indexOf(u,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var c=a>=0,d=e%r===0;if(c)if(d)i[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return i}function yd(t){return t.reduce((e,r)=>e*r,1)}function yA(t,e){for(var r=t,i,u=e.length-1;u>0;u--){var a=e[u];i=[];for(var o=r.length/a,c=0;c<o;c++)i.push(r.slice(c*a,(c+1)*a));r=i}return r}function Ad(t,e,r,i){var u=i||_i(t);if(r)for(var a=0;a<r;a++)t=[t],u.unshift(1);for(t=bd(t,e,0);u.length<e;)u.push(1);return t}function bd(t,e,r){var i,u;if(Array.isArray(t)){var a=r+1;for(i=0,u=t.length;i<u;i++)t[i]=bd(t[i],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function AA(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(i){Array.isArray(i)?i.forEach(r):e.push(i)}),e}function Xa(t,e){for(var r,i=0,u=0;u<t.length;u++){var a=t[u],o=Array.isArray(a);if(u===0&&o&&(i=a.length),o&&a.length!==i)return;var c=o?Xa(a,e):e(a);if(r===void 0)r=c;else if(r!==c)return"mixed"}return r}function Ct(t,e,r,i){function u(a){var o=uA(a,e.map(EA));return bA(t,e,a),r(o)}return u.isFactory=!0,u.fn=t,u.dependencies=e.slice().sort(),i&&(u.meta=i),u}function bA(t,e,r){var i=e.filter(a=>!wA(a)).every(a=>r[a]!==void 0);if(!i){var u=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(u.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function wA(t){return t&&t[0]==="?"}function EA(t){return t&&t[0]==="?"?t.slice(1):t}function FA(t,e){if(Ed(t)&&wd(t,e))return t[e];throw typeof t[e]=="function"&&BA(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function CA(t,e,r){if(Ed(t)&&wd(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function SA(t,e){return e in t}function wd(t,e){return!t||typeof t!="object"?!1:Ku(OA,e)?!0:!(e in Object.prototype||e in Function.prototype)}function BA(t,e){return t==null||typeof t[e]!="function"||Ku(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Ku(MA,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ed(t){return typeof t=="object"&&t&&t.constructor===Object}var OA={length:!0,name:!0},MA={toString:!0,valueOf:!0,toLocaleString:!0};class xA{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return FA(this.wrappedObject,e)}set(e,r){return CA(this.wrappedObject,e,r),this}has(e){return SA(this.wrappedObject,e)}}function PA(t){return t?t instanceof Map||t instanceof xA||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var Fd=function(){return Fd=O0.create,O0},TA=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],IA=Ct("typed",TA,function(e){var{BigNumber:r,Complex:i,DenseMatrix:u,Fraction:a}=e,o=Fd();return o.clear(),o.addTypes([{name:"number",test:Ht},{name:"Complex",test:hd},{name:"BigNumber",test:hn},{name:"Fraction",test:dd},{name:"Unit",test:pd},{name:"identifier",test:c=>In&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(c)},{name:"string",test:In},{name:"Chain",test:rA},{name:"Array",test:qt},{name:"Matrix",test:kr},{name:"DenseMatrix",test:Oy},{name:"SparseMatrix",test:My},{name:"Range",test:xy},{name:"Index",test:Gl},{name:"boolean",test:Py},{name:"ResultSet",test:Ty},{name:"Help",test:Iy},{name:"function",test:Ny},{name:"Date",test:ky},{name:"RegExp",test:Ry},{name:"null",test:Uy},{name:"undefined",test:vd},{name:"AccessorNode",test:jy},{name:"ArrayNode",test:Vy},{name:"AssignmentNode",test:qy},{name:"BlockNode",test:zy},{name:"ConditionalNode",test:Wy},{name:"ConstantNode",test:Hy},{name:"FunctionNode",test:Ky},{name:"FunctionAssignmentNode",test:Gy},{name:"IndexNode",test:Yy},{name:"Node",test:Zy},{name:"ObjectNode",test:Xy},{name:"OperatorNode",test:Jy},{name:"ParenthesisNode",test:$y},{name:"RangeNode",test:Qy},{name:"RelationalNode",test:eA},{name:"SymbolNode",test:tA},{name:"Map",test:PA},{name:"Object",test:Ly}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(d){if(r||zo(d),hA(d)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+d+"). Use function bignumber(x) to convert to BigNumber.");return new r(d)}},{from:"number",to:"Complex",convert:function(d){return i||Ra(d),new i(d,0)}},{from:"BigNumber",to:"Complex",convert:function(d){return i||Ra(d),new i(d.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(d){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(d){return i||Ra(d),new i(d.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(d){a||Wo(d);var p=new a(d);if(p.valueOf()!==d)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+d+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(d){var p=Number(d);if(isNaN(p))throw new Error('Cannot convert "'+d+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(d){r||zo(d);try{return new r(d)}catch{throw new Error('Cannot convert "'+d+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(d){a||Wo(d);try{return new a(d)}catch{throw new Error('Cannot convert "'+d+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(d){i||Ra(d);try{return new i(d)}catch{throw new Error('Cannot convert "'+d+'" to Complex')}}},{from:"boolean",to:"number",convert:function(d){return+d}},{from:"boolean",to:"BigNumber",convert:function(d){return r||zo(d),new r(+d)}},{from:"boolean",to:"Fraction",convert:function(d){return a||Wo(d),new a(+d)}},{from:"boolean",to:"string",convert:function(d){return String(d)}},{from:"Array",to:"Matrix",convert:function(d){return u||NA(),new u(d)}},{from:"Matrix",to:"Array",convert:function(d){return d.valueOf()}}]),o.onMismatch=(c,d,p)=>{var h=o.createError(c,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&Ka(d[0])&&p.some(f=>!f.params.includes(","))){var l=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw l.data=h.data,l}throw h},o.onMismatch=(c,d,p)=>{var h=o.createError(c,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&Ka(d[0])&&p.some(f=>!f.params.includes(","))){var l=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw l.data=h.data,l}throw h},o});function zo(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Ra(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function NA(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Wo(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var uu=9e15,bi=1e9,Fl="0123456789abcdef",Ja="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$a="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-uu,maxE:uu,crypto:!1},Cd,Qn,He=!0,_s="[DecimalError] ",yi=_s+"Invalid argument: ",Sd=_s+"Precision limit exceeded",Bd=_s+"crypto unavailable",Od="[object Decimal]",xr=Math.floor,dr=Math.pow,kA=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,RA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,LA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Md=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn=1e7,je=7,UA=9007199254740991,jA=Ja.length-1,Sl=$a.length-1,ge={toStringTag:Od};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ne(t)};ge.ceil=function(){return Ne(new this.constructor(this),this.e+1,2)};ge.clampedTo=ge.clamp=function(t,e){var r,i=this,u=i.constructor;if(t=new u(t),e=new u(e),!t.s||!e.s)return new u(NaN);if(t.gt(e))throw Error(yi+e);return r=i.cmp(t),r<0?t:i.cmp(e)>0?e:new u(i)};ge.comparedTo=ge.cmp=function(t){var e,r,i,u,a=this,o=a.d,c=(t=new a.constructor(t)).d,d=a.s,p=t.s;if(!o||!c)return!d||!p?NaN:d!==p?d:o===c?0:!o^d<0?1:-1;if(!o[0]||!c[0])return o[0]?d:c[0]?-p:0;if(d!==p)return d;if(a.e!==t.e)return a.e>t.e^d<0?1:-1;for(i=o.length,u=c.length,e=0,r=i<u?i:u;e<r;++e)if(o[e]!==c[e])return o[e]>c[e]^d<0?1:-1;return i===u?0:i>u^d<0?1:-1};ge.cosine=ge.cos=function(){var t,e,r=this,i=r.constructor;return r.d?r.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+je,i.rounding=1,r=VA(i,Nd(i,r)),i.precision=t,i.rounding=e,Ne(Qn==2||Qn==3?r.neg():r,t,e,!0)):new i(1):new i(NaN)};ge.cubeRoot=ge.cbrt=function(){var t,e,r,i,u,a,o,c,d,p,h=this,l=h.constructor;if(!h.isFinite()||h.isZero())return new l(h);for(He=!1,a=h.s*dr(h.s*h,1/3),!a||Math.abs(a)==1/0?(r=Br(h.d),t=h.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=dr(r,1/3),t=xr((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),i=new l(r),i.s=h.s):i=new l(a.toString()),o=(t=l.precision)+3;;)if(c=i,d=c.times(c).times(c),p=d.plus(h),i=Bt(p.plus(h).times(c),p.plus(d),o+2,1),Br(c.d).slice(0,o)===(r=Br(i.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(Ne(c,t+1,0),c.times(c).times(c).eq(h))){i=c;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ne(i,t+1,1),e=!i.times(i).times(i).eq(h));break}return He=!0,Ne(i,t,l.rounding,e)};ge.decimalPlaces=ge.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-xr(this.e/je))*je,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};ge.dividedBy=ge.div=function(t){return Bt(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.divToInt=function(t){var e=this,r=e.constructor;return Ne(Bt(e,new r(t),0,1,1),r.precision,r.rounding)};ge.equals=ge.eq=function(t){return this.cmp(t)===0};ge.floor=function(){return Ne(new this.constructor(this),this.e+1,3)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){var e=this.cmp(t);return e==1||e===0};ge.hyperbolicCosine=ge.cosh=function(){var t,e,r,i,u,a=this,o=a.constructor,c=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return c;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,u=a.d.length,u<32?(t=Math.ceil(u/3),e=(1/As(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=lu(o,1,a.times(e),new o(1),!0);for(var d,p=t,h=new o(8);p--;)d=a.times(a),a=c.minus(d.times(h.minus(d.times(h))));return Ne(a,o.precision=r,o.rounding=i,!0)};ge.hyperbolicSine=ge.sinh=function(){var t,e,r,i,u=this,a=u.constructor;if(!u.isFinite()||u.isZero())return new a(u);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<3)u=lu(a,2,u,u,!0);else{t=1.4*Math.sqrt(i),t=t>16?16:t|0,u=u.times(1/As(5,t)),u=lu(a,2,u,u,!0);for(var o,c=new a(5),d=new a(16),p=new a(20);t--;)o=u.times(u),u=u.times(c.plus(o.times(d.times(o).plus(p))))}return a.precision=e,a.rounding=r,Ne(u,e,r,!0)};ge.hyperbolicTangent=ge.tanh=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,Bt(r.sinh(),r.cosh(),i.precision=t,i.rounding=e)):new i(r.s)};ge.inverseCosine=ge.acos=function(){var t,e=this,r=e.constructor,i=e.abs().cmp(1),u=r.precision,a=r.rounding;return i!==-1?i===0?e.isNeg()?An(r,u,a):new r(0):new r(NaN):e.isZero()?An(r,u+4,a).times(.5):(r.precision=u+6,r.rounding=1,e=e.asin(),t=An(r,u+4,a).times(.5),r.precision=u,r.rounding=a,t.minus(e))};ge.inverseHyperbolicCosine=ge.acosh=function(){var t,e,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,He=!1,r=r.times(r).minus(1).sqrt().plus(r),He=!0,i.precision=t,i.rounding=e,r.ln()):new i(r)};ge.inverseHyperbolicSine=ge.asinh=function(){var t,e,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,He=!1,r=r.times(r).plus(1).sqrt().plus(r),He=!0,i.precision=t,i.rounding=e,r.ln())};ge.inverseHyperbolicTangent=ge.atanh=function(){var t,e,r,i,u=this,a=u.constructor;return u.isFinite()?u.e>=0?new a(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(t=a.precision,e=a.rounding,i=u.sd(),Math.max(i,t)<2*-u.e-1?Ne(new a(u),t,e,!0):(a.precision=r=i-u.e,u=Bt(u.plus(1),new a(1).minus(u),r+t,1),a.precision=t+4,a.rounding=1,u=u.ln(),a.precision=t,a.rounding=e,u.times(.5))):new a(NaN)};ge.inverseSine=ge.asin=function(){var t,e,r,i,u=this,a=u.constructor;return u.isZero()?new a(u):(e=u.abs().cmp(1),r=a.precision,i=a.rounding,e!==-1?e===0?(t=An(a,r+4,i).times(.5),t.s=u.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,u=u.div(new a(1).minus(u.times(u)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,u.times(2)))};ge.inverseTangent=ge.atan=function(){var t,e,r,i,u,a,o,c,d,p=this,h=p.constructor,l=h.precision,f=h.rounding;if(p.isFinite()){if(p.isZero())return new h(p);if(p.abs().eq(1)&&l+4<=Sl)return o=An(h,l+4,f).times(.25),o.s=p.s,o}else{if(!p.s)return new h(NaN);if(l+4<=Sl)return o=An(h,l+4,f).times(.5),o.s=p.s,o}for(h.precision=c=l+10,h.rounding=1,r=Math.min(28,c/je+2|0),t=r;t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(He=!1,e=Math.ceil(c/je),i=1,d=p.times(p),o=new h(p),u=p;t!==-1;)if(u=u.times(d),a=o.minus(u.div(i+=2)),u=u.times(d),o=a.plus(u.div(i+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),He=!0,Ne(o,h.precision=l,h.rounding=f,!0)};ge.isFinite=function(){return!!this.d};ge.isInteger=ge.isInt=function(){return!!this.d&&xr(this.e/je)>this.d.length-2};ge.isNaN=function(){return!this.s};ge.isNegative=ge.isNeg=function(){return this.s<0};ge.isPositive=ge.isPos=function(){return this.s>0};ge.isZero=function(){return!!this.d&&this.d[0]===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r,i,u,a,o,c,d,p=this,h=p.constructor,l=h.precision,f=h.rounding,D=5;if(t==null)t=new h(10),e=!0;else{if(t=new h(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new h(NaN);e=t.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new h(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(u=r[0];u%10===0;)u/=10;a=u!==1}if(He=!1,c=l+D,o=vi(p,c),i=e?Qa(h,c+10):vi(t,c),d=Bt(o,i,c,1),Yu(d.d,u=l,f))do if(c+=10,o=vi(p,c),i=e?Qa(h,c+10):vi(t,c),d=Bt(o,i,c,1),!a){+Br(d.d).slice(u+1,u+15)+1==1e14&&(d=Ne(d,l+1,0));break}while(Yu(d.d,u+=10,f));return He=!0,Ne(d,l,f)};ge.minus=ge.sub=function(t){var e,r,i,u,a,o,c,d,p,h,l,f,D=this,A=D.constructor;if(t=new A(t),!D.d||!t.d)return!D.s||!t.s?t=new A(NaN):D.d?t.s=-t.s:t=new A(t.d||D.s!==t.s?D:NaN),t;if(D.s!=t.s)return t.s=-t.s,D.plus(t);if(p=D.d,f=t.d,c=A.precision,d=A.rounding,!p[0]||!f[0]){if(f[0])t.s=-t.s;else if(p[0])t=new A(D);else return new A(d===3?-0:0);return He?Ne(t,c,d):t}if(r=xr(t.e/je),h=xr(D.e/je),p=p.slice(),a=h-r,a){for(l=a<0,l?(e=p,a=-a,o=f.length):(e=f,r=h,o=p.length),i=Math.max(Math.ceil(c/je),o)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=p.length,o=f.length,l=i<o,l&&(o=i),i=0;i<o;i++)if(p[i]!=f[i]){l=p[i]<f[i];break}a=0}for(l&&(e=p,p=f,f=e,t.s=-t.s),o=p.length,i=f.length-o;i>0;--i)p[o++]=0;for(i=f.length;i>a;){if(p[--i]<f[i]){for(u=i;u&&p[--u]===0;)p[u]=bn-1;--p[u],p[i]+=bn}p[i]-=f[i]}for(;p[--o]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(t.d=p,t.e=ys(p,r),He?Ne(t,c,d):t):new A(d===3?-0:0)};ge.modulo=ge.mod=function(t){var e,r=this,i=r.constructor;return t=new i(t),!r.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||r.d&&!r.d[0]?Ne(new i(r),i.precision,i.rounding):(He=!1,i.modulo==9?(e=Bt(r,t.abs(),0,3,1),e.s*=t.s):e=Bt(r,t,0,i.modulo,1),e=e.times(t),He=!0,r.minus(e))};ge.naturalExponential=ge.exp=function(){return Bl(this)};ge.naturalLogarithm=ge.ln=function(){return vi(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ne(t)};ge.plus=ge.add=function(t){var e,r,i,u,a,o,c,d,p,h,l=this,f=l.constructor;if(t=new f(t),!l.d||!t.d)return!l.s||!t.s?t=new f(NaN):l.d||(t=new f(t.d||l.s===t.s?l:NaN)),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(p=l.d,h=t.d,c=f.precision,d=f.rounding,!p[0]||!h[0])return h[0]||(t=new f(l)),He?Ne(t,c,d):t;if(a=xr(l.e/je),i=xr(t.e/je),p=p.slice(),u=a-i,u){for(u<0?(r=p,u=-u,o=h.length):(r=h,i=a,o=p.length),a=Math.ceil(c/je),o=a>o?a+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=p.length,u=h.length,o-u<0&&(u=o,r=h,h=p,p=r),e=0;u;)e=(p[--u]=p[u]+h[u]+e)/bn|0,p[u]%=bn;for(e&&(p.unshift(e),++i),o=p.length;p[--o]==0;)p.pop();return t.d=p,t.e=ys(p,i),He?Ne(t,c,d):t};ge.precision=ge.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yi+t);return r.d?(e=xd(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};ge.round=function(){var t=this,e=t.constructor;return Ne(new e(t),t.e+1,e.rounding)};ge.sine=ge.sin=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+je,i.rounding=1,r=zA(i,Nd(i,r)),i.precision=t,i.rounding=e,Ne(Qn>2?r.neg():r,t,e,!0)):new i(NaN)};ge.squareRoot=ge.sqrt=function(){var t,e,r,i,u,a,o=this,c=o.d,d=o.e,p=o.s,h=o.constructor;if(p!==1||!c||!c[0])return new h(!p||p<0&&(!c||c[0])?NaN:c?o:1/0);for(He=!1,p=Math.sqrt(+o),p==0||p==1/0?(e=Br(c),(e.length+d)%2==0&&(e+="0"),p=Math.sqrt(e),d=xr((d+1)/2)-(d<0||d%2),p==1/0?e="5e"+d:(e=p.toExponential(),e=e.slice(0,e.indexOf("e")+1)+d),i=new h(e)):i=new h(p.toString()),r=(d=h.precision)+3;;)if(a=i,i=a.plus(Bt(o,a,r+2,1)).times(.5),Br(a.d).slice(0,r)===(e=Br(i.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!u&&e=="4999"){if(!u&&(Ne(a,d+1,0),a.times(a).eq(o))){i=a;break}r+=4,u=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Ne(i,d+1,1),t=!i.times(i).eq(o));break}return He=!0,Ne(i,d,h.rounding,t)};ge.tangent=ge.tan=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,r=r.sin(),r.s=1,r=Bt(r,new i(1).minus(r.times(r)).sqrt(),t+10,0),i.precision=t,i.rounding=e,Ne(Qn==2||Qn==4?r.neg():r,t,e,!0)):new i(NaN)};ge.times=ge.mul=function(t){var e,r,i,u,a,o,c,d,p,h=this,l=h.constructor,f=h.d,D=(t=new l(t)).d;if(t.s*=h.s,!f||!f[0]||!D||!D[0])return new l(!t.s||f&&!f[0]&&!D||D&&!D[0]&&!f?NaN:!f||!D?t.s/0:t.s*0);for(r=xr(h.e/je)+xr(t.e/je),d=f.length,p=D.length,d<p&&(a=f,f=D,D=a,o=d,d=p,p=o),a=[],o=d+p,i=o;i--;)a.push(0);for(i=p;--i>=0;){for(e=0,u=d+i;u>i;)c=a[u]+D[i]*f[u-i-1]+e,a[u--]=c%bn|0,e=c/bn|0;a[u]=(a[u]+e)%bn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=ys(a,r),He?Ne(t,l.precision,l.rounding):t};ge.toBinary=function(t,e){return Yl(this,2,t,e)};ge.toDecimalPlaces=ge.toDP=function(t,e){var r=this,i=r.constructor;return r=new i(r),t===void 0?r:(qr(t,0,bi),e===void 0?e=i.rounding:qr(e,0,8),Ne(r,t+r.e+1,e))};ge.toExponential=function(t,e){var r,i=this,u=i.constructor;return t===void 0?r=Rn(i,!0):(qr(t,0,bi),e===void 0?e=u.rounding:qr(e,0,8),i=Ne(new u(i),t+1,e),r=Rn(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toFixed=function(t,e){var r,i,u=this,a=u.constructor;return t===void 0?r=Rn(u):(qr(t,0,bi),e===void 0?e=a.rounding:qr(e,0,8),i=Ne(new a(u),t+u.e+1,e),r=Rn(i,!1,t+i.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};ge.toFraction=function(t){var e,r,i,u,a,o,c,d,p,h,l,f,D=this,A=D.d,g=D.constructor;if(!A)return new g(D);if(p=r=new g(1),i=d=new g(0),e=new g(i),a=e.e=xd(A)-D.e-1,o=a%je,e.d[0]=dr(10,o<0?je+o:o),t==null)t=a>0?e:p;else{if(c=new g(t),!c.isInt()||c.lt(p))throw Error(yi+c);t=c.gt(e)?a>0?e:p:c}for(He=!1,c=new g(Br(A)),h=g.precision,g.precision=a=A.length*je*2;l=Bt(c,e,0,1,1),u=r.plus(l.times(i)),u.cmp(t)!=1;)r=i,i=u,u=p,p=d.plus(l.times(u)),d=u,u=e,e=c.minus(l.times(u)),c=u;return u=Bt(t.minus(r),i,0,1,1),d=d.plus(u.times(p)),r=r.plus(u.times(i)),d.s=p.s=D.s,f=Bt(p,i,a,1).minus(D).abs().cmp(Bt(d,r,a,1).minus(D).abs())<1?[p,i]:[d,r],g.precision=h,He=!0,f};ge.toHexadecimal=ge.toHex=function(t,e){return Yl(this,16,t,e)};ge.toNearest=function(t,e){var r=this,i=r.constructor;if(r=new i(r),t==null){if(!r.d)return r;t=new i(1),e=i.rounding}else{if(t=new i(t),e===void 0?e=i.rounding:qr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(He=!1,r=Bt(r,t,0,e,1).times(t),He=!0,Ne(r)):(t.s=r.s,r=t),r};ge.toNumber=function(){return+this};ge.toOctal=function(t,e){return Yl(this,8,t,e)};ge.toPower=ge.pow=function(t){var e,r,i,u,a,o,c=this,d=c.constructor,p=+(t=new d(t));if(!c.d||!t.d||!c.d[0]||!t.d[0])return new d(dr(+c,p));if(c=new d(c),c.eq(1))return c;if(i=d.precision,a=d.rounding,t.eq(1))return Ne(c,i,a);if(e=xr(t.e/je),e>=t.d.length-1&&(r=p<0?-p:p)<=UA)return u=Pd(d,c,r,i),t.s<0?new d(1).div(u):Ne(u,i,a);if(o=c.s,o<0){if(e<t.d.length-1)return new d(NaN);if(t.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return r=dr(+c,p),e=r==0||!isFinite(r)?xr(p*(Math.log("0."+Br(c.d))/Math.LN10+c.e+1)):new d(r+"").e,e>d.maxE+1||e<d.minE-1?new d(e>0?o/0:0):(He=!1,d.rounding=c.s=1,r=Math.min(12,(e+"").length),u=Bl(t.times(vi(c,i+r)),i),u.d&&(u=Ne(u,i+5,1),Yu(u.d,i,a)&&(e=i+10,u=Ne(Bl(t.times(vi(c,e+r)),e),e+5,1),+Br(u.d).slice(i+1,i+15)+1==1e14&&(u=Ne(u,i+1,0)))),u.s=o,He=!0,d.rounding=a,Ne(u,i,a))};ge.toPrecision=function(t,e){var r,i=this,u=i.constructor;return t===void 0?r=Rn(i,i.e<=u.toExpNeg||i.e>=u.toExpPos):(qr(t,1,bi),e===void 0?e=u.rounding:qr(e,0,8),i=Ne(new u(i),t,e),r=Rn(i,t<=i.e||i.e<=u.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toSignificantDigits=ge.toSD=function(t,e){var r=this,i=r.constructor;return t===void 0?(t=i.precision,e=i.rounding):(qr(t,1,bi),e===void 0?e=i.rounding:qr(e,0,8)),Ne(new i(r),t,e)};ge.toString=function(){var t=this,e=t.constructor,r=Rn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};ge.truncated=ge.trunc=function(){return Ne(new this.constructor(this),this.e+1,1)};ge.valueOf=ge.toJSON=function(){var t=this,e=t.constructor,r=Rn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Br(t){var e,r,i,u=t.length-1,a="",o=t[0];if(u>0){for(a+=o,e=1;e<u;e++)i=t[e]+"",r=je-i.length,r&&(a+=pi(r)),a+=i;o=t[e],i=o+"",r=je-i.length,r&&(a+=pi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function qr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(yi+t)}function Yu(t,e,r,i){var u,a,o,c;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=je,u=0):(u=Math.ceil((e+1)/je),e%=je),a=dr(10,je-e),c=t[u]%a|0,i==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=r<4&&c==99999||r>3&&c==49999||c==5e4||c==0):o=(r<4&&c+1==a||r>3&&c+1==a/2)&&(t[u+1]/a/100|0)==dr(10,e-2)-1||(c==a/2||c==0)&&(t[u+1]/a/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(i||r<4)&&c==9999||!i&&r>3&&c==4999):o=((i||r<4)&&c+1==a||!i&&r>3&&c+1==a/2)&&(t[u+1]/a/1e3|0)==dr(10,e-3)-1,o}function za(t,e,r){for(var i,u=[0],a,o=0,c=t.length;o<c;){for(a=u.length;a--;)u[a]*=e;for(u[0]+=Fl.indexOf(t.charAt(o++)),i=0;i<u.length;i++)u[i]>r-1&&(u[i+1]===void 0&&(u[i+1]=0),u[i+1]+=u[i]/r|0,u[i]%=r)}return u.reverse()}function VA(t,e){var r,i,u;if(e.isZero())return e;i=e.d.length,i<32?(r=Math.ceil(i/3),u=(1/As(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),t.precision+=r,e=lu(t,1,e.times(u),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Bt=function(){function t(i,u,a){var o,c=0,d=i.length;for(i=i.slice();d--;)o=i[d]*u+c,i[d]=o%a|0,c=o/a|0;return c&&i.unshift(c),i}function e(i,u,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(i[c]!=u[c]){d=i[c]>u[c]?1:-1;break}return d}function r(i,u,a,o){for(var c=0;a--;)i[a]-=c,c=i[a]<u[a]?1:0,i[a]=c*o+i[a]-u[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,u,a,o,c,d){var p,h,l,f,D,A,g,m,y,F,w,O,C,B,x,T,I,W,K,Y,q=i.constructor,H=i.s==u.s?1:-1,j=i.d,G=u.d;if(!j||!j[0]||!G||!G[0])return new q(!i.s||!u.s||(j?G&&j[0]==G[0]:!G)?NaN:j&&j[0]==0||!G?H*0:H/0);for(d?(D=1,h=i.e-u.e):(d=bn,D=je,h=xr(i.e/D)-xr(u.e/D)),K=G.length,I=j.length,y=new q(H),F=y.d=[],l=0;G[l]==(j[l]||0);l++);if(G[l]>(j[l]||0)&&h--,a==null?(B=a=q.precision,o=q.rounding):c?B=a+(i.e-u.e)+1:B=a,B<0)F.push(1),A=!0;else{if(B=B/D+2|0,l=0,K==1){for(f=0,G=G[0],B++;(l<I||f)&&B--;l++)x=f*d+(j[l]||0),F[l]=x/G|0,f=x%G|0;A=f||l<I}else{for(f=d/(G[0]+1)|0,f>1&&(G=t(G,f,d),j=t(j,f,d),K=G.length,I=j.length),T=K,w=j.slice(0,K),O=w.length;O<K;)w[O++]=0;Y=G.slice(),Y.unshift(0),W=G[0],G[1]>=d/2&&++W;do f=0,p=e(G,w,K,O),p<0?(C=w[0],K!=O&&(C=C*d+(w[1]||0)),f=C/W|0,f>1?(f>=d&&(f=d-1),g=t(G,f,d),m=g.length,O=w.length,p=e(g,w,m,O),p==1&&(f--,r(g,K<m?Y:G,m,d))):(f==0&&(p=f=1),g=G.slice()),m=g.length,m<O&&g.unshift(0),r(w,g,O,d),p==-1&&(O=w.length,p=e(G,w,K,O),p<1&&(f++,r(w,K<O?Y:G,O,d))),O=w.length):p===0&&(f++,w=[0]),F[l++]=f,p&&w[0]?w[O++]=j[T]||0:(w=[j[T]],O=1);while((T++<I||w[0]!==void 0)&&B--);A=w[0]!==void 0}F[0]||F.shift()}if(D==1)y.e=h,Cd=A;else{for(l=1,f=F[0];f>=10;f/=10)l++;y.e=l+h*D-1,Ne(y,c?a+y.e+1:a,o,A)}return y}}();function Ne(t,e,r,i){var u,a,o,c,d,p,h,l,f,D=t.constructor;e:if(e!=null){if(l=t.d,!l)return t;for(u=1,c=l[0];c>=10;c/=10)u++;if(a=e-u,a<0)a+=je,o=e,h=l[f=0],d=h/dr(10,u-o-1)%10|0;else if(f=Math.ceil((a+1)/je),c=l.length,f>=c)if(i){for(;c++<=f;)l.push(0);h=d=0,u=1,a%=je,o=a-je+1}else break e;else{for(h=c=l[f],u=1;c>=10;c/=10)u++;a%=je,o=a-je+u,d=o<0?0:h/dr(10,u-o-1)%10|0}if(i=i||e<0||l[f+1]!==void 0||(o<0?h:h%dr(10,u-o-1)),p=r<4?(d||i)&&(r==0||r==(t.s<0?3:2)):d>5||d==5&&(r==4||i||r==6&&(a>0?o>0?h/dr(10,u-o):0:l[f-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,p?(e-=t.e+1,l[0]=dr(10,(je-e%je)%je),t.e=-e||0):l[0]=t.e=0,t;if(a==0?(l.length=f,c=1,f--):(l.length=f+1,c=dr(10,je-a),l[f]=o>0?(h/dr(10,u-o)%dr(10,o)|0)*c:0),p)for(;;)if(f==0){for(a=1,o=l[0];o>=10;o/=10)a++;for(o=l[0]+=c,c=1;o>=10;o/=10)c++;a!=c&&(t.e++,l[0]==bn&&(l[0]=1));break}else{if(l[f]+=c,l[f]!=bn)break;l[f--]=0,c=1}for(a=l.length;l[--a]===0;)l.pop()}return He&&(t.e>D.maxE?(t.d=null,t.e=NaN):t.e<D.minE&&(t.e=0,t.d=[0])),t}function Rn(t,e,r){if(!t.isFinite())return Id(t);var i,u=t.e,a=Br(t.d),o=a.length;return e?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pi(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):u<0?(a="0."+pi(-u-1)+a,r&&(i=r-o)>0&&(a+=pi(i))):u>=o?(a+=pi(u+1-o),r&&(i=r-u-1)>0&&(a=a+"."+pi(i))):((i=u+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(u+1===o&&(a+="."),a+=pi(i))),a}function ys(t,e){var r=t[0];for(e*=je;r>=10;r/=10)e++;return e}function Qa(t,e,r){if(e>jA)throw He=!0,r&&(t.precision=r),Error(Sd);return Ne(new t(Ja),e,1,!0)}function An(t,e,r){if(e>Sl)throw Error(Sd);return Ne(new t($a),e,r,!0)}function xd(t){var e=t.length-1,r=e*je+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function pi(t){for(var e="";t--;)e+="0";return e}function Pd(t,e,r,i){var u,a=new t(1),o=Math.ceil(i/je+4);for(He=!1;;){if(r%2&&(a=a.times(e),I0(a.d,o)&&(u=!0)),r=xr(r/2),r===0){r=a.d.length-1,u&&a.d[r]===0&&++a.d[r];break}e=e.times(e),I0(e.d,o)}return He=!0,a}function T0(t){return t.d[t.d.length-1]&1}function Td(t,e,r){for(var i,u=new t(e[0]),a=0;++a<e.length;)if(i=new t(e[a]),i.s)u[r](i)&&(u=i);else{u=i;break}return u}function Bl(t,e){var r,i,u,a,o,c,d,p=0,h=0,l=0,f=t.constructor,D=f.rounding,A=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(He=!1,d=A):d=e,c=new f(.03125);t.e>-2;)t=t.times(c),l+=5;for(i=Math.log(dr(2,l))/Math.LN10*2+5|0,d+=i,r=a=o=new f(1),f.precision=d;;){if(a=Ne(a.times(t),d,1),r=r.times(++h),c=o.plus(Bt(a,r,d,1)),Br(c.d).slice(0,d)===Br(o.d).slice(0,d)){for(u=l;u--;)o=Ne(o.times(o),d,1);if(e==null)if(p<3&&Yu(o.d,d-i,D,p))f.precision=d+=10,r=a=c=new f(1),h=0,p++;else return Ne(o,f.precision=A,D,He=!0);else return f.precision=A,o}o=c}}function vi(t,e){var r,i,u,a,o,c,d,p,h,l,f,D=1,A=10,g=t,m=g.d,y=g.constructor,F=y.rounding,w=y.precision;if(g.s<0||!m||!m[0]||!g.e&&m[0]==1&&m.length==1)return new y(m&&!m[0]?-1/0:g.s!=1?NaN:m?0:g);if(e==null?(He=!1,h=w):h=e,y.precision=h+=A,r=Br(m),i=r.charAt(0),Math.abs(a=g.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)g=g.times(t),r=Br(g.d),i=r.charAt(0),D++;a=g.e,i>1?(g=new y("0."+r),a++):g=new y(i+"."+r.slice(1))}else return p=Qa(y,h+2,w).times(a+""),g=vi(new y(i+"."+r.slice(1)),h-A).plus(p),y.precision=w,e==null?Ne(g,w,F,He=!0):g;for(l=g,d=o=g=Bt(g.minus(1),g.plus(1),h,1),f=Ne(g.times(g),h,1),u=3;;){if(o=Ne(o.times(f),h,1),p=d.plus(Bt(o,new y(u),h,1)),Br(p.d).slice(0,h)===Br(d.d).slice(0,h))if(d=d.times(2),a!==0&&(d=d.plus(Qa(y,h+2,w).times(a+""))),d=Bt(d,new y(D),h,1),e==null)if(Yu(d.d,h-A,F,c))y.precision=h+=A,p=o=g=Bt(l.minus(1),l.plus(1),h,1),f=Ne(g.times(g),h,1),u=c=1;else return Ne(d,y.precision=w,F,He=!0);else return y.precision=w,d;d=p,u+=2}}function Id(t){return String(t.s*t.s/0)}function Ol(t,e){var r,i,u;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charCodeAt(i)===48;i++);for(u=e.length;e.charCodeAt(u-1)===48;--u);if(e=e.slice(i,u),e){if(u-=i,t.e=r=r-i-1,t.d=[],i=(r+1)%je,r<0&&(i+=je),i<u){for(i&&t.d.push(+e.slice(0,i)),u-=je;i<u;)t.d.push(+e.slice(i,i+=je));e=e.slice(i),i=je-e.length}else i-=u;for(;i--;)e+="0";t.d.push(+e),He&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function qA(t,e){var r,i,u,a,o,c,d,p,h;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Md.test(e))return Ol(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(RA.test(e))r=16,e=e.toLowerCase();else if(kA.test(e))r=2;else if(LA.test(e))r=8;else throw Error(yi+e);for(a=e.search(/p/i),a>0?(d=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,i=t.constructor,o&&(e=e.replace(".",""),c=e.length,a=c-a,u=Pd(i,new i(r),a,a*2)),p=za(e,r,bn),h=p.length-1,a=h;p[a]===0;--a)p.pop();return a<0?new i(t.s*0):(t.e=ys(p,h),t.d=p,He=!1,o&&(t=Bt(t,u,c*4)),d&&(t=t.times(Math.abs(d)<54?dr(2,d):fu.pow(2,d))),He=!0,t)}function zA(t,e){var r,i=e.d.length;if(i<3)return e.isZero()?e:lu(t,2,e,e);r=1.4*Math.sqrt(i),r=r>16?16:r|0,e=e.times(1/As(5,r)),e=lu(t,2,e,e);for(var u,a=new t(5),o=new t(16),c=new t(20);r--;)u=e.times(e),e=e.times(a.plus(u.times(o.times(u).minus(c))));return e}function lu(t,e,r,i,u){var a,o,c,d,p=t.precision,h=Math.ceil(p/je);for(He=!1,d=r.times(r),c=new t(i);;){if(o=Bt(c.times(d),new t(e++*e++),p,1),c=u?i.plus(o):i.minus(o),i=Bt(o.times(d),new t(e++*e++),p,1),o=c.plus(i),o.d[h]!==void 0){for(a=h;o.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=i,i=o,o=a}return He=!0,o.d.length=h+1,o}function As(t,e){for(var r=t;--e;)r*=t;return r}function Nd(t,e){var r,i=e.s<0,u=An(t,t.precision,1),a=u.times(.5);if(e=e.abs(),e.lte(a))return Qn=i?4:1,e;if(r=e.divToInt(u),r.isZero())Qn=i?3:2;else{if(e=e.minus(r.times(u)),e.lte(a))return Qn=T0(r)?i?2:3:i?4:1,e;Qn=T0(r)?i?1:4:i?3:2}return e.minus(u).abs()}function Yl(t,e,r,i){var u,a,o,c,d,p,h,l,f,D=t.constructor,A=r!==void 0;if(A?(qr(r,1,bi),i===void 0?i=D.rounding:qr(i,0,8)):(r=D.precision,i=D.rounding),!t.isFinite())h=Id(t);else{for(h=Rn(t),o=h.indexOf("."),A?(u=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):u=e,o>=0&&(h=h.replace(".",""),f=new D(1),f.e=h.length-o,f.d=za(Rn(f),10,u),f.e=f.d.length),l=za(h,10,u),a=d=l.length;l[--d]==0;)l.pop();if(!l[0])h=A?"0p+0":"0";else{if(o<0?a--:(t=new D(t),t.d=l,t.e=a,t=Bt(t,f,r,i,0,u),l=t.d,a=t.e,p=Cd),o=l[r],c=u/2,p=p||l[r+1]!==void 0,p=i<4?(o!==void 0||p)&&(i===0||i===(t.s<0?3:2)):o>c||o===c&&(i===4||p||i===6&&l[r-1]&1||i===(t.s<0?8:7)),l.length=r,p)for(;++l[--r]>u-1;)l[r]=0,r||(++a,l.unshift(1));for(d=l.length;!l[d-1];--d);for(o=0,h="";o<d;o++)h+=Fl.charAt(l[o]);if(A){if(d>1)if(e==16||e==8){for(o=e==16?4:3,--d;d%o;d++)h+="0";for(l=za(h,u,e),d=l.length;!l[d-1];--d);for(o=1,h="1.";o<d;o++)h+=Fl.charAt(l[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>d)for(a-=d;a--;)h+="0";else a<d&&(h=h.slice(0,a)+"."+h.slice(a))}h=(e==16?"0x":e==2?"0b":e==8?"0o":"")+h}return t.s<0?"-"+h:h}function I0(t,e){if(t.length>e)return t.length=e,!0}function WA(t){return new this(t).abs()}function HA(t){return new this(t).acos()}function GA(t){return new this(t).acosh()}function KA(t,e){return new this(t).plus(e)}function YA(t){return new this(t).asin()}function ZA(t){return new this(t).asinh()}function XA(t){return new this(t).atan()}function JA(t){return new this(t).atanh()}function $A(t,e){t=new this(t),e=new this(e);var r,i=this.precision,u=this.rounding,a=i+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=An(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?An(this,i,u):new this(0),r.s=t.s):!t.d||e.isZero()?(r=An(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(Bt(t,e,a,1)),e=An(this,a,1),this.precision=i,this.rounding=u,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Bt(t,e,a,1)),r}function QA(t){return new this(t).cbrt()}function eb(t){return Ne(t=new this(t),t.e+1,2)}function tb(t,e,r){return new this(t).clamp(e,r)}function rb(t){if(!t||typeof t!="object")throw Error(_s+"Object expected");var e,r,i,u=t.defaults===!0,a=["precision",1,bi,"rounding",0,8,"toExpNeg",-uu,0,"toExpPos",0,uu,"maxE",0,uu,"minE",-uu,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],u&&(this[r]=Cl[r]),(i=t[r])!==void 0)if(xr(i)===i&&i>=a[e+1]&&i<=a[e+2])this[r]=i;else throw Error(yi+r+": "+i);if(r="crypto",u&&(this[r]=Cl[r]),(i=t[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Bd);else this[r]=!1;else throw Error(yi+r+": "+i);return this}function nb(t){return new this(t).cos()}function ib(t){return new this(t).cosh()}function kd(t){var e,r,i;function u(a){var o,c,d,p=this;if(!(p instanceof u))return new u(a);if(p.constructor=u,N0(a)){p.s=a.s,He?!a.d||a.e>u.maxE?(p.e=NaN,p.d=null):a.e<u.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(o=0,c=a;c>=10;c/=10)o++;He?o>u.maxE?(p.e=NaN,p.d=null):o<u.minE?(p.e=0,p.d=[0]):(p.e=o,p.d=[a]):(p.e=o,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return Ol(p,a.toString())}else if(d!=="string")throw Error(yi+a);return(c=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(c===43&&(a=a.slice(1)),p.s=1),Md.test(a)?Ol(p,a):qA(p,a)}if(u.prototype=ge,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=rb,u.clone=kd,u.isDecimal=N0,u.abs=WA,u.acos=HA,u.acosh=GA,u.add=KA,u.asin=YA,u.asinh=ZA,u.atan=XA,u.atanh=JA,u.atan2=$A,u.cbrt=QA,u.ceil=eb,u.clamp=tb,u.cos=nb,u.cosh=ib,u.div=ub,u.exp=ab,u.floor=sb,u.hypot=ob,u.ln=lb,u.log=fb,u.log10=hb,u.log2=cb,u.max=db,u.min=pb,u.mod=vb,u.mul=gb,u.pow=mb,u.random=Db,u.round=_b,u.sign=yb,u.sin=Ab,u.sinh=bb,u.sqrt=wb,u.sub=Eb,u.sum=Fb,u.tan=Cb,u.tanh=Sb,u.trunc=Bb,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return u.config(t),u}function ub(t,e){return new this(t).div(e)}function ab(t){return new this(t).exp()}function sb(t){return Ne(t=new this(t),t.e+1,3)}function ob(){var t,e,r=new this(0);for(He=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return He=!0,new this(1/0);r=e}return He=!0,r.sqrt()}function N0(t){return t instanceof fu||t&&t.toStringTag===Od||!1}function lb(t){return new this(t).ln()}function fb(t,e){return new this(t).log(e)}function cb(t){return new this(t).log(2)}function hb(t){return new this(t).log(10)}function db(){return Td(this,arguments,"lt")}function pb(){return Td(this,arguments,"gt")}function vb(t,e){return new this(t).mod(e)}function gb(t,e){return new this(t).mul(e)}function mb(t,e){return new this(t).pow(e)}function Db(t){var e,r,i,u,a=0,o=new this(1),c=[];if(t===void 0?t=this.precision:qr(t,1,bi),i=Math.ceil(t/je),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)u=e[a],u>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=u%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)u=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(e,a):(c.push(u%1e7),a+=4);a=i/4}else throw Error(Bd);else for(;a<i;)c[a++]=Math.random()*1e7|0;for(i=c[--a],t%=je,i&&t&&(u=dr(10,je-t),c[a]=(i/u|0)*u);c[a]===0;a--)c.pop();if(a<0)r=0,c=[0];else{for(r=-1;c[0]===0;r-=je)c.shift();for(i=1,u=c[0];u>=10;u/=10)i++;i<je&&(r-=je-i)}return o.e=r,o.d=c,o}function _b(t){return Ne(t=new this(t),t.e+1,this.rounding)}function yb(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ab(t){return new this(t).sin()}function bb(t){return new this(t).sinh()}function wb(t){return new this(t).sqrt()}function Eb(t,e){return new this(t).sub(e)}function Fb(){var t=0,e=arguments,r=new this(e[t]);for(He=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return He=!0,Ne(r,this.precision,this.rounding)}function Cb(t){return new this(t).tan()}function Sb(t){return new this(t).tanh()}function Bb(t){return Ne(t=new this(t),t.e+1,1)}ge[Symbol.for("nodejs.util.inspect.custom")]=ge.toString;ge[Symbol.toStringTag]="Decimal";var fu=ge.constructor=kd(Cl);Ja=new fu(Ja);$a=new fu($a);var Ob="BigNumber",Mb=["?on","config"],xb=Ct(Ob,Mb,t=>{var{on:e,config:r}=t,i=fu.clone({precision:r.precision,modulo:fu.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(u){return new i(u.value)},e&&e("config",function(u,a){u.precision!==a.precision&&i.config({precision:u.precision})}),i},{isClass:!0}),lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ml={},Pb={get exports(){return Ml},set exports(t){Ml=t}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(r){var i=Math.cosh||function(l){return Math.abs(l)<1e-9?1-l:(Math.exp(l)+Math.exp(-l))*.5},u=Math.sinh||function(l){return Math.abs(l)<1e-9?l:(Math.exp(l)-Math.exp(-l))*.5},a=function(l){var f=Math.PI/4;if(-f>l||l>f)return Math.cos(l)-1;var D=l*l;return D*(D*(D*(D*(D*(D*(D*(D/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(l,f){var D=Math.abs(l),A=Math.abs(f);return D<3e3&&A<3e3?Math.sqrt(D*D+A*A):(D<A?(D=A,A=l/f):A=f/l,D*Math.sqrt(1+A*A))},c=function(){throw SyntaxError("Invalid Param")};function d(l,f){var D=Math.abs(l),A=Math.abs(f);return l===0?Math.log(A):f===0?Math.log(D):D<3e3&&A<3e3?Math.log(l*l+f*f)*.5:(l=l/2,f=f/2,.5*Math.log(l*l+f*f)+Math.LN2)}var p=function(l,f){var D={re:0,im:0};if(l==null)D.re=D.im=0;else if(f!==void 0)D.re=l,D.im=f;else switch(typeof l){case"object":if("im"in l&&"re"in l)D.re=l.re,D.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return h.INFINITY;D.re=l.abs*Math.cos(l.arg),D.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return h.INFINITY;D.re=l.r*Math.cos(l.phi),D.im=l.r*Math.sin(l.phi)}else l.length===2?(D.re=l[0],D.im=l[1]):c();break;case"string":D.im=D.re=0;var A=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,m=0;A===null&&c();for(var y=0;y<A.length;y++){var F=A[y];F===" "||F==="	"||F===`
`||(F==="+"?g++:F==="-"?m++:F==="i"||F==="I"?(g+m===0&&c(),A[y+1]!==" "&&!isNaN(A[y+1])?(D.im+=parseFloat((m%2?"-":"")+A[y+1]),y++):D.im+=parseFloat((m%2?"-":"")+"1"),g=m=0):((g+m===0||isNaN(F))&&c(),A[y+1]==="i"||A[y+1]==="I"?(D.im+=parseFloat((m%2?"-":"")+F),y++):D.re+=parseFloat((m%2?"-":"")+F),g=m=0))}g+m>0&&c();break;case"number":D.im=0,D.re=l;break;default:c()}return isNaN(D.re)||isNaN(D.im),D};function h(l,f){if(!(this instanceof h))return new h(l,f);var D=p(l,f);this.re=D.re,this.im=D.im}h.prototype={re:0,im:0,sign:function(){var l=this.abs();return new h(this.re/l,this.im/l)},add:function(l,f){var D=new h(l,f);return this.isInfinite()&&D.isInfinite()?h.NAN:this.isInfinite()||D.isInfinite()?h.INFINITY:new h(this.re+D.re,this.im+D.im)},sub:function(l,f){var D=new h(l,f);return this.isInfinite()&&D.isInfinite()?h.NAN:this.isInfinite()||D.isInfinite()?h.INFINITY:new h(this.re-D.re,this.im-D.im)},mul:function(l,f){var D=new h(l,f);return this.isInfinite()&&D.isZero()||this.isZero()&&D.isInfinite()?h.NAN:this.isInfinite()||D.isInfinite()?h.INFINITY:D.im===0&&this.im===0?new h(this.re*D.re,0):new h(this.re*D.re-this.im*D.im,this.re*D.im+this.im*D.re)},div:function(l,f){var D=new h(l,f);if(this.isZero()&&D.isZero()||this.isInfinite()&&D.isInfinite())return h.NAN;if(this.isInfinite()||D.isZero())return h.INFINITY;if(this.isZero()||D.isInfinite())return h.ZERO;l=this.re,f=this.im;var A=D.re,g=D.im,m,y;return g===0?new h(l/A,f/A):Math.abs(A)<Math.abs(g)?(y=A/g,m=A*y+g,new h((l*y+f)/m,(f*y-l)/m)):(y=g/A,m=g*y+A,new h((l+f*y)/m,(f-l*y)/m))},pow:function(l,f){var D=new h(l,f);if(l=this.re,f=this.im,D.isZero())return h.ONE;if(D.im===0){if(f===0&&l>0)return new h(Math.pow(l,D.re),0);if(l===0)switch((D.re%4+4)%4){case 0:return new h(Math.pow(f,D.re),0);case 1:return new h(0,Math.pow(f,D.re));case 2:return new h(-Math.pow(f,D.re),0);case 3:return new h(0,-Math.pow(f,D.re))}}if(l===0&&f===0&&D.re>0&&D.im>=0)return h.ZERO;var A=Math.atan2(f,l),g=d(l,f);return l=Math.exp(D.re*g-D.im*A),f=D.im*g+D.re*A,new h(l*Math.cos(f),l*Math.sin(f))},sqrt:function(){var l=this.re,f=this.im,D=this.abs(),A,g;if(l>=0){if(f===0)return new h(Math.sqrt(l),0);A=.5*Math.sqrt(2*(D+l))}else A=Math.abs(f)/Math.sqrt(2*(D-l));return l<=0?g=.5*Math.sqrt(2*(D-l)):g=Math.abs(f)/Math.sqrt(2*(D+l)),new h(A,f<0?-g:g)},exp:function(){var l=Math.exp(this.re);return this.im,new h(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,f=this.im;return new h(Math.expm1(l)*Math.cos(f)+a(f),Math.exp(l)*Math.sin(f))},log:function(){var l=this.re,f=this.im;return new h(d(l,f),Math.atan2(f,l))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,f=this.im;return new h(Math.sin(l)*i(f),Math.cos(l)*u(f))},cos:function(){var l=this.re,f=this.im;return new h(Math.cos(l)*i(f),-Math.sin(l)*u(f))},tan:function(){var l=2*this.re,f=2*this.im,D=Math.cos(l)+i(f);return new h(Math.sin(l)/D,u(f)/D)},cot:function(){var l=2*this.re,f=2*this.im,D=Math.cos(l)-i(f);return new h(-Math.sin(l)/D,u(f)/D)},sec:function(){var l=this.re,f=this.im,D=.5*i(2*f)+.5*Math.cos(2*l);return new h(Math.cos(l)*i(f)/D,Math.sin(l)*u(f)/D)},csc:function(){var l=this.re,f=this.im,D=.5*i(2*f)-.5*Math.cos(2*l);return new h(Math.sin(l)*i(f)/D,-Math.cos(l)*u(f)/D)},asin:function(){var l=this.re,f=this.im,D=new h(f*f-l*l+1,-2*l*f).sqrt(),A=new h(D.re-f,D.im+l).log();return new h(A.im,-A.re)},acos:function(){var l=this.re,f=this.im,D=new h(f*f-l*l+1,-2*l*f).sqrt(),A=new h(D.re-f,D.im+l).log();return new h(Math.PI/2-A.im,A.re)},atan:function(){var l=this.re,f=this.im;if(l===0){if(f===1)return new h(0,1/0);if(f===-1)return new h(0,-1/0)}var D=l*l+(1-f)*(1-f),A=new h((1-f*f-l*l)/D,-2*l/D).log();return new h(-.5*A.im,.5*A.re)},acot:function(){var l=this.re,f=this.im;if(f===0)return new h(Math.atan2(1,l),0);var D=l*l+f*f;return D!==0?new h(l/D,-f/D).atan():new h(l!==0?l/0:0,f!==0?-f/0:0).atan()},asec:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new h(0,1/0);var D=l*l+f*f;return D!==0?new h(l/D,-f/D).acos():new h(l!==0?l/0:0,f!==0?-f/0:0).acos()},acsc:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new h(Math.PI/2,1/0);var D=l*l+f*f;return D!==0?new h(l/D,-f/D).asin():new h(l!==0?l/0:0,f!==0?-f/0:0).asin()},sinh:function(){var l=this.re,f=this.im;return new h(u(l)*Math.cos(f),i(l)*Math.sin(f))},cosh:function(){var l=this.re,f=this.im;return new h(i(l)*Math.cos(f),u(l)*Math.sin(f))},tanh:function(){var l=2*this.re,f=2*this.im,D=i(l)+Math.cos(f);return new h(u(l)/D,Math.sin(f)/D)},coth:function(){var l=2*this.re,f=2*this.im,D=i(l)-Math.cos(f);return new h(u(l)/D,-Math.sin(f)/D)},csch:function(){var l=this.re,f=this.im,D=Math.cos(2*f)-i(2*l);return new h(-2*u(l)*Math.cos(f)/D,2*i(l)*Math.sin(f)/D)},sech:function(){var l=this.re,f=this.im,D=Math.cos(2*f)+i(2*l);return new h(2*i(l)*Math.cos(f)/D,-2*u(l)*Math.sin(f)/D)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var f=this.asin();return this.re=-this.im,this.im=l,l=f.re,f.re=-f.im,f.im=l,f},acosh:function(){var l=this.acos();if(l.im<=0){var f=l.re;l.re=-l.im,l.im=f}else{var f=l.im;l.im=-l.re,l.re=f}return l},atanh:function(){var l=this.re,f=this.im,D=l>1&&f===0,A=1-l,g=1+l,m=A*A+f*f,y=m!==0?new h((g*A-f*f)/m,(f*A+g*f)/m):new h(l!==-1?l/0:0,f!==0?f/0:0),F=y.re;return y.re=d(y.re,y.im)/2,y.im=Math.atan2(y.im,F)/2,D&&(y.im=-y.im),y},acoth:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new h(0,Math.PI/2);var D=l*l+f*f;return D!==0?new h(l/D,-f/D).atanh():new h(l!==0?l/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var l=this.re,f=this.im;if(f===0)return new h(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var D=l*l+f*f;return D!==0?new h(l/D,-f/D).asinh():new h(l!==0?l/0:0,f!==0?-f/0:0).asinh()},asech:function(){var l=this.re,f=this.im;if(this.isZero())return h.INFINITY;var D=l*l+f*f;return D!==0?new h(l/D,-f/D).acosh():new h(l!==0?l/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var l=this.re,f=this.im,D=l*l+f*f;return new h(l/D,-f/D)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new h(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new h(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new h(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,f){var D=new h(l,f);return Math.abs(D.re-this.re)<=h.EPSILON&&Math.abs(D.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var l=this.re,f=this.im,D="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<h.EPSILON&&(l=0),Math.abs(f)<h.EPSILON&&(f=0),f===0?D+l:(l!==0?(D+=l,D+=" ",f<0?(f=-f,D+="-"):D+="+",D+=" "):f<0&&(f=-f,D+="-"),f!==1&&(D+=f),D+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-15,Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Complex=h,t.exports=h})()})(Pb);const Fr=Zl(Ml);var Tb="Complex",Ib=[],Nb=Ct(Tb,Ib,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(t){var e="",r=this.im,i=this.re,u=wl(this.re,t),a=wl(this.im,t),o=Ht(t)?t:t?t.precision:null;if(o!==null){var c=Math.pow(10,-o);Math.abs(i/r)<c&&(i=0),Math.abs(r/i)<c&&(r=0)}return r===0?e=u:i===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=u+" - i":e=u+" - "+a.substring(1)+"i":r===1?e=u+" + i":e=u+" + "+a+"i",e},Fr.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Fr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(Ht(r)){if(pd(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Ht(i))return new Fr({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(t){return new Fr(t)},Fr.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Fr),{isClass:!0}),xl={},kb={get exports(){return xl},set exports(t){xl=t}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(r){var i=2e3,u={s:1,n:0,d:1};function a(A,g){if(isNaN(A=parseInt(A,10)))throw D.InvalidParameter;return A*g}function o(A,g){if(g===0)throw D.DivisionByZero;var m=Object.create(D.prototype);m.s=A<0?-1:1,A=A<0?-A:A;var y=f(A,g);return m.n=A/y,m.d=g/y,m}function c(A){for(var g={},m=A,y=2,F=4;F<=m;){for(;m%y===0;)m/=y,g[y]=(g[y]||0)+1;F+=1+2*y++}return m!==A?m>1&&(g[m]=(g[m]||0)+1):g[A]=(g[A]||0)+1,g}var d=function(A,g){var m=0,y=1,F=1,w=0,O=0,C=0,B=1,x=1,T=0,I=1,W=1,K=1,Y=1e7,q;if(A!=null)if(g!==void 0){if(m=A,y=g,F=m*y,m%1!==0||y%1!==0)throw D.NonIntegerParameter}else switch(typeof A){case"object":{if("d"in A&&"n"in A)m=A.n,y=A.d,"s"in A&&(m*=A.s);else if(0 in A)m=A[0],1 in A&&(y=A[1]);else throw D.InvalidParameter;F=m*y;break}case"number":{if(A<0&&(F=A,A=-A),A%1===0)m=A;else if(A>0){for(A>=1&&(x=Math.pow(10,Math.floor(1+Math.log(A)/Math.LN10)),A/=x);I<=Y&&K<=Y;)if(q=(T+W)/(I+K),A===q){I+K<=Y?(m=T+W,y=I+K):K>I?(m=W,y=K):(m=T,y=I);break}else A>q?(T+=W,I+=K):(W+=T,K+=I),I>Y?(m=W,y=K):(m=T,y=I);m*=x}else(isNaN(A)||isNaN(g))&&(y=m=NaN);break}case"string":{if(I=A.match(/\d+|./g),I===null)throw D.InvalidParameter;if(I[T]==="-"?(F=-1,T++):I[T]==="+"&&T++,I.length===T+1?O=a(I[T++],F):I[T+1]==="."||I[T]==="."?(I[T]!=="."&&(w=a(I[T++],F)),T++,(T+1===I.length||I[T+1]==="("&&I[T+3]===")"||I[T+1]==="'"&&I[T+3]==="'")&&(O=a(I[T],F),B=Math.pow(10,I[T].length),T++),(I[T]==="("&&I[T+2]===")"||I[T]==="'"&&I[T+2]==="'")&&(C=a(I[T+1],F),x=Math.pow(10,I[T+1].length)-1,T+=3)):I[T+1]==="/"||I[T+1]===":"?(O=a(I[T],F),B=a(I[T+2],1),T+=3):I[T+3]==="/"&&I[T+1]===" "&&(w=a(I[T],F),O=a(I[T+2],F),B=a(I[T+4],1),T+=5),I.length<=T){y=B*x,F=m=C+y*w+x*O;break}}default:throw D.InvalidParameter}if(y===0)throw D.DivisionByZero;u.s=F<0?-1:1,u.n=Math.abs(m),u.d=Math.abs(y)};function p(A,g,m){for(var y=1;g>0;A=A*A%m,g>>=1)g&1&&(y=y*A%m);return y}function h(A,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var m=10%g,y=1;m!==1;y++)if(m=m*10%g,y>i)return 0;return y}function l(A,g,m){for(var y=1,F=p(10,m,g),w=0;w<300;w++){if(y===F)return w;y=y*10%g,F=F*10%g}return 0}function f(A,g){if(!A)return g;if(!g)return A;for(;;){if(A%=g,!A)return g;if(g%=A,!g)return A}}function D(A,g){if(d(A,g),this instanceof D)A=f(u.d,u.n),this.s=u.s,this.n=u.n/A,this.d=u.d/A;else return o(u.s*u.n,u.d)}D.DivisionByZero=new Error("Division by Zero"),D.InvalidParameter=new Error("Invalid argument"),D.NonIntegerParameter=new Error("Parameters must be integer"),D.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(A,g){return d(A,g),o(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(A,g){return d(A,g),o(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(A,g){return d(A,g),o(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(A,g){return d(A,g),o(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(A,g){if(isNaN(this.n)||isNaN(this.d))return new D(NaN);if(A===void 0)return o(this.s*this.n%this.d,1);if(d(A,g),u.n===0&&this.d===0)throw D.DivisionByZero;return o(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(A,g){return d(A,g),o(f(u.n,this.n)*f(u.d,this.d),u.d*this.d)},lcm:function(A,g){return d(A,g),u.n===0&&this.n===0?o(0,1):o(u.n*this.n,f(u.n,this.n)*f(u.d,this.d))},ceil:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.ceil(A*this.s*this.n/this.d),A)},floor:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.floor(A*this.s*this.n/this.d),A)},round:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.round(A*this.s*this.n/this.d),A)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(A,g){if(d(A,g),u.d===1)return u.s<0?o(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):o(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var m=c(this.n),y=c(this.d),F=1,w=1;for(var O in m)if(O!=="1"){if(O==="0"){F=0;break}if(m[O]*=u.n,m[O]%u.d===0)m[O]/=u.d;else return null;F*=Math.pow(O,m[O])}for(var O in y)if(O!=="1"){if(y[O]*=u.n,y[O]%u.d===0)y[O]/=u.d;else return null;w*=Math.pow(O,y[O])}return u.s<0?o(w,F):o(F,w)},equals:function(A,g){return d(A,g),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(A,g){d(A,g);var m=this.s*this.n*u.d-u.s*u.n*this.d;return(0<m)-(m<0)},simplify:function(A){if(isNaN(this.n)||isNaN(this.d))return this;A=A||.001;for(var g=this.abs(),m=g.toContinued(),y=1;y<m.length;y++){for(var F=o(m[y-1],1),w=y-2;w>=0;w--)F=F.inverse().add(m[w]);if(F.sub(g).abs().valueOf()<A)return F.mul(this.s)}return this},divisible:function(A,g){return d(A,g),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(A){var g,m="",y=this.n,F=this.d;return this.s<0&&(m+="-"),F===1?m+=y:(A&&(g=Math.floor(y/F))>0&&(m+=g,m+=" ",y%=F),m+=y,m+="/",m+=F),m},toLatex:function(A){var g,m="",y=this.n,F=this.d;return this.s<0&&(m+="-"),F===1?m+=y:(A&&(g=Math.floor(y/F))>0&&(m+=g,y%=F),m+="\\frac{",m+=y,m+="}{",m+=F,m+="}"),m},toContinued:function(){var A,g=this.n,m=this.d,y=[];if(isNaN(g)||isNaN(m))return y;do y.push(Math.floor(g/m)),A=g%m,g=m,m=A;while(g!==1);return y},toString:function(A){var g=this.n,m=this.d;if(isNaN(g)||isNaN(m))return"NaN";A=A||15;var y=h(g,m),F=l(g,m,y),w=this.s<0?"-":"";if(w+=g/m|0,g%=m,g*=10,g&&(w+="."),y){for(var O=F;O--;)w+=g/m|0,g%=m,g*=10;w+="(";for(var O=y;O--;)w+=g/m|0,g%=m,g*=10;w+=")"}else for(var O=A;g&&O--;)w+=g/m|0,g%=m,g*=10;return w}},Object.defineProperty(D,"__esModule",{value:!0}),D.default=D,D.Fraction=D,t.exports=D})()})(kb);const $n=Zl(xl);var Rb="Fraction",Lb=[],Ub=Ct(Rb,Lb,()=>(Object.defineProperty($n,"name",{value:"Fraction"}),$n.prototype.constructor=$n,$n.prototype.type="Fraction",$n.prototype.isFraction=!0,$n.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},$n.fromJSON=function(t){return new $n(t)},$n),{isClass:!0}),jb="Matrix",Vb=[],qb=Ct(jb,Vb,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,i){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function Rd(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var i=(r.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}var zb="DenseMatrix",Wb=["Matrix"],Hb=Ct(zb,Wb,t=>{var{Matrix:e}=t;function r(h,l){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!In(l))throw new Error("Invalid datatype: "+l);if(kr(h))h.type==="DenseMatrix"?(this._data=_r(h._data),this._size=_r(h._size),this._datatype=l||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=l||h._datatype);else if(h&&qt(h.data)&&qt(h.size))this._data=h.data,this._size=h.size,x0(this._data,this._size),this._datatype=l||h.datatype;else if(qt(h))this._data=p(h),this._size=_i(this._data),x0(this._data,this._size),this._datatype=l;else{if(h)throw new TypeError("Unsupported type of data ("+Gu(h)+")");this._data=[],this._size=[0],this._datatype=l}}r.prototype=new e,r.prototype.createDenseMatrix=function(h,l){return new r(h,l)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Xa(this._data,Gu)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(h,l){return new r(h,l)},r.prototype.subset=function(h,l,f){switch(arguments.length){case 1:return i(this,h);case 2:case 3:return a(this,h,l,f);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(h){if(!qt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Et(h.length,this._size.length);for(var l=0;l<h.length;l++)zt(h[l],this._size[l]);for(var f=this._data,D=0,A=h.length;D<A;D++){var g=h[D];zt(g,f.length),f=f[g]}return f},r.prototype.set=function(h,l,f){if(!qt(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new Et(h.length,this._size.length,"<");var D,A,g,m=h.map(function(F){return F+1});d(this,m,f);var y=this._data;for(D=0,A=h.length-1;D<A;D++)g=h[D],zt(g,y.length),y=y[g];return g=h[h.length-1],zt(g,y.length),y[g]=l,this};function i(h,l){if(!Gl(l))throw new TypeError("Invalid index");var f=l.isScalar();if(f)return h.get(l.min());var D=l.size();if(D.length!==h._size.length)throw new Et(D.length,h._size.length);for(var A=l.min(),g=l.max(),m=0,y=h._size.length;m<y;m++)zt(A[m],h._size[m]),zt(g[m],h._size[m]);return new r(u(h._data,l,D.length,0),h._datatype)}function u(h,l,f,D){var A=D===f-1,g=l.dimension(D);return A?g.map(function(m){return zt(m,h.length),h[m]}).valueOf():g.map(function(m){zt(m,h.length);var y=h[m];return u(y,l,f,D+1)}).valueOf()}function a(h,l,f,D){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var A=l.size(),g=l.isScalar(),m;if(kr(f)?(m=f.size(),f=f.valueOf()):m=_i(f),g){if(m.length!==0)throw new TypeError("Scalar expected");h.set(l.min(),f,D)}else{if(A.length<h._size.length)throw new Et(A.length,h._size.length,"<");if(m.length<A.length){for(var y=0,F=0;A[y]===1&&m[y]===1;)y++;for(;A[y]===1;)F++,y++;f=Ad(f,A.length,F,m)}if(!Ya(A,m))throw new Et(A,m,">");var w=l.max().map(function(B){return B+1});d(h,w,D);var O=A.length,C=0;o(h._data,l,f,O,C)}return h}function o(h,l,f,D,A){var g=A===D-1,m=l.dimension(A);g?m.forEach(function(y,F){zt(y),h[y]=f[F[0]]}):m.forEach(function(y,F){zt(y),o(h[y],l,f[F[0]],D,A+1)})}r.prototype.resize=function(h,l,f){if(!Ka(h))throw new TypeError("Array or Matrix expected");var D=h.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),A=f?this.clone():this;return c(A,D,l)};function c(h,l,f){if(l.length===0){for(var D=h._data;qt(D);)D=D[0];return D}return h._size=l.slice(0),h._data=P0(h._data,h._size,f),h}r.prototype.reshape=function(h,l){var f=l?this.clone():this;f._data=_A(f._data,h);var D=f._size.reduce((A,g)=>A*g);return f._size=Kl(h,D),f};function d(h,l,f){for(var D=h._size.slice(0),A=!1;D.length<l.length;)D.push(0),A=!0;for(var g=0,m=l.length;g<m;g++)l[g]>D[g]&&(D[g]=l[g],A=!0);A&&c(h,D,f)}r.prototype.clone=function(){var h=new r({data:_r(this._data),size:_r(this._size),datatype:this._datatype});return h},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(h){var l=this,f=Rd(h),D=function m(y,F){return qt(y)?y.map(function(w,O){return m(w,F.concat(O))}):f===1?h(y):f===2?h(y,F):h(y,F,l)},A=D(this._data,[]),g=this._datatype!==void 0?Xa(A,Gu):void 0;return new r(A,g)},r.prototype.forEach=function(h){var l=this,f=function D(A,g){qt(A)?A.forEach(function(m,y){D(m,g.concat(y))}):h(A,g,l)};f(this._data,[])},r.prototype[Symbol.iterator]=function*(){var h=function*l(f,D){if(qt(f))for(var A=0;A<f.length;A++)yield*l(f[A],D.concat(A));else yield{value:f,index:D}};yield*h(this._data,[])},r.prototype.rows=function(){var h=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var D of f)h.push(new r([D],this._datatype));return h},r.prototype.columns=function(){var h=this,l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,A=function(y){var F=D.map(w=>[w[y]]);l.push(new r(F,h._datatype))},g=0;g<f[1];g++)A(g);return l},r.prototype.toArray=function(){return _r(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(h){return Vr(this._data,h)},r.prototype.toString=function(){return Vr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(h){if(h){if(hn(h)&&(h=h.toNumber()),!Ht(h)||!yr(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var l=h>0?h:0,f=h<0?-h:0,D=this._size[0],A=this._size[1],g=Math.min(D-f,A-l),m=[],y=0;y<g;y++)m[y]=this._data[y+f][y+l];return new r({data:m,size:[g],datatype:this._datatype})},r.diagonal=function(h,l,f,D){if(!qt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(x){if(hn(x)&&(x=x.toNumber()),!Ht(x)||!yr(x)||x<1)throw new Error("Size values must be positive integers");return x}),f){if(hn(f)&&(f=f.toNumber()),!Ht(f)||!yr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var A=f>0?f:0,g=f<0?-f:0,m=h[0],y=h[1],F=Math.min(m-g,y-A),w;if(qt(l)){if(l.length!==F)throw new Error("Invalid value array length");w=function(T){return l[T]}}else if(kr(l)){var O=l.size();if(O.length!==1||O[0]!==F)throw new Error("Invalid matrix length");w=function(T){return l.get([T])}}else w=function(){return l};D||(D=hn(w(0))?w(0).mul(0):0);var C=[];if(h.length>0){C=P0(C,h,D);for(var B=0;B<F;B++)C[B+g][B+A]=w(B)}return new r({data:C,size:[m,y]})},r.fromJSON=function(h){return new r(h)},r.prototype.swapRows=function(h,l){if(!Ht(h)||!yr(h)||!Ht(l)||!yr(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(h,this._size[0]),zt(l,this._size[0]),r._swapRows(h,l,this._data),this},r._swapRows=function(h,l,f){var D=f[h];f[h]=f[l],f[l]=D};function p(h){for(var l=0,f=h.length;l<f;l++){var D=h[l];qt(D)?h[l]=p(D):D&&D.isMatrix===!0&&(h[l]=p(D.valueOf()))}return h}return r},{isClass:!0});function Xl(t,e,r){return t&&typeof t.map=="function"?t.map(function(i){return Xl(i,e)}):e(t)}var k0="isInteger",Gb=["typed"],Kb=Ct(k0,Gb,t=>{var{typed:e}=t;return e(k0,{number:yr,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(r=>i=>Xl(i,r))})}),Ld="number, number";function Ud(t,e){return t+e}Ud.signature=Ld;function jd(t,e){return t*e}jd.signature=Ld;function Yb(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var i=t.minus(e).abs();if(i.isZero())return!0;var u=t.constructor.max(t.abs(),e.abs());return i.lte(u.times(r))}return!1}function Zb(t,e,r){return Za(t.re,e.re,r)&&Za(t.im,e.im,r)}var Xb=Ct("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(i,u)=>{if(!i.equalBase(u))throw new Error("Cannot compare units with different base");return e.find(r,[i.valueType(),u.valueType()])(i.value,u.value)})}}),es="equalScalar",Jb=["typed","config"],$b=Ct(es,Jb,t=>{var{typed:e,config:r}=t,i=Xb({typed:e});return e(es,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Za(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Yb(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return Zb(a,o,r.epsilon)}},i)});Ct(es,["typed","config"],t=>{var{typed:e,config:r}=t;return e(es,{"number, number":function(u,a){return Za(u,a,r.epsilon)}})});var Qb="SparseMatrix",ew=["typed","equalScalar","Matrix"],tw=Ct(Qb,ew,t=>{var{typed:e,equalScalar:r,Matrix:i}=t;function u(g,m){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!In(m))throw new Error("Invalid datatype: "+m);if(kr(g))a(this,g,m);else if(g&&qt(g.index)&&qt(g.ptr)&&qt(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=m||g.datatype;else if(qt(g))o(this,g,m);else{if(g)throw new TypeError("Unsupported type of data ("+Gu(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(g,m,y){m.type==="SparseMatrix"?(g._values=m._values?_r(m._values):void 0,g._index=_r(m._index),g._ptr=_r(m._ptr),g._size=_r(m._size),g._datatype=y||m._datatype):o(g,m.valueOf(),y||m._datatype)}function o(g,m,y){g._values=[],g._index=[],g._ptr=[],g._datatype=y;var F=m.length,w=0,O=r,C=0;if(In(y)&&(O=e.find(r,[y,y])||r,C=e.convert(0,y)),F>0){var B=0;do{g._ptr.push(g._index.length);for(var x=0;x<F;x++){var T=m[x];if(qt(T)){if(B===0&&w<T.length&&(w=T.length),B<T.length){var I=T[B];O(I,C)||(g._values.push(I),g._index.push(x))}}else B===0&&w<1&&(w=1),O(T,C)||(g._values.push(T),g._index.push(x))}B++}while(B<w)}g._ptr.push(g._index.length),g._size=[F,w]}u.prototype=new i,u.prototype.createSparseMatrix=function(g,m){return new u(g,m)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Xa(this._values,Gu)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(g,m){return new u(g,m)},u.prototype.density=function(){var g=this._size[0],m=this._size[1];return g!==0&&m!==0?this._index.length/(g*m):0},u.prototype.subset=function(g,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,g);case 2:case 3:return d(this,g,m,y);default:throw new SyntaxError("Wrong number of arguments")}};function c(g,m){if(!Gl(m))throw new TypeError("Invalid index");var y=m.isScalar();if(y)return g.get(m.min());var F=m.size();if(F.length!==g._size.length)throw new Et(F.length,g._size.length);var w,O,C,B,x=m.min(),T=m.max();for(w=0,O=g._size.length;w<O;w++)zt(x[w],g._size[w]),zt(T[w],g._size[w]);var I=g._values,W=g._index,K=g._ptr,Y=m.dimension(0),q=m.dimension(1),H=[],j=[];Y.forEach(function(ve,we){j[ve]=we[0],H[ve]=!0});var G=I?[]:void 0,te=[],ce=[];return q.forEach(function(ve){for(ce.push(te.length),C=K[ve],B=K[ve+1];C<B;C++)w=W[C],H[w]===!0&&(te.push(j[w]),G&&G.push(I[C]))}),ce.push(te.length),new u({values:G,index:te,ptr:ce,size:F,datatype:g._datatype})}function d(g,m,y,F){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),O=m.isScalar(),C;if(kr(y)?(C=y.size(),y=y.toArray()):C=_i(y),O){if(C.length!==0)throw new TypeError("Scalar expected");g.set(m.min(),y,F)}else{if(w.length!==1&&w.length!==2)throw new Et(w.length,g._size.length,"<");if(C.length<w.length){for(var B=0,x=0;w[B]===1&&C[B]===1;)B++;for(;w[B]===1;)x++,B++;y=Ad(y,w.length,x,C)}if(!Ya(w,C))throw new Et(w,C,">");if(w.length===1){var T=m.dimension(0);T.forEach(function(K,Y){zt(K),g.set([K,0],y[Y[0]],F)})}else{var I=m.dimension(0),W=m.dimension(1);I.forEach(function(K,Y){zt(K),W.forEach(function(q,H){zt(q),g.set([K,q],y[Y[0]][H[0]],F)})})}}return g}u.prototype.get=function(g){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=g[0],y=g[1];zt(m,this._size[0]),zt(y,this._size[1]);var F=p(m,this._ptr[y],this._ptr[y+1],this._index);return F<this._ptr[y+1]&&this._index[F]===m?this._values[F]:0},u.prototype.set=function(g,m,y){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var F=g[0],w=g[1],O=this._size[0],C=this._size[1],B=r,x=0;In(this._datatype)&&(B=e.find(r,[this._datatype,this._datatype])||r,x=e.convert(0,this._datatype)),(F>O-1||w>C-1)&&(f(this,Math.max(F+1,O),Math.max(w+1,C),y),O=this._size[0],C=this._size[1]),zt(F,O),zt(w,C);var T=p(F,this._ptr[w],this._ptr[w+1],this._index);return T<this._ptr[w+1]&&this._index[T]===F?B(m,x)?h(T,w,this._values,this._index,this._ptr):this._values[T]=m:B(m,x)||l(T,F,w,m,this._values,this._index,this._ptr),this};function p(g,m,y,F){if(y-m===0)return y;for(var w=m;w<y;w++)if(F[w]===g)return w;return m}function h(g,m,y,F,w){y.splice(g,1),F.splice(g,1);for(var O=m+1;O<w.length;O++)w[O]--}function l(g,m,y,F,w,O,C){w.splice(g,0,F),O.splice(g,0,m);for(var B=y+1;B<C.length;B++)C[B]++}u.prototype.resize=function(g,m,y){if(!Ka(g))throw new TypeError("Array or Matrix expected");var F=g.valueOf().map(O=>Array.isArray(O)&&O.length===1?O[0]:O);if(F.length!==2)throw new Error("Only two dimensions matrix are supported");F.forEach(function(O){if(!Ht(O)||!yr(O)||O<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(F)+")")});var w=y?this.clone():this;return f(w,F[0],F[1],m)};function f(g,m,y,F){var w=F||0,O=r,C=0;In(g._datatype)&&(O=e.find(r,[g._datatype,g._datatype])||r,C=e.convert(0,g._datatype),w=e.convert(w,g._datatype));var B=!O(w,C),x=g._size[0],T=g._size[1],I,W,K;if(y>T){for(W=T;W<y;W++)if(g._ptr[W]=g._values.length,B)for(I=0;I<x;I++)g._values.push(w),g._index.push(I);g._ptr[y]=g._values.length}else y<T&&(g._ptr.splice(y+1,T-y),g._values.splice(g._ptr[y],g._values.length),g._index.splice(g._ptr[y],g._index.length));if(T=y,m>x){if(B){var Y=0;for(W=0;W<T;W++){g._ptr[W]=g._ptr[W]+Y,K=g._ptr[W+1]+Y;var q=0;for(I=x;I<m;I++,q++)g._values.splice(K+q,0,w),g._index.splice(K+q,0,I),Y++}g._ptr[T]=g._values.length}}else if(m<x){var H=0;for(W=0;W<T;W++){g._ptr[W]=g._ptr[W]-H;var j=g._ptr[W],G=g._ptr[W+1]-H;for(K=j;K<G;K++)I=g._index[K],I>m-1&&(g._values.splice(K,1),g._index.splice(K,1),H++)}g._ptr[W]=g._values.length}return g._size[0]=m,g._size[1]=y,g}u.prototype.reshape=function(g,m){if(!qt(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(ve){if(!Ht(ve)||!yr(ve)||ve<=-2||ve===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Vr(g)+")")});var y=this._size[0]*this._size[1];g=Kl(g,y);var F=g[0]*g[1];if(y!==F)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return w;for(var O=[],C=0;C<w._ptr.length;C++)for(var B=0;B<w._ptr[C+1]-w._ptr[C];B++)O.push(C);for(var x=w._values.slice(),T=w._index.slice(),I=0;I<w._index.length;I++){var W=T[I],K=O[I],Y=W*w._size[1]+K;O[I]=Y%g[1],T[I]=Math.floor(Y/g[1])}w._values.length=0,w._index.length=0,w._ptr.length=g[1]+1,w._size=g.slice();for(var q=0;q<w._ptr.length;q++)w._ptr[q]=0;for(var H=0;H<x.length;H++){var j=T[H],G=O[H],te=x[H],ce=p(j,w._ptr[G],w._ptr[G+1],w._index);l(ce,j,G,te,w._values,w._index,w._ptr)}return w},u.prototype.clone=function(){var g=new u({values:this._values?_r(this._values):void 0,index:_r(this._index),ptr:_r(this._ptr),size:_r(this._size),datatype:this._datatype});return g},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(g,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,F=this._size[0],w=this._size[1],O=Rd(g),C=function(x,T,I){return O===1?g(x):O===2?g(x,[T,I]):g(x,[T,I],y)};return D(this,0,F-1,0,w-1,C,m)};function D(g,m,y,F,w,O,C){var B=[],x=[],T=[],I=r,W=0;In(g._datatype)&&(I=e.find(r,[g._datatype,g._datatype])||r,W=e.convert(0,g._datatype));for(var K=function(Ce,Pe,Ie){Ce=O(Ce,Pe,Ie),I(Ce,W)||(B.push(Ce),x.push(Pe))},Y=F;Y<=w;Y++){T.push(B.length);var q=g._ptr[Y],H=g._ptr[Y+1];if(C)for(var j=q;j<H;j++){var G=g._index[j];G>=m&&G<=y&&K(g._values[j],G-m,Y-F)}else{for(var te={},ce=q;ce<H;ce++){var ve=g._index[ce];te[ve]=g._values[ce]}for(var we=m;we<=y;we++){var Se=we in te?te[we]:0;K(Se,we-m,Y-F)}}}return T.push(B.length),new u({values:B,index:x,ptr:T,size:[y-m+1,w-F+1]})}u.prototype.forEach=function(g,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,F=this._size[0],w=this._size[1],O=0;O<w;O++){var C=this._ptr[O],B=this._ptr[O+1];if(m)for(var x=C;x<B;x++){var T=this._index[x];g(this._values[x],[T,O],y)}else{for(var I={},W=C;W<B;W++){var K=this._index[W];I[K]=this._values[W]}for(var Y=0;Y<F;Y++){var q=Y in I?I[Y]:0;g(q,[Y,O],y)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],m=0;m<g;m++)for(var y=this._ptr[m],F=this._ptr[m+1],w=y;w<F;w++){var O=this._index[w];yield{value:this._values[w],index:[O,m]}}},u.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(g,m,y,F,w){var O=F[0],C=F[1],B=[],x,T;for(x=0;x<O;x++)for(B[x]=[],T=0;T<C;T++)B[x][T]=0;for(T=0;T<C;T++)for(var I=y[T],W=y[T+1],K=I;K<W;K++)x=m[K],B[x][T]=g?w?_r(g[K]):g[K]:1;return B}return u.prototype.format=function(g){for(var m=this._size[0],y=this._size[1],F=this.density(),w="Sparse Matrix ["+Vr(m,g)+" x "+Vr(y,g)+"] density: "+Vr(F,g)+`
`,O=0;O<y;O++)for(var C=this._ptr[O],B=this._ptr[O+1],x=C;x<B;x++){var T=this._index[x];w+=`
    (`+Vr(T,g)+", "+Vr(O,g)+") ==> "+(this._values?Vr(this._values[x],g):"X")}return w},u.prototype.toString=function(){return Vr(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(g){if(g){if(hn(g)&&(g=g.toNumber()),!Ht(g)||!yr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var m=g>0?g:0,y=g<0?-g:0,F=this._size[0],w=this._size[1],O=Math.min(F-y,w-m),C=[],B=[],x=[];x[0]=0;for(var T=m;T<w&&C.length<O;T++)for(var I=this._ptr[T],W=this._ptr[T+1],K=I;K<W;K++){var Y=this._index[K];if(Y===T-m+y){C.push(this._values[K]),B[C.length-1]=Y-y;break}}return x.push(C.length),new u({values:C,index:B,ptr:x,size:[O,1]})},u.fromJSON=function(g){return new u(g)},u.diagonal=function(g,m,y,F,w){if(!qt(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(ve){if(hn(ve)&&(ve=ve.toNumber()),!Ht(ve)||!yr(ve)||ve<1)throw new Error("Size values must be positive integers");return ve}),y){if(hn(y)&&(y=y.toNumber()),!Ht(y)||!yr(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var O=r,C=0;In(w)&&(O=e.find(r,[w,w])||r,C=e.convert(0,w));var B=y>0?y:0,x=y<0?-y:0,T=g[0],I=g[1],W=Math.min(T-x,I-B),K;if(qt(m)){if(m.length!==W)throw new Error("Invalid value array length");K=function(we){return m[we]}}else if(kr(m)){var Y=m.size();if(Y.length!==1||Y[0]!==W)throw new Error("Invalid matrix length");K=function(we){return m.get([we])}}else K=function(){return m};for(var q=[],H=[],j=[],G=0;G<I;G++){j.push(q.length);var te=G-B;if(te>=0&&te<W){var ce=K(te);O(ce,C)||(H.push(te+x),q.push(ce))}}return j.push(q.length),new u({values:q,index:H,ptr:j,size:[T,I]})},u.prototype.swapRows=function(g,m){if(!Ht(g)||!yr(g)||!Ht(m)||!yr(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(g,this._size[0]),zt(m,this._size[0]),u._swapRows(g,m,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(g,m,y,F,w){for(var O=F[g],C=F[g+1],B=O;B<C;B++)w(y[B],m[B])},u._swapRows=function(g,m,y,F,w,O){for(var C=0;C<y;C++){var B=O[C],x=O[C+1],T=p(g,B,x,w),I=p(m,B,x,w);if(T<x&&I<x&&w[T]===g&&w[I]===m){if(F){var W=F[T];F[T]=F[I],F[I]=W}continue}if(T<x&&w[T]===g&&(I>=x||w[I]!==m)){var K=F?F[T]:void 0;w.splice(I,0,m),F&&F.splice(I,0,K),w.splice(I<=T?T+1:T,1),F&&F.splice(I<=T?T+1:T,1);continue}if(I<x&&w[I]===m&&(T>=x||w[T]!==g)){var Y=F?F[I]:void 0;w.splice(T,0,g),F&&F.splice(T,0,Y),w.splice(T<=I?I+1:I,1),F&&F.splice(T<=I?I+1:I,1)}}},u},{isClass:!0}),R0="matrix",rw=["typed","Matrix","DenseMatrix","SparseMatrix"],nw=Ct(R0,rw,t=>{var{typed:e,Matrix:r,DenseMatrix:i,SparseMatrix:u}=t;return e(R0,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,d){return a([],c,d)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,c,d){if(c==="dense"||c==="default"||c===void 0)return new i(o,d);if(c==="sparse")return new u(o,d);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),L0="addScalar",iw=["typed"],uw=Ct(L0,iw,t=>{var{typed:e}=t;return e(L0,{"number, number":Ud,"Complex, Complex":function(i,u){return i.add(u)},"BigNumber, BigNumber":function(i,u){return i.plus(u)},"Fraction, Fraction":function(i,u){return i.add(u)},"Unit, Unit":e.referToSelf(r=>(i,u)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(u))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(r,[a.valueType(),u.valueType()])(a.value,u.value),a.fixPrefix=!1,a})})}),aw="matAlgo11xS0s",sw=["typed","equalScalar"],ow=Ct(aw,sw,t=>{var{typed:e,equalScalar:r}=t;return function(u,a,o,c){var d=u._values,p=u._index,h=u._ptr,l=u._size,f=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=l[0],A=l[1],g,m=r,y=0,F=o;typeof f=="string"&&(g=f,m=e.find(r,[g,g]),y=e.convert(0,g),a=e.convert(a,g),F=e.find(o,[g,g]));for(var w=[],O=[],C=[],B=0;B<A;B++){C[B]=O.length;for(var x=h[B],T=h[B+1],I=x;I<T;I++){var W=p[I],K=c?F(a,d[I]):F(d[I],a);m(K,y)||(O.push(W),w.push(K))}}return C[A]=O.length,u.createSparseMatrix({values:w,index:O,ptr:C,size:[D,A],datatype:g})}}),lw="matAlgo14xDs",fw=["typed"],Vd=Ct(lw,fw,t=>{var{typed:e}=t;return function(u,a,o,c){var d=u._data,p=u._size,h=u._datatype,l,f=o;typeof h=="string"&&(l=h,a=e.convert(a,l),f=e.find(o,[l,l]));var D=p.length>0?r(f,0,p,p[0],d,a,c):[];return u.createDenseMatrix({data:D,size:_r(p),datatype:l})};function r(i,u,a,o,c,d,p){var h=[];if(u===a.length-1)for(var l=0;l<o;l++)h[l]=p?i(d,c[l]):i(c[l],d);else for(var f=0;f<o;f++)h[f]=r(i,u+1,a,a[u+1],c[f],d,p);return h}}),cw="matAlgo01xDSid",hw=["typed"],dw=Ct(cw,hw,t=>{var{typed:e}=t;return function(i,u,a,o){var c=i._data,d=i._size,p=i._datatype,h=u._values,l=u._index,f=u._ptr,D=u._size,A=u._datatype;if(d.length!==D.length)throw new Et(d.length,D.length);if(d[0]!==D[0]||d[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+D+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=d[0],m=d[1],y=typeof p=="string"&&p===A?p:void 0,F=y?e.find(a,[y,y]):a,w,O,C=[];for(w=0;w<g;w++)C[w]=[];var B=[],x=[];for(O=0;O<m;O++){for(var T=O+1,I=f[O],W=f[O+1],K=I;K<W;K++)w=l[K],B[w]=o?F(h[K],c[w][O]):F(c[w][O],h[K]),x[w]=T;for(w=0;w<g;w++)x[w]===T?C[w][O]=B[w]:C[w][O]=c[w][O]}return i.createDenseMatrix({data:C,size:[g,m],datatype:y})}}),pw="matAlgo04xSidSid",vw=["typed","equalScalar"],gw=Ct(pw,vw,t=>{var{typed:e,equalScalar:r}=t;return function(u,a,o){var c=u._values,d=u._index,p=u._ptr,h=u._size,l=u._datatype,f=a._values,D=a._index,A=a._ptr,g=a._size,m=a._datatype;if(h.length!==g.length)throw new Et(h.length,g.length);if(h[0]!==g[0]||h[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+g+")");var y=h[0],F=h[1],w,O=r,C=0,B=o;typeof l=="string"&&l===m&&(w=l,O=e.find(r,[w,w]),C=e.convert(0,w),B=e.find(o,[w,w]));var x=c&&f?[]:void 0,T=[],I=[],W=c&&f?[]:void 0,K=c&&f?[]:void 0,Y=[],q=[],H,j,G,te,ce;for(j=0;j<F;j++){I[j]=T.length;var ve=j+1;for(te=p[j],ce=p[j+1],G=te;G<ce;G++)H=d[G],T.push(H),Y[H]=ve,W&&(W[H]=c[G]);for(te=A[j],ce=A[j+1],G=te;G<ce;G++)if(H=D[G],Y[H]===ve){if(W){var we=B(W[H],f[G]);O(we,C)?Y[H]=null:W[H]=we}}else T.push(H),q[H]=ve,K&&(K[H]=f[G]);if(W&&K)for(G=I[j];G<T.length;)H=T[G],Y[H]===ve?(x[G]=W[H],G++):q[H]===ve?(x[G]=K[H],G++):T.splice(G,1)}return I[F]=T.length,u.createSparseMatrix({values:x,index:T,ptr:I,size:[y,F],datatype:w})}}),mw="matAlgo10xSids",Dw=["typed","DenseMatrix"],_w=Ct(mw,Dw,t=>{var{typed:e,DenseMatrix:r}=t;return function(u,a,o,c){var d=u._values,p=u._index,h=u._ptr,l=u._size,f=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=l[0],A=l[1],g,m=o;typeof f=="string"&&(g=f,a=e.convert(a,g),m=e.find(o,[g,g]));for(var y=[],F=[],w=[],O=0;O<A;O++){for(var C=O+1,B=h[O],x=h[O+1],T=B;T<x;T++){var I=p[T];F[I]=d[T],w[I]=C}for(var W=0;W<D;W++)O===0&&(y[W]=[]),w[W]===C?y[W][O]=c?m(a,F[W]):m(F[W],a):y[W][O]=a}return new r({data:y,size:[D,A],datatype:g})}}),yw="matAlgo13xDD",Aw=["typed"],bw=Ct(yw,Aw,t=>{var{typed:e}=t;return function(u,a,o){var c=u._data,d=u._size,p=u._datatype,h=a._data,l=a._size,f=a._datatype,D=[];if(d.length!==l.length)throw new Et(d.length,l.length);for(var A=0;A<d.length;A++){if(d[A]!==l[A])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+l+")");D[A]=d[A]}var g,m=o;typeof p=="string"&&p===f&&(g=p,m=e.find(o,[g,g]));var y=D.length>0?r(m,0,D,D[0],c,h):[];return u.createDenseMatrix({data:y,size:D,datatype:g})};function r(i,u,a,o,c,d){var p=[];if(u===a.length-1)for(var h=0;h<o;h++)p[h]=i(c[h],d[h]);else for(var l=0;l<o;l++)p[l]=r(i,u+1,a,a[u+1],c[l],d[l]);return p}}),ww="broadcast",Ew=["concat"],Fw=Ct(ww,Ew,t=>{var{concat:e}=t;return function(a,o){var c=Math.max(a._size.length,o._size.length);if(a._size.length===o._size.length&&a._size.every((m,y)=>m===o._size[y]))return[a,o];for(var d=r(a._size,c,0),p=r(o._size,c,0),h=[],l=0;l<c;l++)h[l]=Math.max(d[l],p[l]);for(var f=0;f<c;f++)u(d,h,f),u(p,h,f);var D=a.clone(),A=o.clone();D._size.length<c?D.reshape(r(D._size,c,1)):A._size.length<c&&A.reshape(r(A._size,c,1));for(var g=0;g<c;g++)D._size[g]<h[g]&&(D=i(D,h[g],g)),A._size[g]<h[g]&&(A=i(A,h[g],g));return[D,A]};function r(a,o,c){return[...Array(o-a.length).fill(c),...a]}function i(a,o,c){return e(...Array(o).fill(a),c)}function u(a,o,c){if(a[c]<o[c]&a[c]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(c," with size ").concat(a[c]," to size ").concat(o[c]))}}),Cw="matrixAlgorithmSuite",Sw=["typed","matrix","concat"],Bw=Ct(Cw,Sw,t=>{var{typed:e,matrix:r,concat:i}=t,u=bw({typed:e}),a=Vd({typed:e}),o=Fw({concat:i});return function(d){var p=d.elop,h=d.SD||d.DS,l;p?(l={"DenseMatrix, DenseMatrix":(g,m)=>u(...o(g,m),p),"Array, Array":(g,m)=>u(...o(r(g),r(m)),p).valueOf(),"Array, DenseMatrix":(g,m)=>u(...o(r(g),m),p),"DenseMatrix, Array":(g,m)=>u(...o(g,r(m)),p)},d.SS&&(l["SparseMatrix, SparseMatrix"]=(g,m)=>d.SS(...o(g,m),p,!1)),d.DS&&(l["DenseMatrix, SparseMatrix"]=(g,m)=>d.DS(...o(g,m),p,!1),l["Array, SparseMatrix"]=(g,m)=>d.DS(...o(r(g),m),p,!1)),h&&(l["SparseMatrix, DenseMatrix"]=(g,m)=>h(...o(m,g),p,!0),l["SparseMatrix, Array"]=(g,m)=>h(...o(r(m),g),p,!0))):(l={"DenseMatrix, DenseMatrix":e.referToSelf(g=>(m,y)=>u(...o(m,y),g)),"Array, Array":e.referToSelf(g=>(m,y)=>u(...o(r(m),r(y)),g).valueOf()),"Array, DenseMatrix":e.referToSelf(g=>(m,y)=>u(...o(r(m),y),g)),"DenseMatrix, Array":e.referToSelf(g=>(m,y)=>u(...o(m,r(y)),g))},d.SS&&(l["SparseMatrix, SparseMatrix"]=e.referToSelf(g=>(m,y)=>d.SS(...o(m,y),g,!1))),d.DS&&(l["DenseMatrix, SparseMatrix"]=e.referToSelf(g=>(m,y)=>d.DS(...o(m,y),g,!1)),l["Array, SparseMatrix"]=e.referToSelf(g=>(m,y)=>d.DS(...o(r(m),y),g,!1))),h&&(l["SparseMatrix, DenseMatrix"]=e.referToSelf(g=>(m,y)=>h(...o(y,m),g,!0)),l["SparseMatrix, Array"]=e.referToSelf(g=>(m,y)=>h(...o(r(y),m),g,!0))));var f=d.scalar||"any",D=d.Ds||d.Ss;D&&(p?(l["DenseMatrix,"+f]=(g,m)=>a(g,m,p,!1),l[f+", DenseMatrix"]=(g,m)=>a(m,g,p,!0),l["Array,"+f]=(g,m)=>a(r(g),m,p,!1).valueOf(),l[f+", Array"]=(g,m)=>a(r(m),g,p,!0).valueOf()):(l["DenseMatrix,"+f]=e.referToSelf(g=>(m,y)=>a(m,y,g,!1)),l[f+", DenseMatrix"]=e.referToSelf(g=>(m,y)=>a(y,m,g,!0)),l["Array,"+f]=e.referToSelf(g=>(m,y)=>a(r(m),y,g,!1).valueOf()),l[f+", Array"]=e.referToSelf(g=>(m,y)=>a(r(y),m,g,!0).valueOf())));var A=d.sS!==void 0?d.sS:d.Ss;return p?(d.Ss&&(l["SparseMatrix,"+f]=(g,m)=>d.Ss(g,m,p,!1)),A&&(l[f+", SparseMatrix"]=(g,m)=>A(m,g,p,!0))):(d.Ss&&(l["SparseMatrix,"+f]=e.referToSelf(g=>(m,y)=>d.Ss(m,y,g,!1))),A&&(l[f+", SparseMatrix"]=e.referToSelf(g=>(m,y)=>A(y,m,g,!0)))),p&&p.signatures&&iA(l,p.signatures),l}}),Ow="multiplyScalar",Mw=["typed"],xw=Ct(Ow,Mw,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":jd,"Complex, Complex":function(i,u){return i.mul(u)},"BigNumber, BigNumber":function(i,u){return i.times(u)},"Fraction, Fraction":function(i,u){return i.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),U0="multiply",Pw=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Tw=Ct(U0,Pw,t=>{var{typed:e,matrix:r,addScalar:i,multiplyScalar:u,equalScalar:a,dot:o}=t,c=ow({typed:e,equalScalar:a}),d=Vd({typed:e});function p(C,B){switch(C.length){case 1:switch(B.length){case 1:if(C[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;case 2:switch(B.length){case 1:if(C[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+B[0]+")");break;case 2:if(C[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function h(C,B,x){if(x===0)throw new Error("Cannot multiply two empty vectors");return o(C,B)}function l(C,B){if(B.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(C,B)}function f(C,B){var x=C._data,T=C._size,I=C._datatype,W=B._data,K=B._size,Y=B._datatype,q=T[0],H=K[1],j,G=i,te=u;I&&Y&&I===Y&&typeof I=="string"&&(j=I,G=e.find(i,[j,j]),te=e.find(u,[j,j]));for(var ce=[],ve=0;ve<H;ve++){for(var we=te(x[0],W[0][ve]),Se=1;Se<q;Se++)we=G(we,te(x[Se],W[Se][ve]));ce[ve]=we}return C.createDenseMatrix({data:ce,size:[H],datatype:j})}var D=e("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":F}),A=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":O});function g(C,B){var x=C._data,T=C._size,I=C._datatype,W=B._data,K=B._datatype,Y=T[0],q=T[1],H,j=i,G=u;I&&K&&I===K&&typeof I=="string"&&(H=I,j=e.find(i,[H,H]),G=e.find(u,[H,H]));for(var te=[],ce=0;ce<Y;ce++){for(var ve=x[ce],we=G(ve[0],W[0]),Se=1;Se<q;Se++)we=j(we,G(ve[Se],W[Se]));te[ce]=we}return C.createDenseMatrix({data:te,size:[Y],datatype:H})}function m(C,B){var x=C._data,T=C._size,I=C._datatype,W=B._data,K=B._size,Y=B._datatype,q=T[0],H=T[1],j=K[1],G,te=i,ce=u;I&&Y&&I===Y&&typeof I=="string"&&(G=I,te=e.find(i,[G,G]),ce=e.find(u,[G,G]));for(var ve=[],we=0;we<q;we++){var Se=x[we];ve[we]=[];for(var Te=0;Te<j;Te++){for(var Ce=ce(Se[0],W[0][Te]),Pe=1;Pe<H;Pe++)Ce=te(Ce,ce(Se[Pe],W[Pe][Te]));ve[we][Te]=Ce}}return C.createDenseMatrix({data:ve,size:[q,j],datatype:G})}function y(C,B){var x=C._data,T=C._size,I=C._datatype,W=B._values,K=B._index,Y=B._ptr,q=B._size,H=B._datatype;if(!W)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var j=T[0],G=q[1],te,ce=i,ve=u,we=a,Se=0;I&&H&&I===H&&typeof I=="string"&&(te=I,ce=e.find(i,[te,te]),ve=e.find(u,[te,te]),we=e.find(a,[te,te]),Se=e.convert(0,te));for(var Te=[],Ce=[],Pe=[],Ie=B.createSparseMatrix({values:Te,index:Ce,ptr:Pe,size:[j,G],datatype:te}),Le=0;Le<G;Le++){Pe[Le]=Ce.length;var at=Y[Le],ct=Y[Le+1];if(ct>at)for(var Qe=0,it=0;it<j;it++){for(var ht=it+1,dt=void 0,rt=at;rt<ct;rt++){var Je=K[rt];Qe!==ht?(dt=ve(x[it][Je],W[rt]),Qe=ht):dt=ce(dt,ve(x[it][Je],W[rt]))}Qe===ht&&!we(dt,Se)&&(Ce.push(it),Te.push(dt))}}return Pe[G]=Ce.length,Ie}function F(C,B){var x=C._values,T=C._index,I=C._ptr,W=C._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var K=B._data,Y=B._datatype,q=C._size[0],H=B._size[0],j=[],G=[],te=[],ce,ve=i,we=u,Se=a,Te=0;W&&Y&&W===Y&&typeof W=="string"&&(ce=W,ve=e.find(i,[ce,ce]),we=e.find(u,[ce,ce]),Se=e.find(a,[ce,ce]),Te=e.convert(0,ce));var Ce=[],Pe=[];te[0]=0;for(var Ie=0;Ie<H;Ie++){var Le=K[Ie];if(!Se(Le,Te))for(var at=I[Ie],ct=I[Ie+1],Qe=at;Qe<ct;Qe++){var it=T[Qe];Pe[it]?Ce[it]=ve(Ce[it],we(Le,x[Qe])):(Pe[it]=!0,G.push(it),Ce[it]=we(Le,x[Qe]))}}for(var ht=G.length,dt=0;dt<ht;dt++){var rt=G[dt];j[dt]=Ce[rt]}return te[1]=G.length,C.createSparseMatrix({values:j,index:G,ptr:te,size:[q,1],datatype:ce})}function w(C,B){var x=C._values,T=C._index,I=C._ptr,W=C._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var K=B._data,Y=B._datatype,q=C._size[0],H=B._size[0],j=B._size[1],G,te=i,ce=u,ve=a,we=0;W&&Y&&W===Y&&typeof W=="string"&&(G=W,te=e.find(i,[G,G]),ce=e.find(u,[G,G]),ve=e.find(a,[G,G]),we=e.convert(0,G));for(var Se=[],Te=[],Ce=[],Pe=C.createSparseMatrix({values:Se,index:Te,ptr:Ce,size:[q,j],datatype:G}),Ie=[],Le=[],at=0;at<j;at++){Ce[at]=Te.length;for(var ct=at+1,Qe=0;Qe<H;Qe++){var it=K[Qe][at];if(!ve(it,we))for(var ht=I[Qe],dt=I[Qe+1],rt=ht;rt<dt;rt++){var Je=T[rt];Le[Je]!==ct?(Le[Je]=ct,Te.push(Je),Ie[Je]=ce(it,x[rt])):Ie[Je]=te(Ie[Je],ce(it,x[rt]))}}for(var At=Ce[at],Ar=Te.length,wt=At;wt<Ar;wt++){var ye=Te[wt];Se[wt]=Ie[ye]}}return Ce[j]=Te.length,Pe}function O(C,B){var x=C._values,T=C._index,I=C._ptr,W=C._datatype,K=B._values,Y=B._index,q=B._ptr,H=B._datatype,j=C._size[0],G=B._size[1],te=x&&K,ce,ve=i,we=u;W&&H&&W===H&&typeof W=="string"&&(ce=W,ve=e.find(i,[ce,ce]),we=e.find(u,[ce,ce]));for(var Se=te?[]:void 0,Te=[],Ce=[],Pe=C.createSparseMatrix({values:Se,index:Te,ptr:Ce,size:[j,G],datatype:ce}),Ie=te?[]:void 0,Le=[],at,ct,Qe,it,ht,dt,rt,Je,At=0;At<G;At++){Ce[At]=Te.length;var Ar=At+1;for(ht=q[At],dt=q[At+1],it=ht;it<dt;it++)if(Je=Y[it],te)for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],Le[rt]!==Ar?(Le[rt]=Ar,Te.push(rt),Ie[rt]=we(K[it],x[at])):Ie[rt]=ve(Ie[rt],we(K[it],x[at]));else for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],Le[rt]!==Ar&&(Le[rt]=Ar,Te.push(rt));if(te)for(var wt=Ce[At],ye=Te.length,_e=wt;_e<ye;_e++){var pt=Te[_e];Se[_e]=Ie[pt]}}return Ce[G]=Te.length,Pe}return e(U0,u,{"Array, Array":e.referTo("Matrix, Matrix",C=>(B,x)=>{p(_i(B),_i(x));var T=C(r(B),r(x));return kr(T)?T.valueOf():T}),"Matrix, Matrix":function(B,x){var T=B.size(),I=x.size();return p(T,I),T.length===1?I.length===1?h(B,x,T[0]):l(B,x):I.length===1?D(B,x):A(B,x)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(B,x)=>C(B,r(x))),"Array, Matrix":e.referToSelf(C=>(B,x)=>C(r(B,x.storage()),x)),"SparseMatrix, any":function(B,x){return c(B,x,u,!1)},"DenseMatrix, any":function(B,x){return d(B,x,u,!1)},"any, SparseMatrix":function(B,x){return c(x,B,u,!0)},"any, DenseMatrix":function(B,x){return d(x,B,u,!0)},"Array, any":function(B,x){return d(r(B),x,u,!1).valueOf()},"any, Array":function(B,x){return d(r(x),B,u,!0).valueOf()},"any, any":u,"any, any, ...any":e.referToSelf(C=>(B,x,T)=>{for(var I=C(B,x),W=0;W<T.length;W++)I=C(I,T[W]);return I})})}),j0="conj",Iw=["typed"],Nw=Ct(j0,Iw,t=>{var{typed:e}=t;return e(j0,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>i=>Xl(i,r))})}),V0="concat",kw=["typed","matrix","isInteger"],Rw=Ct(V0,kw,t=>{var{typed:e,matrix:r,isInteger:i}=t;return e(V0,{"...Array | Matrix | number | BigNumber":function(a){var o,c=a.length,d=-1,p,h=!1,l=[];for(o=0;o<c;o++){var f=a[o];if(kr(f)&&(h=!0),Ht(f)||hn(f)){if(o!==c-1)throw new Error("Dimension must be specified as last argument");if(p=d,d=f.valueOf(),!i(d))throw new TypeError("Integer number expected for dimension");if(d<0||o>0&&d>p)throw new Ri(d,p+1)}else{var D=_r(f).valueOf(),A=_i(D);if(l[o]=D,p=d,d=A.length-1,o>0&&d!==p)throw new Et(p+1,d+1)}}if(l.length===0)throw new SyntaxError("At least one matrix expected");for(var g=l.shift();l.length;)g=qd(g,l.shift(),d,0);return h?r(g):g},"...string":function(a){return a.join("")}})});function qd(t,e,r,i){if(i<r){if(t.length!==e.length)throw new Et(t.length,e.length);for(var u=[],a=0;a<t.length;a++)u[a]=qd(t[a],e[a],r,i+1);return u}else return t.concat(e)}function Lw(){throw new Error('No "matrix" implementation available')}var q0="size",Uw=["typed","config","?matrix"],jw=Ct(q0,Uw,t=>{var{typed:e,config:r,matrix:i}=t;return e(q0,{Matrix:function(a){return a.create(a.size())},Array:_i,string:function(a){return r.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:i?i([]):Lw()}})}),z0="add",Vw=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],qw=Ct(z0,Vw,t=>{var{typed:e,matrix:r,addScalar:i,equalScalar:u,DenseMatrix:a,SparseMatrix:o,concat:c}=t,d=dw({typed:e}),p=gw({typed:e,equalScalar:u}),h=_w({typed:e,DenseMatrix:a}),l=Bw({typed:e,matrix:r,concat:c});return e(z0,{"any, any":i,"any, any, ...any":e.referToSelf(f=>(D,A,g)=>{for(var m=f(D,A),y=0;y<g.length;y++)m=f(m,g[y]);return m})},l({elop:i,DS:d,SS:p,Ss:h}))}),W0="dot",zw=["typed","addScalar","multiplyScalar","conj","size"],Ww=Ct(W0,zw,t=>{var{typed:e,addScalar:r,multiplyScalar:i,conj:u,size:a}=t;return e(W0,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":d});function o(h,l){var f=p(h),D=p(l),A,g;if(f.length===1)A=f[0];else if(f.length===2&&f[1]===1)A=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(D.length===1)g=D[0];else if(D.length===2&&D[1]===1)g=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(A!==g)throw new RangeError("Vectors must have equal length ("+A+" != "+g+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function c(h,l){var f=o(h,l),D=kr(h)?h._data:h,A=kr(h)?h._datatype:void 0,g=kr(l)?l._data:l,m=kr(l)?l._datatype:void 0,y=p(h).length===2,F=p(l).length===2,w=r,O=i;if(A&&m&&A===m&&typeof A=="string"){var C=A;w=e.find(r,[C,C]),O=e.find(i,[C,C])}if(!y&&!F){for(var B=O(u(D[0]),g[0]),x=1;x<f;x++)B=w(B,O(u(D[x]),g[x]));return B}if(!y&&F){for(var T=O(u(D[0]),g[0][0]),I=1;I<f;I++)T=w(T,O(u(D[I]),g[I][0]));return T}if(y&&!F){for(var W=O(u(D[0][0]),g[0]),K=1;K<f;K++)W=w(W,O(u(D[K][0]),g[K]));return W}if(y&&F){for(var Y=O(u(D[0][0]),g[0][0]),q=1;q<f;q++)Y=w(Y,O(u(D[q][0]),g[q][0]));return Y}}function d(h,l){o(h,l);for(var f=h._index,D=h._values,A=l._index,g=l._values,m=0,y=r,F=i,w=0,O=0;w<f.length&&O<A.length;){var C=f[w],B=A[O];if(C<B){w++;continue}if(C>B){O++;continue}C===B&&(m=y(m,F(D[w],g[O])),w++,O++)}return m}function p(h){return kr(h)?h.size():a(h)}}),Hw=xb({config:gs}),Gw=Nb({}),Kw=Ub({}),Jl=qb({}),$l=Hb({Matrix:Jl}),dn=IA({BigNumber:Hw,Complex:Gw,DenseMatrix:$l,Fraction:Kw}),Ql=uw({typed:dn}),Yw=Nw({typed:dn}),ef=$b({config:gs,typed:dn}),Zw=Kb({typed:dn}),zd=xw({typed:dn}),Wd=tw({Matrix:Jl,equalScalar:ef,typed:dn}),bs=nw({DenseMatrix:$l,Matrix:Jl,SparseMatrix:Wd,typed:dn}),Xw=jw({matrix:bs,config:gs,typed:dn}),Jw=Rw({isInteger:Zw,matrix:bs,typed:dn}),ts=qw({DenseMatrix:$l,SparseMatrix:Wd,addScalar:Ql,concat:Jw,equalScalar:ef,matrix:bs,typed:dn}),$w=Ww({addScalar:Ql,conj:Yw,multiplyScalar:zd,size:Xw,typed:dn}),Pl=Tw({addScalar:Ql,dot:$w,equalScalar:ef,matrix:bs,multiplyScalar:zd,typed:dn});const La="activePromptStore";function Dr(t,e,r,i=1){return{id:t,text:e,barWeight:i,parsedWeight:r}}function H0(){return{0:Dr(0,"Magic potion in a mystical bottle",1),1:Dr(1,"A crystalline decanter",1),2:Dr(2,"An ornate tequila bottle",1),3:Dr(3,"An antique sake bottle",1),4:Dr(4,"A colorful perfume bottle",1),5:Dr(5,"A glass vase full of vibrant flowers",1),6:Dr(6,"A minimalist glass tea kettle",1),7:Dr(7,"Chihuly glass art",1),8:Dr(8,"A fine wine bottle",1),9:Dr(9,"A gourmet vinegar bottle",1),10:Dr(10,"A stunning fishbowl",1),11:Dr(11,"A striking piece of tourmaline",1),12:Dr(12,"A finely cut piece of sapphire",1),13:Dr(13,"Iittala glass art",1)}}function cu(t,e="circle"){return{weightedPrompts:t||{},weightMode:e,circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0,embedExponentialScaling:2,embedWeightScaling:!0,embedPromptLimit:Object.keys(t).length}}function Qw(){const t=Fn({}),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[La]?JSON.parse(localStorage[La]):cu(H0())),{subscribe:e,updateActivePrompt:a=>{!a||!u||(localStorage[La]=JSON.stringify(a),r(a))},getActivePrompt:()=>Pt(t),deleteActivePrompt:()=>{u&&(delete localStorage[La],r(cu(H0())))}}}const It=Qw(),Cn=En(It,t=>Pt(It));function eE(t){let e,r,i;return{c(){e=Gt("circle"),this.h()},l(u){e=Kt(u,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),ne(e).forEach(V),this.h()},h(){N(e,"cx",r=t[0][0]),N(e,"cy",i=t[0][1]),N(e,"r",t[1]),N(e,"stroke",t[3]),N(e,"stroke-width",t[2]),Wt(e,"fill","rgba(0,0,0,0)")},m(u,a){Ee(u,e,a)},p(u,[a]){a&1&&r!==(r=u[0][0])&&N(e,"cx",r),a&1&&i!==(i=u[0][1])&&N(e,"cy",i),a&2&&N(e,"r",u[1]),a&8&&N(e,"stroke",u[3]),a&4&&N(e,"stroke-width",u[2])},i:xe,o:xe,d(u){u&&V(e)}}}function tE(t,e,r){let{xy:i=[500,500]}=e,{radius:u=400}=e,{stroke:a=2}=e,{color:o="rgba(46,67,101, 0.4)"}=e;return t.$$set=c=>{"xy"in c&&r(0,i=c.xy),"radius"in c&&r(1,u=c.radius),"stroke"in c&&r(2,a=c.stroke),"color"in c&&r(3,o=c.color)},[i,u,a,o]}class rE extends Yt{constructor(e){super(),Zt(this,e,tE,eE,Xt,{xy:0,radius:1,stroke:2,color:3})}}function nE(t){let e,r,i,u,a;return{c(){e=Gt("circle"),this.h()},l(o){e=Kt(o,"circle",{cx:!0,cy:!0,r:!0}),ne(e).forEach(V),this.h()},h(){N(e,"cx",r=t[0][0]),N(e,"cy",i=t[0][1]),N(e,"r",t[1]),Wt(e,"fill",t[2])},m(o,c){Ee(o,e,c),u||(a=[Re(e,"mouseover",t[3]),Re(e,"mouseout",t[4]),Re(e,"mousedown",t[5])],u=!0)},p(o,[c]){c&1&&r!==(r=o[0][0])&&N(e,"cx",r),c&1&&i!==(i=o[0][1])&&N(e,"cy",i),c&2&&N(e,"r",o[1]),c&4&&Wt(e,"fill",o[2])},i:xe,o:xe,d(o){o&&V(e),u=!1,Jr(a)}}}function iE(t,e,r){let{xy:i=[100,100]}=e,{radius:u=5}=e,{color:a="black"}=e,{hoverColor:o="white"}=e,{handleMouseDown:c=f=>{}}=e,d=a;function p(){r(2,d=o)}function h(){r(2,d=a)}function l(f){c(f)}return t.$$set=f=>{"xy"in f&&r(0,i=f.xy),"radius"in f&&r(1,u=f.radius),"color"in f&&r(6,a=f.color),"hoverColor"in f&&r(7,o=f.hoverColor),"handleMouseDown"in f&&r(8,c=f.handleMouseDown)},[i,u,d,p,h,l,a,o,c]}class ws extends Yt{constructor(e){super(),Zt(this,e,iE,nE,Xt,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function uE(t){let e,r,i,u,a;return{c(){e=Gt("line"),this.h()},l(o){e=Kt(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),ne(e).forEach(V),this.h()},h(){N(e,"x1",r=t[0][0]),N(e,"y1",i=t[0][1]),N(e,"x2",u=t[1][0]),N(e,"y2",a=t[1][1]),N(e,"stroke",t[3]),N(e,"stroke-dasharray","10,10"),N(e,"stroke-width",t[2])},m(o,c){Ee(o,e,c)},p(o,[c]){c&1&&r!==(r=o[0][0])&&N(e,"x1",r),c&1&&i!==(i=o[0][1])&&N(e,"y1",i),c&2&&u!==(u=o[1][0])&&N(e,"x2",u),c&2&&a!==(a=o[1][1])&&N(e,"y2",a),c&8&&N(e,"stroke",o[3]),c&4&&N(e,"stroke-width",o[2])},i:xe,o:xe,d(o){o&&V(e)}}}function aE(t,e,r){let{p1:i=[100,100]}=e,{p2:u=[100,100]}=e,{stroke:a=2}=e,{color:o="rgba(46,67,101, 0.4)"}=e;return t.$$set=c=>{"p1"in c&&r(0,i=c.p1),"p2"in c&&r(1,u=c.p2),"stroke"in c&&r(2,a=c.stroke),"color"in c&&r(3,o=c.color)},[i,u,a,o]}class Hd extends Yt{constructor(e){super(),Zt(this,e,aE,uE,Xt,{p1:0,p2:1,stroke:2,color:3})}}function sE(t){let e,r,i,u,a,o,c,d;return{c(){e=Gt("foreignObject"),r=se("div"),i=se("p"),u=Ge(t[2]),this.h()},l(p){e=Kt(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var h=ne(e);r=oe(h,"DIV",{class:!0});var l=ne(r);i=oe(l,"P",{});var f=ne(i);u=Ke(f,t[2]),f.forEach(V),l.forEach(V),h.forEach(V),this.h()},h(){Wt(i,"color",t[3]),Wt(i,"user-select","none"),Wt(i,"margin","0"),Wt(i,"pointer-events","none"),Wt(i,"text-align",t[4]),Wt(i,"font-size",`${t[5]}px`),Wt(i,"font-family","sans-serif"),Wt(i,"font-style","italic"),N(r,"class","h-full flex flex-col justify-center"),N(e,"x",a=t[0][0]),N(e,"y",o=t[0][1]),N(e,"width",c=t[1][0]),N(e,"height",d=t[1][1])},m(p,h){Ee(p,e,h),Q(e,r),Q(r,i),Q(i,u)},p(p,[h]){h&4&&wn(u,p[2]),h&8&&Wt(i,"color",p[3]),h&16&&Wt(i,"text-align",p[4]),h&32&&Wt(i,"font-size",`${p[5]}px`),h&1&&a!==(a=p[0][0])&&N(e,"x",a),h&1&&o!==(o=p[0][1])&&N(e,"y",o),h&2&&c!==(c=p[1][0])&&N(e,"width",c),h&2&&d!==(d=p[1][1])&&N(e,"height",d)},i:xe,o:xe,d(p){p&&V(e)}}}function oE(t,e,r){let{xy:i=[100,100]}=e,{wh:u=[100,100]}=e,{text:a=""}=e,{color:o="rgba(96,117,151, 1)"}=e,{textAlign:c="center"}=e,{fontSize:d=12}=e;return t.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"text"in p&&r(2,a=p.text),"color"in p&&r(3,o=p.color),"textAlign"in p&&r(4,c=p.textAlign),"fontSize"in p&&r(5,d=p.fontSize)},[i,u,a,o,c,d]}class tf extends Yt{constructor(e){super(),Zt(this,e,oE,sE,Xt,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function lE(t){let e,r,i,u,a,o,c,d,p,h,l;return{c(){e=Gt("circle"),u=Ze(),a=Gt("foreignObject"),o=se("p"),c=Ge(t[4]),this.h()},l(f){e=Kt(f,"circle",{cx:!0,cy:!0,r:!0}),ne(e).forEach(V),u=Xe(f),a=Kt(f,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var D=ne(a);o=oe(D,"P",{style:!0,class:!0});var A=ne(o);c=Ke(A,t[4]),A.forEach(V),D.forEach(V),this.h()},h(){N(e,"cx",r=t[0][0]),N(e,"cy",i=t[0][1]),N(e,"r",t[1]),Wt(e,"fill",t[3]),Wt(o,"color",t[2]),Wt(o,"user-select","none"),Wt(o,"margin","0"),N(o,"class","heavy svelte-6if1p2"),N(a,"x",d=t[0][0]-t[1]),N(a,"y",p=t[0][1]-t[1]),N(a,"width",h=t[1]*2),N(a,"height",l=t[1]*2)},m(f,D){Ee(f,e,D),Ee(f,u,D),Ee(f,a,D),Q(a,o),Q(o,c)},p(f,[D]){D&1&&r!==(r=f[0][0])&&N(e,"cx",r),D&1&&i!==(i=f[0][1])&&N(e,"cy",i),D&2&&N(e,"r",f[1]),D&8&&Wt(e,"fill",f[3]),D&16&&wn(c,f[4]),D&4&&Wt(o,"color",f[2]),D&3&&d!==(d=f[0][0]-f[1])&&N(a,"x",d),D&3&&p!==(p=f[0][1]-f[1])&&N(a,"y",p),D&2&&h!==(h=f[1]*2)&&N(a,"width",h),D&2&&l!==(l=f[1]*2)&&N(a,"height",l)},i:xe,o:xe,d(f){f&&V(e),f&&V(u),f&&V(a)}}}function fE(t,e,r){let{xy:i=[100,100]}=e,{radius:u=25}=e,{textColor:a="rgba(96,117,151, 1)"}=e,{bgColor:o="black"}=e,{weight:c=""}=e;return t.$$set=d=>{"xy"in d&&r(0,i=d.xy),"radius"in d&&r(1,u=d.radius),"textColor"in d&&r(2,a=d.textColor),"bgColor"in d&&r(3,o=d.bgColor),"weight"in d&&r(4,c=d.weight)},[i,u,a,o,c]}class cE extends Yt{constructor(e){super(),Zt(this,e,fE,lE,Xt,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function Ua(t,e,r){const i=t[0]-e[0],u=t[1]-e[1],a=360+Math.atan2(u,i)*180/Math.PI,o=Math.sqrt(i*i+u*u);return[a%360,o/r]}function gi(t,e,r){const i=e[0]%360*Math.PI/180,u=[r*e[1]*Math.cos(i),r*e[1]*Math.sin(i)];return ts(t,u)}function G0(t,e,r){const i=t[0]-e[0],u=t[1]-e[1],a=Math.sqrt(i*i+u*u),o=r/a,c=e[0]+i*o,d=e[1]+u*o;return[c,d]}function hE(t,e,r){const i=t[0]-e[0],u=t[1]-e[1];return Math.sqrt(i*i+u*u)<r}function dE(t,e){const r=e%360*Math.PI/180;let i,u;const a=Math.cos(r),o=Math.sin(r);return i=(t[0]+5)*-1.2*a,u=(t[1]+5)*-1.2*o,i-=t[0],u-=t[1],[i,u]}function pE(t){return Math.round(t*100)}function cn(t){return Math.max(1-Math.pow(1-t,2),.25).toFixed(2)}function ti(t,e){const r=e==="circle"?t.circleWeight:e==="bars"?t.barWeight:e==="embed"?t.embedWeight:t.parsedWeight;return pE(r||0)}function vE(t,e,r){const a=r*.6,o=Math.floor(t/a);return Math.ceil(e/o)*r*1.2}function ei(t,e,r){const i=vE(t,e,r)+10;return[t,i]}function Tl(t,e){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function rf(t){return Pl(t,.5)}function hu(t){const e=t.currentTarget;var r=e.createSVGPoint();r.x=t.clientX,r.y=t.clientY;const i=r.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}function K0(t,e,r){const i=t.slice();return i[18]=e[r][0],i[19]=e[r][1],i}function Y0(t){let e,r,i=Object.entries(t[5].weightedPrompts).length>0,u,a;e=new rE({props:{xy:t[0],radius:t[1]}});let o=Object.entries(t[5].weightedPrompts),c=[];for(let h=0;h<o.length;h+=1)c[h]=Z0(K0(t,o,h));const d=h=>ze(c[h],1,1,()=>{c[h]=null});let p=i&&X0(t);return{c(){mt(e.$$.fragment);for(let h=0;h<c.length;h+=1)c[h].c();r=tr(),p&&p.c(),u=tr()},l(h){Dt(e.$$.fragment,h);for(let l=0;l<c.length;l+=1)c[l].l(h);r=tr(),p&&p.l(h),u=tr()},m(h,l){_t(e,h,l);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(h,l);Ee(h,r,l),p&&p.m(h,l),Ee(h,u,l),a=!0},p(h,l){const f={};if(l&1&&(f.xy=h[0]),l&2&&(f.radius=h[1]),e.$set(f),l&895){o=Object.entries(h[5].weightedPrompts);let D;for(D=0;D<o.length;D+=1){const A=K0(h,o,D);c[D]?(c[D].p(A,l),ke(c[D],1)):(c[D]=Z0(A),c[D].c(),ke(c[D],1),c[D].m(r.parentNode,r))}for(Nn(),D=o.length;D<c.length;D+=1)d(D);kn()}l&32&&(i=Object.entries(h[5].weightedPrompts).length>0),i?p?(p.p(h,l),l&32&&ke(p,1)):(p=X0(h),p.c(),ke(p,1),p.m(u.parentNode,u)):p&&(Nn(),ze(p,1,1,()=>{p=null}),kn())},i(h){if(!a){ke(e.$$.fragment,h);for(let l=0;l<o.length;l+=1)ke(c[l]);ke(p),a=!0}},o(h){ze(e.$$.fragment,h),c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)ze(c[l]);ze(p),a=!1},d(h){yt(e,h),ld(c,h),h&&V(r),p&&p.d(h),h&&V(u)}}}function Z0(t){let e,r,i,u,a;e=new Hd({props:{p1:gi(t[0],t[5].circleMarker,t[1]),p2:t[6][t[18]].xy}});function o(){return t[12](t[18])}return r=new ws({props:{xy:t[6][t[18]].xy,radius:t[2],color:"rgba(76,97,141, 1)",handleMouseDown:o}}),i=new tf({props:{xy:t[9](t[6][t[18]].xy,ei(t[3],t[19].text.length,t[4])),color:`rgba(255,255,255,${cn(t[6][t[18]].unitWeight)}`,wh:ei(t[3],t[19].text.length,t[4]),fontSize:t[4],text:t[19].text}}),u=new cE({props:{xy:Pl(ts(gi(t[0],t[5].circleMarker,t[1]),t[6][t[18]].xy),.5),weight:ti(t[5].weightedPrompts[t[18]],t[5].weightMode),radius:15,textColor:`rgba(255,255,255,${cn(t[6][t[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){mt(e.$$.fragment),mt(r.$$.fragment),mt(i.$$.fragment),mt(u.$$.fragment)},l(c){Dt(e.$$.fragment,c),Dt(r.$$.fragment,c),Dt(i.$$.fragment,c),Dt(u.$$.fragment,c)},m(c,d){_t(e,c,d),_t(r,c,d),_t(i,c,d),_t(u,c,d),a=!0},p(c,d){t=c;const p={};d&35&&(p.p1=gi(t[0],t[5].circleMarker,t[1])),d&96&&(p.p2=t[6][t[18]].xy),e.$set(p);const h={};d&96&&(h.xy=t[6][t[18]].xy),d&4&&(h.radius=t[2]),d&32&&(h.handleMouseDown=o),r.$set(h);const l={};d&120&&(l.xy=t[9](t[6][t[18]].xy,ei(t[3],t[19].text.length,t[4]))),d&96&&(l.color=`rgba(255,255,255,${cn(t[6][t[18]].unitWeight)}`),d&56&&(l.wh=ei(t[3],t[19].text.length,t[4])),d&16&&(l.fontSize=t[4]),d&32&&(l.text=t[19].text),i.$set(l);const f={};d&99&&(f.xy=Pl(ts(gi(t[0],t[5].circleMarker,t[1]),t[6][t[18]].xy),.5)),d&32&&(f.weight=ti(t[5].weightedPrompts[t[18]],t[5].weightMode)),d&96&&(f.textColor=`rgba(255,255,255,${cn(t[6][t[18]].unitWeight)}`),u.$set(f)},i(c){a||(ke(e.$$.fragment,c),ke(r.$$.fragment,c),ke(i.$$.fragment,c),ke(u.$$.fragment,c),a=!0)},o(c){ze(e.$$.fragment,c),ze(r.$$.fragment,c),ze(i.$$.fragment,c),ze(u.$$.fragment,c),a=!1},d(c){yt(e,c),yt(r,c),yt(i,c),yt(u,c)}}}function X0(t){let e,r;return e=new ws({props:{xy:gi(t[0],t[5].circleMarker,t[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:t[13]}}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},p(i,u){const a={};u&35&&(a.xy=gi(i[0],i[5].circleMarker,i[1])),e.$set(a)},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function gE(t){let e,r,i,u,a=t[6]&&t[5].weightedPrompts&&Y0(t);return{c(){e=Gt("svg"),a&&a.c(),this.h()},l(o){e=Kt(o,"svg",{id:!0,class:!0});var c=ne(e);a&&a.l(c),c.forEach(V),this.h()},h(){N(e,"id","svg"),N(e,"class","w-full h-full")},m(o,c){Ee(o,e,c),a&&a.m(e,null),r=!0,i||(u=[Re(e,"mousemove",t[10]),Re(e,"mouseup",t[7]),Re(e,"dblclick",t[11])],i=!0)},p(o,[c]){o[6]&&o[5].weightedPrompts?a?(a.p(o,c),c&96&&ke(a,1)):(a=Y0(o),a.c(),ke(a,1),a.m(e,null)):a&&(Nn(),ze(a,1,1,()=>{a=null}),kn())},i(o){r||(ke(a),r=!0)},o(o){ze(a),r=!1},d(o){o&&V(e),a&&a.d(),i=!1,Jr(u)}}}function J0(t,e){return t?Object.entries(t).reduce((r,[i,u],a)=>{const o=r[i]||a*(360/Object.keys(t).length)-90;return r[i]=o,r},e):null}function mE(t,e,r){let i,u;xt(t,Cn,C=>r(5,u=C));let{center:a=[450,450]}=e,{radius:o=250}=e,{pointRadius:c=10}=e,{textWidth:d=150}=e,{fontSize:p=13}=e,h=[0,0],l=null;function f(C){l=null}function D(C){l=C}function A(C,B){let x=Ua(C,a,o)[0]-180;x<0&&(x+=360);const T=dE(rf(B),x);return ts(C,T)}function g(C){const B=hE(C,a,o)?Ua(C,a,o):Ua(G0(C,a,o),a,o);r(6,i=F(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,B,u.circleAngles))}function m(C){if(h=hu(C),l==="main")g(h);else if(l){const B={...u.weightedPrompts[l]},x=G0(h,a,o),T=Ua(x,a,o)[0],I={...u.circleAngles};I[B.id]=T;const W={...u.weightedPrompts};W[l]=B,r(6,i=F(W,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,I))}}function y(C){h=hu(C),g(h)}function F(C,B,x,T,I,W,K){if(!C||!B||!x||!T||!W)return null;let Y=Object.entries(C).reduce((j,[G,te])=>(j[G]={xy:gi(B,[K[G],1],x)},j),{});Y=Object.entries(Y).reduce((j,[G,te])=>(j[G]={...j[G],distance:Tl(te.xy,gi(B,W,x))},j),Y);const q=Object.values(Y).reduce((j,G)=>j+G.distance,0);Y=Object.entries(Y).reduce((j,[G,te])=>(j[G]={...j[G],unitDistance:Math.round(te.distance/q*100)/100},j),Y),Y=Object.entries(Y).reduce((j,[G,te])=>(j[G]={...j[G],invertedUnitDistance:Math.round((1-te.unitDistance)*100)/100},j),Y),Y=Object.entries(Y).reduce((j,[G,te])=>(I?j[G]={...j[G],unitWeight:Math.round(Math.pow(1-te.distance/(2*x),T)*100)/100}:j[G]={...j[G],unitWeight:Math.round((1-te.distance/(2*x))*100)/100},j),Y);const H={...C};return Object.entries(Y).forEach(([j,G])=>{H[j].circleWeight=G.unitWeight}),It.updateActivePrompt({...u,circleMarker:W,weightedPrompts:H,circleAngles:K}),Y}const w=C=>D(C),O=()=>D("main");return t.$$set=C=>{"center"in C&&r(0,a=C.center),"radius"in C&&r(1,o=C.radius),"pointRadius"in C&&r(2,c=C.pointRadius),"textWidth"in C&&r(3,d=C.textWidth),"fontSize"in C&&r(4,p=C.fontSize)},t.$$.update=()=>{t.$$.dirty&32&&Object.keys(u.circleAngles).length!==Object.keys(u.weightedPrompts).length&&It.updateActivePrompt({...u,circleAngles:J0(u.weightedPrompts,{})}),t.$$.dirty&35&&r(6,i=F(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,u.circleAngles||J0(u.weightedPrompts,{})))},[a,o,c,d,p,u,i,f,D,A,m,y,w,O]}class DE extends Yt{constructor(e){super(),Zt(this,e,mE,gE,Xt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function $0(t){let e,r,i,u,a,o,c,d;return{c(){e=se("div"),r=se("label"),i=se("span"),u=Ge("Scaling Power"),a=Ze(),o=se("input"),this.h()},l(p){e=oe(p,"DIV",{class:!0});var h=ne(e);r=oe(h,"LABEL",{class:!0});var l=ne(r);i=oe(l,"SPAN",{class:!0});var f=ne(i);u=Ke(f,"Scaling Power"),f.forEach(V),l.forEach(V),a=Xe(h),o=oe(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h.forEach(V),this.h()},h(){N(i,"class","label-text"),N(r,"class","label"),N(o,"type","range"),N(o,"min","0.5"),N(o,"max","3"),N(o,"step","0.1"),N(o,"class","range"),N(e,"class","w-full px-2")},m(p,h){Ee(p,e,h),Q(e,r),Q(r,i),Q(i,u),Q(e,a),Q(e,o),mi(o,t[0]),c||(d=[Re(o,"change",t[6]),Re(o,"input",t[6])],c=!0)},p(p,h){h&1&&mi(o,p[0])},d(p){p&&V(e),c=!1,Jr(d)}}}function _E(t){let e,r,i,u,a,o,c,d,p,h,l,f,D,A,g;r=new DE({props:{center:[Math.round(t[2]/2),Math.round(t[3]/2)],radius:Math.round(Math.min(t[2],t[3])/2)-150}});let m=t[1]&&$0(t);return{c(){e=se("div"),mt(r.$$.fragment),u=Ze(),a=se("div"),o=se("div"),c=se("label"),d=se("span"),p=Ge("Exponential Scaling"),h=Ze(),l=se("input"),f=Ze(),m&&m.c(),this.h()},l(y){e=oe(y,"DIV",{class:!0});var F=ne(e);Dt(r.$$.fragment,F),F.forEach(V),u=Xe(y),a=oe(y,"DIV",{class:!0});var w=ne(a);o=oe(w,"DIV",{class:!0});var O=ne(o);c=oe(O,"LABEL",{class:!0});var C=ne(c);d=oe(C,"SPAN",{class:!0});var B=ne(d);p=Ke(B,"Exponential Scaling"),B.forEach(V),C.forEach(V),h=Xe(O),l=oe(O,"INPUT",{type:!0,class:!0}),O.forEach(V),f=Xe(w),m&&m.l(w),w.forEach(V),this.h()},h(){N(e,"class","w-full h-full"),Wl(()=>t[4].call(e)),N(d,"class","label-text"),N(c,"class","label"),N(l,"type","checkbox"),N(l,"class","toggle"),N(o,"class","w-52 px-2"),N(a,"class","px-2 py-4 pb-0 flex")},m(y,F){Ee(y,e,F),_t(r,e,null),i=Hl(e,t[4].bind(e)),Ee(y,u,F),Ee(y,a,F),Q(a,o),Q(o,c),Q(c,d),Q(d,p),Q(o,h),Q(o,l),l.checked=t[1],Q(a,f),m&&m.m(a,null),D=!0,A||(g=Re(l,"change",t[5]),A=!0)},p(y,[F]){const w={};F&12&&(w.center=[Math.round(y[2]/2),Math.round(y[3]/2)]),F&12&&(w.radius=Math.round(Math.min(y[2],y[3])/2)-150),r.$set(w),F&2&&(l.checked=y[1]),y[1]?m?m.p(y,F):(m=$0(y),m.c(),m.m(a,null)):m&&(m.d(1),m=null)},i(y){D||(ke(r.$$.fragment,y),D=!0)},o(y){ze(r.$$.fragment,y),D=!1},d(y){y&&V(e),yt(r),i(),y&&V(u),y&&V(a),m&&m.d(),A=!1,g()}}}function yE(t,e,r){let i;xt(t,Cn,l=>r(7,i=l));let u,a,o=i.circleWeightScaling||2,c=vd(i.circleExponentialScaling)?!0:i.circleExponentialScaling;function d(){u=this.clientWidth,a=this.clientHeight,r(2,u),r(3,a)}function p(){c=this.checked,r(1,c)}function h(){o=Fy(this.value),r(0,o)}return t.$$.update=()=>{t.$$.dirty&3&&It.updateActivePrompt({...It.getActivePrompt(),circleExponentialScaling:c,circleWeightScaling:o})},[o,c,u,a,d,p,h]}class AE extends Yt{constructor(e){super(),Zt(this,e,yE,_E,Xt,{})}}function bE(t){let e,r,i,u,a,o,c;return{c(){e=Gt("rect"),this.h()},l(d){e=Kt(d,"rect",{x:!0,y:!0,width:!0,height:!0}),ne(e).forEach(V),this.h()},h(){N(e,"x",r=t[0][0]),N(e,"y",i=t[0][1]),N(e,"width",u=Math.max(t[1][0],0)),N(e,"height",a=Math.max(t[1][1],0)),Wt(e,"fill",t[2])},m(d,p){Ee(d,e,p),o||(c=[Re(e,"mouseover",function(){jo(t[4])&&t[4].apply(this,arguments)}),Re(e,"mouseout",function(){jo(t[5])&&t[5].apply(this,arguments)}),Re(e,"mousedown",function(){jo(t[3])&&t[3].apply(this,arguments)})],o=!0)},p(d,[p]){t=d,p&1&&r!==(r=t[0][0])&&N(e,"x",r),p&1&&i!==(i=t[0][1])&&N(e,"y",i),p&2&&u!==(u=Math.max(t[1][0],0))&&N(e,"width",u),p&2&&a!==(a=Math.max(t[1][1],0))&&N(e,"height",a),p&4&&Wt(e,"fill",t[2])},i:xe,o:xe,d(d){d&&V(e),o=!1,Jr(c)}}}function wE(t,e,r){let{xy:i=[500,500]}=e,{wh:u=[100,100]}=e,{color:a="rgba(46,67,101, 0.4)"}=e,{handleMouseDown:o=p=>{}}=e,{handleMouseOver:c=p=>{}}=e,{handleMouseOut:d=p=>{}}=e;return t.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"color"in p&&r(2,a=p.color),"handleMouseDown"in p&&r(3,o=p.handleMouseDown),"handleMouseOver"in p&&r(4,c=p.handleMouseOver),"handleMouseOut"in p&&r(5,d=p.handleMouseOut)},[i,u,a,o,c,d]}class Ho extends Yt{constructor(e){super(),Zt(this,e,wE,bE,Xt,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function Q0(t,e,r){const i=t.slice();return i[51]=e[r][0],i[52]=e[r][1],i[53]=e[r][2],i}function eh(t,e){let r,i,u,a,o,c;i=new tf({props:{xy:[e[3][0]+e[0],e[3][1]+e[52]*e[4]+e[52]],color:`rgba(255,255,255,${cn(e[53].barWeight/e[12]||0)})`,wh:e[5][e[51]],text:e[53].text,textAlign:"right",fontSize:e[1]}});function d(...g){return e[39](e[51],...g)}function p(...g){return e[40](e[51],...g)}u=new Ho({props:{color:e[13](0),handleMouseOver:d,handleMouseOut:p,xy:[e[10],e[3][1]+e[52]*e[4]+e[52]],wh:[e[11],e[4]-2]}});function h(...g){return e[41](e[51],...g)}function l(...g){return e[42](e[51],...g)}a=new Ho({props:{color:e[8]===e[51]||e[7]===e[51]||e[9]===e[51]?e[13](cn((e[53].barWeight||0)/e[12]+.15)):e[13](cn(e[53].barWeight||0)),handleMouseOver:h,handleMouseOut:l,xy:[e[10],e[3][1]+e[52]*e[4]+e[52]],wh:[(e[53].barWeight||0)*e[11],e[4]-2]}});function f(...g){return e[43](e[51],...g)}function D(...g){return e[44](e[51],...g)}function A(...g){return e[45](e[51],...g)}return o=new Ho({props:{color:e[9]===e[51]?e[15]:e[14],handleMouseOver:f,handleMouseOut:D,handleMouseDown:A,xy:[e[10]+(e[53].barWeight||0)*e[11],e[3][1]+e[52]*e[4]+e[52]],wh:[e[2],e[4]-2]}}),{key:t,first:null,c(){r=tr(),mt(i.$$.fragment),mt(u.$$.fragment),mt(a.$$.fragment),mt(o.$$.fragment),this.h()},l(g){r=tr(),Dt(i.$$.fragment,g),Dt(u.$$.fragment,g),Dt(a.$$.fragment,g),Dt(o.$$.fragment,g),this.h()},h(){this.first=r},m(g,m){Ee(g,r,m),_t(i,g,m),_t(u,g,m),_t(a,g,m),_t(o,g,m),c=!0},p(g,m){e=g;const y={};m[0]&89&&(y.xy=[e[3][0]+e[0],e[3][1]+e[52]*e[4]+e[52]]),m[0]&4160&&(y.color=`rgba(255,255,255,${cn(e[53].barWeight/e[12]||0)})`),m[0]&96&&(y.wh=e[5][e[51]]),m[0]&64&&(y.text=e[53].text),m[0]&2&&(y.fontSize=e[1]),i.$set(y);const F={};m[0]&64&&(F.handleMouseOver=d),m[0]&64&&(F.handleMouseOut=p),m[0]&1112&&(F.xy=[e[10],e[3][1]+e[52]*e[4]+e[52]]),m[0]&2064&&(F.wh=[e[11],e[4]-2]),u.$set(F);const w={};m[0]&5056&&(w.color=e[8]===e[51]||e[7]===e[51]||e[9]===e[51]?e[13](cn((e[53].barWeight||0)/e[12]+.15)):e[13](cn(e[53].barWeight||0))),m[0]&64&&(w.handleMouseOver=h),m[0]&64&&(w.handleMouseOut=l),m[0]&1112&&(w.xy=[e[10],e[3][1]+e[52]*e[4]+e[52]]),m[0]&2128&&(w.wh=[(e[53].barWeight||0)*e[11],e[4]-2]),a.$set(w);const O={};m[0]&576&&(O.color=e[9]===e[51]?e[15]:e[14]),m[0]&64&&(O.handleMouseOver=f),m[0]&64&&(O.handleMouseOut=D),m[0]&64&&(O.handleMouseDown=A),m[0]&3160&&(O.xy=[e[10]+(e[53].barWeight||0)*e[11],e[3][1]+e[52]*e[4]+e[52]]),m[0]&20&&(O.wh=[e[2],e[4]-2]),o.$set(O)},i(g){c||(ke(i.$$.fragment,g),ke(u.$$.fragment,g),ke(a.$$.fragment,g),ke(o.$$.fragment,g),c=!0)},o(g){ze(i.$$.fragment,g),ze(u.$$.fragment,g),ze(a.$$.fragment,g),ze(o.$$.fragment,g),c=!1},d(g){g&&V(r),yt(i,g),yt(u,g),yt(a,g),yt(o,g)}}}function EE(t){let e,r=[],i=new Map,u,a,o,c=t[6];const d=p=>p[51];for(let p=0;p<c.length;p+=1){let h=Q0(t,c,p),l=d(h);i.set(l,r[p]=eh(l,h))}return{c(){e=Gt("svg");for(let p=0;p<r.length;p+=1)r[p].c();this.h()},l(p){e=Kt(p,"svg",{id:!0,class:!0});var h=ne(e);for(let l=0;l<r.length;l+=1)r[l].l(h);h.forEach(V),this.h()},h(){N(e,"id","svg"),N(e,"class","w-full h-full")},m(p,h){Ee(p,e,h);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);u=!0,a||(o=[Re(e,"mousemove",t[25]),Re(e,"mouseup",t[24]),Re(e,"dblclick",t[23])],a=!0)},p(p,h){h[0]&8388607&&(c=p[6],Nn(),r=Ai(r,h,d,1,p,c,i,e,fd,eh,null,Q0),kn())},i(p){if(!u){for(let h=0;h<c.length;h+=1)ke(r[h]);u=!0}},o(p){for(let h=0;h<r.length;h+=1)ze(r[h]);u=!1},d(p){p&&V(e);for(let h=0;h<r.length;h+=1)r[h].d();a=!1,Jr(o)}}}function FE(t,e,r){let i,u,a,o,c,d,p,h,l,f,D,A,g;xt(t,Cn,ye=>r(38,g=ye));let{center:m=[0,0]}=e,{dimensions:y=[100,100]}=e,{maxWidth:F=1e3}=e,{pointRadius:w=10}=e,{textWidth:O=250}=e,{horizontalPad:C=20}=e,{verticalPad:B=2}=e,{textBarPad:x=10}=e,{fontSize:T=13}=e,{handleWidth:I=20}=e,W=ye=>`rgba(46,67,101, ${ye})`,K=ye=>`rgba(76,97,131, ${ye})`,Y=null,q=null,H=null,j=K(.3),G=K(.8),te=null,ce=null,ve=null;function we(ye,_e){r(8,q=ye)}function Se(ye,_e){r(7,Y=ye)}function Te(ye,_e){r(9,H=ye)}function Ce(ye,_e){r(8,q=null)}function Pe(ye,_e){r(7,Y=null)}function Ie(ye,_e){r(9,H=null)}function Le(ye,_e){te=ye}function at(ye){let _e=te||q||H||Y;if(!_e)return;const pt=hu(ye);Qe(_e,pt)}function ct(ye){te=null,clearInterval(ce),ce=null,ve=null}function Qe(ye,_e){let Nt=Math.min(f,Math.max(0,_e[0]-D))/f,ar={...g.weightedPrompts},R={...ar[ye]};R.barWeight=Nt,ar[ye]=R,It.updateActivePrompt({...g,weightedPrompts:ar})}function it(ye){let _e=te;if(!_e)return;const pt=hu(ye);if(Qe(_e,pt),te){let Nt=D+f+I,ar=D;pt[0]>Nt&&!ce?(ve=Date.now(),ce=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((Z,[ue,ee])=>(ue!==te?Z[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)}:Z[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)},Z),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<ar&&!ce?(ve=Date.now(),ce=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((Z,[ue,ee])=>(ue!==te?Z[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)}:Z[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)},Z),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<Nt&&pt[0]>ar&&ce&&(clearInterval(ce),ce=null,ve=null)}}const ht=(ye,_e)=>Se(ye),dt=(ye,_e)=>Pe(),rt=(ye,_e)=>we(ye),Je=(ye,_e)=>Ce(),At=(ye,_e)=>Te(ye),Ar=(ye,_e)=>Ie(),wt=(ye,_e)=>Le(ye);return t.$$set=ye=>{"center"in ye&&r(26,m=ye.center),"dimensions"in ye&&r(27,y=ye.dimensions),"maxWidth"in ye&&r(28,F=ye.maxWidth),"pointRadius"in ye&&r(29,w=ye.pointRadius),"textWidth"in ye&&r(30,O=ye.textWidth),"horizontalPad"in ye&&r(0,C=ye.horizontalPad),"verticalPad"in ye&&r(31,B=ye.verticalPad),"textBarPad"in ye&&r(32,x=ye.textBarPad),"fontSize"in ye&&r(1,T=ye.fontSize),"handleWidth"in ye&&r(2,I=ye.handleWidth)},t.$$.update=()=>{t.$$.dirty[1]&128&&r(6,i=Object.entries(g.weightedPrompts).map(([ye,_e],pt)=>[ye,pt,_e])),t.$$.dirty[1]&128&&r(36,u=Object.keys(g.weightedPrompts).length),t.$$.dirty[0]&134217728&&r(35,a=[y[0]-50,y[1]-50]),t.$$.dirty[0]&1073741890&&r(5,o=i.reduce((ye,[_e,pt,Nt])=>{const[ar,R]=ei(O,Nt.text.length,T);return ye[_e]=[ar,R],ye},{})),t.$$.dirty[0]&32&&r(37,c=Math.max(...Object.values(o).map(([ye,_e])=>_e))),t.$$.dirty[1]&112&&r(4,d=Math.min(a[1]/u,c)),t.$$.dirty[0]&16|t.$$.dirty[1]&33&&r(34,p=d*u+B*Math.max(u-1,0)),t.$$.dirty[0]&268435456|t.$$.dirty[1]&16&&r(33,h=Math.min(a[0],F)),t.$$.dirty[0]&67108864|t.$$.dirty[1]&12&&r(3,l=[m[0]-h/2,m[1]-p/2]),t.$$.dirty[0]&1073741829|t.$$.dirty[1]&6&&r(11,f=h-x-O-2*C-I),t.$$.dirty[0]&1073741833|t.$$.dirty[1]&2&&r(10,D=l[0]+x+O+C),t.$$.dirty[1]&128&&r(12,A=Math.max(...Object.values(g.weightedPrompts).map(ye=>ye.barWeight||0)))},[C,T,I,l,d,o,i,Y,q,H,D,f,A,W,j,G,we,Se,Te,Ce,Pe,Ie,Le,at,ct,it,m,y,F,w,O,B,x,h,p,a,u,c,g,ht,dt,rt,Je,At,Ar,wt]}class CE extends Yt{constructor(e){super(),Zt(this,e,FE,EE,Xt,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function SE(t){let e,r,i,u;return r=new CE({props:{dimensions:t[2],center:t[3]}}),{c(){e=se("div"),mt(r.$$.fragment),this.h()},l(a){e=oe(a,"DIV",{class:!0});var o=ne(e);Dt(r.$$.fragment,o),o.forEach(V),this.h()},h(){N(e,"class","w-full h-full"),Wl(()=>t[4].call(e))},m(a,o){Ee(a,e,o),_t(r,e,null),i=Hl(e,t[4].bind(e)),u=!0},p(a,[o]){const c={};o&4&&(c.dimensions=a[2]),o&8&&(c.center=a[3]),r.$set(c)},i(a){u||(ke(r.$$.fragment,a),u=!0)},o(a){ze(r.$$.fragment,a),u=!1},d(a){a&&V(e),yt(r),i()}}}function BE(t,e,r){let i,u,a,o;function c(){a=this.clientWidth,o=this.clientHeight,r(0,a),r(1,o)}return t.$$.update=()=>{t.$$.dirty&3&&r(2,i=[a||0,o||0]),t.$$.dirty&4&&r(3,u=rf(i))},[a,o,i,u,c]}class OE extends Yt{constructor(e){super(),Zt(this,e,BE,SE,Xt,{})}}function th(t,e,r){const i=t.slice();return i[26]=e[r][0],i[27]=e[r][1],i}function rh(t){let e=[],r=new Map,i,u,a,o=Object.entries(t[4].weightedPrompts);const c=d=>d[26];for(let d=0;d<o.length;d+=1){let p=th(t,o,d),h=c(p);r.set(h,e[d]=ih(h,p))}return u=new ws({props:{xy:t[7],radius:t[1],color:"rgba(136,157,191, 1)",handleMouseDown:t[19]}}),{c(){for(let d=0;d<e.length;d+=1)e[d].c();i=tr(),mt(u.$$.fragment)},l(d){for(let p=0;p<e.length;p+=1)e[p].l(d);i=tr(),Dt(u.$$.fragment,d)},m(d,p){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(d,p);Ee(d,i,p),_t(u,d,p),a=!0},p(d,p){p&221&&(o=Object.entries(d[4].weightedPrompts),Nn(),e=Ai(e,p,c,1,d,o,r,i.parentNode,fd,ih,i,th),kn());const h={};p&128&&(h.xy=d[7]),p&2&&(h.radius=d[1]),p&32&&(h.handleMouseDown=d[19]),u.$set(h)},i(d){if(!a){for(let p=0;p<o.length;p+=1)ke(e[p]);ke(u.$$.fragment,d),a=!0}},o(d){for(let p=0;p<e.length;p+=1)ze(e[p]);ze(u.$$.fragment,d),a=!1},d(d){for(let p=0;p<e.length;p+=1)e[p].d(d);d&&V(i),yt(u,d)}}}function nh(t){let e,r;return e=new Hd({props:{p1:t[6][t[26]].embedXY,p2:t[7]}}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},p(i,u){const a={};u&80&&(a.p1=i[6][i[26]].embedXY),u&128&&(a.p2=i[7]),e.$set(a)},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function ih(t,e){let r,i,u,a,o,c=e[27].embedActive&&nh(e);return u=new ws({props:{xy:e[6][e[26]].embedXY,radius:e[0],color:"rgba(136,157,191, 1)"}}),a=new tf({props:{xy:[e[6][e[26]].embedXY[0]-ei(e[2],e[27].text.length,e[3])[0]/2,e[6][e[26]].embedXY[1]+e[0]],color:`rgba(255,255,255,${cn(e[27].embedWeight)}`,wh:ei(e[2],e[27].text.length,e[3]),fontSize:e[3],text:e[27].text}}),{key:t,first:null,c(){r=tr(),c&&c.c(),i=tr(),mt(u.$$.fragment),mt(a.$$.fragment),this.h()},l(d){r=tr(),c&&c.l(d),i=tr(),Dt(u.$$.fragment,d),Dt(a.$$.fragment,d),this.h()},h(){this.first=r},m(d,p){Ee(d,r,p),c&&c.m(d,p),Ee(d,i,p),_t(u,d,p),_t(a,d,p),o=!0},p(d,p){e=d,e[27].embedActive?c?(c.p(e,p),p&16&&ke(c,1)):(c=nh(e),c.c(),ke(c,1),c.m(i.parentNode,i)):c&&(Nn(),ze(c,1,1,()=>{c=null}),kn());const h={};p&80&&(h.xy=e[6][e[26]].embedXY),p&1&&(h.radius=e[0]),u.$set(h);const l={};p&93&&(l.xy=[e[6][e[26]].embedXY[0]-ei(e[2],e[27].text.length,e[3])[0]/2,e[6][e[26]].embedXY[1]+e[0]]),p&16&&(l.color=`rgba(255,255,255,${cn(e[27].embedWeight)}`),p&28&&(l.wh=ei(e[2],e[27].text.length,e[3])),p&8&&(l.fontSize=e[3]),p&16&&(l.text=e[27].text),a.$set(l)},i(d){o||(ke(c),ke(u.$$.fragment,d),ke(a.$$.fragment,d),o=!0)},o(d){ze(c),ze(u.$$.fragment,d),ze(a.$$.fragment,d),o=!1},d(d){d&&V(r),c&&c.d(d),d&&V(i),yt(u,d),yt(a,d)}}}function ME(t){let e,r=Object.entries(t[4].weightedPrompts).length>0&&Object.entries(t[6]||{}).length>0,i,u,a,o=r&&rh(t);return{c(){e=Gt("svg"),o&&o.c(),this.h()},l(c){e=Kt(c,"svg",{id:!0,class:!0});var d=ne(e);o&&o.l(d),d.forEach(V),this.h()},h(){N(e,"id","svg"),N(e,"class","w-full h-full")},m(c,d){Ee(c,e,d),o&&o.m(e,null),i=!0,u||(a=[Re(e,"mousemove",t[9]),Re(e,"mouseup",t[10]),Re(e,"dblclick",t[8])],u=!0)},p(c,[d]){d&80&&(r=Object.entries(c[4].weightedPrompts).length>0&&Object.entries(c[6]||{}).length>0),r?o?(o.p(c,d),d&80&&ke(o,1)):(o=rh(c),o.c(),ke(o,1),o.m(e,null)):o&&(Nn(),ze(o,1,1,()=>{o=null}),kn())},i(c){i||(ke(o),i=!0)},o(c){ze(o),i=!1},d(c){c&&V(e),o&&o.d(),u=!1,Jr(a)}}}function xE(t,e,r){let i,u,a,o,c;xt(t,Cn,q=>r(4,c=q));let{center:d=[100,100]}=e,{dimensions:p=[100,100]}=e,{pointRadius:h=4}=e,{markerRadius:l=10}=e,{textWidth:f=150}=e,{fontSize:D=12}=e,{innerPad:A=100}=e,g=!1,m=null,y=p,F=[0,0];function w(q){c.embeddings&&c.scaledEmbedMappings&&(K(),x(i,u,a,y,q))}function O(q,H){q&&H&&(K(),x(i,u,a,y,o))}function C(q,H){x(i,q,H,y,o)}function B(q){c.embeddings&&c.scaledEmbedMappings&&(K(),x(i,u,a,q,o))}function x(q,H,j,G,te){if(!m)return;let ce={...c.weightedPrompts},ve=0;Object.values(m).forEach(Ce=>{Object.values(m).forEach(Pe=>{const Ie=Tl(Ce.embedXY,Pe.embedXY);Ie>ve&&(ve=Ie)})});const we=Object.entries(m).reduce((Ce,[Pe,Ie])=>{const Le=Tl(q,Ie.embedXY);return Ce[Pe]=Le,Ce},{}),Se=(Ce,Pe)=>{const Ie=Ce?Math.round(Math.pow(1-Pe/ve,j)*100)/100:0;return Ie<0?0:Ie},Te=(Ce,Pe)=>{const Ie=Ce?Math.round((1-Pe/ve)*100)/100:0;return Ie<0?0:Ie};Object.entries(we).sort((Ce,Pe)=>Ce[1]-Pe[1]).forEach(([Ce,Pe],Ie)=>{if(!ce[Ce])return;const Le=Ie<te;ce[Ce]={...ce[Ce],embedWeight:H?Se(Le,Pe):Te(Le,Pe),embedActive:Le}}),It.updateActivePrompt({...c,embedMarker:i,weightedPrompts:ce})}function T(q){const H=hu(q,svg);r(7,i=H),x(i,u,a,y,o)}function I(q){if(g){const H=hu(q,svg);r(7,i=H),x(i,u,a,y,o)}}function W(q){r(5,g=!1)}function K(){const q=Object.keys(c.scaledEmbedMappings);r(6,m=q.reduce((H,j,G)=>(H[j]={embedXY:[F[0]+y[0]*c.scaledEmbedMappings[G][0],F[1]+y[1]*c.scaledEmbedMappings[G][1]]},H),{}))}const Y=()=>r(5,g=!0);return t.$$set=q=>{"center"in q&&r(11,d=q.center),"dimensions"in q&&r(12,p=q.dimensions),"pointRadius"in q&&r(0,h=q.pointRadius),"markerRadius"in q&&r(1,l=q.markerRadius),"textWidth"in q&&r(2,f=q.textWidth),"fontSize"in q&&r(3,D=q.fontSize),"innerPad"in q&&r(13,A=q.innerPad)},t.$$.update=()=>{if(t.$$.dirty&2064&&r(7,i=c.embedMarker||d),t.$$.dirty&16&&r(18,u=c.embedExponentialScaling),t.$$.dirty&16&&r(17,a=c.embedWeightScaling),t.$$.dirty&16&&r(16,o=c.embedPromptLimit||Object.keys(c.weightedPrompts).length),t.$$.dirty&393216&&C(u,a),t.$$.dirty&16&&O(c.embeddings,c.scaledEmbedMappings),t.$$.dirty&45056){const q=Math.min(...p),H=p[0]===q,j=p[1]===q;r(15,F=[Math.max(H?0:(p[0]-q)/2,A),Math.max(j?0:(p[1]-q)/2,A)]),r(14,y=[p[0]-2*F[0],p[1]-2*F[1]])}t.$$.dirty&16384&&B(y),t.$$.dirty&16384&&B(y),t.$$.dirty&65536&&w(o)},[h,l,f,D,c,g,m,i,T,I,W,d,p,A,y,F,o,a,u,Y]}class PE extends Yt{constructor(e){super(),Zt(this,e,xE,ME,Xt,{center:11,dimensions:12,pointRadius:0,markerRadius:1,textWidth:2,fontSize:3,innerPad:13})}}var Il={},Gd={},rs={},TE={get exports(){return rs},set exports(t){rs=t}},ns={},IE={get exports(){return ns},set exports(t){ns=t}},Kd=function(e,r){return function(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];return e.apply(r,u)}},NE=Kd,wi=Object.prototype.toString;function nf(t){return Array.isArray(t)}function Nl(t){return typeof t>"u"}function kE(t){return t!==null&&!Nl(t)&&t.constructor!==null&&!Nl(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Yd(t){return wi.call(t)==="[object ArrayBuffer]"}function RE(t){return wi.call(t)==="[object FormData]"}function LE(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yd(t.buffer),e}function UE(t){return typeof t=="string"}function jE(t){return typeof t=="number"}function Zd(t){return t!==null&&typeof t=="object"}function Wa(t){if(wi.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function VE(t){return wi.call(t)==="[object Date]"}function qE(t){return wi.call(t)==="[object File]"}function zE(t){return wi.call(t)==="[object Blob]"}function Xd(t){return wi.call(t)==="[object Function]"}function WE(t){return Zd(t)&&Xd(t.pipe)}function HE(t){return wi.call(t)==="[object URLSearchParams]"}function GE(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function KE(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function uf(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),nf(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&e.call(null,t[u],u,t)}function kl(){var t={};function e(u,a){Wa(t[a])&&Wa(u)?t[a]=kl(t[a],u):Wa(u)?t[a]=kl({},u):nf(u)?t[a]=u.slice():t[a]=u}for(var r=0,i=arguments.length;r<i;r++)uf(arguments[r],e);return t}function YE(t,e,r){return uf(e,function(u,a){r&&typeof u=="function"?t[a]=NE(u,r):t[a]=u}),t}function ZE(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var zr={isArray:nf,isArrayBuffer:Yd,isBuffer:kE,isFormData:RE,isArrayBufferView:LE,isString:UE,isNumber:jE,isObject:Zd,isPlainObject:Wa,isUndefined:Nl,isDate:VE,isFile:qE,isBlob:zE,isFunction:Xd,isStream:WE,isURLSearchParams:HE,isStandardBrowserEnv:KE,forEach:uf,merge:kl,extend:YE,trim:GE,stripBOM:ZE},ru=zr;function uh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Jd=function(e,r,i){if(!r)return e;var u;if(i)u=i(r);else if(ru.isURLSearchParams(r))u=r.toString();else{var a=[];ru.forEach(r,function(d,p){d===null||typeof d>"u"||(ru.isArray(d)?p=p+"[]":d=[d],ru.forEach(d,function(l){ru.isDate(l)?l=l.toISOString():ru.isObject(l)&&(l=JSON.stringify(l)),a.push(uh(p)+"="+uh(l))}))}),u=a.join("&")}if(u){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e},XE=zr;function Es(){this.handlers=[]}Es.prototype.use=function(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Es.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Es.prototype.forEach=function(e){XE.forEach(this.handlers,function(i){i!==null&&e(i)})};var JE=Es,$E=zr,QE=function(e,r){$E.forEach(e,function(u,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=u,delete e[a])})},$d=function(e,r,i,u,a){return e.config=r,i&&(e.code=i),e.request=u,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Qd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Go,ah;function ep(){if(ah)return Go;ah=1;var t=$d;return Go=function(r,i,u,a,o){var c=new Error(r);return t(c,i,u,a,o)},Go}var Ko,sh;function e2(){if(sh)return Ko;sh=1;var t=ep();return Ko=function(r,i,u){var a=u.config.validateStatus;!u.status||!a||a(u.status)?r(u):i(t("Request failed with status code "+u.status,u.config,null,u.request,u))},Ko}var Yo,oh;function t2(){if(oh)return Yo;oh=1;var t=zr;return Yo=t.isStandardBrowserEnv()?function(){return{write:function(i,u,a,o,c,d){var p=[];p.push(i+"="+encodeURIComponent(u)),t.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),t.isString(o)&&p.push("path="+o),t.isString(c)&&p.push("domain="+c),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var u=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Yo}var Zo,lh;function r2(){return lh||(lh=1,Zo=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Zo}var Xo,fh;function n2(){return fh||(fh=1,Xo=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),Xo}var Jo,ch;function i2(){if(ch)return Jo;ch=1;var t=r2(),e=n2();return Jo=function(i,u){return i&&!t(u)?e(i,u):u},Jo}var $o,hh;function u2(){if(hh)return $o;hh=1;var t=zr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return $o=function(i){var u={},a,o,c;return i&&t.forEach(i.split(`
`),function(p){if(c=p.indexOf(":"),a=t.trim(p.substr(0,c)).toLowerCase(),o=t.trim(p.substr(c+1)),a){if(u[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?u[a]=(u[a]?u[a]:[]).concat([o]):u[a]=u[a]?u[a]+", "+o:o}}),u},$o}var Qo,dh;function a2(){if(dh)return Qo;dh=1;var t=zr;return Qo=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),u;function a(o){var c=o;return r&&(i.setAttribute("href",c),c=i.href),i.setAttribute("href",c),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return u=a(window.location.href),function(c){var d=t.isString(c)?a(c):c;return d.protocol===u.protocol&&d.host===u.host}}():function(){return function(){return!0}}(),Qo}var el,ph;function Fs(){if(ph)return el;ph=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,el=t,el}var tl,vh;function gh(){if(vh)return tl;vh=1;var t=zr,e=e2(),r=t2(),i=Jd,u=i2(),a=u2(),o=a2(),c=ep(),d=Qd,p=Fs();return tl=function(l){return new Promise(function(D,A){var g=l.data,m=l.headers,y=l.responseType,F;function w(){l.cancelToken&&l.cancelToken.unsubscribe(F),l.signal&&l.signal.removeEventListener("abort",F)}t.isFormData(g)&&delete m["Content-Type"];var O=new XMLHttpRequest;if(l.auth){var C=l.auth.username||"",B=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";m.Authorization="Basic "+btoa(C+":"+B)}var x=u(l.baseURL,l.url);O.open(l.method.toUpperCase(),i(x,l.params,l.paramsSerializer),!0),O.timeout=l.timeout;function T(){if(O){var W="getAllResponseHeaders"in O?a(O.getAllResponseHeaders()):null,K=!y||y==="text"||y==="json"?O.responseText:O.response,Y={data:K,status:O.status,statusText:O.statusText,headers:W,config:l,request:O};e(function(H){D(H),w()},function(H){A(H),w()},Y),O=null}}if("onloadend"in O?O.onloadend=T:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(T)},O.onabort=function(){O&&(A(c("Request aborted",l,"ECONNABORTED",O)),O=null)},O.onerror=function(){A(c("Network Error",l,null,O)),O=null},O.ontimeout=function(){var K=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",Y=l.transitional||d;l.timeoutErrorMessage&&(K=l.timeoutErrorMessage),A(c(K,l,Y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",O)),O=null},t.isStandardBrowserEnv()){var I=(l.withCredentials||o(x))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;I&&(m[l.xsrfHeaderName]=I)}"setRequestHeader"in O&&t.forEach(m,function(K,Y){typeof g>"u"&&Y.toLowerCase()==="content-type"?delete m[Y]:O.setRequestHeader(Y,K)}),t.isUndefined(l.withCredentials)||(O.withCredentials=!!l.withCredentials),y&&y!=="json"&&(O.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&O.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&O.upload&&O.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(F=function(W){O&&(A(!W||W&&W.type?new p("canceled"):W),O.abort(),O=null)},l.cancelToken&&l.cancelToken.subscribe(F),l.signal&&(l.signal.aborted?F():l.signal.addEventListener("abort",F))),g||(g=null),O.send(g)})},tl}var Sr=zr,mh=QE,s2=$d,o2=Qd,l2={"Content-Type":"application/x-www-form-urlencoded"};function Dh(t,e){!Sr.isUndefined(t)&&Sr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function f2(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=gh()),t}function c2(t,e,r){if(Sr.isString(t))try{return(e||JSON.parse)(t),Sr.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}var Cs={transitional:o2,adapter:f2(),transformRequest:[function(e,r){return mh(r,"Accept"),mh(r,"Content-Type"),Sr.isFormData(e)||Sr.isArrayBuffer(e)||Sr.isBuffer(e)||Sr.isStream(e)||Sr.isFile(e)||Sr.isBlob(e)?e:Sr.isArrayBufferView(e)?e.buffer:Sr.isURLSearchParams(e)?(Dh(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Sr.isObject(e)||r&&r["Content-Type"]==="application/json"?(Dh(r,"application/json"),c2(e)):e}],transformResponse:[function(e){var r=this.transitional||Cs.transitional,i=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,a=!i&&this.responseType==="json";if(a||u&&Sr.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?s2(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(e){Cs.headers[e]={}});Sr.forEach(["post","put","patch"],function(e){Cs.headers[e]=Sr.merge(l2)});var af=Cs,h2=zr,d2=af,p2=function(e,r,i){var u=this||d2;return h2.forEach(i,function(o){e=o.call(u,e,r)}),e},rl,_h;function tp(){return _h||(_h=1,rl=function(e){return!!(e&&e.__CANCEL__)}),rl}var yh=zr,nl=p2,v2=tp(),g2=af,m2=Fs();function il(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new m2("canceled")}var D2=function(e){il(e),e.headers=e.headers||{},e.data=nl.call(e,e.data,e.headers,e.transformRequest),e.headers=yh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),yh.forEach(["delete","get","head","post","put","patch","common"],function(u){delete e.headers[u]});var r=e.adapter||g2.adapter;return r(e).then(function(u){return il(e),u.data=nl.call(e,u.data,u.headers,e.transformResponse),u},function(u){return v2(u)||(il(e),u&&u.response&&(u.response.data=nl.call(e,u.response.data,u.response.headers,e.transformResponse))),Promise.reject(u)})},Xr=zr,rp=function(e,r){r=r||{};var i={};function u(h,l){return Xr.isPlainObject(h)&&Xr.isPlainObject(l)?Xr.merge(h,l):Xr.isPlainObject(l)?Xr.merge({},l):Xr.isArray(l)?l.slice():l}function a(h){if(Xr.isUndefined(r[h])){if(!Xr.isUndefined(e[h]))return u(void 0,e[h])}else return u(e[h],r[h])}function o(h){if(!Xr.isUndefined(r[h]))return u(void 0,r[h])}function c(h){if(Xr.isUndefined(r[h])){if(!Xr.isUndefined(e[h]))return u(void 0,e[h])}else return u(void 0,r[h])}function d(h){if(h in r)return u(e[h],r[h]);if(h in e)return u(void 0,e[h])}var p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return Xr.forEach(Object.keys(e).concat(Object.keys(r)),function(l){var f=p[l]||a,D=f(l);Xr.isUndefined(D)&&f!==d||(i[l]=D)}),i},ul,Ah;function np(){return Ah||(Ah=1,ul={version:"0.26.1"}),ul}var _2=np().version,sf={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){sf[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var bh={};sf.transitional=function(e,r,i){function u(a,o){return"[Axios v"+_2+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return function(a,o,c){if(e===!1)throw new Error(u(o," has been removed"+(r?" in "+r:"")));return r&&!bh[o]&&(bh[o]=!0,console.warn(u(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,c):!0}};function y2(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var i=Object.keys(t),u=i.length;u-- >0;){var a=i[u],o=e[a];if(o){var c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}var A2={assertOptions:y2,validators:sf},ip=zr,b2=Jd,wh=JE,Eh=D2,Ss=rp,up=A2,nu=up.validators;function Xu(t){this.defaults=t,this.interceptors={request:new wh,response:new wh}}Xu.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ss(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&up.assertOptions(i,{silentJSONParsing:nu.transitional(nu.boolean),forcedJSONParsing:nu.transitional(nu.boolean),clarifyTimeoutError:nu.transitional(nu.boolean)},!1);var u=[],a=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(a=a&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});var o=[];this.interceptors.response.forEach(function(D){o.push(D.fulfilled,D.rejected)});var c;if(!a){var d=[Eh,void 0];for(Array.prototype.unshift.apply(d,u),d=d.concat(o),c=Promise.resolve(r);d.length;)c=c.then(d.shift(),d.shift());return c}for(var p=r;u.length;){var h=u.shift(),l=u.shift();try{p=h(p)}catch(f){l(f);break}}try{c=Eh(p)}catch(f){return Promise.reject(f)}for(;o.length;)c=c.then(o.shift(),o.shift());return c};Xu.prototype.getUri=function(e){return e=Ss(this.defaults,e),b2(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ip.forEach(["delete","get","head","options"],function(e){Xu.prototype[e]=function(r,i){return this.request(Ss(i||{},{method:e,url:r,data:(i||{}).data}))}});ip.forEach(["post","put","patch"],function(e){Xu.prototype[e]=function(r,i,u){return this.request(Ss(u||{},{method:e,url:r,data:i}))}});var w2=Xu,al,Fh;function E2(){if(Fh)return al;Fh=1;var t=Fs();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var u=this;this.promise.then(function(a){if(u._listeners){var o,c=u._listeners.length;for(o=0;o<c;o++)u._listeners[o](a);u._listeners=null}}),this.promise.then=function(a){var o,c=new Promise(function(d){u.subscribe(d),o=d}).then(a);return c.cancel=function(){u.unsubscribe(o)},c},r(function(o){u.reason||(u.reason=new t(o),i(u.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},e.prototype.unsubscribe=function(i){if(this._listeners){var u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}},e.source=function(){var i,u=new e(function(o){i=o});return{token:u,cancel:i}},al=e,al}var sl,Ch;function F2(){return Ch||(Ch=1,sl=function(e){return function(i){return e.apply(null,i)}}),sl}var ol,Sh;function C2(){if(Sh)return ol;Sh=1;var t=zr;return ol=function(r){return t.isObject(r)&&r.isAxiosError===!0},ol}var Bh=zr,S2=Kd,Ha=w2,B2=rp,O2=af;function ap(t){var e=new Ha(t),r=S2(Ha.prototype.request,e);return Bh.extend(r,Ha.prototype,e),Bh.extend(r,e),r.create=function(u){return ap(B2(t,u))},r}var Un=ap(O2);Un.Axios=Ha;Un.Cancel=Fs();Un.CancelToken=E2();Un.isCancel=tp();Un.VERSION=np().version;Un.all=function(e){return Promise.all(e)};Un.spread=F2();Un.isAxiosError=C2();IE.exports=Un;ns.default=Un;(function(t){t.exports=ns})(TE);var er={},of={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const e=rs;t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class r{constructor(a,o=t.BASE_PATH,c=e.default){this.basePath=o,this.axios=c,a&&(this.configuration=a,this.basePath=a.basePath||this.basePath)}}t.BaseAPI=r;class i extends Error{constructor(a,o){super(o),this.field=a,this.name="RequiredError"}}t.RequiredError=i})(of);var lf=lr&&lr.__awaiter||function(t,e,r,i){function u(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(h){try{p(i.next(h))}catch(l){o(l)}}function d(h){try{p(i.throw(h))}catch(l){o(l)}}function p(h){h.done?a(h.value):u(h.value).then(c,d)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0});er.createRequestFunction=er.toPathString=er.serializeDataIfNeeded=er.setSearchParams=er.setOAuthToObject=er.setBearerAuthToObject=er.setBasicAuthToObject=er.setApiKeyToObject=er.assertParamExists=er.DUMMY_BASE_URL=void 0;const M2=of;er.DUMMY_BASE_URL="https://example.com";er.assertParamExists=function(t,e,r){if(r==null)throw new M2.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${t}.`)};er.setApiKeyToObject=function(t,e,r){return lf(this,void 0,void 0,function*(){if(r&&r.apiKey){const i=typeof r.apiKey=="function"?yield r.apiKey(e):yield r.apiKey;t[e]=i}})};er.setBasicAuthToObject=function(t,e){e&&(e.username||e.password)&&(t.auth={username:e.username,password:e.password})};er.setBearerAuthToObject=function(t,e){return lf(this,void 0,void 0,function*(){if(e&&e.accessToken){const r=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;t.Authorization="Bearer "+r}})};er.setOAuthToObject=function(t,e,r,i){return lf(this,void 0,void 0,function*(){if(i&&i.accessToken){const u=typeof i.accessToken=="function"?yield i.accessToken(e,r):yield i.accessToken;t.Authorization="Bearer "+u}})};function Rl(t,e,r=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(i=>Rl(t,i,r)):Object.keys(e).forEach(i=>Rl(t,e[i],`${r}${r!==""?".":""}${i}`)):t.has(r)?t.append(r,e):t.set(r,e))}er.setSearchParams=function(t,...e){const r=new URLSearchParams(t.search);Rl(r,e),t.search=r.toString()};er.serializeDataIfNeeded=function(t,e,r){const i=typeof t!="string";return(i&&r&&r.isJsonMime?r.isJsonMime(e.headers["Content-Type"]):i)?JSON.stringify(t!==void 0?t:{}):t||""};er.toPathString=function(t){return t.pathname+t.search+t.hash};er.createRequestFunction=function(t,e,r,i){return(u=e,a=r)=>{const o=Object.assign(Object.assign({},t.options),{url:((i==null?void 0:i.basePath)||a)+t.url});return u.request(o)}};(function(t){var e=lr&&lr.__awaiter||function(o,c,d,p){function h(l){return l instanceof d?l:new d(function(f){f(l)})}return new(d||(d=Promise))(function(l,f){function D(m){try{g(p.next(m))}catch(y){f(y)}}function A(m){try{g(p.throw(m))}catch(y){f(y)}}function g(m){m.done?l(m.value):h(m.value).then(D,A)}g((p=p.apply(o,c||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const r=rs,i=er,u=of;t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(o){return{cancelFineTune:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("cancelFineTune","fineTuneId",c);const p="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),createAnswer:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createAnswer","createAnswerRequest",c);const p="/answers",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createChatCompletion:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createChatCompletion","createChatCompletionRequest",c);const p="/chat/completions",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createClassification:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createClassification","createClassificationRequest",c);const p="/classifications",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createCompletion:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createCompletion","createCompletionRequest",c);const p="/completions",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createEdit:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createEdit","createEditRequest",c);const p="/edits",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createEmbedding:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createEmbedding","createEmbeddingRequest",c);const p="/embeddings",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createFile:(c,d,p={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createFile","file",c),i.assertParamExists("createFile","purpose",d);const h="/files",l=new URL(h,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},f),p),A={},g={},m=new(o&&o.formDataCtor||FormData);c!==void 0&&m.append("file",c),d!==void 0&&m.append("purpose",d),A["Content-Type"]="multipart/form-data",i.setSearchParams(l,g);let y=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),m.getHeaders()),y),p.headers),D.data=m,{url:i.toPathString(l),options:D}}),createFineTune:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createFineTune","createFineTuneRequest",c);const p="/fine-tunes",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createImage:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createImage","createImageRequest",c);const p="/images/generations",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createImageEdit:(c,d,p,h,l,f,D,A={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createImageEdit","image",c),i.assertParamExists("createImageEdit","prompt",d);const g="/images/edits",m=new URL(g,i.DUMMY_BASE_URL);let y;o&&(y=o.baseOptions);const F=Object.assign(Object.assign({method:"POST"},y),A),w={},O={},C=new(o&&o.formDataCtor||FormData);c!==void 0&&C.append("image",c),p!==void 0&&C.append("mask",p),d!==void 0&&C.append("prompt",d),h!==void 0&&C.append("n",h),l!==void 0&&C.append("size",l),f!==void 0&&C.append("response_format",f),D!==void 0&&C.append("user",D),w["Content-Type"]="multipart/form-data",i.setSearchParams(m,O);let B=y&&y.headers?y.headers:{};return F.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),C.getHeaders()),B),A.headers),F.data=C,{url:i.toPathString(m),options:F}}),createImageVariation:(c,d,p,h,l,f={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createImageVariation","image",c);const D="/images/variations",A=new URL(D,i.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},g),f),y={},F={},w=new(o&&o.formDataCtor||FormData);c!==void 0&&w.append("image",c),d!==void 0&&w.append("n",d),p!==void 0&&w.append("size",p),h!==void 0&&w.append("response_format",h),l!==void 0&&w.append("user",l),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,F);let O=g&&g.headers?g.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),O),f.headers),m.data=w,{url:i.toPathString(A),options:m}}),createModeration:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createModeration","createModerationRequest",c);const p="/moderations",h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(c,f,o),{url:i.toPathString(h),options:f}}),createSearch:(c,d,p={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createSearch","engineId",c),i.assertParamExists("createSearch","createSearchRequest",d);const h="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(c))),l=new URL(h,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},f),p),A={},g={};A["Content-Type"]="application/json",i.setSearchParams(l,g);let m=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign({},A),m),p.headers),D.data=i.serializeDataIfNeeded(d,D,o),{url:i.toPathString(l),options:D}}),createTranscription:(c,d,p,h,l,f,D={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createTranscription","file",c),i.assertParamExists("createTranscription","model",d);const A="/audio/transcriptions",g=new URL(A,i.DUMMY_BASE_URL);let m;o&&(m=o.baseOptions);const y=Object.assign(Object.assign({method:"POST"},m),D),F={},w={},O=new(o&&o.formDataCtor||FormData);c!==void 0&&O.append("file",c),d!==void 0&&O.append("model",d),p!==void 0&&O.append("prompt",p),h!==void 0&&O.append("response_format",h),l!==void 0&&O.append("temperature",l),f!==void 0&&O.append("language",f),F["Content-Type"]="multipart/form-data",i.setSearchParams(g,w);let C=m&&m.headers?m.headers:{};return y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},F),O.getHeaders()),C),D.headers),y.data=O,{url:i.toPathString(g),options:y}}),createTranslation:(c,d,p,h,l,f={})=>e(this,void 0,void 0,function*(){i.assertParamExists("createTranslation","file",c),i.assertParamExists("createTranslation","model",d);const D="/audio/translations",A=new URL(D,i.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},g),f),y={},F={},w=new(o&&o.formDataCtor||FormData);c!==void 0&&w.append("file",c),d!==void 0&&w.append("model",d),p!==void 0&&w.append("prompt",p),h!==void 0&&w.append("response_format",h),l!==void 0&&w.append("temperature",l),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,F);let O=g&&g.headers?g.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),O),f.headers),m.data=w,{url:i.toPathString(A),options:m}}),deleteFile:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("deleteFile","fileId",c);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"DELETE"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),deleteModel:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("deleteModel","model",c);const p="/models/{model}".replace("{model}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"DELETE"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),downloadFile:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("downloadFile","fileId",c);const p="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),listEngines:(c={})=>e(this,void 0,void 0,function*(){const d="/engines",p=new URL(d,i.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},h),c),f={},D={};i.setSearchParams(p,D);let A=h&&h.headers?h.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),c.headers),{url:i.toPathString(p),options:l}}),listFiles:(c={})=>e(this,void 0,void 0,function*(){const d="/files",p=new URL(d,i.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},h),c),f={},D={};i.setSearchParams(p,D);let A=h&&h.headers?h.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),c.headers),{url:i.toPathString(p),options:l}}),listFineTuneEvents:(c,d,p={})=>e(this,void 0,void 0,function*(){i.assertParamExists("listFineTuneEvents","fineTuneId",c);const h="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(c))),l=new URL(h,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"GET"},f),p),A={},g={};d!==void 0&&(g.stream=d),i.setSearchParams(l,g);let m=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign({},A),m),p.headers),{url:i.toPathString(l),options:D}}),listFineTunes:(c={})=>e(this,void 0,void 0,function*(){const d="/fine-tunes",p=new URL(d,i.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},h),c),f={},D={};i.setSearchParams(p,D);let A=h&&h.headers?h.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),c.headers),{url:i.toPathString(p),options:l}}),listModels:(c={})=>e(this,void 0,void 0,function*(){const d="/models",p=new URL(d,i.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},h),c),f={},D={};i.setSearchParams(p,D);let A=h&&h.headers?h.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),c.headers),{url:i.toPathString(p),options:l}}),retrieveEngine:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("retrieveEngine","engineId",c);const p="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),retrieveFile:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("retrieveFile","fileId",c);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),retrieveFineTune:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("retrieveFineTune","fineTuneId",c);const p="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}}),retrieveModel:(c,d={})=>e(this,void 0,void 0,function*(){i.assertParamExists("retrieveModel","model",c);const p="/models/{model}".replace("{model}",encodeURIComponent(String(c))),h=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(h,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(h),options:f}})}},t.OpenAIApiFp=function(o){const c=t.OpenAIApiAxiosParamCreator(o);return{cancelFineTune(d,p){return e(this,void 0,void 0,function*(){const h=yield c.cancelFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createAnswer(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createAnswer(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createChatCompletion(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createChatCompletion(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createClassification(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createClassification(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createCompletion(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createCompletion(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createEdit(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createEdit(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createEmbedding(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createEmbedding(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createFile(d,p,h){return e(this,void 0,void 0,function*(){const l=yield c.createFile(d,p,h);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},createFineTune(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createImage(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createImage(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createImageEdit(d,p,h,l,f,D,A,g){return e(this,void 0,void 0,function*(){const m=yield c.createImageEdit(d,p,h,l,f,D,A,g);return i.createRequestFunction(m,r.default,u.BASE_PATH,o)})},createImageVariation(d,p,h,l,f,D){return e(this,void 0,void 0,function*(){const A=yield c.createImageVariation(d,p,h,l,f,D);return i.createRequestFunction(A,r.default,u.BASE_PATH,o)})},createModeration(d,p){return e(this,void 0,void 0,function*(){const h=yield c.createModeration(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createSearch(d,p,h){return e(this,void 0,void 0,function*(){const l=yield c.createSearch(d,p,h);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},createTranscription(d,p,h,l,f,D,A){return e(this,void 0,void 0,function*(){const g=yield c.createTranscription(d,p,h,l,f,D,A);return i.createRequestFunction(g,r.default,u.BASE_PATH,o)})},createTranslation(d,p,h,l,f,D){return e(this,void 0,void 0,function*(){const A=yield c.createTranslation(d,p,h,l,f,D);return i.createRequestFunction(A,r.default,u.BASE_PATH,o)})},deleteFile(d,p){return e(this,void 0,void 0,function*(){const h=yield c.deleteFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},deleteModel(d,p){return e(this,void 0,void 0,function*(){const h=yield c.deleteModel(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},downloadFile(d,p){return e(this,void 0,void 0,function*(){const h=yield c.downloadFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},listEngines(d){return e(this,void 0,void 0,function*(){const p=yield c.listEngines(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFiles(d){return e(this,void 0,void 0,function*(){const p=yield c.listFiles(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFineTuneEvents(d,p,h){return e(this,void 0,void 0,function*(){const l=yield c.listFineTuneEvents(d,p,h);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},listFineTunes(d){return e(this,void 0,void 0,function*(){const p=yield c.listFineTunes(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listModels(d){return e(this,void 0,void 0,function*(){const p=yield c.listModels(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},retrieveEngine(d,p){return e(this,void 0,void 0,function*(){const h=yield c.retrieveEngine(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveFile(d,p){return e(this,void 0,void 0,function*(){const h=yield c.retrieveFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveFineTune(d,p){return e(this,void 0,void 0,function*(){const h=yield c.retrieveFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveModel(d,p){return e(this,void 0,void 0,function*(){const h=yield c.retrieveModel(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,o)})}}},t.OpenAIApiFactory=function(o,c,d){const p=t.OpenAIApiFp(o);return{cancelFineTune(h,l){return p.cancelFineTune(h,l).then(f=>f(d,c))},createAnswer(h,l){return p.createAnswer(h,l).then(f=>f(d,c))},createChatCompletion(h,l){return p.createChatCompletion(h,l).then(f=>f(d,c))},createClassification(h,l){return p.createClassification(h,l).then(f=>f(d,c))},createCompletion(h,l){return p.createCompletion(h,l).then(f=>f(d,c))},createEdit(h,l){return p.createEdit(h,l).then(f=>f(d,c))},createEmbedding(h,l){return p.createEmbedding(h,l).then(f=>f(d,c))},createFile(h,l,f){return p.createFile(h,l,f).then(D=>D(d,c))},createFineTune(h,l){return p.createFineTune(h,l).then(f=>f(d,c))},createImage(h,l){return p.createImage(h,l).then(f=>f(d,c))},createImageEdit(h,l,f,D,A,g,m,y){return p.createImageEdit(h,l,f,D,A,g,m,y).then(F=>F(d,c))},createImageVariation(h,l,f,D,A,g){return p.createImageVariation(h,l,f,D,A,g).then(m=>m(d,c))},createModeration(h,l){return p.createModeration(h,l).then(f=>f(d,c))},createSearch(h,l,f){return p.createSearch(h,l,f).then(D=>D(d,c))},createTranscription(h,l,f,D,A,g,m){return p.createTranscription(h,l,f,D,A,g,m).then(y=>y(d,c))},createTranslation(h,l,f,D,A,g){return p.createTranslation(h,l,f,D,A,g).then(m=>m(d,c))},deleteFile(h,l){return p.deleteFile(h,l).then(f=>f(d,c))},deleteModel(h,l){return p.deleteModel(h,l).then(f=>f(d,c))},downloadFile(h,l){return p.downloadFile(h,l).then(f=>f(d,c))},listEngines(h){return p.listEngines(h).then(l=>l(d,c))},listFiles(h){return p.listFiles(h).then(l=>l(d,c))},listFineTuneEvents(h,l,f){return p.listFineTuneEvents(h,l,f).then(D=>D(d,c))},listFineTunes(h){return p.listFineTunes(h).then(l=>l(d,c))},listModels(h){return p.listModels(h).then(l=>l(d,c))},retrieveEngine(h,l){return p.retrieveEngine(h,l).then(f=>f(d,c))},retrieveFile(h,l){return p.retrieveFile(h,l).then(f=>f(d,c))},retrieveFineTune(h,l){return p.retrieveFineTune(h,l).then(f=>f(d,c))},retrieveModel(h,l){return p.retrieveModel(h,l).then(f=>f(d,c))}}};class a extends u.BaseAPI{cancelFineTune(c,d){return t.OpenAIApiFp(this.configuration).cancelFineTune(c,d).then(p=>p(this.axios,this.basePath))}createAnswer(c,d){return t.OpenAIApiFp(this.configuration).createAnswer(c,d).then(p=>p(this.axios,this.basePath))}createChatCompletion(c,d){return t.OpenAIApiFp(this.configuration).createChatCompletion(c,d).then(p=>p(this.axios,this.basePath))}createClassification(c,d){return t.OpenAIApiFp(this.configuration).createClassification(c,d).then(p=>p(this.axios,this.basePath))}createCompletion(c,d){return t.OpenAIApiFp(this.configuration).createCompletion(c,d).then(p=>p(this.axios,this.basePath))}createEdit(c,d){return t.OpenAIApiFp(this.configuration).createEdit(c,d).then(p=>p(this.axios,this.basePath))}createEmbedding(c,d){return t.OpenAIApiFp(this.configuration).createEmbedding(c,d).then(p=>p(this.axios,this.basePath))}createFile(c,d,p){return t.OpenAIApiFp(this.configuration).createFile(c,d,p).then(h=>h(this.axios,this.basePath))}createFineTune(c,d){return t.OpenAIApiFp(this.configuration).createFineTune(c,d).then(p=>p(this.axios,this.basePath))}createImage(c,d){return t.OpenAIApiFp(this.configuration).createImage(c,d).then(p=>p(this.axios,this.basePath))}createImageEdit(c,d,p,h,l,f,D,A){return t.OpenAIApiFp(this.configuration).createImageEdit(c,d,p,h,l,f,D,A).then(g=>g(this.axios,this.basePath))}createImageVariation(c,d,p,h,l,f){return t.OpenAIApiFp(this.configuration).createImageVariation(c,d,p,h,l,f).then(D=>D(this.axios,this.basePath))}createModeration(c,d){return t.OpenAIApiFp(this.configuration).createModeration(c,d).then(p=>p(this.axios,this.basePath))}createSearch(c,d,p){return t.OpenAIApiFp(this.configuration).createSearch(c,d,p).then(h=>h(this.axios,this.basePath))}createTranscription(c,d,p,h,l,f,D){return t.OpenAIApiFp(this.configuration).createTranscription(c,d,p,h,l,f,D).then(A=>A(this.axios,this.basePath))}createTranslation(c,d,p,h,l,f){return t.OpenAIApiFp(this.configuration).createTranslation(c,d,p,h,l,f).then(D=>D(this.axios,this.basePath))}deleteFile(c,d){return t.OpenAIApiFp(this.configuration).deleteFile(c,d).then(p=>p(this.axios,this.basePath))}deleteModel(c,d){return t.OpenAIApiFp(this.configuration).deleteModel(c,d).then(p=>p(this.axios,this.basePath))}downloadFile(c,d){return t.OpenAIApiFp(this.configuration).downloadFile(c,d).then(p=>p(this.axios,this.basePath))}listEngines(c){return t.OpenAIApiFp(this.configuration).listEngines(c).then(d=>d(this.axios,this.basePath))}listFiles(c){return t.OpenAIApiFp(this.configuration).listFiles(c).then(d=>d(this.axios,this.basePath))}listFineTuneEvents(c,d,p){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(c,d,p).then(h=>h(this.axios,this.basePath))}listFineTunes(c){return t.OpenAIApiFp(this.configuration).listFineTunes(c).then(d=>d(this.axios,this.basePath))}listModels(c){return t.OpenAIApiFp(this.configuration).listModels(c).then(d=>d(this.axios,this.basePath))}retrieveEngine(c,d){return t.OpenAIApiFp(this.configuration).retrieveEngine(c,d).then(p=>p(this.axios,this.basePath))}retrieveFile(c,d){return t.OpenAIApiFp(this.configuration).retrieveFile(c,d).then(p=>p(this.axios,this.basePath))}retrieveFineTune(c,d){return t.OpenAIApiFp(this.configuration).retrieveFineTune(c,d).then(p=>p(this.axios,this.basePath))}retrieveModel(c,d){return t.OpenAIApiFp(this.configuration).retrieveModel(c,d).then(p=>p(this.axios,this.basePath))}}t.OpenAIApi=a})(Gd);var Bs={};const x2="openai",P2="3.2.1",T2="Node.js library for the OpenAI API",I2={type:"git",url:"git@github.com:openai/openai-node.git"},N2=["openai","open","ai","gpt-3","gpt3"],k2="OpenAI",R2="MIT",L2="./dist/index.js",U2="./dist/index.d.ts",j2={build:"tsc --outDir dist/"},V2={axios:"^0.26.0","form-data":"^4.0.0"},q2={"@types/node":"^12.11.5",typescript:"^3.6.4"},z2={name:x2,version:P2,description:T2,repository:I2,keywords:N2,author:k2,license:R2,main:L2,types:U2,scripts:j2,dependencies:V2,devDependencies:q2};var ll,Oh;function W2(){return Oh||(Oh=1,ll=typeof self=="object"?self.FormData:window.FormData),ll}Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Configuration=void 0;const H2=z2;class G2{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${H2.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=W2())}isJsonMime(e){const r=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(r.test(e)||e.toLowerCase()==="application/json-patch+json")}}Bs.Configuration=G2;(function(t){var e=lr&&lr.__createBinding||(Object.create?function(i,u,a,o){o===void 0&&(o=a),Object.defineProperty(i,o,{enumerable:!0,get:function(){return u[a]}})}:function(i,u,a,o){o===void 0&&(o=a),i[o]=u[a]}),r=lr&&lr.__exportStar||function(i,u){for(var a in i)a!=="default"&&!u.hasOwnProperty(a)&&e(u,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(Gd,t),r(Bs,t)})(Il);function ff(t){const e=new Il.Configuration({apiKey:t});return new Il.OpenAIApi(e)}async function K2(t,e,r="text-davinci-003"){return await t.createCompletion({model:r,prompt:e,temperature:.8,max_tokens:250})}async function Y2(t,e,r="gpt-3.5-turbo"){return await t.createChatCompletion({model:r,messages:[{role:"user",content:e}],temperature:.8,max_tokens:250})}async function Z2(t,e,r="text-embedding-ada-002"){return await t.createEmbedding({model:r,input:e})}async function X2(t){return await t.listModels()}const fl="preferredEmbeddingModelStore";function J2(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[fl]||""),{subscribe:e,updateEmbeddingModel:a=>{!a||!u||(localStorage[fl]=a,r(a))},getEmbeddingModel:()=>Pt(t),deleteEmbeddingModel:()=>{u&&(delete localStorage[fl],r(""))}}}const Ll=J2(),sp=En(Ll,t=>Pt(Ll)),cl="oKeyStore";function $2(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[cl]||""),{subscribe:e,updateKey:a=>{!a||!u||(localStorage[cl]=a,r(a))},getKey:()=>Pt(t),deleteKey:()=>{u&&(delete localStorage[cl],r(""))}}}const is=$2(),cf=En(is,t=>Pt(is));var us={},Q2={get exports(){return us},set exports(t){us=t}},as={},eF={get exports(){return as},set exports(t){as=t}},su=typeof Reflect=="object"?Reflect:null,Mh=su&&typeof su.apply=="function"?su.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Ga;su&&typeof su.ownKeys=="function"?Ga=su.ownKeys:Object.getOwnPropertySymbols?Ga=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ga=function(e){return Object.getOwnPropertyNames(e)};function tF(t){console&&console.warn&&console.warn(t)}var op=Number.isNaN||function(e){return e!==e};function Ft(){Ft.init.call(this)}eF.exports=Ft;as.once=uF;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var xh=10;function Os(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return xh},set:function(t){if(typeof t!="number"||t<0||op(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");xh=t}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||op(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function lp(t){return t._maxListeners===void 0?Ft.defaultMaxListeners:t._maxListeners}Ft.prototype.getMaxListeners=function(){return lp(this)};Ft.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var u=e==="error",a=this._events;if(a!==void 0)u=u&&a.error===void 0;else if(!u)return!1;if(u){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var d=a[e];if(d===void 0)return!1;if(typeof d=="function")Mh(d,this,r);else for(var p=d.length,h=pp(d,p),i=0;i<p;++i)Mh(h[i],this,r);return!0};function fp(t,e,r,i){var u,a,o;if(Os(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),o=a[e]),o===void 0)o=a[e]=r,++t._eventsCount;else if(typeof o=="function"?o=a[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),u=lp(t),u>0&&o.length>u&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,tF(c)}return t}Ft.prototype.addListener=function(e,r){return fp(this,e,r,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(e,r){return fp(this,e,r,!0)};function rF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cp(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},u=rF.bind(i);return u.listener=r,i.wrapFn=u,u}Ft.prototype.once=function(e,r){return Os(r),this.on(e,cp(this,e,r)),this};Ft.prototype.prependOnceListener=function(e,r){return Os(r),this.prependListener(e,cp(this,e,r)),this};Ft.prototype.removeListener=function(e,r){var i,u,a,o,c;if(Os(r),u=this._events,u===void 0)return this;if(i=u[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[e],u.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(a=-1,o=i.length-1;o>=0;o--)if(i[o]===r||i[o].listener===r){c=i[o].listener,a=o;break}if(a<0)return this;a===0?i.shift():nF(i,a),i.length===1&&(u[e]=i[0]),u.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(e){var r,i,u;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var a=Object.keys(i),o;for(u=0;u<a.length;++u)o=a[u],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(e,r[u]);return this};function hp(t,e,r){var i=t._events;if(i===void 0)return[];var u=i[e];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?iF(u):pp(u,u.length)}Ft.prototype.listeners=function(e){return hp(this,e,!0)};Ft.prototype.rawListeners=function(e){return hp(this,e,!1)};Ft.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):dp.call(t,e)};Ft.prototype.listenerCount=dp;function dp(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Ga(this._events):[]};function pp(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function nF(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function iF(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function uF(t,e){return new Promise(function(r,i){function u(o){t.removeListener(e,a),i(o)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",u),r([].slice.call(arguments))}vp(t,e,a,{once:!0}),e!=="error"&&aF(t,u,{once:!0})})}function aF(t,e,r){typeof t.on=="function"&&vp(t,"error",e,r)}function vp(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function u(a){i.once&&t.removeEventListener(e,u),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}function sF(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}var oF=sF;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lF=function(t){return t!=null&&(gp(t)||fF(t)||!!t._isBuffer)};function gp(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function fF(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&gp(t.slice(0,0))}var cF=oF,hF=lF,dF=typeof Float64Array<"u";function pF(t,e){return t[0]-e[0]}function vF(){var t=this.stride,e=new Array(t.length),r;for(r=0;r<e.length;++r)e[r]=[Math.abs(t[r]),r];e.sort(pF);var i=new Array(e.length);for(r=0;r<i.length;++r)i[r]=e[r][1];return i}function gF(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var i=t==="generic";if(e===-1){var u="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",g=new Function(u);return g()}else if(e===0){var u="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",g=new Function("TrivialArray",u);return g(ss[t][0])}var u=["'use strict'"],a=cF(e),o=a.map(function(m){return"i"+m}),c="this.offset+"+a.map(function(m){return"this.stride["+m+"]*i"+m}).join("+"),d=a.map(function(m){return"b"+m}).join(","),p=a.map(function(m){return"c"+m}).join(",");u.push("function "+r+"(a,"+d+","+p+",d){this.data=a","this.shape=["+d+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),u.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(m){return"this.shape["+m+"]"}).join("*"),"}})"),e===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),e<4?(u.push("function "+r+"_order(){"),e===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+r+"_set("+o.join(",")+",v){"),i?u.push("return this.data.set("+c+",v)}"):u.push("return this.data["+c+"]=v}"),u.push("proto.get=function "+r+"_get("+o.join(",")+"){"),i?u.push("return this.data.get("+c+")}"):u.push("return this.data["+c+"]}"),u.push("proto.index=function "+r+"_index(",o.join(),"){return "+c+"}"),u.push("proto.hi=function "+r+"_hi("+o.join(",")+"){return new "+r+"(this.data,"+a.map(function(m){return["(typeof i",m,"!=='number'||i",m,"<0)?this.shape[",m,"]:i",m,"|0"].join("")}).join(",")+","+a.map(function(m){return"this.stride["+m+"]"}).join(",")+",this.offset)}");var h=a.map(function(m){return"a"+m+"=this.shape["+m+"]"}),l=a.map(function(m){return"c"+m+"=this.stride["+m+"]"});u.push("proto.lo=function "+r+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+l.join(","));for(var f=0;f<e;++f)u.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");u.push("return new "+r+"(this.data,"+a.map(function(m){return"a"+m}).join(",")+","+a.map(function(m){return"c"+m}).join(",")+",b)}"),u.push("proto.step=function "+r+"_step("+o.join(",")+"){var "+a.map(function(m){return"a"+m+"=this.shape["+m+"]"}).join(",")+","+a.map(function(m){return"b"+m+"=this.stride["+m+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var f=0;f<e;++f)u.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");u.push("return new "+r+"(this.data,"+a.map(function(m){return"a"+m}).join(",")+","+a.map(function(m){return"b"+m}).join(",")+",c)}");for(var D=new Array(e),A=new Array(e),f=0;f<e;++f)D[f]="a[i"+f+"]",A[f]="b[i"+f+"]";u.push("proto.transpose=function "+r+"_transpose("+o+"){"+o.map(function(m,y){return m+"=("+m+"===undefined?"+y+":"+m+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+D.join(",")+","+A.join(",")+",this.offset)}"),u.push("proto.pick=function "+r+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var f=0;f<e;++f)u.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(m){return"shape["+m+"]"}).join(",")+","+a.map(function(m){return"stride["+m+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",u.join(`
`));return g(ss[t],vF)}function mF(t){if(hF(t))return"buffer";if(dF)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var ss={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function DF(t,e,r,i){if(t===void 0){var p=ss.array[0];return p([])}else typeof t=="number"&&(t=[t]);e===void 0&&(e=[t.length]);var u=e.length;if(r===void 0){r=new Array(u);for(var a=u-1,o=1;a>=0;--a)r[a]=o,o*=e[a]}if(i===void 0){i=0;for(var a=0;a<u;++a)r[a]<0&&(i-=(e[a]-1)*r[a])}for(var c=mF(t),d=ss[c];d.length<=u+1;)d.push(gF(c,d.length-1));var p=d[u+1];return p(t,e,r,i)}var pu=DF,Ms={};function _F(t,e){for(var r=1,i=t.length,u=t[0],a=t[0],o=1;o<i;++o)if(a=u,u=t[o],e(u,a)){if(o===r){r++;continue}t[r++]=u}return t.length=r,t}function yF(t){for(var e=1,r=t.length,i=t[0],u=t[0],a=1;a<r;++a,u=i)if(u=i,i=t[a],i!==u){if(a===e){e++;continue}t[e++]=i}return t.length=e,t}function AF(t,e,r){return t.length===0?t:e?(r||t.sort(e),_F(t,e)):(r||t.sort(),yF(t))}var mp=AF,bF=mp;function Dp(t,e,r){var i=t.length,u=e.arrayArgs.length,a=e.indexArgs.length>0,o=[],c=[],d=0,p=0,h,l;for(h=0;h<i;++h)c.push(["i",h,"=0"].join(""));for(l=0;l<u;++l)for(h=0;h<i;++h)p=d,d=t[h],h===0?c.push(["d",l,"s",h,"=t",l,"p",d].join("")):c.push(["d",l,"s",h,"=(t",l,"p",d,"-s",p,"*t",l,"p",p,")"].join(""));for(c.length>0&&o.push("var "+c.join(",")),h=i-1;h>=0;--h)d=t[h],o.push(["for(i",h,"=0;i",h,"<s",d,";++i",h,"){"].join(""));for(o.push(r),h=0;h<i;++h){for(p=d,d=t[h],l=0;l<u;++l)o.push(["p",l,"+=d",l,"s",h].join(""));a&&(h>0&&o.push(["index[",p,"]-=s",p].join("")),o.push(["++index[",d,"]"].join(""))),o.push("}")}return o.join(`
`)}function wF(t,e,r,i){for(var u=e.length,a=r.arrayArgs.length,o=r.blockSize,c=r.indexArgs.length>0,d=[],p=0;p<a;++p)d.push(["var offset",p,"=p",p].join(""));for(var p=t;p<u;++p)d.push(["for(var j"+p+"=SS[",e[p],"]|0;j",p,">0;){"].join("")),d.push(["if(j",p,"<",o,"){"].join("")),d.push(["s",e[p],"=j",p].join("")),d.push(["j",p,"=0"].join("")),d.push(["}else{s",e[p],"=",o].join("")),d.push(["j",p,"-=",o,"}"].join("")),c&&d.push(["index[",e[p],"]=j",p].join(""));for(var p=0;p<a;++p){for(var h=["offset"+p],l=t;l<u;++l)h.push(["j",l,"*t",p,"p",e[l]].join(""));d.push(["p",p,"=(",h.join("+"),")"].join(""))}d.push(Dp(e,r,i));for(var p=t;p<u;++p)d.push("}");return d.join(`
`)}function EF(t){for(var e=0,r=t[0].length;e<r;){for(var i=1;i<t.length;++i)if(t[i][e]!==t[0][e])return e;++e}return e}function hl(t,e,r){for(var i=t.body,u=[],a=[],o=0;o<t.args.length;++o){var c=t.args[o];if(!(c.count<=0)){var d=new RegExp(c.name,"g"),p="",h=e.arrayArgs.indexOf(o);switch(e.argTypes[o]){case"offset":var l=e.offsetArgIndex.indexOf(o),f=e.offsetArgs[l];h=f.array,p="+q"+l;case"array":p="p"+h+p;var D="l"+o,A="a"+h;if(e.arrayBlockIndices[h]===0)c.count===1?r[h]==="generic"?c.lvalue?(u.push(["var ",D,"=",A,".get(",p,")"].join("")),i=i.replace(d,D),a.push([A,".set(",p,",",D,")"].join(""))):i=i.replace(d,[A,".get(",p,")"].join("")):i=i.replace(d,[A,"[",p,"]"].join("")):r[h]==="generic"?(u.push(["var ",D,"=",A,".get(",p,")"].join("")),i=i.replace(d,D),c.lvalue&&a.push([A,".set(",p,",",D,")"].join(""))):(u.push(["var ",D,"=",A,"[",p,"]"].join("")),i=i.replace(d,D),c.lvalue&&a.push([A,"[",p,"]=",D].join("")));else{for(var g=[c.name],m=[p],y=0;y<Math.abs(e.arrayBlockIndices[h]);y++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(y+1)+"*t"+h+"b"+y);if(d=new RegExp(g.join(""),"g"),p=m.join("+"),r[h]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");i=i.replace(d,[A,"[",p,"]"].join(""))}break;case"scalar":i=i.replace(d,"Y"+e.scalarArgs.indexOf(o));break;case"index":i=i.replace(d,"index");break;case"shape":i=i.replace(d,"shape");break}}}return[u.join(`
`),i,a.join(`
`)].join(`
`).trim()}function FF(t){for(var e=new Array(t.length),r=!0,i=0;i<t.length;++i){var u=t[i],a=u.match(/\d+/);a?a=a[0]:a="",u.charAt(0)===0?e[i]="u"+u.charAt(1)+a:e[i]=u.charAt(0)+a,i>0&&(r=r&&e[i]===e[i-1])}return r?e[0]:e.join("")}function CF(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,i=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),a=0;a<t.arrayArgs.length;++a)u[a]=e[2*a],i[a]=e[2*a+1];for(var o=[],c=[],d=[],p=[],h=[],a=0;a<t.arrayArgs.length;++a){t.arrayBlockIndices[a]<0?(d.push(0),p.push(r),o.push(r),c.push(r+t.arrayBlockIndices[a])):(d.push(t.arrayBlockIndices[a]),p.push(t.arrayBlockIndices[a]+r),o.push(0),c.push(t.arrayBlockIndices[a]));for(var l=[],f=0;f<i[a].length;f++)d[a]<=i[a][f]&&i[a][f]<p[a]&&l.push(i[a][f]-d[a]);h.push(l)}for(var D=["SS"],A=["'use strict'"],g=[],f=0;f<r;++f)g.push(["s",f,"=SS[",f,"]"].join(""));for(var a=0;a<t.arrayArgs.length;++a){D.push("a"+a),D.push("t"+a),D.push("p"+a);for(var f=0;f<r;++f)g.push(["t",a,"p",f,"=t",a,"[",d[a]+f,"]"].join(""));for(var f=0;f<Math.abs(t.arrayBlockIndices[a]);++f)g.push(["t",a,"b",f,"=t",a,"[",o[a]+f,"]"].join(""))}for(var a=0;a<t.scalarArgs.length;++a)D.push("Y"+a);if(t.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var m=new Array(r),a=0;a<r;++a)m[a]="0";g.push(["index=[",m.join(","),"]"].join(""))}for(var a=0;a<t.offsetArgs.length;++a){for(var y=t.offsetArgs[a],F=[],f=0;f<y.offset.length;++f)y.offset[f]!==0&&(y.offset[f]===1?F.push(["t",y.array,"p",f].join("")):F.push([y.offset[f],"*t",y.array,"p",f].join("")));F.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",F.join("+")].join(""))}var w=bF([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));g=g.concat(w),g.length>0&&A.push("var "+g.join(","));for(var a=0;a<t.arrayArgs.length;++a)A.push("p"+a+"|=0");t.pre.body.length>3&&A.push(hl(t.pre,t,u));var O=hl(t.body,t,u),C=EF(h);C<r?A.push(wF(C,h[0],t,O)):A.push(Dp(h[0],t,O)),t.post.body.length>3&&A.push(hl(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,`:
`+A.join(`
`)+`
----------`);var B=[t.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",C,FF(u)].join(""),x=new Function(["function ",B,"(",D.join(","),"){",A.join(`
`),"} return ",B].join(""));return x()}var SF=CF,BF=SF;function OF(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var u=[],a=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],c=[],d=[],p=0;p<t.arrayArgs.length;++p){var h=t.arrayArgs[p];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),u.push("t"+h),u.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),o.push("array"+h+".data"),o.push("array"+h+".stride"),o.push("array"+h+".offset|0"),p>0&&(c.push("array"+t.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[p]))),d.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[p])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var p=0;p<t.scalarArgs.length;++p)o.push("scalar"+t.scalarArgs[p]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",u.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var l=new Function("compile",e.join(`
`));return l(BF.bind(void 0,t))}var MF=OF,xF=MF;function PF(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function TF(t){var e=new PF;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var u=r[i];if(u==="array"||typeof u=="object"&&u.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(u.blockIndices?u.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if(u==="scalar")e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if(u==="index"){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if(u==="shape"){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof u=="object"&&u.offset)e.argTypes[i]="offset",e.offsetArgs.push({array:u.array,offset:u.offset}),e.offsetArgIndex.push(i);else throw new Error("cwise: Unknown argument type "+r[i])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,xF(e)}var hf=TF;(function(t){var e=hf,r={body:"",args:[],thisVars:[],localVars:[]};function i(f){if(!f)return r;for(var D=0;D<f.args.length;++D){var A=f.args[D];D===0?f.args[D]={name:A,lvalue:!0,rvalue:!!f.rvalue,count:f.count||1}:f.args[D]={name:A,lvalue:!1,rvalue:!0,count:1}}return f.thisVars||(f.thisVars=[]),f.localVars||(f.localVars=[]),f}function u(f){return e({args:f.args,pre:i(f.pre),body:i(f.body),post:i(f.proc),funcName:f.funcName})}function a(f){for(var D=[],A=0;A<f.args.length;++A)D.push("a"+A);var g=new Function("P",["return function ",f.funcName,"_ndarrayops(",D.join(","),") {P(",D.join(","),");return a0}"].join(""));return g(u(f))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var f in o){var D=o[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+D+"c"},funcName:f}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+D+"=b"},rvalue:!0,funcName:f+"eq"}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+D+"s"},funcName:f+"s"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+D+"=s"},rvalue:!0,funcName:f+"seq"})}})();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var f in c){var D=c[f];t[f]=a({args:["array","array"],body:{args:["a","b"],body:"a="+D+"b"},funcName:f}),t[f+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+D+"a"},rvalue:!0,count:2,funcName:f+"eq"})}})();var d={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var f in d){var D=d[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+D+"c"},funcName:f}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+D+"s"},funcName:f+"s"}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+D+"b"},rvalue:!0,count:2,funcName:f+"eq"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+D+"s"},rvalue:!0,count:2,funcName:f+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var f=0;f<p.length;++f){var D=p[f];t[D]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:D}),t[D+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"eq"})}})();var h=["max","min","atan2","pow"];(function(){for(var f=0;f<h.length;++f){var D=h[f];t[D]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:D}),t[D+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:D+"s"}),t[D+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"eq"}),t[D+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"seq"})}})();var l=["atan2","pow"];(function(){for(var f=0;f<l.length;++f){var D=l[f];t[D+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:D+"op"}),t[D+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:D+"ops"}),t[D+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"opeq"}),t[D+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"opseq"})}})(),t.any=e({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=e({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=e({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(Ms);var IF=hf({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64}),Ph=pu,NF=IF,kF=function(e,r){for(var i=[],u=e,a=1;Array.isArray(u);)i.push(u.length),a*=u.length,u=u[0];return i.length===0?Ph():(r||(r=Ph(new Float64Array(a),i)),NF(r,e),r)};function _p(t,e,r){var i=t[r]|0;if(i<=0)return[];var u=new Array(i),a;if(r===t.length-1)for(a=0;a<i;++a)u[a]=e;else for(a=0;a<i;++a)u[a]=_p(t,e,r+1);return u}function RF(t,e){var r,i;for(r=new Array(t),i=0;i<t;++i)r[i]=e;return r}function LF(t,e){switch(typeof e>"u"&&(e=0),typeof t){case"number":if(t>0)return RF(t|0,e);break;case"object":if(typeof t.length=="number")return _p(t,e,0);break}return[]}var UF=LF,yp={};(function(t){(function(e,r){r(t)})(lr,function(e){var r,i,u,a,o,c,d,p,h,l,f,D,A,g,m,y,F,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},i={},i[r.BooleanLiteral]="Boolean",i[r.EOF]="<end>",i[r.Identifier]="Identifier",i[r.Keyword]="Keyword",i[r.NullLiteral]="Null",i[r.NumericLiteral]="Numeric",i[r.Punctuator]="Punctuator",i[r.StringLiteral]="String",i[r.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},c={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},d={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function O(_,E){if(!_)throw new Error("ASSERT: "+E)}function C(_){return _>=48&&_<=57}function B(_){return"0123456789abcdefABCDEF".indexOf(_)>=0}function x(_){return"01234567".indexOf(_)>=0}function T(_){return _===32||_===9||_===11||_===12||_===160||_>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(_)>=0}function I(_){return _===10||_===13||_===8232||_===8233}function W(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_===92||_>=128&&d.NonAsciiIdentifierStart.test(String.fromCharCode(_))}function K(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_>=48&&_<=57||_===92||_>=128&&d.NonAsciiIdentifierPart.test(String.fromCharCode(_))}function Y(_){switch(_){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function q(_){switch(_){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function H(_){return _==="eval"||_==="arguments"}function j(_){if(l&&q(_))return!0;switch(_.length){case 2:return _==="if"||_==="in"||_==="do";case 3:return _==="var"||_==="for"||_==="new"||_==="try"||_==="let";case 4:return _==="this"||_==="else"||_==="case"||_==="void"||_==="with"||_==="enum";case 5:return _==="while"||_==="break"||_==="catch"||_==="throw"||_==="const"||_==="yield"||_==="class"||_==="super";case 6:return _==="return"||_==="typeof"||_==="delete"||_==="switch"||_==="export"||_==="import";case 7:return _==="default"||_==="finally"||_==="extends";case 8:return _==="function"||_==="continue"||_==="debugger";case 10:return _==="instanceof";default:return!1}}function G(_,E,k,X,fe){var be;O(typeof k=="number","Comment must have valid position"),!(F.lastCommentStart>=k)&&(F.lastCommentStart=k,be={type:_,value:E},w.range&&(be.range=[k,X]),w.loc&&(be.loc=fe),w.comments.push(be),w.attachComment&&(w.leadingComments.push(be),w.trailingComments.push(be)))}function te(_){var E,k,X,fe;for(E=f-_,k={start:{line:D,column:f-A-_}};f<g;)if(X=h.charCodeAt(f),++f,I(X)){w.comments&&(fe=h.slice(E+_,f-1),k.end={line:D,column:f-A-1},G("Line",fe,E,f-1,k)),X===13&&h.charCodeAt(f)===10&&++f,++D,A=f;return}w.comments&&(fe=h.slice(E+_,f),k.end={line:D,column:f-A},G("Line",fe,E,f,k))}function ce(){var _,E,k,X;for(w.comments&&(_=f-2,E={start:{line:D,column:f-A-2}});f<g;)if(k=h.charCodeAt(f),I(k))k===13&&h.charCodeAt(f+1)===10&&++f,++D,++f,A=f,f>=g&&U({},c.UnexpectedToken,"ILLEGAL");else if(k===42){if(h.charCodeAt(f+1)===47){++f,++f,w.comments&&(X=h.slice(_+2,f-2),E.end={line:D,column:f-A},G("Block",X,_,f,E));return}++f}else++f;U({},c.UnexpectedToken,"ILLEGAL")}function ve(){var _,E;for(E=f===0;f<g;)if(_=h.charCodeAt(f),T(_))++f;else if(I(_))++f,_===13&&h.charCodeAt(f)===10&&++f,++D,A=f,E=!0;else if(_===47)if(_=h.charCodeAt(f+1),_===47)++f,++f,te(2),E=!0;else if(_===42)++f,++f,ce();else break;else if(E&&_===45)if(h.charCodeAt(f+1)===45&&h.charCodeAt(f+2)===62)f+=3,te(3);else break;else if(_===60)if(h.slice(f+1,f+4)==="!--")++f,++f,++f,++f,te(4);else break;else break}function we(_){var E,k,X,fe=0;for(k=_==="u"?4:2,E=0;E<k;++E)if(f<g&&B(h[f]))X=h[f++],fe=fe*16+"0123456789abcdef".indexOf(X.toLowerCase());else return"";return String.fromCharCode(fe)}function Se(){var _,E;for(_=h.charCodeAt(f++),E=String.fromCharCode(_),_===92&&(h.charCodeAt(f)!==117&&U({},c.UnexpectedToken,"ILLEGAL"),++f,_=we("u"),(!_||_==="\\"||!W(_.charCodeAt(0)))&&U({},c.UnexpectedToken,"ILLEGAL"),E=_);f<g&&(_=h.charCodeAt(f),!!K(_));)++f,E+=String.fromCharCode(_),_===92&&(E=E.substr(0,E.length-1),h.charCodeAt(f)!==117&&U({},c.UnexpectedToken,"ILLEGAL"),++f,_=we("u"),(!_||_==="\\"||!K(_.charCodeAt(0)))&&U({},c.UnexpectedToken,"ILLEGAL"),E+=_);return E}function Te(){var _,E;for(_=f++;f<g;){if(E=h.charCodeAt(f),E===92)return f=_,Se();if(K(E))++f;else break}return h.slice(_,f)}function Ce(){var _,E,k;return _=f,E=h.charCodeAt(f)===92?Se():Te(),E.length===1?k=r.Identifier:j(E)?k=r.Keyword:E==="null"?k=r.NullLiteral:E==="true"||E==="false"?k=r.BooleanLiteral:k=r.Identifier,{type:k,value:E,lineNumber:D,lineStart:A,start:_,end:f}}function Pe(){var _=f,E=h.charCodeAt(f),k,X=h[f],fe,be,et;switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,w.tokenize&&(E===40?w.openParenToken=w.tokens.length:E===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(E),lineNumber:D,lineStart:A,start:_,end:f};default:if(k=h.charCodeAt(f+1),k===61)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:r.Punctuator,value:String.fromCharCode(E)+String.fromCharCode(k),lineNumber:D,lineStart:A,start:_,end:f};case 33:case 61:return f+=2,h.charCodeAt(f)===61&&++f,{type:r.Punctuator,value:h.slice(_,f),lineNumber:D,lineStart:A,start:_,end:f}}}if(et=h.substr(f,4),et===">>>=")return f+=4,{type:r.Punctuator,value:et,lineNumber:D,lineStart:A,start:_,end:f};if(be=et.substr(0,3),be===">>>"||be==="<<="||be===">>=")return f+=3,{type:r.Punctuator,value:be,lineNumber:D,lineStart:A,start:_,end:f};if(fe=be.substr(0,2),X===fe[1]&&"+-<>&|".indexOf(X)>=0||fe==="=>")return f+=2,{type:r.Punctuator,value:fe,lineNumber:D,lineStart:A,start:_,end:f};if("<>=!+-*%&|^/".indexOf(X)>=0)return++f,{type:r.Punctuator,value:X,lineNumber:D,lineStart:A,start:_,end:f};U({},c.UnexpectedToken,"ILLEGAL")}function Ie(_){for(var E="";f<g&&B(h[f]);)E+=h[f++];return E.length===0&&U({},c.UnexpectedToken,"ILLEGAL"),W(h.charCodeAt(f))&&U({},c.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+E,16),lineNumber:D,lineStart:A,start:_,end:f}}function Le(_){for(var E="0"+h[f++];f<g&&x(h[f]);)E+=h[f++];return(W(h.charCodeAt(f))||C(h.charCodeAt(f)))&&U({},c.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(E,8),octal:!0,lineNumber:D,lineStart:A,start:_,end:f}}function at(){var _,E;for(_=f+1;_<g;++_){if(E=h[_],E==="8"||E==="9")return!1;if(!x(E))return!0}return!0}function ct(){var _,E,k;if(k=h[f],O(C(k.charCodeAt(0))||k===".","Numeric literal must start with a decimal digit or a decimal point"),E=f,_="",k!=="."){if(_=h[f++],k=h[f],_==="0"){if(k==="x"||k==="X")return++f,Ie(E);if(x(k)&&at())return Le(E)}for(;C(h.charCodeAt(f));)_+=h[f++];k=h[f]}if(k==="."){for(_+=h[f++];C(h.charCodeAt(f));)_+=h[f++];k=h[f]}if(k==="e"||k==="E")if(_+=h[f++],k=h[f],(k==="+"||k==="-")&&(_+=h[f++]),C(h.charCodeAt(f)))for(;C(h.charCodeAt(f));)_+=h[f++];else U({},c.UnexpectedToken,"ILLEGAL");return W(h.charCodeAt(f))&&U({},c.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(_),lineNumber:D,lineStart:A,start:E,end:f}}function Qe(){var _="",E,k,X,fe,be,et,lt=!1,kt,nr;for(kt=D,nr=A,E=h[f],O(E==="'"||E==='"',"String literal must starts with a quote"),k=f,++f;f<g;)if(X=h[f++],X===E){E="";break}else if(X==="\\")if(X=h[f++],!X||!I(X.charCodeAt(0)))switch(X){case"u":case"x":et=f,be=we(X),be?_+=be:(f=et,_+=X);break;case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;default:x(X)?(fe="01234567".indexOf(X),fe!==0&&(lt=!0),f<g&&x(h[f])&&(lt=!0,fe=fe*8+"01234567".indexOf(h[f++]),"0123".indexOf(X)>=0&&f<g&&x(h[f])&&(fe=fe*8+"01234567".indexOf(h[f++]))),_+=String.fromCharCode(fe)):_+=X;break}else++D,X==="\r"&&h[f]===`
`&&++f,A=f;else{if(I(X.charCodeAt(0)))break;_+=X}return E!==""&&U({},c.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:_,octal:lt,startLineNumber:kt,startLineStart:nr,lineNumber:D,lineStart:A,start:k,end:f}}function it(_,E){var k;try{k=new RegExp(_,E)}catch{U({},c.InvalidRegExp)}return k}function ht(){var _,E,k,X,fe;for(_=h[f],O(_==="/","Regular expression literal must start with a slash"),E=h[f++],k=!1,X=!1;f<g;)if(_=h[f++],E+=_,_==="\\")_=h[f++],I(_.charCodeAt(0))&&U({},c.UnterminatedRegExp),E+=_;else if(I(_.charCodeAt(0)))U({},c.UnterminatedRegExp);else if(k)_==="]"&&(k=!1);else if(_==="/"){X=!0;break}else _==="["&&(k=!0);return X||U({},c.UnterminatedRegExp),fe=E.substr(1,E.length-2),{value:fe,literal:E}}function dt(){var _,E,k,X;for(E="",k="";f<g&&(_=h[f],!!K(_.charCodeAt(0)));)if(++f,_==="\\"&&f<g)if(_=h[f],_==="u"){if(++f,X=f,_=we("u"),_)for(k+=_,E+="\\u";X<f;++X)E+=h[X];else f=X,k+="u",E+="\\u";Z({},c.UnexpectedToken,"ILLEGAL")}else E+="\\",Z({},c.UnexpectedToken,"ILLEGAL");else k+=_,E+=_;return{value:k,literal:E}}function rt(){var _,E,k,X;return y=null,ve(),_=f,E=ht(),k=dt(),X=it(E.value,k.value),w.tokenize?{type:r.RegularExpression,value:X,lineNumber:D,lineStart:A,start:_,end:f}:{literal:E.literal+k.literal,value:X,start:_,end:f}}function Je(){var _,E,k,X;return ve(),_=f,E={start:{line:D,column:f-A}},k=rt(),E.end={line:D,column:f-A},w.tokenize||(w.tokens.length>0&&(X=w.tokens[w.tokens.length-1],X.range[0]===_&&X.type==="Punctuator"&&(X.value==="/"||X.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:k.literal,range:[_,f],loc:E})),k}function At(_){return _.type===r.Identifier||_.type===r.Keyword||_.type===r.BooleanLiteral||_.type===r.NullLiteral}function Ar(){var _,E;if(_=w.tokens[w.tokens.length-1],!_)return Je();if(_.type==="Punctuator"){if(_.value==="]")return Pe();if(_.value===")")return E=w.tokens[w.openParenToken-1],E&&E.type==="Keyword"&&(E.value==="if"||E.value==="while"||E.value==="for"||E.value==="with")?Je():Pe();if(_.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-4],!E)return Pe()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-5],!E)return Je()}else return Pe();return u.indexOf(E.value)>=0?Pe():Je()}return Je()}return _.type==="Keyword"&&_.value!=="this"?Je():Pe()}function wt(){var _;return ve(),f>=g?{type:r.EOF,lineNumber:D,lineStart:A,start:f,end:f}:(_=h.charCodeAt(f),W(_)?Ce():_===40||_===41||_===59?Pe():_===39||_===34?Qe():_===46?C(h.charCodeAt(f+1))?ct():Pe():C(_)?ct():w.tokenize&&_===47?Ar():Pe())}function ye(){var _,E,k;return ve(),_={start:{line:D,column:f-A}},E=wt(),_.end={line:D,column:f-A},E.type!==r.EOF&&(k=h.slice(E.start,E.end),w.tokens.push({type:i[E.type],value:k,range:[E.start,E.end],loc:_})),E}function _e(){var _;return _=y,f=_.end,D=_.lineNumber,A=_.lineStart,y=typeof w.tokens<"u"?ye():wt(),f=_.end,D=_.lineNumber,A=_.lineStart,_}function pt(){var _,E,k;_=f,E=D,k=A,y=typeof w.tokens<"u"?ye():wt(),f=_,D=E,A=k}function Nt(_,E){this.line=_,this.column=E}function ar(_,E,k,X){this.start=new Nt(_,E),this.end=new Nt(k,X)}p={name:"SyntaxTree",processComment:function(_){var E,k;if(!(_.type===a.Program&&_.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=_.range[1]?(k=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=_.range[1]&&(k=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=_.range[0];)E=w.bottomRightStack.pop();E?E.leadingComments&&E.leadingComments[E.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=E.leadingComments,delete E.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=w.leadingComments,w.leadingComments=[]),k&&(_.trailingComments=k),w.bottomRightStack.push(_)}},markEnd:function(_,E){return w.range&&(_.range=[E.start,f]),w.loc&&(_.loc=new ar(E.startLineNumber===void 0?E.lineNumber:E.startLineNumber,E.start-(E.startLineStart===void 0?E.lineStart:E.startLineStart),D,f-A),this.postProcess(_)),w.attachComment&&this.processComment(_),_},postProcess:function(_){return w.source&&(_.loc.source=w.source),_},createArrayExpression:function(_){return{type:a.ArrayExpression,elements:_}},createAssignmentExpression:function(_,E,k){return{type:a.AssignmentExpression,operator:_,left:E,right:k}},createBinaryExpression:function(_,E,k){var X=_==="||"||_==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:X,operator:_,left:E,right:k}},createBlockStatement:function(_){return{type:a.BlockStatement,body:_}},createBreakStatement:function(_){return{type:a.BreakStatement,label:_}},createCallExpression:function(_,E){return{type:a.CallExpression,callee:_,arguments:E}},createCatchClause:function(_,E){return{type:a.CatchClause,param:_,body:E}},createConditionalExpression:function(_,E,k){return{type:a.ConditionalExpression,test:_,consequent:E,alternate:k}},createContinueStatement:function(_){return{type:a.ContinueStatement,label:_}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(_,E){return{type:a.DoWhileStatement,body:_,test:E}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(_){return{type:a.ExpressionStatement,expression:_}},createForStatement:function(_,E,k,X){return{type:a.ForStatement,init:_,test:E,update:k,body:X}},createForInStatement:function(_,E,k){return{type:a.ForInStatement,left:_,right:E,body:k,each:!1}},createFunctionDeclaration:function(_,E,k,X){return{type:a.FunctionDeclaration,id:_,params:E,defaults:k,body:X,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(_,E,k,X){return{type:a.FunctionExpression,id:_,params:E,defaults:k,body:X,rest:null,generator:!1,expression:!1}},createIdentifier:function(_){return{type:a.Identifier,name:_}},createIfStatement:function(_,E,k){return{type:a.IfStatement,test:_,consequent:E,alternate:k}},createLabeledStatement:function(_,E){return{type:a.LabeledStatement,label:_,body:E}},createLiteral:function(_){return{type:a.Literal,value:_.value,raw:h.slice(_.start,_.end)}},createMemberExpression:function(_,E,k){return{type:a.MemberExpression,computed:_==="[",object:E,property:k}},createNewExpression:function(_,E){return{type:a.NewExpression,callee:_,arguments:E}},createObjectExpression:function(_){return{type:a.ObjectExpression,properties:_}},createPostfixExpression:function(_,E){return{type:a.UpdateExpression,operator:_,argument:E,prefix:!1}},createProgram:function(_){return{type:a.Program,body:_}},createProperty:function(_,E,k){return{type:a.Property,key:E,value:k,kind:_}},createReturnStatement:function(_){return{type:a.ReturnStatement,argument:_}},createSequenceExpression:function(_){return{type:a.SequenceExpression,expressions:_}},createSwitchCase:function(_,E){return{type:a.SwitchCase,test:_,consequent:E}},createSwitchStatement:function(_,E){return{type:a.SwitchStatement,discriminant:_,cases:E}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(_){return{type:a.ThrowStatement,argument:_}},createTryStatement:function(_,E,k,X){return{type:a.TryStatement,block:_,guardedHandlers:E,handlers:k,finalizer:X}},createUnaryExpression:function(_,E){return _==="++"||_==="--"?{type:a.UpdateExpression,operator:_,argument:E,prefix:!0}:{type:a.UnaryExpression,operator:_,argument:E,prefix:!0}},createVariableDeclaration:function(_,E){return{type:a.VariableDeclaration,declarations:_,kind:E}},createVariableDeclarator:function(_,E){return{type:a.VariableDeclarator,id:_,init:E}},createWhileStatement:function(_,E){return{type:a.WhileStatement,test:_,body:E}},createWithStatement:function(_,E){return{type:a.WithStatement,object:_,body:E}}};function R(){var _,E,k,X;return _=f,E=D,k=A,ve(),X=D!==E,f=_,D=E,A=k,X}function U(_,E){var k,X=Array.prototype.slice.call(arguments,2),fe=E.replace(/%(\d)/g,function(be,et){return O(et<X.length,"Message reference must be in range"),X[et]});throw typeof _.lineNumber=="number"?(k=new Error("Line "+_.lineNumber+": "+fe),k.index=_.start,k.lineNumber=_.lineNumber,k.column=_.start-A+1):(k=new Error("Line "+D+": "+fe),k.index=f,k.lineNumber=D,k.column=f-A+1),k.description=fe,k}function Z(){try{U.apply(null,arguments)}catch(_){if(w.errors)w.errors.push(_);else throw _}}function ue(_){if(_.type===r.EOF&&U(_,c.UnexpectedEOS),_.type===r.NumericLiteral&&U(_,c.UnexpectedNumber),_.type===r.StringLiteral&&U(_,c.UnexpectedString),_.type===r.Identifier&&U(_,c.UnexpectedIdentifier),_.type===r.Keyword){if(Y(_.value))U(_,c.UnexpectedReserved);else if(l&&q(_.value)){Z(_,c.StrictReservedWord);return}U(_,c.UnexpectedToken,_.value)}U(_,c.UnexpectedToken,_.value)}function ee(_){var E=_e();(E.type!==r.Punctuator||E.value!==_)&&ue(E)}function he(_){var E=_e();(E.type!==r.Keyword||E.value!==_)&&ue(E)}function ie(_){return y.type===r.Punctuator&&y.value===_}function ae(_){return y.type===r.Keyword&&y.value===_}function De(){var _;return y.type!==r.Punctuator?!1:(_=y.value,_==="="||_==="*="||_==="/="||_==="%="||_==="+="||_==="-="||_==="<<="||_===">>="||_===">>>="||_==="&="||_==="^="||_==="|=")}function Be(){var _,E=f,k=D,X=A,fe=y;if(h.charCodeAt(f)===59||ie(";")){_e();return}if(_=D,ve(),D!==_){f=E,D=k,A=X,y=fe;return}y.type!==r.EOF&&!ie("}")&&ue(y)}function We(_){return _.type===a.Identifier||_.type===a.MemberExpression}function Ae(){var _=[],E;for(E=y,ee("[");!ie("]");)ie(",")?(_e(),_.push(null)):(_.push(br()),ie("]")||ee(","));return _e(),m.markEnd(m.createArrayExpression(_),E)}function Lt(_,E){var k,X,fe;return k=l,fe=y,X=Ci(),E&&l&&H(_[0].name)&&Z(E,c.StrictParamName),l=k,m.markEnd(m.createFunctionExpression(null,_,[],X),fe)}function Ot(){var _,E;return E=y,_=_e(),_.type===r.StringLiteral||_.type===r.NumericLiteral?(l&&_.octal&&Z(_,c.StrictOctalLiteral),m.markEnd(m.createLiteral(_),E)):m.markEnd(m.createIdentifier(_.value),E)}function Jt(){var _,E,k,X,fe,be;if(_=y,be=y,_.type===r.Identifier)return k=Ot(),_.value==="get"&&!ie(":")?(E=Ot(),ee("("),ee(")"),X=Lt([]),m.markEnd(m.createProperty("get",E,X),be)):_.value==="set"&&!ie(":")?(E=Ot(),ee("("),_=y,_.type!==r.Identifier?(ee(")"),Z(_,c.UnexpectedToken,_.value),X=Lt([])):(fe=[Qr()],ee(")"),X=Lt(fe,_)),m.markEnd(m.createProperty("set",E,X),be)):(ee(":"),X=br(),m.markEnd(m.createProperty("init",k,X),be));if(_.type===r.EOF||_.type===r.Punctuator)ue(_);else return E=Ot(),ee(":"),X=br(),m.markEnd(m.createProperty("init",E,X),be)}function Ut(){var _=[],E,k,X,fe,be={},et=String,lt;for(lt=y,ee("{");!ie("}");)E=Jt(),E.key.type===a.Identifier?k=E.key.name:k=et(E.key.value),fe=E.kind==="init"?o.Data:E.kind==="get"?o.Get:o.Set,X="$"+k,Object.prototype.hasOwnProperty.call(be,X)?(be[X]===o.Data?l&&fe===o.Data?Z({},c.StrictDuplicateProperty):fe!==o.Data&&Z({},c.AccessorDataProperty):fe===o.Data?Z({},c.AccessorDataProperty):be[X]&fe&&Z({},c.AccessorGetSet),be[X]|=fe):be[X]=fe,_.push(E),ie("}")||ee(",");return ee("}"),m.markEnd(m.createObjectExpression(_),lt)}function pr(){var _;return ee("("),_=$t(),ee(")"),_}function jt(){var _,E,k,X;if(ie("("))return pr();if(ie("["))return Ae();if(ie("{"))return Ut();if(_=y.type,X=y,_===r.Identifier)k=m.createIdentifier(_e().value);else if(_===r.StringLiteral||_===r.NumericLiteral)l&&y.octal&&Z(y,c.StrictOctalLiteral),k=m.createLiteral(_e());else if(_===r.Keyword){if(ae("function"))return Si();ae("this")?(_e(),k=m.createThisExpression()):ue(_e())}else _===r.BooleanLiteral?(E=_e(),E.value=E.value==="true",k=m.createLiteral(E)):_===r.NullLiteral?(E=_e(),E.value=null,k=m.createLiteral(E)):ie("/")||ie("/=")?(typeof w.tokens<"u"?k=m.createLiteral(Je()):k=m.createLiteral(rt()),pt()):ue(_e());return m.markEnd(k,X)}function vr(){var _=[];if(ee("("),!ie(")"))for(;f<g&&(_.push(br()),!ie(")"));)ee(",");return ee(")"),_}function sr(){var _,E;return E=y,_=_e(),At(_)||ue(_),m.markEnd(m.createIdentifier(_.value),E)}function or(){return ee("."),sr()}function $r(){var _;return ee("["),_=$t(),ee("]"),_}function fr(){var _,E,k;return k=y,he("new"),_=jn(),E=ie("(")?vr():[],m.markEnd(m.createNewExpression(_,E),k)}function pn(){var _,E,k,X,fe=F.allowIn;for(X=y,F.allowIn=!0,_=ae("new")?fr():jt();;){if(ie("."))k=or(),_=m.createMemberExpression(".",_,k);else if(ie("("))E=vr(),_=m.createCallExpression(_,E);else if(ie("["))k=$r(),_=m.createMemberExpression("[",_,k);else break;m.markEnd(_,X)}return F.allowIn=fe,_}function jn(){var _,E,k;for(O(F.allowIn,"callee of new expression always allow in keyword."),k=y,_=ae("new")?fr():jt();ie(".")||ie("[");)ie("[")?(E=$r(),_=m.createMemberExpression("[",_,E)):(E=or(),_=m.createMemberExpression(".",_,E)),m.markEnd(_,k);return _}function Sn(){var _,E,k=y;return _=pn(),y.type===r.Punctuator&&(ie("++")||ie("--"))&&!R()&&(l&&_.type===a.Identifier&&H(_.name)&&Z({},c.StrictLHSPostfix),We(_)||Z({},c.InvalidLHSInAssignment),E=_e(),_=m.markEnd(m.createPostfixExpression(E.value,_),k)),_}function Bn(){var _,E,k;return y.type!==r.Punctuator&&y.type!==r.Keyword?E=Sn():ie("++")||ie("--")?(k=y,_=_e(),E=Bn(),l&&E.type===a.Identifier&&H(E.name)&&Z({},c.StrictLHSPrefix),We(E)||Z({},c.InvalidLHSInAssignment),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,k)):ie("+")||ie("-")||ie("~")||ie("!")?(k=y,_=_e(),E=Bn(),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,k)):ae("delete")||ae("void")||ae("typeof")?(k=y,_=_e(),E=Bn(),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,k),l&&E.operator==="delete"&&E.argument.type===a.Identifier&&Z({},c.StrictDelete)):E=Sn(),E}function Li(_,E){var k=0;if(_.type!==r.Punctuator&&_.type!==r.Keyword)return 0;switch(_.value){case"||":k=1;break;case"&&":k=2;break;case"|":k=3;break;case"^":k=4;break;case"&":k=5;break;case"==":case"!=":case"===":case"!==":k=6;break;case"<":case">":case"<=":case">=":case"instanceof":k=7;break;case"in":k=E?7:0;break;case"<<":case">>":case">>>":k=8;break;case"+":case"-":k=9;break;case"*":case"/":case"%":k=11;break}return k}function Ei(){var _,E,k,X,fe,be,et,lt,kt,nr;if(_=y,kt=Bn(),X=y,fe=Li(X,F.allowIn),fe===0)return kt;for(X.prec=fe,_e(),E=[_,y],et=Bn(),be=[kt,X,et];(fe=Li(y,F.allowIn))>0;){for(;be.length>2&&fe<=be[be.length-2].prec;)et=be.pop(),lt=be.pop().value,kt=be.pop(),k=m.createBinaryExpression(lt,kt,et),E.pop(),_=E[E.length-1],m.markEnd(k,_),be.push(k);X=_e(),X.prec=fe,be.push(X),E.push(y),k=Bn(),be.push(k)}for(nr=be.length-1,k=be[nr],E.pop();nr>1;)k=m.createBinaryExpression(be[nr-1].value,be[nr-2],k),nr-=2,_=E.pop(),m.markEnd(k,_);return k}function vu(){var _,E,k,X,fe;return fe=y,_=Ei(),ie("?")&&(_e(),E=F.allowIn,F.allowIn=!0,k=br(),F.allowIn=E,ee(":"),X=br(),_=m.createConditionalExpression(_,k,X),m.markEnd(_,fe)),_}function br(){var _,E,k,X,fe;return _=y,fe=y,X=E=vu(),De()&&(We(E)||Z({},c.InvalidLHSInAssignment),l&&E.type===a.Identifier&&H(E.name)&&Z(_,c.StrictLHSAssignment),_=_e(),k=br(),X=m.markEnd(m.createAssignmentExpression(_.value,E,k),fe)),X}function $t(){var _,E=y;if(_=br(),ie(",")){for(_=m.createSequenceExpression([_]);f<g&&ie(",");)_e(),_.expressions.push(br());m.markEnd(_,E)}return _}function gu(){for(var _=[],E;f<g&&!(ie("}")||(E=vn(),typeof E>"u"));)_.push(E);return _}function ri(){var _,E;return E=y,ee("{"),_=gu(),ee("}"),m.markEnd(m.createBlockStatement(_),E)}function Qr(){var _,E;return E=y,_=_e(),_.type!==r.Identifier&&ue(_),m.markEnd(m.createIdentifier(_.value),E)}function Vn(_){var E=null,k,X;return X=y,k=Qr(),l&&H(k.name)&&Z({},c.StrictVarName),_==="const"?(ee("="),E=br()):ie("=")&&(_e(),E=br()),m.markEnd(m.createVariableDeclarator(k,E),X)}function Fi(_){var E=[];do{if(E.push(Vn(_)),!ie(","))break;_e()}while(f<g);return E}function mu(){var _;return he("var"),_=Fi(),Be(),m.createVariableDeclaration(_,"var")}function Du(_){var E,k;return k=y,he(_),E=Fi(_),Be(),m.markEnd(m.createVariableDeclaration(E,_),k)}function Ui(){return ee(";"),m.createEmptyStatement()}function _u(){var _=$t();return Be(),m.createExpressionStatement(_)}function yu(){var _,E,k;return he("if"),ee("("),_=$t(),ee(")"),E=Pr(),ae("else")?(_e(),k=Pr()):k=null,m.createIfStatement(_,E,k)}function Au(){var _,E,k;return he("do"),k=F.inIteration,F.inIteration=!0,_=Pr(),F.inIteration=k,he("while"),ee("("),E=$t(),ee(")"),ie(";")&&_e(),m.createDoWhileStatement(_,E)}function bu(){var _,E,k;return he("while"),ee("("),_=$t(),ee(")"),k=F.inIteration,F.inIteration=!0,E=Pr(),F.inIteration=k,m.createWhileStatement(_,E)}function wu(){var _,E,k;return k=y,_=_e(),E=Fi(),m.markEnd(m.createVariableDeclaration(E,_.value),k)}function Eu(){var _,E,k,X,fe,be,et,lt=F.allowIn;return _=E=k=null,he("for"),ee("("),ie(";")?_e():(ae("var")||ae("let")?(F.allowIn=!1,_=wu(),F.allowIn=lt,_.declarations.length===1&&ae("in")&&(_e(),X=_,fe=$t(),_=null)):(F.allowIn=!1,_=$t(),F.allowIn=lt,ae("in")&&(We(_)||Z({},c.InvalidLHSInForIn),_e(),X=_,fe=$t(),_=null)),typeof X>"u"&&ee(";")),typeof X>"u"&&(ie(";")||(E=$t()),ee(";"),ie(")")||(k=$t())),ee(")"),et=F.inIteration,F.inIteration=!0,be=Pr(),F.inIteration=et,typeof X>"u"?m.createForStatement(_,E,k,be):m.createForInStatement(X,fe,be)}function ni(){var _=null,E;return he("continue"),h.charCodeAt(f)===59?(_e(),F.inIteration||U({},c.IllegalContinue),m.createContinueStatement(null)):R()?(F.inIteration||U({},c.IllegalContinue),m.createContinueStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(F.labelSet,E)||U({},c.UnknownLabel,_.name)),Be(),_===null&&!F.inIteration&&U({},c.IllegalContinue),m.createContinueStatement(_))}function Fu(){var _=null,E;return he("break"),h.charCodeAt(f)===59?(_e(),F.inIteration||F.inSwitch||U({},c.IllegalBreak),m.createBreakStatement(null)):R()?(F.inIteration||F.inSwitch||U({},c.IllegalBreak),m.createBreakStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(F.labelSet,E)||U({},c.UnknownLabel,_.name)),Be(),_===null&&!(F.inIteration||F.inSwitch)&&U({},c.IllegalBreak),m.createBreakStatement(_))}function ii(){var _=null;return he("return"),F.inFunctionBody||Z({},c.IllegalReturn),h.charCodeAt(f)===32&&W(h.charCodeAt(f+1))?(_=$t(),Be(),m.createReturnStatement(_)):R()?m.createReturnStatement(null):(ie(";")||!ie("}")&&y.type!==r.EOF&&(_=$t()),Be(),m.createReturnStatement(_))}function Cu(){var _,E;return l&&(ve(),Z({},c.StrictModeWith)),he("with"),ee("("),_=$t(),ee(")"),E=Pr(),m.createWithStatement(_,E)}function Su(){var _,E=[],k,X;for(X=y,ae("default")?(_e(),_=null):(he("case"),_=$t()),ee(":");f<g&&!(ie("}")||ae("default")||ae("case"));)k=Pr(),E.push(k);return m.markEnd(m.createSwitchCase(_,E),X)}function Bu(){var _,E,k,X,fe;if(he("switch"),ee("("),_=$t(),ee(")"),ee("{"),E=[],ie("}"))return _e(),m.createSwitchStatement(_,E);for(X=F.inSwitch,F.inSwitch=!0,fe=!1;f<g&&!ie("}");)k=Su(),k.test===null&&(fe&&U({},c.MultipleDefaultsInSwitch),fe=!0),E.push(k);return F.inSwitch=X,ee("}"),m.createSwitchStatement(_,E)}function ji(){var _;return he("throw"),R()&&U({},c.NewlineAfterThrow),_=$t(),Be(),m.createThrowStatement(_)}function On(){var _,E,k;return k=y,he("catch"),ee("("),ie(")")&&ue(y),_=Qr(),l&&H(_.name)&&Z({},c.StrictCatchVariable),ee(")"),E=ri(),m.markEnd(m.createCatchClause(_,E),k)}function gr(){var _,E=[],k=null;return he("try"),_=ri(),ae("catch")&&E.push(On()),ae("finally")&&(_e(),k=ri()),E.length===0&&!k&&U({},c.NoCatchOrFinally),m.createTryStatement(_,[],E,k)}function rr(){return he("debugger"),Be(),m.createDebuggerStatement()}function Pr(){var _=y.type,E,k,X,fe;if(_===r.EOF&&ue(y),_===r.Punctuator&&y.value==="{")return ri();if(fe=y,_===r.Punctuator)switch(y.value){case";":return m.markEnd(Ui(),fe);case"(":return m.markEnd(_u(),fe)}if(_===r.Keyword)switch(y.value){case"break":return m.markEnd(Fu(),fe);case"continue":return m.markEnd(ni(),fe);case"debugger":return m.markEnd(rr(),fe);case"do":return m.markEnd(Au(),fe);case"for":return m.markEnd(Eu(),fe);case"function":return m.markEnd(Mn(),fe);case"if":return m.markEnd(yu(),fe);case"return":return m.markEnd(ii(),fe);case"switch":return m.markEnd(Bu(),fe);case"throw":return m.markEnd(ji(),fe);case"try":return m.markEnd(gr(),fe);case"var":return m.markEnd(mu(),fe);case"while":return m.markEnd(bu(),fe);case"with":return m.markEnd(Cu(),fe)}return E=$t(),E.type===a.Identifier&&ie(":")?(_e(),X="$"+E.name,Object.prototype.hasOwnProperty.call(F.labelSet,X)&&U({},c.Redeclaration,"Label",E.name),F.labelSet[X]=!0,k=Pr(),delete F.labelSet[X],m.markEnd(m.createLabeledStatement(E,k),fe)):(Be(),m.markEnd(m.createExpressionStatement(E),fe))}function Ci(){var _,E=[],k,X,fe,be,et,lt,kt,nr;for(nr=y,ee("{");f<g&&!(y.type!==r.StringLiteral||(k=y,_=vn(),E.push(_),_.expression.type!==a.Literal));)X=h.slice(k.start+1,k.end-1),X==="use strict"?(l=!0,fe&&Z(fe,c.StrictOctalLiteral)):!fe&&k.octal&&(fe=k);for(be=F.labelSet,et=F.inIteration,lt=F.inSwitch,kt=F.inFunctionBody,F.labelSet={},F.inIteration=!1,F.inSwitch=!1,F.inFunctionBody=!0;f<g&&!(ie("}")||(_=vn(),typeof _>"u"));)E.push(_);return ee("}"),F.labelSet=be,F.inIteration=et,F.inSwitch=lt,F.inFunctionBody=kt,m.markEnd(m.createBlockStatement(E),nr)}function qn(_){var E,k=[],X,fe,be,et,lt;if(ee("("),!ie(")"))for(be={};f<g&&(X=y,E=Qr(),et="$"+X.value,l?(H(X.value)&&(fe=X,lt=c.StrictParamName),Object.prototype.hasOwnProperty.call(be,et)&&(fe=X,lt=c.StrictParamDupe)):_||(H(X.value)?(_=X,lt=c.StrictParamName):q(X.value)?(_=X,lt=c.StrictReservedWord):Object.prototype.hasOwnProperty.call(be,et)&&(_=X,lt=c.StrictParamDupe)),k.push(E),be[et]=!0,!ie(")"));)ee(",");return ee(")"),{params:k,stricted:fe,firstRestricted:_,message:lt}}function Mn(){var _,E=[],k,X,fe,be,et,lt,kt,nr;return nr=y,he("function"),X=y,_=Qr(),l?H(X.value)&&Z(X,c.StrictFunctionName):H(X.value)?(et=X,lt=c.StrictFunctionName):q(X.value)&&(et=X,lt=c.StrictReservedWord),be=qn(et),E=be.params,fe=be.stricted,et=be.firstRestricted,be.message&&(lt=be.message),kt=l,k=Ci(),l&&et&&U(et,lt),l&&fe&&Z(fe,lt),l=kt,m.markEnd(m.createFunctionDeclaration(_,E,[],k),nr)}function Si(){var _,E=null,k,X,fe,be,et=[],lt,kt,nr;return nr=y,he("function"),ie("(")||(_=y,E=Qr(),l?H(_.value)&&Z(_,c.StrictFunctionName):H(_.value)?(X=_,fe=c.StrictFunctionName):q(_.value)&&(X=_,fe=c.StrictReservedWord)),be=qn(X),et=be.params,k=be.stricted,X=be.firstRestricted,be.message&&(fe=be.message),kt=l,lt=Ci(),l&&X&&U(X,fe),l&&k&&Z(k,fe),l=kt,m.markEnd(m.createFunctionExpression(E,et,[],lt),nr)}function vn(){if(y.type===r.Keyword)switch(y.value){case"const":case"let":return Du(y.value);case"function":return Mn();default:return Pr()}if(y.type!==r.EOF)return Pr()}function en(){for(var _,E=[],k,X,fe;f<g&&(k=y,!(k.type!==r.StringLiteral||(_=vn(),E.push(_),_.expression.type!==a.Literal)));)X=h.slice(k.start+1,k.end-1),X==="use strict"?(l=!0,fe&&Z(fe,c.StrictOctalLiteral)):!fe&&k.octal&&(fe=k);for(;f<g&&(_=vn(),!(typeof _>"u"));)E.push(_);return E}function Ps(){var _,E;return ve(),pt(),E=y,l=!1,_=en(),m.markEnd(m.createProgram(_),E)}function Ou(){var _,E,k,X=[];for(_=0;_<w.tokens.length;++_)E=w.tokens[_],k={type:E.type,value:E.value},w.range&&(k.range=E.range),w.loc&&(k.loc=E.loc),X.push(k);w.tokens=X}function Vi(_,E){var k,X,fe;k=String,typeof _!="string"&&!(_ instanceof String)&&(_=k(_)),m=p,h=_,f=0,D=h.length>0?1:0,A=0,g=h.length,y=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},E=E||{},E.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]);try{if(pt(),y.type===r.EOF)return w.tokens;for(X=_e();y.type!==r.EOF;)try{X=_e()}catch(be){if(X=y,w.errors){w.errors.push(be);break}else throw be}Ou(),fe=w.tokens,typeof w.comments<"u"&&(fe.comments=w.comments),typeof w.errors<"u"&&(fe.errors=w.errors)}catch(be){throw be}finally{w={}}return fe}function Ju(_,E){var k,X;X=String,typeof _!="string"&&!(_ instanceof String)&&(_=X(_)),m=p,h=_,f=0,D=h.length>0?1:0,A=0,g=h.length,y=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof E<"u"&&(w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,w.attachComment=typeof E.attachComment=="boolean"&&E.attachComment,w.loc&&E.source!==null&&E.source!==void 0&&(w.source=X(E.source)),typeof E.tokens=="boolean"&&E.tokens&&(w.tokens=[]),typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{k=Ps(),typeof w.comments<"u"&&(k.comments=w.comments),typeof w.tokens<"u"&&(Ou(),k.tokens=w.tokens),typeof w.errors<"u"&&(k.errors=w.errors)}catch(fe){throw fe}finally{w={}}return k}e.version="1.2.5",e.tokenize=Vi,e.parse=Ju,e.Syntax=function(){var _,E={};typeof Object.create=="function"&&(E=Object.create(null));for(_ in a)a.hasOwnProperty(_)&&(E[_]=a[_]);return typeof Object.freeze=="function"&&Object.freeze(E),E}()})})(yp);var jF=yp,Th=mp,VF=0;function qF(t,e,r){this.name=t,this.lvalue=e,this.rvalue=r,this.count=0}function zF(t,e,r,i){this.body=t,this.args=e,this.thisVars=r,this.localVars=i}function WF(t){if(t==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?t in window:typeof lr<"u"?t in lr:typeof self<"u"?t in self:!1}function HF(t){for(var e=t.body[0].expression.callee.params,r=new Array(e.length),i=0;i<e.length;++i)r[i]=e[i].name;return r}function GF(t){for(var e=["(",t,")()"].join(""),r=jF.parse(e,{range:!0}),i="_inline_"+VF+++"_",u=HF(r),a=new Array(u.length),o=0;o<u.length;++o)a[o]=new qF([i,"arg",o,"_"].join(""),!1,!1);for(var c=new Array(e.length),o=0,d=e.length;o<d;++o)c[o]=e.charAt(o);var p=[],h=[];function l(O){var C=i+O.replace(/\_/g,"__");return p.push(C),C}function f(O){var C="this_"+O.replace(/\_/g,"__");return h.push(C),C}function D(O,C){for(var B=O.range[0],x=O.range[1],T=B+1;T<x;++T)c[T]="";c[B]=C}function A(O){return"'"+O.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(O){return c.slice(O.range[0],O.range[1]).join("")}var m=1,y=2;function F(O){return O.parent.type==="AssignmentExpression"&&O.parent.left===O?O.parent.operator==="="?m:m|y:O.parent.type==="UpdateExpression"?m|y:y}(function O(C,B){if(C.parent=B,C.type==="MemberExpression")C.computed?(O(C.object,C),O(C.property,C)):C.object.type==="ThisExpression"?D(C,f(C.property.name)):O(C.object,C);else{if(C.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(C.type==="Identifier"){var x=C.name,T=u.indexOf(x);if(T>=0){var I=a[T],W=F(C);W&m&&(I.lvalue=!0),W&y&&(I.rvalue=!0),++I.count,D(C,I.name)}else WF(x)||D(C,l(x))}else if(C.type==="Literal")typeof C.value=="string"&&D(C,A(C.value));else{if(C.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var K=Object.keys(C),Y=0,q=K.length;Y<q;++Y)if(K[Y]!=="parent"){var H=C[K[Y]];if(H)if(H instanceof Array)for(var j=0;j<H.length;++j)H[j]&&typeof H[j].type=="string"&&O(H[j],C);else typeof H.type=="string"&&O(H,C)}}}})(r.body[0].expression.callee.body,void 0),Th(p),Th(h);var w=new zF(g(r.body[0].expression.callee.body),a,h,p);return w}var KF=GF,dl=KF,YF=hf,ja=["args","body"],ZF=["pre","post","printCode","funcName","blockSize"];function XF(t){for(var e in t)ja.indexOf(e)<0&&ZF.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var r=0;r<ja.length;++r)if(!t[ja[r]])throw new Error("cwise: Missing argument: "+ja[r]);return YF({args:t.args,pre:dl(t.pre||function(){}),body:dl(t.body),post:dl(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}var xs=XF,JF=UF,$F=xs,QF=$F({args:["array","scalar","index"],body:function(e,r,i){var u=r,a;for(a=0;a<i.length-1;++a)u=u[i[a]];u[i[i.length-1]]=e}}),eC=function(e){var r=JF(e.shape);return QF(e,r),r},os={},tC={get exports(){return os},set exports(t){os=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,c){for(var d=new Float64Array(o*c),p=0;p<d.length;p++)d[p]=a()*1e-4;return(0,i.default)(d,[o,c])};var r=pu,i=u(r);function u(o){return o&&o.__esModule?o:{default:o}}function a(){var o=2*Math.random()-1,c=2*Math.random()-1,d=o*o+c*c;return d==0||d>1?a():o*Math.sqrt(-2*Math.log(d)/d)}t.exports=e.default})(tC,os);var Zu={},rC={get exports(){return Zu},set exports(t){Zu=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,f){var D=l.shape[0],A=(0,i.default)(new Float64Array(D*D),[D,D]);switch(f){case"euclidean":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=c(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"manhattan":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=d(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"jaccard":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=p(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"dice":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=h(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break}return A};var r=pu,i=o(r),u=xs,a=o(u);function o(l){return l&&l.__esModule?l:{default:l}}var c=(0,a.default)({args:["array","array"],pre:function(f,D){this.sum=0},body:function(f,D){var A=f-D;this.sum+=A*A},post:function(f,D){return Math.sqrt(this.sum)}}),d=(0,a.default)({args:["array","array"],pre:function(f,D){this.sum=0},body:function(f,D){this.sum+=Math.abs(f-D)},post:function(f,D){return this.sum}}),p=(0,a.default)({args:["array","array"],pre:function(f,D){this.tf=0,this.tt=0},body:function(f,D){var A=Math.round(f),g=Math.round(D);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(f,D){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),h=(0,a.default)({args:["array","array"],pre:function(f,D){this.tf=0,this.tt=0},body:function(f,D){var A=Math.round(f),g=Math.round(D);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(f,D){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});t.exports=e.default})(rC,Zu);var ls={},nC={get exports(){return ls},set exports(t){ls=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(h,l){for(var f=100,D=h.shape[0],A=(0,i.default)(new Float64Array(D*D),[D,D]),g=(0,i.default)(new Float64Array(D*D),[D,D]),m=void 0,y=void 0,F=1/0,w=Math.log(l),O=void 0,C=void 0,B=void 0,x=void 0,T=0;T<D;T++){m=1,y=-1/0,F=1/0;for(var I=0;I<f;I++){for(var W=0;W<D;W++)A.set(T,W,Math.exp(-h.get(T,W)*m));A.set(T,T,0),B=0;for(var W=0;W<D;W++)B+=A.get(T,W);B==0&&(B=c),x=0;for(var W=0;W<D;W++)A.set(T,W,A.get(T,W)/B),x+=h.get(T,W)*A.get(T,W);if(C=Math.log(B)+m*x,O=C-w,Math.abs(O)<=p)break;O>0?(y=m,F==1/0?m=m*2:m=(m+F)/2):(F=m,y==-1/0?m=m/2:m=(m+y)/2)}}a.default.add(g,A,A.transpose(1,0));var K=Math.max(a.default.sum(g),d);return a.default.divseq(g,K),a.default.maxseq(g,d),g};var r=pu,i=o(r),u=Ms,a=o(u);function o(h){return h&&h.__esModule?h:{default:h}}var c=1e-7,d=Number.EPSILON||2220446049250313e-31,p=1e-5;t.exports=e.default})(nC,ls);var fs={},iC={get exports(){return fs},set exports(t){fs=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(D,A,g){var m=D.shape[0],y=D.shape[1],F=(0,i.default)(new Float64Array(m*m),[m,m]),w=(0,p.default)(D,"euclidean");f(w);var O=(g+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(w,1),g),O);for(var C=0;C<m;C++)w.set(C,C,0);var B=Math.max(a.default.sum(w),l);a.default.divs(F,w,B),a.default.maxseq(F,l);var x=(0,i.default)(new Float64Array(m*m),[m,m]),T=(0,i.default)(new Float64Array(m*m),[m,m]);a.default.div(x,A,F),a.default.logeq(x),a.default.assign(T,A);var I=a.default.sum(a.default.muleq(x,T)),W=(0,i.default)(new Float64Array(D.size),D.shape),K=(0,i.default)(new Float64Array(m*m),[m,m]);a.default.sub(K,A,F),a.default.muleq(K,w);for(var C=0;C<m;C++)for(var Y=0;Y<y;Y++){var q=(0,i.default)(new Float64Array(D.shape[0]),[D.shape[0]]);a.default.assign(q,D.pick(null,Y)),a.default.addseq(a.default.negeq(q),D.get(C,Y)),a.default.muleq(q,K.pick(C,null)),W.set(C,Y,a.default.sum(q))}var H=2*(g+1)/g;return a.default.mulseq(W,H),[I,W]};var r=pu,i=h(r),u=Ms,a=h(u),o=xs,c=h(o),d=Zu,p=h(d);function h(D){return D&&D.__esModule?D:{default:D}}var l=Number.EPSILON||2220446049250313e-31,f=(0,c.default)({args:["array"],body:function(A){}});t.exports=e.default})(iC,fs);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function q(H,j){var G=[],te=!0,ce=!1,ve=void 0;try{for(var we=H[Symbol.iterator](),Se;!(te=(Se=we.next()).done)&&(G.push(Se.value),!(j&&G.length===j));te=!0);}catch(Te){ce=!0,ve=Te}finally{try{!te&&we.return&&we.return()}finally{if(ce)throw ve}}return G}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return q(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function q(H,j){for(var G=0;G<j.length;G++){var te=j[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(H,te.key,te)}}return function(H,j,G){return j&&q(H.prototype,j),G&&q(H,G),H}}(),u=as,a=pu,o=x(a),c=Ms,d=x(c),p=kF,h=x(p),l=eC,f=x(l),D=xs,A=x(D),g=os,m=x(g),y=Zu,F=x(y),w=ls,O=x(w),C=fs,B=x(C);function x(q){return q&&q.__esModule?q:{default:q}}function T(q){if(Array.isArray(q)){for(var H=0,j=Array(q.length);H<q.length;H++)j[H]=q[H];return j}else return Array.from(q)}function I(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function W(q,H){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:q}function K(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(q,H):q.__proto__=H)}var Y=function(q){K(H,q);function H(j){I(this,H);var G=W(this,Object.getPrototypeOf(H).call(this));return j=j||{},G.dim=j.dim||2,G.perplexity=j.perplexity||30,G.earlyExaggeration=j.earlyExaggeration||4,G.learningRate=j.learningRate||1e3,G.nIter=j.nIter||1e3,G.metric=j.metric||"euclidean",G.barneshut=j.barneshut||!1,G.inputData=null,G.outputEmbedding=null,G}return i(H,[{key:"init",value:function(G){G=G||{};var te=G.data||[],ce=G.type||"dense";if(ce==="dense")this.inputData=(0,h.default)(te);else if(ce==="sparse"){for(var ve=[],we=1,Se=function(ht){var dt=Math.max.apply(null,te.map(function(rt){return rt[ht]}))+1;ve.push(dt),we*=dt},Te=0;Te<te[0].length;Te++)Se(Te);this.inputData=(0,o.default)(new Float64Array(we),ve);var Ce=!0,Pe=!1,Ie=void 0;try{for(var Le=te[Symbol.iterator](),at;!(Ce=(at=Le.next()).done);Ce=!0){var ct,Qe=at.value;(ct=this.inputData).set.apply(ct,T(Qe).concat([1]))}}catch(it){Pe=!0,Ie=it}finally{try{!Ce&&Le.return&&Le.return()}finally{if(Pe)throw Ie}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,m.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,F.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,O.default)(this.distances,this.perplexity);var G=Number.MAX_VALUE,te=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),d.default.mulseq(this.P,this.earlyExaggeration);var ce=this._gradDesc(te,50,.5,0,0),ve=r(ce,2);G=ve[0],te=ve[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var we=this._gradDesc(te+1,100,.8,0,0),Se=r(we,2);G=Se[0],te=Se[1],this.emit("progressStatus","Final optimization with momentum 0.8"),d.default.divseq(this.P,this.earlyExaggeration);var Te=this._gradDesc(te+1,this.nIter,.8,1e-6,1e-6),Ce=r(Te,2);return G=Ce[0],te=Ce[1],this.emit("progressStatus","Optimization end"),[G,te]}},{key:"rerun",value:function(){this.outputEmbedding=(0,m.default)(this.inputData.shape[0],this.dim);var G=this.run(),te=r(G,2),ce=te[0],ve=te[1];return[ce,ve]}},{key:"getOutput",value:function(){return(0,f.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var G=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),te=(0,o.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),ce=0;ce<this.outputEmbedding.shape[1];ce++){var ve=d.default.sup(d.default.abs(te,this.outputEmbedding.pick(null,ce)));d.default.divs(G.pick(null,ce),this.outputEmbedding.pick(null,ce),ve)}return(0,f.default)(G)}},{key:"_gradDesc",value:function(G,te,ce){for(var ve=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],we=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],Se=30,Te=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),Ce=new Float64Array(this.outputEmbedding.size),Pe=0;Pe<Ce.length;Pe++)Ce[Pe]=1;var Ie=(0,o.default)(Ce,this.outputEmbedding.shape),Le=Number.MAX_VALUE,at=Number.MAX_VALUE,ct=0,Qe=(0,A.default)({args:["array"],pre:function(pt){this.sum=0},body:function(pt){this.sum+=pt*pt},post:function(pt){return Math.sqrt(this.sum)}}),it=(0,A.default)({args:["array","array","array"],body:function(pt,Nt,ar){}}),ht=void 0;for(ht=G;ht<te;ht++){var dt=(0,B.default)(this.outputEmbedding,this.P,this.alpha),rt=r(dt,2),Je=rt[0],At=rt[1],Ar=Math.abs(Je-Le);Le=Je;var wt=Qe(At);if(this.emit("progressIter",[ht,Le,wt]),Le<at)at=Le,ct=ht;else if(ht-ct>Se)break;if(ve>=wt||we>=Ar)break;it(Ie,Te,At),d.default.muleq(At,Ie);var ye=(0,o.default)(new Float64Array(At.size),At.shape);d.default.muls(ye,At,this.learningRate),d.default.mulseq(Te,ce),d.default.subeq(Te,ye),d.default.addeq(this.outputEmbedding,Te),this.emit("progressData",this.getOutputScaled())}return[Le,ht]}}]),H}(u.EventEmitter);e.default=Y,t.exports=e.default})(Q2,us);const uC=Zl(us);function aC(t){let e,r,i,u={ctx:t,current:null,token:null,hasCatch:!0,pending:fC,then:lC,catch:oC,value:18,error:19,blocks:[,,,]};return Di(r=t[6],u),{c(){e=tr(),u.block.c()},l(a){e=tr(),u.block.l(a)},m(a,o){Ee(a,e,o),u.block.m(a,u.anchor=o),u.mount=()=>e.parentNode,u.anchor=e,i=!0},p(a,o){t=a,u.ctx=t,o&64&&r!==(r=t[6])&&Di(r,u)||vs(u,t,o)},i(a){i||(ke(u.block),i=!0)},o(a){for(let o=0;o<3;o+=1){const c=u.blocks[o];ze(c)}i=!1},d(a){a&&V(e),u.block.d(a),u.token=null,u=null}}}function sC(t){let e,r,i,u,a;return{c(){e=se("div"),r=se("div"),i=se("div"),u=se("p"),a=Ge("Set OpenAI key in settings to use embedding map."),this.h()},l(o){e=oe(o,"DIV",{class:!0});var c=ne(e);r=oe(c,"DIV",{class:!0});var d=ne(r);i=oe(d,"DIV",{class:!0});var p=ne(i);u=oe(p,"P",{class:!0});var h=ne(u);a=Ke(h,"Set OpenAI key in settings to use embedding map."),h.forEach(V),p.forEach(V),d.forEach(V),c.forEach(V),this.h()},h(){N(u,"class","text-center text-lg"),N(i,"class","h-20 w-52"),N(r,"class","flex flex-col justify-center"),N(e,"class","w-full h-full flex justify-center")},m(o,c){Ee(o,e,c),Q(e,r),Q(r,i),Q(i,u),Q(u,a)},p:xe,i:xe,o:xe,d(o){o&&V(e)}}}function oC(t){let e,r=t[19].message+"",i;return{c(){e=se("p"),i=Ge(r),this.h()},l(u){e=oe(u,"P",{style:!0});var a=ne(e);i=Ke(a,r),a.forEach(V),this.h()},h(){Wt(e,"color","red")},m(u,a){Ee(u,e,a),Q(e,i)},p(u,a){a&64&&r!==(r=u[19].message+"")&&wn(i,r)},i:xe,o:xe,d(u){u&&V(e)}}}function lC(t){let e,r,i,u,a,o,c,d,p,h,l,f,D,A,g,m,y,F,w,O,C,B,x,T,I,W,K;r=new PE({props:{dimensions:t[3],center:t[8]}});let Y=t[4].embedExponentialScaling&&Ih(t);return{c(){e=se("div"),mt(r.$$.fragment),u=Ze(),a=se("div"),o=se("div"),c=se("label"),d=se("span"),p=Ge("Exponential Scaling"),h=Ze(),l=se("input"),D=Ze(),Y&&Y.c(),A=Ze(),g=se("div"),m=se("label"),y=se("span"),F=Ge("# Prompts"),w=Ze(),O=se("input"),C=Ze(),B=se("div"),x=se("button"),T=Ge("Shuffle"),this.h()},l(q){e=oe(q,"DIV",{class:!0});var H=ne(e);Dt(r.$$.fragment,H),H.forEach(V),u=Xe(q),a=oe(q,"DIV",{class:!0});var j=ne(a);o=oe(j,"DIV",{class:!0});var G=ne(o);c=oe(G,"LABEL",{class:!0});var te=ne(c);d=oe(te,"SPAN",{class:!0});var ce=ne(d);p=Ke(ce,"Exponential Scaling"),ce.forEach(V),te.forEach(V),h=Xe(G),l=oe(G,"INPUT",{type:!0,class:!0}),G.forEach(V),D=Xe(j),Y&&Y.l(j),A=Xe(j),g=oe(j,"DIV",{class:!0});var ve=ne(g);m=oe(ve,"LABEL",{class:!0});var we=ne(m);y=oe(we,"SPAN",{class:!0});var Se=ne(y);F=Ke(Se,"# Prompts"),Se.forEach(V),we.forEach(V),w=Xe(ve),O=oe(ve,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ve.forEach(V),C=Xe(j),B=oe(j,"DIV",{class:!0});var Te=ne(B);x=oe(Te,"BUTTON",{class:!0});var Ce=ne(x);T=Ke(Ce,"Shuffle"),Ce.forEach(V),Te.forEach(V),j.forEach(V),this.h()},h(){N(e,"class","w-full h-full"),Wl(()=>t[14].call(e)),N(d,"class","label-text"),N(c,"class","label"),N(l,"type","checkbox"),N(l,"class","toggle"),l.checked=f=t[4].embedExponentialScaling,N(o,"class","min-w-max px-2"),N(y,"class","label-text"),N(m,"class","label"),O.value=t[9],N(O,"type","range"),N(O,"min","1"),N(O,"max",t[2]),N(O,"step","1"),N(O,"class","range"),N(g,"class","w-full px-2"),N(x,"class","btn btn-sm btn-primary"),N(B,"class","w-32 px-2 pb-1 flex flex-col justify-end"),N(a,"class","px-2 py-4 pb-0 flex")},m(q,H){Ee(q,e,H),_t(r,e,null),i=Hl(e,t[14].bind(e)),Ee(q,u,H),Ee(q,a,H),Q(a,o),Q(o,c),Q(c,d),Q(d,p),Q(o,h),Q(o,l),Q(a,D),Y&&Y.m(a,null),Q(a,A),Q(a,g),Q(g,m),Q(m,y),Q(y,F),Q(g,w),Q(g,O),Q(a,C),Q(a,B),Q(B,x),Q(x,T),I=!0,W||(K=[Re(l,"change",t[11]),Re(O,"change",t[10]),Re(x,"click",t[13])],W=!0)},p(q,H){const j={};H&8&&(j.dimensions=q[3]),H&256&&(j.center=q[8]),r.$set(j),(!I||H&16&&f!==(f=q[4].embedExponentialScaling))&&(l.checked=f),q[4].embedExponentialScaling?Y?Y.p(q,H):(Y=Ih(q),Y.c(),Y.m(a,A)):Y&&(Y.d(1),Y=null),(!I||H&512)&&(O.value=q[9]),(!I||H&4)&&N(O,"max",q[2])},i(q){I||(ke(r.$$.fragment,q),I=!0)},o(q){ze(r.$$.fragment,q),I=!1},d(q){q&&V(e),yt(r),i(),q&&V(u),q&&V(a),Y&&Y.d(),W=!1,Jr(K)}}}function Ih(t){let e,r,i,u,a,o,c,d,p;return{c(){e=se("div"),r=se("label"),i=se("span"),u=Ge("Scaling Power"),a=Ze(),o=se("input"),this.h()},l(h){e=oe(h,"DIV",{class:!0});var l=ne(e);r=oe(l,"LABEL",{class:!0});var f=ne(r);i=oe(f,"SPAN",{class:!0});var D=ne(i);u=Ke(D,"Scaling Power"),D.forEach(V),f.forEach(V),a=Xe(l),o=oe(l,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),l.forEach(V),this.h()},h(){N(i,"class","label-text"),N(r,"class","label"),o.value=c=t[4].embedWeightScaling,N(o,"type","range"),N(o,"min","0.5"),N(o,"max","3"),N(o,"step","0.1"),N(o,"class","range"),N(e,"class","w-full px-2")},m(h,l){Ee(h,e,l),Q(e,r),Q(r,i),Q(i,u),Q(e,a),Q(e,o),d||(p=Re(o,"change",t[12]),d=!0)},p(h,l){l&16&&c!==(c=h[4].embedWeightScaling)&&(o.value=c)},d(h){h&&V(e),d=!1,p()}}}function fC(t){let e,r,i,u,a,o;return{c(){e=se("div"),r=se("div"),i=se("div"),u=se("progress"),this.h()},l(c){e=oe(c,"DIV",{class:!0});var d=ne(e);r=oe(d,"DIV",{class:!0});var p=ne(r);i=oe(p,"DIV",{class:!0});var h=ne(i);u=oe(h,"PROGRESS",{class:!0,max:!0}),ne(u).forEach(V),h.forEach(V),p.forEach(V),d.forEach(V),this.h()},h(){N(u,"class","progress progress-primary w-56"),u.value=a=Object.keys(t[7]).length,N(u,"max",o=Object.keys(t[4].weightedPrompts).length),N(i,"class","h-20 w-52"),N(r,"class","flex flex-col justify-center"),N(e,"class","w-full h-full flex justify-center")},m(c,d){Ee(c,e,d),Q(e,r),Q(r,i),Q(i,u)},p(c,d){d&128&&a!==(a=Object.keys(c[7]).length)&&(u.value=a),d&16&&o!==(o=Object.keys(c[4].weightedPrompts).length)&&N(u,"max",o)},i:xe,o:xe,d(c){c&&V(e)}}}function cC(t){let e,r,i,u;const a=[sC,aC],o=[];function c(d,p){return d[5]?1:0}return e=c(t),r=o[e]=a[e](t),{c(){r.c(),i=tr()},l(d){r.l(d),i=tr()},m(d,p){o[e].m(d,p),Ee(d,i,p),u=!0},p(d,[p]){let h=e;e=c(d),e===h?o[e].p(d,p):(Nn(),ze(o[h],1,1,()=>{o[h]=null}),kn(),r=o[e],r?r.p(d,p):(r=o[e]=a[e](d),r.c()),ke(r,1),r.m(i.parentNode,i))},i(d){u||(ke(r),u=!0)},o(d){ze(r),u=!1},d(d){o[e].d(d),d&&V(i)}}}function Nh(t){return!t.embeddings||Object.entries(t.embeddings).length!==Object.entries(t.weightedPrompts).length||(t.lastPromptChange||0)>(t.lastEmbeddingChange||0)}function hC(t,e,r){let i,u,a,o,c,d,p;xt(t,Cn,C=>r(4,c=C)),xt(t,cf,C=>r(5,d=C)),xt(t,sp,C=>r(15,p=C));let h=0,l=0,f=null,D={};function A(C){C.target.value>0&&C.target.value<=i&&It.updateActivePrompt({...c,embedPromptLimit:C.target.value})}function g(C){It.updateActivePrompt({...c,embedExponentialScaling:!c.embedExponentialScaling})}function m(C){It.updateActivePrompt({...c,embedWeightScaling:C.target.value})}function y(C){let B=new uC({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:5e3,metric:"euclidean"});const x=Object.keys(C),T=Object.values(C);B.init({data:T,type:"dense"}),B.run();let W=B.getOutputScaled().map(([Y,q])=>[(Y+1)/2,(q+1)/2]);return x.reduce((Y,q,H)=>(Y[q]=W[H],Y),{})}async function F(){It.updateActivePrompt({...c,scaledEmbedMappings:y(c.embeddings)})}async function w(){if(!d||!c.weightedPrompts)return;const C=Object.entries(c.weightedPrompts).map(([x,T])=>[x,T.text]),B=ff(d);r(7,D={});for(let x of C){const T=await Z2(B,x[1],p);r(7,D[x[0]]=T.data.data[0].embedding,D)}It.updateActivePrompt({...c,embeddings:D,lastEmbeddingChange:Date.now(),scaledEmbedMappings:y(D)})}Cy(()=>{console.log(c.embedPromptLimit,i)}),Sy(()=>{console.log(c.embedPromptLimit,i)}),By(()=>{console.log(c.embedPromptLimit,i),d&&Nh(c)&&r(6,f=w())});function O(){h=this.clientWidth,l=this.clientHeight,r(0,h),r(1,l)}return t.$$.update=()=>{t.$$.dirty&16&&r(2,i=Object.keys(c.weightedPrompts||{}).length),t.$$.dirty&20&&r(9,u=c.embedPromptLimit||i),t.$$.dirty&3&&r(3,a=[h||250,l||250]),t.$$.dirty&8&&r(8,o=rf(a)),t.$$.dirty&48&&d&&Nh(c)&&r(6,f=w())},[h,l,i,a,c,d,f,D,o,u,A,g,m,F,O]}class dC extends Yt{constructor(e){super(),Zt(this,e,hC,cC,Xt,{})}}const Va="zeroPromptHandlingStore";function pC(){const t=Fn(!1),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[Va]?JSON.parse(localStorage[Va]):!1),{subscribe:e,update:a=>{u&&(localStorage[Va]=JSON.stringify(!!a),r(!!a))},get:()=>Pt(t),delete:()=>{u&&(delete localStorage[Va],r(!1))}}}const Ul=pC(),Ap=En(Ul,t=>Pt(Ul));function kh(t,e,r){const i=t.slice();return i[8]=e[r][0],i[9]=e[r][1],i}function Rh(t,e){let r,i=e[9].text+"",u,a,o,c=ti(e[9],e[1].weightMode)+"",d,p,h;return{key:t,first:null,c(){r=se("span"),u=Ge(i),a=Ge("::"),o=se("b"),d=Ge(c),p=Ze(),this.h()},l(l){r=oe(l,"SPAN",{style:!0});var f=ne(r);u=Ke(f,i),a=Ke(f,"::"),o=oe(f,"B",{});var D=ne(o);d=Ke(D,c),p=Xe(D),D.forEach(V),f.forEach(V),this.h()},h(){N(r,"style",h=`color: rgba(255,255,255,${e[3](e[9][e[0]])});`),this.first=r},m(l,f){Ee(l,r,f),Q(r,u),Q(r,a),Q(r,o),Q(o,d),Q(o,p)},p(l,f){e=l,f&6&&i!==(i=e[9].text+"")&&wn(u,i),f&6&&c!==(c=ti(e[9],e[1].weightMode)+"")&&wn(d,c),f&7&&h!==(h=`color: rgba(255,255,255,${e[3](e[9][e[0]])});`)&&N(r,"style",h)},d(l){l&&V(r)}}}function vC(t){let e,r,i=[],u=new Map,a,o,c=Object.entries(t[1].weightedPrompts).filter(t[6]);const d=p=>p[8];for(let p=0;p<c.length;p+=1){let h=kh(t,c,p),l=d(h);u.set(l,i[p]=Rh(l,h))}return{c(){e=se("div"),r=se("p");for(let p=0;p<i.length;p+=1)i[p].c();this.h()},l(p){e=oe(p,"DIV",{class:!0});var h=ne(e);r=oe(h,"P",{class:!0});var l=ne(r);for(let f=0;f<i.length;f+=1)i[f].l(l);l.forEach(V),h.forEach(V),this.h()},h(){N(r,"class","text-sm select-none"),N(e,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-md p-4 w-full h-32 overflow-y-auto hover:bg-slate-800 active:bg-slate-950")},m(p,h){Ee(p,e,h),Q(e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,null);a||(o=Re(e,"click",t[4]),a=!0)},p(p,[h]){h&15&&(c=Object.entries(p[1].weightedPrompts).filter(p[6]),i=Ai(i,h,d,1,p,c,u,r,du,Rh,null,kh))},i:xe,o:xe,d(p){p&&V(e);for(let h=0;h<i.length;h+=1)i[h].d();a=!1,o()}}}function gC(t,e,r){let i,u,a,o;xt(t,Cn,l=>r(1,a=l)),xt(t,Ap,l=>r(2,o=l));let c="parsedWeight";function d(l){return((l/i/u+.75)/2).toFixed(2)}function p(){const l=Object.entries(a.weightedPrompts).filter(f=>o||ti(f[1],a.weightMode)).map(([f,D])=>`${D.text}::${ti(D,a.weightMode)}`).join(" ");navigator.clipboard.writeText(l)}const h=l=>o||ti(l[1],a.weightMode);return t.$$.update=()=>{if(t.$$.dirty&2)switch(a.weightMode){case"circle":r(0,c="circleWeight");break;case"bars":r(0,c="barWeight");break;case"embed":r(0,c="embedWeight");break}t.$$.dirty&3&&r(5,i=Object.values(a.weightedPrompts).reduce((l,f)=>f[c]+l,0)),t.$$.dirty&35&&(u=Math.max(...Object.values(a.weightedPrompts).map(l=>l[c]/i)))},[c,a,o,d,p,i,h]}class mC extends Yt{constructor(e){super(),Zt(this,e,gC,vC,Xt,{})}}function DC(t){let e,r,i,u;return{c(){e=Gt("svg"),r=Gt("rect"),i=Gt("rect"),u=Gt("rect"),this.h()},l(a){e=Kt(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var o=ne(e);r=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(r).forEach(V),i=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(i).forEach(V),u=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(u).forEach(V),o.forEach(V),this.h()},h(){N(r,"x","5"),N(r,"y","12"),N(r,"width","40"),N(r,"height","4"),N(r,"fill","rgba(255,255,255, 0.7)"),N(i,"x","5"),N(i,"y","23"),N(i,"width","30"),N(i,"height","4"),N(i,"fill","rgba(255,255,255, 0.7)"),N(u,"x","5"),N(u,"y","34"),N(u,"width","35"),N(u,"height","4"),N(u,"fill","rgba(255,255,255, 0.7)"),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"fill","rgba(255,255,255, 0.7)"),N(e,"class","h-6 w-6"),N(e,"viewBox","0 0 50 50")},m(a,o){Ee(a,e,o),Q(e,r),Q(e,i),Q(e,u)},p:xe,i:xe,o:xe,d(a){a&&V(e)}}}class _C extends Yt{constructor(e){super(),Zt(this,e,null,DC,Xt,{})}}function yC(t){let e,r,i;return{c(){e=Gt("svg"),r=Gt("circle"),i=Gt("circle"),this.h()},l(u){e=Kt(u,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var a=ne(e);r=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ne(r).forEach(V),i=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ne(i).forEach(V),a.forEach(V),this.h()},h(){N(r,"cx","25"),N(r,"cy","25"),N(r,"r","20"),N(r,"stroke","rgba(255,255,255, 0.7)"),N(r,"stroke-width","2"),N(r,"fill","none"),N(i,"cx","25"),N(i,"cy","25"),N(i,"r","2"),N(i,"stroke","rgba(255,255,255, 0.7)"),N(i,"stroke-width","1"),N(i,"fill","rgba(255,255,255, 0.7)"),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"fill","rgba(255,255,255, 0.7)"),N(e,"class","h-6 w-6"),N(e,"viewBox","0 0 50 50")},m(u,a){Ee(u,e,a),Q(e,r),Q(e,i)},p:xe,i:xe,o:xe,d(u){u&&V(e)}}}class AC extends Yt{constructor(e){super(),Zt(this,e,null,yC,Xt,{})}}function bC(t){let e,r,i,u,a,o;return{c(){e=Gt("svg"),r=Gt("circle"),i=Gt("circle"),u=Gt("circle"),a=Gt("circle"),o=Gt("circle"),this.h()},l(c){e=Kt(c,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var d=ne(e);r=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(r).forEach(V),i=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(i).forEach(V),u=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(u).forEach(V),a=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(a).forEach(V),o=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(o).forEach(V),d.forEach(V),this.h()},h(){N(r,"cx","20"),N(r,"cy","80"),N(r,"r","5"),N(r,"fill","rgba(255,255,255, 0.7)"),N(i,"cx","40"),N(i,"cy","40"),N(i,"r","5"),N(i,"fill","rgba(255,255,255, 0.7)"),N(u,"cx","70"),N(u,"cy","20"),N(u,"r","5"),N(u,"fill","rgba(255,255,255, 0.7)"),N(a,"cx","80"),N(a,"cy","60"),N(a,"r","5"),N(a,"fill","rgba(255,255,255, 0.7)"),N(o,"cx","60"),N(o,"cy","75"),N(o,"r","5"),N(o,"fill","rgba(255,255,255, 0.7)"),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"fill","rgba(255,255,255, 0.7)"),N(e,"class","h-6 w-6"),N(e,"viewBox","0 0 100 100")},m(c,d){Ee(c,e,d),Q(e,r),Q(e,i),Q(e,u),Q(e,a),Q(e,o)},p:xe,i:xe,o:xe,d(c){c&&V(e)}}}class wC extends Yt{constructor(e){super(),Zt(this,e,null,bC,Xt,{})}}function EC(t){let e,r;return e=new dC({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function FC(t){let e,r;return e=new AE({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function CC(t){let e,r;return e=new OE({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function SC(t){let e,r,i,u,a,o,c,d,p,h,l,f,D,A,g,m,y,F,w,O,C,B,x;a=new _C({}),p=new AC({}),D=new wC({});const T=[CC,FC,EC],I=[];function W(K,Y){return K[0].weightMode==="bars"?0:K[0].weightMode==="circle"?1:K[0].weightMode==="embed"?2:-1}return~(m=W(t))&&(y=I[m]=T[m](t)),O=new mC({}),{c(){e=se("div"),r=se("div"),i=se("div"),u=se("button"),mt(a.$$.fragment),c=Ze(),d=se("button"),mt(p.$$.fragment),l=Ze(),f=se("button"),mt(D.$$.fragment),g=Ze(),y&&y.c(),F=Ze(),w=se("div"),mt(O.$$.fragment),this.h()},l(K){e=oe(K,"DIV",{class:!0});var Y=ne(e);r=oe(Y,"DIV",{class:!0});var q=ne(r);i=oe(q,"DIV",{class:!0});var H=ne(i);u=oe(H,"BUTTON",{class:!0});var j=ne(u);Dt(a.$$.fragment,j),j.forEach(V),c=Xe(H),d=oe(H,"BUTTON",{class:!0});var G=ne(d);Dt(p.$$.fragment,G),G.forEach(V),l=Xe(H),f=oe(H,"BUTTON",{class:!0});var te=ne(f);Dt(D.$$.fragment,te),te.forEach(V),H.forEach(V),g=Xe(q),y&&y.l(q),F=Xe(q),w=oe(q,"DIV",{class:!0});var ce=ne(w);Dt(O.$$.fragment,ce),ce.forEach(V),q.forEach(V),Y.forEach(V),this.h()},h(){N(u,"class",o=t[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"),N(d,"class",h=t[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"),N(f,"class",A=t[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"),N(i,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),N(w,"class","h-48 w-full p-4 flex flex-col"),N(r,"class","flex flex-col h-full place-content-between"),N(e,"class","w-full h-full flex flex-col")},m(K,Y){Ee(K,e,Y),Q(e,r),Q(r,i),Q(i,u),_t(a,u,null),Q(i,c),Q(i,d),_t(p,d,null),Q(i,l),Q(i,f),_t(D,f,null),Q(r,g),~m&&I[m].m(r,null),Q(r,F),Q(r,w),_t(O,w,null),C=!0,B||(x=[Re(u,"click",t[2]),Re(d,"click",t[3]),Re(f,"click",t[4])],B=!0)},p(K,[Y]){(!C||Y&1&&o!==(o=K[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"))&&N(u,"class",o),(!C||Y&1&&h!==(h=K[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"))&&N(d,"class",h),(!C||Y&1&&A!==(A=K[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"))&&N(f,"class",A);let q=m;m=W(K),m!==q&&(y&&(Nn(),ze(I[q],1,1,()=>{I[q]=null}),kn()),~m?(y=I[m],y||(y=I[m]=T[m](K),y.c()),ke(y,1),y.m(r,F)):y=null)},i(K){C||(ke(a.$$.fragment,K),ke(p.$$.fragment,K),ke(D.$$.fragment,K),ke(y),ke(O.$$.fragment,K),C=!0)},o(K){ze(a.$$.fragment,K),ze(p.$$.fragment,K),ze(D.$$.fragment,K),ze(y),ze(O.$$.fragment,K),C=!1},d(K){K&&V(e),yt(a),yt(p),yt(D),~m&&I[m].d(),yt(O),B=!1,Jr(x)}}}function BC(t,e,r){let i;xt(t,Cn,d=>r(0,i=d));function u(d){const p={...i,weightMode:d};It.updateActivePrompt(p)}return[i,u,()=>u("bars"),()=>u("circle"),()=>u("embed")]}class OC extends Yt{constructor(e){super(),Zt(this,e,BC,SC,Xt,{})}}function MC(){const t=Fn({}),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("prompt")){const c=o.split("_")[1];a[c]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:e,updatePrompt:(a,o)=>{const c=Pt(t),p={...c[a]||{},...o};u&&(localStorage[`prompt_${a}`]=JSON.stringify(p));const h={...c,[a]:p};r(h)},getPrompt:a=>Pt(t)[a],deletePrompt:a=>{u&&delete localStorage[`prompt_${a}`];const o={...Pt(t)};delete o[a],r(o)}}}const cs=MC(),xC=En(cs,t=>Object.entries(Pt(cs)));var hs={},PC={get exports(){return hs},set exports(t){hs=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,i="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",l=1,f=2,D=4,A=1,g=2,m=1,y=2,F=4,w=8,O=16,C=32,B=64,x=128,T=256,I=512,W=30,K="...",Y=800,q=16,H=1,j=2,G=3,te=1/0,ce=9007199254740991,ve=17976931348623157e292,we=0/0,Se=4294967295,Te=Se-1,Ce=Se>>>1,Pe=[["ary",x],["bind",m],["bindKey",y],["curry",w],["curryRight",O],["flip",I],["partial",C],["partialRight",B],["rearg",T]],Ie="[object Arguments]",Le="[object Array]",at="[object AsyncFunction]",ct="[object Boolean]",Qe="[object Date]",it="[object DOMException]",ht="[object Error]",dt="[object Function]",rt="[object GeneratorFunction]",Je="[object Map]",At="[object Number]",Ar="[object Null]",wt="[object Object]",ye="[object Promise]",_e="[object Proxy]",pt="[object RegExp]",Nt="[object Set]",ar="[object String]",R="[object Symbol]",U="[object Undefined]",Z="[object WeakMap]",ue="[object WeakSet]",ee="[object ArrayBuffer]",he="[object DataView]",ie="[object Float32Array]",ae="[object Float64Array]",De="[object Int8Array]",Be="[object Int16Array]",We="[object Int32Array]",Ae="[object Uint8Array]",Lt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",Jt="[object Uint32Array]",Ut=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,sr=/[&<>"']/g,or=RegExp(vr.source),$r=RegExp(sr.source),fr=/<%-([\s\S]+?)%>/g,pn=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bn=/^\w*$/,Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ei=/[\\^$.*+?()[\]{}|]/g,vu=RegExp(Ei.source),br=/^\s+/,$t=/\s/,gu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ri=/\{\n\/\* \[wrapped with (.+)\] \*/,Qr=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fi=/[()=,{}\[\]\/\s]/,mu=/\\(\\)?/g,Du=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ui=/\w*$/,_u=/^[-+]0x[0-9a-f]+$/i,yu=/^0b[01]+$/i,Au=/^\[object .+?Constructor\]$/,bu=/^0o[0-7]+$/i,wu=/^(?:0|[1-9]\d*)$/,Eu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ni=/($^)/,Fu=/['\n\r\u2028\u2029\\]/g,ii="\\ud800-\\udfff",Cu="\\u0300-\\u036f",Su="\\ufe20-\\ufe2f",Bu="\\u20d0-\\u20ff",ji=Cu+Su+Bu,On="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",rr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ci="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mn="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",vn=rr+Pr+Ci+qn,en="['’]",Ps="["+ii+"]",Ou="["+vn+"]",Vi="["+ji+"]",Ju="\\d+",_="["+On+"]",E="["+gr+"]",k="[^"+ii+vn+Ju+On+gr+Mn+"]",X="\\ud83c[\\udffb-\\udfff]",fe="(?:"+Vi+"|"+X+")",be="[^"+ii+"]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+Mn+"]",nr="\\u200d",df="(?:"+E+"|"+k+")",Bp="(?:"+kt+"|"+k+")",pf="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",vf="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",gf=fe+"?",mf="["+Si+"]?",Op="(?:"+nr+"(?:"+[be,et,lt].join("|")+")"+mf+gf+")*",Mp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Df=mf+gf+Op,Pp="(?:"+[_,et,lt].join("|")+")"+Df,Tp="(?:"+[be+Vi+"?",Vi,et,lt,Ps].join("|")+")",Ip=RegExp(en,"g"),Np=RegExp(Vi,"g"),Ts=RegExp(X+"(?="+X+")|"+Tp+Df,"g"),kp=RegExp([kt+"?"+E+"+"+pf+"(?="+[Ou,kt,"$"].join("|")+")",Bp+"+"+vf+"(?="+[Ou,kt+df,"$"].join("|")+")",kt+"?"+df+"+"+pf,kt+"+"+vf,xp,Mp,Ju,Pp].join("|"),"g"),Rp=RegExp("["+nr+ii+ji+Si+"]"),Lp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Up=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jp=-1,Tt={};Tt[ie]=Tt[ae]=Tt[De]=Tt[Be]=Tt[We]=Tt[Ae]=Tt[Lt]=Tt[Ot]=Tt[Jt]=!0,Tt[Ie]=Tt[Le]=Tt[ee]=Tt[ct]=Tt[he]=Tt[Qe]=Tt[ht]=Tt[dt]=Tt[Je]=Tt[At]=Tt[wt]=Tt[pt]=Tt[Nt]=Tt[ar]=Tt[Z]=!1;var Mt={};Mt[Ie]=Mt[Le]=Mt[ee]=Mt[he]=Mt[ct]=Mt[Qe]=Mt[ie]=Mt[ae]=Mt[De]=Mt[Be]=Mt[We]=Mt[Je]=Mt[At]=Mt[wt]=Mt[pt]=Mt[Nt]=Mt[ar]=Mt[R]=Mt[Ae]=Mt[Lt]=Mt[Ot]=Mt[Jt]=!0,Mt[ht]=Mt[dt]=Mt[Z]=!1;var Vp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hp=parseFloat,Gp=parseInt,_f=typeof lr=="object"&&lr&&lr.Object===Object&&lr,Kp=typeof self=="object"&&self&&self.Object===Object&&self,wr=_f||Kp||Function("return this")(),Is=e&&!e.nodeType&&e,Bi=Is&&!0&&t&&!t.nodeType&&t,yf=Bi&&Bi.exports===Is,Ns=yf&&_f.process,tn=function(){try{var J=Bi&&Bi.require&&Bi.require("util").types;return J||Ns&&Ns.binding&&Ns.binding("util")}catch{}}(),Af=tn&&tn.isArrayBuffer,bf=tn&&tn.isDate,wf=tn&&tn.isMap,Ef=tn&&tn.isRegExp,Ff=tn&&tn.isSet,Cf=tn&&tn.isTypedArray;function Wr(J,le,re){switch(re.length){case 0:return J.call(le);case 1:return J.call(le,re[0]);case 2:return J.call(le,re[0],re[1]);case 3:return J.call(le,re[0],re[1],re[2])}return J.apply(le,re)}function Yp(J,le,re,Oe){for(var Ye=-1,vt=J==null?0:J.length;++Ye<vt;){var cr=J[Ye];le(Oe,cr,re(cr),J)}return Oe}function rn(J,le){for(var re=-1,Oe=J==null?0:J.length;++re<Oe&&le(J[re],re,J)!==!1;);return J}function Zp(J,le){for(var re=J==null?0:J.length;re--&&le(J[re],re,J)!==!1;);return J}function Sf(J,le){for(var re=-1,Oe=J==null?0:J.length;++re<Oe;)if(!le(J[re],re,J))return!1;return!0}function ui(J,le){for(var re=-1,Oe=J==null?0:J.length,Ye=0,vt=[];++re<Oe;){var cr=J[re];le(cr,re,J)&&(vt[Ye++]=cr)}return vt}function $u(J,le){var re=J==null?0:J.length;return!!re&&qi(J,le,0)>-1}function ks(J,le,re){for(var Oe=-1,Ye=J==null?0:J.length;++Oe<Ye;)if(re(le,J[Oe]))return!0;return!1}function Rt(J,le){for(var re=-1,Oe=J==null?0:J.length,Ye=Array(Oe);++re<Oe;)Ye[re]=le(J[re],re,J);return Ye}function ai(J,le){for(var re=-1,Oe=le.length,Ye=J.length;++re<Oe;)J[Ye+re]=le[re];return J}function Rs(J,le,re,Oe){var Ye=-1,vt=J==null?0:J.length;for(Oe&&vt&&(re=J[++Ye]);++Ye<vt;)re=le(re,J[Ye],Ye,J);return re}function Xp(J,le,re,Oe){var Ye=J==null?0:J.length;for(Oe&&Ye&&(re=J[--Ye]);Ye--;)re=le(re,J[Ye],Ye,J);return re}function Ls(J,le){for(var re=-1,Oe=J==null?0:J.length;++re<Oe;)if(le(J[re],re,J))return!0;return!1}var Jp=Us("length");function $p(J){return J.split("")}function Qp(J){return J.match(Vn)||[]}function Bf(J,le,re){var Oe;return re(J,function(Ye,vt,cr){if(le(Ye,vt,cr))return Oe=vt,!1}),Oe}function Qu(J,le,re,Oe){for(var Ye=J.length,vt=re+(Oe?1:-1);Oe?vt--:++vt<Ye;)if(le(J[vt],vt,J))return vt;return-1}function qi(J,le,re){return le===le?c1(J,le,re):Qu(J,Of,re)}function e1(J,le,re,Oe){for(var Ye=re-1,vt=J.length;++Ye<vt;)if(Oe(J[Ye],le))return Ye;return-1}function Of(J){return J!==J}function Mf(J,le){var re=J==null?0:J.length;return re?Vs(J,le)/re:we}function Us(J){return function(le){return le==null?r:le[J]}}function js(J){return function(le){return J==null?r:J[le]}}function xf(J,le,re,Oe,Ye){return Ye(J,function(vt,cr,St){re=Oe?(Oe=!1,vt):le(re,vt,cr,St)}),re}function t1(J,le){var re=J.length;for(J.sort(le);re--;)J[re]=J[re].value;return J}function Vs(J,le){for(var re,Oe=-1,Ye=J.length;++Oe<Ye;){var vt=le(J[Oe]);vt!==r&&(re=re===r?vt:re+vt)}return re}function qs(J,le){for(var re=-1,Oe=Array(J);++re<J;)Oe[re]=le(re);return Oe}function r1(J,le){return Rt(le,function(re){return[re,J[re]]})}function Pf(J){return J&&J.slice(0,kf(J)+1).replace(br,"")}function Hr(J){return function(le){return J(le)}}function zs(J,le){return Rt(le,function(re){return J[re]})}function Mu(J,le){return J.has(le)}function Tf(J,le){for(var re=-1,Oe=J.length;++re<Oe&&qi(le,J[re],0)>-1;);return re}function If(J,le){for(var re=J.length;re--&&qi(le,J[re],0)>-1;);return re}function n1(J,le){for(var re=J.length,Oe=0;re--;)J[re]===le&&++Oe;return Oe}var i1=js(Vp),u1=js(qp);function a1(J){return"\\"+Wp[J]}function s1(J,le){return J==null?r:J[le]}function zi(J){return Rp.test(J)}function o1(J){return Lp.test(J)}function l1(J){for(var le,re=[];!(le=J.next()).done;)re.push(le.value);return re}function Ws(J){var le=-1,re=Array(J.size);return J.forEach(function(Oe,Ye){re[++le]=[Ye,Oe]}),re}function Nf(J,le){return function(re){return J(le(re))}}function si(J,le){for(var re=-1,Oe=J.length,Ye=0,vt=[];++re<Oe;){var cr=J[re];(cr===le||cr===h)&&(J[re]=h,vt[Ye++]=re)}return vt}function ea(J){var le=-1,re=Array(J.size);return J.forEach(function(Oe){re[++le]=Oe}),re}function f1(J){var le=-1,re=Array(J.size);return J.forEach(function(Oe){re[++le]=[Oe,Oe]}),re}function c1(J,le,re){for(var Oe=re-1,Ye=J.length;++Oe<Ye;)if(J[Oe]===le)return Oe;return-1}function h1(J,le,re){for(var Oe=re+1;Oe--;)if(J[Oe]===le)return Oe;return Oe}function Wi(J){return zi(J)?p1(J):Jp(J)}function gn(J){return zi(J)?v1(J):$p(J)}function kf(J){for(var le=J.length;le--&&$t.test(J.charAt(le)););return le}var d1=js(zp);function p1(J){for(var le=Ts.lastIndex=0;Ts.test(J);)++le;return le}function v1(J){return J.match(Ts)||[]}function g1(J){return J.match(kp)||[]}var m1=function J(le){le=le==null?wr:Hi.defaults(wr.Object(),le,Hi.pick(wr,Up));var re=le.Array,Oe=le.Date,Ye=le.Error,vt=le.Function,cr=le.Math,St=le.Object,Hs=le.RegExp,D1=le.String,nn=le.TypeError,ta=re.prototype,_1=vt.prototype,Gi=St.prototype,ra=le["__core-js_shared__"],na=_1.toString,bt=Gi.hasOwnProperty,y1=0,Rf=function(){var n=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ia=Gi.toString,A1=na.call(St),b1=wr._,w1=Hs("^"+na.call(bt).replace(Ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=yf?le.Buffer:r,oi=le.Symbol,aa=le.Uint8Array,Lf=ua?ua.allocUnsafe:r,sa=Nf(St.getPrototypeOf,St),Uf=St.create,jf=Gi.propertyIsEnumerable,oa=ta.splice,Vf=oi?oi.isConcatSpreadable:r,xu=oi?oi.iterator:r,Oi=oi?oi.toStringTag:r,la=function(){try{var n=Ii(St,"defineProperty");return n({},"",{}),n}catch{}}(),E1=le.clearTimeout!==wr.clearTimeout&&le.clearTimeout,F1=Oe&&Oe.now!==wr.Date.now&&Oe.now,C1=le.setTimeout!==wr.setTimeout&&le.setTimeout,fa=cr.ceil,ca=cr.floor,Gs=St.getOwnPropertySymbols,S1=ua?ua.isBuffer:r,qf=le.isFinite,B1=ta.join,O1=Nf(St.keys,St),hr=cr.max,Or=cr.min,M1=Oe.now,x1=le.parseInt,zf=cr.random,P1=ta.reverse,Ks=Ii(le,"DataView"),Pu=Ii(le,"Map"),Ys=Ii(le,"Promise"),Ki=Ii(le,"Set"),Tu=Ii(le,"WeakMap"),Iu=Ii(St,"create"),ha=Tu&&new Tu,Yi={},T1=Ni(Ks),I1=Ni(Pu),N1=Ni(Ys),k1=Ni(Ki),R1=Ni(Tu),da=oi?oi.prototype:r,Nu=da?da.valueOf:r,Wf=da?da.toString:r;function M(n){if(Qt(n)&&!$e(n)&&!(n instanceof ot)){if(n instanceof un)return n;if(bt.call(n,"__wrapped__"))return Hc(n)}return new un(n)}var Zi=function(){function n(){}return function(s){if(!Vt(s))return{};if(Uf)return Uf(s);n.prototype=s;var v=new n;return n.prototype=r,v}}();function pa(){}function un(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:fr,evaluate:pn,interpolate:jn,variable:"",imports:{_:M}},M.prototype=pa.prototype,M.prototype.constructor=M,un.prototype=Zi(pa.prototype),un.prototype.constructor=un;function ot(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function L1(){var n=new ot(this.__wrapped__);return n.__actions__=Rr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Rr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Rr(this.__views__),n}function U1(){if(this.__filtered__){var n=new ot(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function j1(){var n=this.__wrapped__.value(),s=this.__dir__,v=$e(n),b=s<0,S=v?n.length:0,P=$v(0,S,this.__views__),L=P.start,z=P.end,$=z-L,de=b?z:L-1,pe=this.__iteratees__,me=pe.length,Fe=0,Me=Or($,this.__takeCount__);if(!v||!b&&S==$&&Me==$)return pc(n,this.__actions__);var Ve=[];e:for(;$--&&Fe<Me;){de+=s;for(var nt=-1,qe=n[de];++nt<me;){var st=pe[nt],ft=st.iteratee,Yr=st.type,Nr=ft(qe);if(Yr==j)qe=Nr;else if(!Nr){if(Yr==H)continue e;break e}}Ve[Fe++]=qe}return Ve}ot.prototype=Zi(pa.prototype),ot.prototype.constructor=ot;function Mi(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function V1(){this.__data__=Iu?Iu(null):{},this.size=0}function q1(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function z1(n){var s=this.__data__;if(Iu){var v=s[n];return v===d?r:v}return bt.call(s,n)?s[n]:r}function W1(n){var s=this.__data__;return Iu?s[n]!==r:bt.call(s,n)}function H1(n,s){var v=this.__data__;return this.size+=this.has(n)?0:1,v[n]=Iu&&s===r?d:s,this}Mi.prototype.clear=V1,Mi.prototype.delete=q1,Mi.prototype.get=z1,Mi.prototype.has=W1,Mi.prototype.set=H1;function zn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function G1(){this.__data__=[],this.size=0}function K1(n){var s=this.__data__,v=va(s,n);if(v<0)return!1;var b=s.length-1;return v==b?s.pop():oa.call(s,v,1),--this.size,!0}function Y1(n){var s=this.__data__,v=va(s,n);return v<0?r:s[v][1]}function Z1(n){return va(this.__data__,n)>-1}function X1(n,s){var v=this.__data__,b=va(v,n);return b<0?(++this.size,v.push([n,s])):v[b][1]=s,this}zn.prototype.clear=G1,zn.prototype.delete=K1,zn.prototype.get=Y1,zn.prototype.has=Z1,zn.prototype.set=X1;function Wn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function J1(){this.size=0,this.__data__={hash:new Mi,map:new(Pu||zn),string:new Mi}}function $1(n){var s=Sa(this,n).delete(n);return this.size-=s?1:0,s}function Q1(n){return Sa(this,n).get(n)}function ev(n){return Sa(this,n).has(n)}function tv(n,s){var v=Sa(this,n),b=v.size;return v.set(n,s),this.size+=v.size==b?0:1,this}Wn.prototype.clear=J1,Wn.prototype.delete=$1,Wn.prototype.get=Q1,Wn.prototype.has=ev,Wn.prototype.set=tv;function xi(n){var s=-1,v=n==null?0:n.length;for(this.__data__=new Wn;++s<v;)this.add(n[s])}function rv(n){return this.__data__.set(n,d),this}function nv(n){return this.__data__.has(n)}xi.prototype.add=xi.prototype.push=rv,xi.prototype.has=nv;function mn(n){var s=this.__data__=new zn(n);this.size=s.size}function iv(){this.__data__=new zn,this.size=0}function uv(n){var s=this.__data__,v=s.delete(n);return this.size=s.size,v}function av(n){return this.__data__.get(n)}function sv(n){return this.__data__.has(n)}function ov(n,s){var v=this.__data__;if(v instanceof zn){var b=v.__data__;if(!Pu||b.length<u-1)return b.push([n,s]),this.size=++v.size,this;v=this.__data__=new Wn(b)}return v.set(n,s),this.size=v.size,this}mn.prototype.clear=iv,mn.prototype.delete=uv,mn.prototype.get=av,mn.prototype.has=sv,mn.prototype.set=ov;function Hf(n,s){var v=$e(n),b=!v&&ki(n),S=!v&&!b&&di(n),P=!v&&!b&&!S&&Qi(n),L=v||b||S||P,z=L?qs(n.length,D1):[],$=z.length;for(var de in n)(s||bt.call(n,de))&&!(L&&(de=="length"||S&&(de=="offset"||de=="parent")||P&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Yn(de,$)))&&z.push(de);return z}function Gf(n){var s=n.length;return s?n[uo(0,s-1)]:r}function lv(n,s){return Ba(Rr(n),Pi(s,0,n.length))}function fv(n){return Ba(Rr(n))}function Zs(n,s,v){(v!==r&&!Dn(n[s],v)||v===r&&!(s in n))&&Hn(n,s,v)}function ku(n,s,v){var b=n[s];(!(bt.call(n,s)&&Dn(b,v))||v===r&&!(s in n))&&Hn(n,s,v)}function va(n,s){for(var v=n.length;v--;)if(Dn(n[v][0],s))return v;return-1}function cv(n,s,v,b){return li(n,function(S,P,L){s(b,S,v(S),L)}),b}function Kf(n,s){return n&&Pn(s,mr(s),n)}function hv(n,s){return n&&Pn(s,Ur(s),n)}function Hn(n,s,v){s=="__proto__"&&la?la(n,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):n[s]=v}function Xs(n,s){for(var v=-1,b=s.length,S=re(b),P=n==null;++v<b;)S[v]=P?r:xo(n,s[v]);return S}function Pi(n,s,v){return n===n&&(v!==r&&(n=n<=v?n:v),s!==r&&(n=n>=s?n:s)),n}function an(n,s,v,b,S,P){var L,z=s&l,$=s&f,de=s&D;if(v&&(L=S?v(n,b,S,P):v(n)),L!==r)return L;if(!Vt(n))return n;var pe=$e(n);if(pe){if(L=eg(n),!z)return Rr(n,L)}else{var me=Mr(n),Fe=me==dt||me==rt;if(di(n))return mc(n,z);if(me==wt||me==Ie||Fe&&!S){if(L=$||Fe?{}:kc(n),!z)return $?zv(n,hv(L,n)):qv(n,Kf(L,n))}else{if(!Mt[me])return S?n:{};L=tg(n,me,z)}}P||(P=new mn);var Me=P.get(n);if(Me)return Me;P.set(n,L),c0(n)?n.forEach(function(qe){L.add(an(qe,s,v,qe,n,P))}):l0(n)&&n.forEach(function(qe,st){L.set(st,an(qe,s,v,st,n,P))});var Ve=de?$?mo:go:$?Ur:mr,nt=pe?r:Ve(n);return rn(nt||n,function(qe,st){nt&&(st=qe,qe=n[st]),ku(L,st,an(qe,s,v,st,n,P))}),L}function dv(n){var s=mr(n);return function(v){return Yf(v,n,s)}}function Yf(n,s,v){var b=v.length;if(n==null)return!b;for(n=St(n);b--;){var S=v[b],P=s[S],L=n[S];if(L===r&&!(S in n)||!P(L))return!1}return!0}function Zf(n,s,v){if(typeof n!="function")throw new nn(o);return zu(function(){n.apply(r,v)},s)}function Ru(n,s,v,b){var S=-1,P=$u,L=!0,z=n.length,$=[],de=s.length;if(!z)return $;v&&(s=Rt(s,Hr(v))),b?(P=ks,L=!1):s.length>=u&&(P=Mu,L=!1,s=new xi(s));e:for(;++S<z;){var pe=n[S],me=v==null?pe:v(pe);if(pe=b||pe!==0?pe:0,L&&me===me){for(var Fe=de;Fe--;)if(s[Fe]===me)continue e;$.push(pe)}else P(s,me,b)||$.push(pe)}return $}var li=bc(xn),Xf=bc($s,!0);function pv(n,s){var v=!0;return li(n,function(b,S,P){return v=!!s(b,S,P),v}),v}function ga(n,s,v){for(var b=-1,S=n.length;++b<S;){var P=n[b],L=s(P);if(L!=null&&(z===r?L===L&&!Kr(L):v(L,z)))var z=L,$=P}return $}function vv(n,s,v,b){var S=n.length;for(v=tt(v),v<0&&(v=-v>S?0:S+v),b=b===r||b>S?S:tt(b),b<0&&(b+=S),b=v>b?0:d0(b);v<b;)n[v++]=s;return n}function Jf(n,s){var v=[];return li(n,function(b,S,P){s(b,S,P)&&v.push(b)}),v}function Er(n,s,v,b,S){var P=-1,L=n.length;for(v||(v=ng),S||(S=[]);++P<L;){var z=n[P];s>0&&v(z)?s>1?Er(z,s-1,v,b,S):ai(S,z):b||(S[S.length]=z)}return S}var Js=wc(),$f=wc(!0);function xn(n,s){return n&&Js(n,s,mr)}function $s(n,s){return n&&$f(n,s,mr)}function ma(n,s){return ui(s,function(v){return Zn(n[v])})}function Ti(n,s){s=ci(s,n);for(var v=0,b=s.length;n!=null&&v<b;)n=n[Tn(s[v++])];return v&&v==b?n:r}function Qf(n,s,v){var b=s(n);return $e(n)?b:ai(b,v(n))}function Tr(n){return n==null?n===r?U:Ar:Oi&&Oi in St(n)?Jv(n):fg(n)}function Qs(n,s){return n>s}function gv(n,s){return n!=null&&bt.call(n,s)}function mv(n,s){return n!=null&&s in St(n)}function Dv(n,s,v){return n>=Or(s,v)&&n<hr(s,v)}function eo(n,s,v){for(var b=v?ks:$u,S=n[0].length,P=n.length,L=P,z=re(P),$=1/0,de=[];L--;){var pe=n[L];L&&s&&(pe=Rt(pe,Hr(s))),$=Or(pe.length,$),z[L]=!v&&(s||S>=120&&pe.length>=120)?new xi(L&&pe):r}pe=n[0];var me=-1,Fe=z[0];e:for(;++me<S&&de.length<$;){var Me=pe[me],Ve=s?s(Me):Me;if(Me=v||Me!==0?Me:0,!(Fe?Mu(Fe,Ve):b(de,Ve,v))){for(L=P;--L;){var nt=z[L];if(!(nt?Mu(nt,Ve):b(n[L],Ve,v)))continue e}Fe&&Fe.push(Ve),de.push(Me)}}return de}function _v(n,s,v,b){return xn(n,function(S,P,L){s(b,v(S),P,L)}),b}function Lu(n,s,v){s=ci(s,n),n=jc(n,s);var b=n==null?n:n[Tn(on(s))];return b==null?r:Wr(b,n,v)}function ec(n){return Qt(n)&&Tr(n)==Ie}function yv(n){return Qt(n)&&Tr(n)==ee}function Av(n){return Qt(n)&&Tr(n)==Qe}function Uu(n,s,v,b,S){return n===s?!0:n==null||s==null||!Qt(n)&&!Qt(s)?n!==n&&s!==s:bv(n,s,v,b,Uu,S)}function bv(n,s,v,b,S,P){var L=$e(n),z=$e(s),$=L?Le:Mr(n),de=z?Le:Mr(s);$=$==Ie?wt:$,de=de==Ie?wt:de;var pe=$==wt,me=de==wt,Fe=$==de;if(Fe&&di(n)){if(!di(s))return!1;L=!0,pe=!1}if(Fe&&!pe)return P||(P=new mn),L||Qi(n)?Tc(n,s,v,b,S,P):Zv(n,s,$,v,b,S,P);if(!(v&A)){var Me=pe&&bt.call(n,"__wrapped__"),Ve=me&&bt.call(s,"__wrapped__");if(Me||Ve){var nt=Me?n.value():n,qe=Ve?s.value():s;return P||(P=new mn),S(nt,qe,v,b,P)}}return Fe?(P||(P=new mn),Xv(n,s,v,b,S,P)):!1}function wv(n){return Qt(n)&&Mr(n)==Je}function to(n,s,v,b){var S=v.length,P=S,L=!b;if(n==null)return!P;for(n=St(n);S--;){var z=v[S];if(L&&z[2]?z[1]!==n[z[0]]:!(z[0]in n))return!1}for(;++S<P;){z=v[S];var $=z[0],de=n[$],pe=z[1];if(L&&z[2]){if(de===r&&!($ in n))return!1}else{var me=new mn;if(b)var Fe=b(de,pe,$,n,s,me);if(!(Fe===r?Uu(pe,de,A|g,b,me):Fe))return!1}}return!0}function tc(n){if(!Vt(n)||ug(n))return!1;var s=Zn(n)?w1:Au;return s.test(Ni(n))}function Ev(n){return Qt(n)&&Tr(n)==pt}function Fv(n){return Qt(n)&&Mr(n)==Nt}function Cv(n){return Qt(n)&&Ia(n.length)&&!!Tt[Tr(n)]}function rc(n){return typeof n=="function"?n:n==null?jr:typeof n=="object"?$e(n)?uc(n[0],n[1]):ic(n):E0(n)}function ro(n){if(!qu(n))return O1(n);var s=[];for(var v in St(n))bt.call(n,v)&&v!="constructor"&&s.push(v);return s}function Sv(n){if(!Vt(n))return lg(n);var s=qu(n),v=[];for(var b in n)b=="constructor"&&(s||!bt.call(n,b))||v.push(b);return v}function no(n,s){return n<s}function nc(n,s){var v=-1,b=Lr(n)?re(n.length):[];return li(n,function(S,P,L){b[++v]=s(S,P,L)}),b}function ic(n){var s=_o(n);return s.length==1&&s[0][2]?Lc(s[0][0],s[0][1]):function(v){return v===n||to(v,n,s)}}function uc(n,s){return Ao(n)&&Rc(s)?Lc(Tn(n),s):function(v){var b=xo(v,n);return b===r&&b===s?Po(v,n):Uu(s,b,A|g)}}function Da(n,s,v,b,S){n!==s&&Js(s,function(P,L){if(S||(S=new mn),Vt(P))Bv(n,s,L,v,Da,b,S);else{var z=b?b(wo(n,L),P,L+"",n,s,S):r;z===r&&(z=P),Zs(n,L,z)}},Ur)}function Bv(n,s,v,b,S,P,L){var z=wo(n,v),$=wo(s,v),de=L.get($);if(de){Zs(n,v,de);return}var pe=P?P(z,$,v+"",n,s,L):r,me=pe===r;if(me){var Fe=$e($),Me=!Fe&&di($),Ve=!Fe&&!Me&&Qi($);pe=$,Fe||Me||Ve?$e(z)?pe=z:ir(z)?pe=Rr(z):Me?(me=!1,pe=mc($,!0)):Ve?(me=!1,pe=Dc($,!0)):pe=[]:Wu($)||ki($)?(pe=z,ki(z)?pe=p0(z):(!Vt(z)||Zn(z))&&(pe=kc($))):me=!1}me&&(L.set($,pe),S(pe,$,b,P,L),L.delete($)),Zs(n,v,pe)}function ac(n,s){var v=n.length;if(v)return s+=s<0?v:0,Yn(s,v)?n[s]:r}function sc(n,s,v){s.length?s=Rt(s,function(P){return $e(P)?function(L){return Ti(L,P.length===1?P[0]:P)}:P}):s=[jr];var b=-1;s=Rt(s,Hr(Ue()));var S=nc(n,function(P,L,z){var $=Rt(s,function(de){return de(P)});return{criteria:$,index:++b,value:P}});return t1(S,function(P,L){return Vv(P,L,v)})}function Ov(n,s){return oc(n,s,function(v,b){return Po(n,b)})}function oc(n,s,v){for(var b=-1,S=s.length,P={};++b<S;){var L=s[b],z=Ti(n,L);v(z,L)&&ju(P,ci(L,n),z)}return P}function Mv(n){return function(s){return Ti(s,n)}}function io(n,s,v,b){var S=b?e1:qi,P=-1,L=s.length,z=n;for(n===s&&(s=Rr(s)),v&&(z=Rt(n,Hr(v)));++P<L;)for(var $=0,de=s[P],pe=v?v(de):de;($=S(z,pe,$,b))>-1;)z!==n&&oa.call(z,$,1),oa.call(n,$,1);return n}function lc(n,s){for(var v=n?s.length:0,b=v-1;v--;){var S=s[v];if(v==b||S!==P){var P=S;Yn(S)?oa.call(n,S,1):oo(n,S)}}return n}function uo(n,s){return n+ca(zf()*(s-n+1))}function xv(n,s,v,b){for(var S=-1,P=hr(fa((s-n)/(v||1)),0),L=re(P);P--;)L[b?P:++S]=n,n+=v;return L}function ao(n,s){var v="";if(!n||s<1||s>ce)return v;do s%2&&(v+=n),s=ca(s/2),s&&(n+=n);while(s);return v}function ut(n,s){return Eo(Uc(n,s,jr),n+"")}function Pv(n){return Gf(eu(n))}function Tv(n,s){var v=eu(n);return Ba(v,Pi(s,0,v.length))}function ju(n,s,v,b){if(!Vt(n))return n;s=ci(s,n);for(var S=-1,P=s.length,L=P-1,z=n;z!=null&&++S<P;){var $=Tn(s[S]),de=v;if($==="__proto__"||$==="constructor"||$==="prototype")return n;if(S!=L){var pe=z[$];de=b?b(pe,$,z):r,de===r&&(de=Vt(pe)?pe:Yn(s[S+1])?[]:{})}ku(z,$,de),z=z[$]}return n}var fc=ha?function(n,s){return ha.set(n,s),n}:jr,Iv=la?function(n,s){return la(n,"toString",{configurable:!0,enumerable:!1,value:Io(s),writable:!0})}:jr;function Nv(n){return Ba(eu(n))}function sn(n,s,v){var b=-1,S=n.length;s<0&&(s=-s>S?0:S+s),v=v>S?S:v,v<0&&(v+=S),S=s>v?0:v-s>>>0,s>>>=0;for(var P=re(S);++b<S;)P[b]=n[b+s];return P}function kv(n,s){var v;return li(n,function(b,S,P){return v=s(b,S,P),!v}),!!v}function _a(n,s,v){var b=0,S=n==null?b:n.length;if(typeof s=="number"&&s===s&&S<=Ce){for(;b<S;){var P=b+S>>>1,L=n[P];L!==null&&!Kr(L)&&(v?L<=s:L<s)?b=P+1:S=P}return S}return so(n,s,jr,v)}function so(n,s,v,b){var S=0,P=n==null?0:n.length;if(P===0)return 0;s=v(s);for(var L=s!==s,z=s===null,$=Kr(s),de=s===r;S<P;){var pe=ca((S+P)/2),me=v(n[pe]),Fe=me!==r,Me=me===null,Ve=me===me,nt=Kr(me);if(L)var qe=b||Ve;else de?qe=Ve&&(b||Fe):z?qe=Ve&&Fe&&(b||!Me):$?qe=Ve&&Fe&&!Me&&(b||!nt):Me||nt?qe=!1:qe=b?me<=s:me<s;qe?S=pe+1:P=pe}return Or(P,Te)}function cc(n,s){for(var v=-1,b=n.length,S=0,P=[];++v<b;){var L=n[v],z=s?s(L):L;if(!v||!Dn(z,$)){var $=z;P[S++]=L===0?0:L}}return P}function hc(n){return typeof n=="number"?n:Kr(n)?we:+n}function Gr(n){if(typeof n=="string")return n;if($e(n))return Rt(n,Gr)+"";if(Kr(n))return Wf?Wf.call(n):"";var s=n+"";return s=="0"&&1/n==-te?"-0":s}function fi(n,s,v){var b=-1,S=$u,P=n.length,L=!0,z=[],$=z;if(v)L=!1,S=ks;else if(P>=u){var de=s?null:Kv(n);if(de)return ea(de);L=!1,S=Mu,$=new xi}else $=s?[]:z;e:for(;++b<P;){var pe=n[b],me=s?s(pe):pe;if(pe=v||pe!==0?pe:0,L&&me===me){for(var Fe=$.length;Fe--;)if($[Fe]===me)continue e;s&&$.push(me),z.push(pe)}else S($,me,v)||($!==z&&$.push(me),z.push(pe))}return z}function oo(n,s){return s=ci(s,n),n=jc(n,s),n==null||delete n[Tn(on(s))]}function dc(n,s,v,b){return ju(n,s,v(Ti(n,s)),b)}function ya(n,s,v,b){for(var S=n.length,P=b?S:-1;(b?P--:++P<S)&&s(n[P],P,n););return v?sn(n,b?0:P,b?P+1:S):sn(n,b?P+1:0,b?S:P)}function pc(n,s){var v=n;return v instanceof ot&&(v=v.value()),Rs(s,function(b,S){return S.func.apply(S.thisArg,ai([b],S.args))},v)}function lo(n,s,v){var b=n.length;if(b<2)return b?fi(n[0]):[];for(var S=-1,P=re(b);++S<b;)for(var L=n[S],z=-1;++z<b;)z!=S&&(P[S]=Ru(P[S]||L,n[z],s,v));return fi(Er(P,1),s,v)}function vc(n,s,v){for(var b=-1,S=n.length,P=s.length,L={};++b<S;){var z=b<P?s[b]:r;v(L,n[b],z)}return L}function fo(n){return ir(n)?n:[]}function co(n){return typeof n=="function"?n:jr}function ci(n,s){return $e(n)?n:Ao(n,s)?[n]:Wc(gt(n))}var Rv=ut;function hi(n,s,v){var b=n.length;return v=v===r?b:v,!s&&v>=b?n:sn(n,s,v)}var gc=E1||function(n){return wr.clearTimeout(n)};function mc(n,s){if(s)return n.slice();var v=n.length,b=Lf?Lf(v):new n.constructor(v);return n.copy(b),b}function ho(n){var s=new n.constructor(n.byteLength);return new aa(s).set(new aa(n)),s}function Lv(n,s){var v=s?ho(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.byteLength)}function Uv(n){var s=new n.constructor(n.source,Ui.exec(n));return s.lastIndex=n.lastIndex,s}function jv(n){return Nu?St(Nu.call(n)):{}}function Dc(n,s){var v=s?ho(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.length)}function _c(n,s){if(n!==s){var v=n!==r,b=n===null,S=n===n,P=Kr(n),L=s!==r,z=s===null,$=s===s,de=Kr(s);if(!z&&!de&&!P&&n>s||P&&L&&$&&!z&&!de||b&&L&&$||!v&&$||!S)return 1;if(!b&&!P&&!de&&n<s||de&&v&&S&&!b&&!P||z&&v&&S||!L&&S||!$)return-1}return 0}function Vv(n,s,v){for(var b=-1,S=n.criteria,P=s.criteria,L=S.length,z=v.length;++b<L;){var $=_c(S[b],P[b]);if($){if(b>=z)return $;var de=v[b];return $*(de=="desc"?-1:1)}}return n.index-s.index}function yc(n,s,v,b){for(var S=-1,P=n.length,L=v.length,z=-1,$=s.length,de=hr(P-L,0),pe=re($+de),me=!b;++z<$;)pe[z]=s[z];for(;++S<L;)(me||S<P)&&(pe[v[S]]=n[S]);for(;de--;)pe[z++]=n[S++];return pe}function Ac(n,s,v,b){for(var S=-1,P=n.length,L=-1,z=v.length,$=-1,de=s.length,pe=hr(P-z,0),me=re(pe+de),Fe=!b;++S<pe;)me[S]=n[S];for(var Me=S;++$<de;)me[Me+$]=s[$];for(;++L<z;)(Fe||S<P)&&(me[Me+v[L]]=n[S++]);return me}function Rr(n,s){var v=-1,b=n.length;for(s||(s=re(b));++v<b;)s[v]=n[v];return s}function Pn(n,s,v,b){var S=!v;v||(v={});for(var P=-1,L=s.length;++P<L;){var z=s[P],$=b?b(v[z],n[z],z,v,n):r;$===r&&($=n[z]),S?Hn(v,z,$):ku(v,z,$)}return v}function qv(n,s){return Pn(n,yo(n),s)}function zv(n,s){return Pn(n,Ic(n),s)}function Aa(n,s){return function(v,b){var S=$e(v)?Yp:cv,P=s?s():{};return S(v,n,Ue(b,2),P)}}function Xi(n){return ut(function(s,v){var b=-1,S=v.length,P=S>1?v[S-1]:r,L=S>2?v[2]:r;for(P=n.length>3&&typeof P=="function"?(S--,P):r,L&&Ir(v[0],v[1],L)&&(P=S<3?r:P,S=1),s=St(s);++b<S;){var z=v[b];z&&n(s,z,b,P)}return s})}function bc(n,s){return function(v,b){if(v==null)return v;if(!Lr(v))return n(v,b);for(var S=v.length,P=s?S:-1,L=St(v);(s?P--:++P<S)&&b(L[P],P,L)!==!1;);return v}}function wc(n){return function(s,v,b){for(var S=-1,P=St(s),L=b(s),z=L.length;z--;){var $=L[n?z:++S];if(v(P[$],$,P)===!1)break}return s}}function Wv(n,s,v){var b=s&m,S=Vu(n);function P(){var L=this&&this!==wr&&this instanceof P?S:n;return L.apply(b?v:this,arguments)}return P}function Ec(n){return function(s){s=gt(s);var v=zi(s)?gn(s):r,b=v?v[0]:s.charAt(0),S=v?hi(v,1).join(""):s.slice(1);return b[n]()+S}}function Ji(n){return function(s){return Rs(b0(A0(s).replace(Ip,"")),n,"")}}function Vu(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=Zi(n.prototype),b=n.apply(v,s);return Vt(b)?b:v}}function Hv(n,s,v){var b=Vu(n);function S(){for(var P=arguments.length,L=re(P),z=P,$=$i(S);z--;)L[z]=arguments[z];var de=P<3&&L[0]!==$&&L[P-1]!==$?[]:si(L,$);if(P-=de.length,P<v)return Oc(n,s,ba,S.placeholder,r,L,de,r,r,v-P);var pe=this&&this!==wr&&this instanceof S?b:n;return Wr(pe,this,L)}return S}function Fc(n){return function(s,v,b){var S=St(s);if(!Lr(s)){var P=Ue(v,3);s=mr(s),v=function(z){return P(S[z],z,S)}}var L=n(s,v,b);return L>-1?S[P?s[L]:L]:r}}function Cc(n){return Kn(function(s){var v=s.length,b=v,S=un.prototype.thru;for(n&&s.reverse();b--;){var P=s[b];if(typeof P!="function")throw new nn(o);if(S&&!L&&Ca(P)=="wrapper")var L=new un([],!0)}for(b=L?b:v;++b<v;){P=s[b];var z=Ca(P),$=z=="wrapper"?Do(P):r;$&&bo($[0])&&$[1]==(x|w|C|T)&&!$[4].length&&$[9]==1?L=L[Ca($[0])].apply(L,$[3]):L=P.length==1&&bo(P)?L[z]():L.thru(P)}return function(){var de=arguments,pe=de[0];if(L&&de.length==1&&$e(pe))return L.plant(pe).value();for(var me=0,Fe=v?s[me].apply(this,de):pe;++me<v;)Fe=s[me].call(this,Fe);return Fe}})}function ba(n,s,v,b,S,P,L,z,$,de){var pe=s&x,me=s&m,Fe=s&y,Me=s&(w|O),Ve=s&I,nt=Fe?r:Vu(n);function qe(){for(var st=arguments.length,ft=re(st),Yr=st;Yr--;)ft[Yr]=arguments[Yr];if(Me)var Nr=$i(qe),Zr=n1(ft,Nr);if(b&&(ft=yc(ft,b,S,Me)),P&&(ft=Ac(ft,P,L,Me)),st-=Zr,Me&&st<de){var ur=si(ft,Nr);return Oc(n,s,ba,qe.placeholder,v,ft,ur,z,$,de-st)}var _n=me?v:this,Jn=Fe?_n[n]:n;return st=ft.length,z?ft=cg(ft,z):Ve&&st>1&&ft.reverse(),pe&&$<st&&(ft.length=$),this&&this!==wr&&this instanceof qe&&(Jn=nt||Vu(Jn)),Jn.apply(_n,ft)}return qe}function Sc(n,s){return function(v,b){return _v(v,n,s(b),{})}}function wa(n,s){return function(v,b){var S;if(v===r&&b===r)return s;if(v!==r&&(S=v),b!==r){if(S===r)return b;typeof v=="string"||typeof b=="string"?(v=Gr(v),b=Gr(b)):(v=hc(v),b=hc(b)),S=n(v,b)}return S}}function po(n){return Kn(function(s){return s=Rt(s,Hr(Ue())),ut(function(v){var b=this;return n(s,function(S){return Wr(S,b,v)})})})}function Ea(n,s){s=s===r?" ":Gr(s);var v=s.length;if(v<2)return v?ao(s,n):s;var b=ao(s,fa(n/Wi(s)));return zi(s)?hi(gn(b),0,n).join(""):b.slice(0,n)}function Gv(n,s,v,b){var S=s&m,P=Vu(n);function L(){for(var z=-1,$=arguments.length,de=-1,pe=b.length,me=re(pe+$),Fe=this&&this!==wr&&this instanceof L?P:n;++de<pe;)me[de]=b[de];for(;$--;)me[de++]=arguments[++z];return Wr(Fe,S?v:this,me)}return L}function Bc(n){return function(s,v,b){return b&&typeof b!="number"&&Ir(s,v,b)&&(v=b=r),s=Xn(s),v===r?(v=s,s=0):v=Xn(v),b=b===r?s<v?1:-1:Xn(b),xv(s,v,b,n)}}function Fa(n){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=ln(s),v=ln(v)),n(s,v)}}function Oc(n,s,v,b,S,P,L,z,$,de){var pe=s&w,me=pe?L:r,Fe=pe?r:L,Me=pe?P:r,Ve=pe?r:P;s|=pe?C:B,s&=~(pe?B:C),s&F||(s&=~(m|y));var nt=[n,s,S,Me,me,Ve,Fe,z,$,de],qe=v.apply(r,nt);return bo(n)&&Vc(qe,nt),qe.placeholder=b,qc(qe,n,s)}function vo(n){var s=cr[n];return function(v,b){if(v=ln(v),b=b==null?0:Or(tt(b),292),b&&qf(v)){var S=(gt(v)+"e").split("e"),P=s(S[0]+"e"+(+S[1]+b));return S=(gt(P)+"e").split("e"),+(S[0]+"e"+(+S[1]-b))}return s(v)}}var Kv=Ki&&1/ea(new Ki([,-0]))[1]==te?function(n){return new Ki(n)}:Ro;function Mc(n){return function(s){var v=Mr(s);return v==Je?Ws(s):v==Nt?f1(s):r1(s,n(s))}}function Gn(n,s,v,b,S,P,L,z){var $=s&y;if(!$&&typeof n!="function")throw new nn(o);var de=b?b.length:0;if(de||(s&=~(C|B),b=S=r),L=L===r?L:hr(tt(L),0),z=z===r?z:tt(z),de-=S?S.length:0,s&B){var pe=b,me=S;b=S=r}var Fe=$?r:Do(n),Me=[n,s,v,b,S,pe,me,P,L,z];if(Fe&&og(Me,Fe),n=Me[0],s=Me[1],v=Me[2],b=Me[3],S=Me[4],z=Me[9]=Me[9]===r?$?0:n.length:hr(Me[9]-de,0),!z&&s&(w|O)&&(s&=~(w|O)),!s||s==m)var Ve=Wv(n,s,v);else s==w||s==O?Ve=Hv(n,s,z):(s==C||s==(m|C))&&!S.length?Ve=Gv(n,s,v,b):Ve=ba.apply(r,Me);var nt=Fe?fc:Vc;return qc(nt(Ve,Me),n,s)}function xc(n,s,v,b){return n===r||Dn(n,Gi[v])&&!bt.call(b,v)?s:n}function Pc(n,s,v,b,S,P){return Vt(n)&&Vt(s)&&(P.set(s,n),Da(n,s,r,Pc,P),P.delete(s)),n}function Yv(n){return Wu(n)?r:n}function Tc(n,s,v,b,S,P){var L=v&A,z=n.length,$=s.length;if(z!=$&&!(L&&$>z))return!1;var de=P.get(n),pe=P.get(s);if(de&&pe)return de==s&&pe==n;var me=-1,Fe=!0,Me=v&g?new xi:r;for(P.set(n,s),P.set(s,n);++me<z;){var Ve=n[me],nt=s[me];if(b)var qe=L?b(nt,Ve,me,s,n,P):b(Ve,nt,me,n,s,P);if(qe!==r){if(qe)continue;Fe=!1;break}if(Me){if(!Ls(s,function(st,ft){if(!Mu(Me,ft)&&(Ve===st||S(Ve,st,v,b,P)))return Me.push(ft)})){Fe=!1;break}}else if(!(Ve===nt||S(Ve,nt,v,b,P))){Fe=!1;break}}return P.delete(n),P.delete(s),Fe}function Zv(n,s,v,b,S,P,L){switch(v){case he:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case ee:return!(n.byteLength!=s.byteLength||!P(new aa(n),new aa(s)));case ct:case Qe:case At:return Dn(+n,+s);case ht:return n.name==s.name&&n.message==s.message;case pt:case ar:return n==s+"";case Je:var z=Ws;case Nt:var $=b&A;if(z||(z=ea),n.size!=s.size&&!$)return!1;var de=L.get(n);if(de)return de==s;b|=g,L.set(n,s);var pe=Tc(z(n),z(s),b,S,P,L);return L.delete(n),pe;case R:if(Nu)return Nu.call(n)==Nu.call(s)}return!1}function Xv(n,s,v,b,S,P){var L=v&A,z=go(n),$=z.length,de=go(s),pe=de.length;if($!=pe&&!L)return!1;for(var me=$;me--;){var Fe=z[me];if(!(L?Fe in s:bt.call(s,Fe)))return!1}var Me=P.get(n),Ve=P.get(s);if(Me&&Ve)return Me==s&&Ve==n;var nt=!0;P.set(n,s),P.set(s,n);for(var qe=L;++me<$;){Fe=z[me];var st=n[Fe],ft=s[Fe];if(b)var Yr=L?b(ft,st,Fe,s,n,P):b(st,ft,Fe,n,s,P);if(!(Yr===r?st===ft||S(st,ft,v,b,P):Yr)){nt=!1;break}qe||(qe=Fe=="constructor")}if(nt&&!qe){var Nr=n.constructor,Zr=s.constructor;Nr!=Zr&&"constructor"in n&&"constructor"in s&&!(typeof Nr=="function"&&Nr instanceof Nr&&typeof Zr=="function"&&Zr instanceof Zr)&&(nt=!1)}return P.delete(n),P.delete(s),nt}function Kn(n){return Eo(Uc(n,r,Yc),n+"")}function go(n){return Qf(n,mr,yo)}function mo(n){return Qf(n,Ur,Ic)}var Do=ha?function(n){return ha.get(n)}:Ro;function Ca(n){for(var s=n.name+"",v=Yi[s],b=bt.call(Yi,s)?v.length:0;b--;){var S=v[b],P=S.func;if(P==null||P==n)return S.name}return s}function $i(n){var s=bt.call(M,"placeholder")?M:n;return s.placeholder}function Ue(){var n=M.iteratee||No;return n=n===No?rc:n,arguments.length?n(arguments[0],arguments[1]):n}function Sa(n,s){var v=n.__data__;return ig(s)?v[typeof s=="string"?"string":"hash"]:v.map}function _o(n){for(var s=mr(n),v=s.length;v--;){var b=s[v],S=n[b];s[v]=[b,S,Rc(S)]}return s}function Ii(n,s){var v=s1(n,s);return tc(v)?v:r}function Jv(n){var s=bt.call(n,Oi),v=n[Oi];try{n[Oi]=r;var b=!0}catch{}var S=ia.call(n);return b&&(s?n[Oi]=v:delete n[Oi]),S}var yo=Gs?function(n){return n==null?[]:(n=St(n),ui(Gs(n),function(s){return jf.call(n,s)}))}:Lo,Ic=Gs?function(n){for(var s=[];n;)ai(s,yo(n)),n=sa(n);return s}:Lo,Mr=Tr;(Ks&&Mr(new Ks(new ArrayBuffer(1)))!=he||Pu&&Mr(new Pu)!=Je||Ys&&Mr(Ys.resolve())!=ye||Ki&&Mr(new Ki)!=Nt||Tu&&Mr(new Tu)!=Z)&&(Mr=function(n){var s=Tr(n),v=s==wt?n.constructor:r,b=v?Ni(v):"";if(b)switch(b){case T1:return he;case I1:return Je;case N1:return ye;case k1:return Nt;case R1:return Z}return s});function $v(n,s,v){for(var b=-1,S=v.length;++b<S;){var P=v[b],L=P.size;switch(P.type){case"drop":n+=L;break;case"dropRight":s-=L;break;case"take":s=Or(s,n+L);break;case"takeRight":n=hr(n,s-L);break}}return{start:n,end:s}}function Qv(n){var s=n.match(ri);return s?s[1].split(Qr):[]}function Nc(n,s,v){s=ci(s,n);for(var b=-1,S=s.length,P=!1;++b<S;){var L=Tn(s[b]);if(!(P=n!=null&&v(n,L)))break;n=n[L]}return P||++b!=S?P:(S=n==null?0:n.length,!!S&&Ia(S)&&Yn(L,S)&&($e(n)||ki(n)))}function eg(n){var s=n.length,v=new n.constructor(s);return s&&typeof n[0]=="string"&&bt.call(n,"index")&&(v.index=n.index,v.input=n.input),v}function kc(n){return typeof n.constructor=="function"&&!qu(n)?Zi(sa(n)):{}}function tg(n,s,v){var b=n.constructor;switch(s){case ee:return ho(n);case ct:case Qe:return new b(+n);case he:return Lv(n,v);case ie:case ae:case De:case Be:case We:case Ae:case Lt:case Ot:case Jt:return Dc(n,v);case Je:return new b;case At:case ar:return new b(n);case pt:return Uv(n);case Nt:return new b;case R:return jv(n)}}function rg(n,s){var v=s.length;if(!v)return n;var b=v-1;return s[b]=(v>1?"& ":"")+s[b],s=s.join(v>2?", ":" "),n.replace(gu,`{
/* [wrapped with `+s+`] */
`)}function ng(n){return $e(n)||ki(n)||!!(Vf&&n&&n[Vf])}function Yn(n,s){var v=typeof n;return s=s??ce,!!s&&(v=="number"||v!="symbol"&&wu.test(n))&&n>-1&&n%1==0&&n<s}function Ir(n,s,v){if(!Vt(v))return!1;var b=typeof s;return(b=="number"?Lr(v)&&Yn(s,v.length):b=="string"&&s in v)?Dn(v[s],n):!1}function Ao(n,s){if($e(n))return!1;var v=typeof n;return v=="number"||v=="symbol"||v=="boolean"||n==null||Kr(n)?!0:Bn.test(n)||!Sn.test(n)||s!=null&&n in St(s)}function ig(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function bo(n){var s=Ca(n),v=M[s];if(typeof v!="function"||!(s in ot.prototype))return!1;if(n===v)return!0;var b=Do(v);return!!b&&n===b[0]}function ug(n){return!!Rf&&Rf in n}var ag=ra?Zn:Uo;function qu(n){var s=n&&n.constructor,v=typeof s=="function"&&s.prototype||Gi;return n===v}function Rc(n){return n===n&&!Vt(n)}function Lc(n,s){return function(v){return v==null?!1:v[n]===s&&(s!==r||n in St(v))}}function sg(n){var s=Pa(n,function(b){return v.size===p&&v.clear(),b}),v=s.cache;return s}function og(n,s){var v=n[1],b=s[1],S=v|b,P=S<(m|y|x),L=b==x&&v==w||b==x&&v==T&&n[7].length<=s[8]||b==(x|T)&&s[7].length<=s[8]&&v==w;if(!(P||L))return n;b&m&&(n[2]=s[2],S|=v&m?0:F);var z=s[3];if(z){var $=n[3];n[3]=$?yc($,z,s[4]):z,n[4]=$?si(n[3],h):s[4]}return z=s[5],z&&($=n[5],n[5]=$?Ac($,z,s[6]):z,n[6]=$?si(n[5],h):s[6]),z=s[7],z&&(n[7]=z),b&x&&(n[8]=n[8]==null?s[8]:Or(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=S,n}function lg(n){var s=[];if(n!=null)for(var v in St(n))s.push(v);return s}function fg(n){return ia.call(n)}function Uc(n,s,v){return s=hr(s===r?n.length-1:s,0),function(){for(var b=arguments,S=-1,P=hr(b.length-s,0),L=re(P);++S<P;)L[S]=b[s+S];S=-1;for(var z=re(s+1);++S<s;)z[S]=b[S];return z[s]=v(L),Wr(n,this,z)}}function jc(n,s){return s.length<2?n:Ti(n,sn(s,0,-1))}function cg(n,s){for(var v=n.length,b=Or(s.length,v),S=Rr(n);b--;){var P=s[b];n[b]=Yn(P,v)?S[P]:r}return n}function wo(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var Vc=zc(fc),zu=C1||function(n,s){return wr.setTimeout(n,s)},Eo=zc(Iv);function qc(n,s,v){var b=s+"";return Eo(n,rg(b,hg(Qv(b),v)))}function zc(n){var s=0,v=0;return function(){var b=M1(),S=q-(b-v);if(v=b,S>0){if(++s>=Y)return arguments[0]}else s=0;return n.apply(r,arguments)}}function Ba(n,s){var v=-1,b=n.length,S=b-1;for(s=s===r?b:s;++v<s;){var P=uo(v,S),L=n[P];n[P]=n[v],n[v]=L}return n.length=s,n}var Wc=sg(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(Li,function(v,b,S,P){s.push(S?P.replace(mu,"$1"):b||v)}),s});function Tn(n){if(typeof n=="string"||Kr(n))return n;var s=n+"";return s=="0"&&1/n==-te?"-0":s}function Ni(n){if(n!=null){try{return na.call(n)}catch{}try{return n+""}catch{}}return""}function hg(n,s){return rn(Pe,function(v){var b="_."+v[0];s&v[1]&&!$u(n,b)&&n.push(b)}),n.sort()}function Hc(n){if(n instanceof ot)return n.clone();var s=new un(n.__wrapped__,n.__chain__);return s.__actions__=Rr(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function dg(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=hr(tt(s),0);var b=n==null?0:n.length;if(!b||s<1)return[];for(var S=0,P=0,L=re(fa(b/s));S<b;)L[P++]=sn(n,S,S+=s);return L}function pg(n){for(var s=-1,v=n==null?0:n.length,b=0,S=[];++s<v;){var P=n[s];P&&(S[b++]=P)}return S}function vg(){var n=arguments.length;if(!n)return[];for(var s=re(n-1),v=arguments[0],b=n;b--;)s[b-1]=arguments[b];return ai($e(v)?Rr(v):[v],Er(s,1))}var gg=ut(function(n,s){return ir(n)?Ru(n,Er(s,1,ir,!0)):[]}),mg=ut(function(n,s){var v=on(s);return ir(v)&&(v=r),ir(n)?Ru(n,Er(s,1,ir,!0),Ue(v,2)):[]}),Dg=ut(function(n,s){var v=on(s);return ir(v)&&(v=r),ir(n)?Ru(n,Er(s,1,ir,!0),r,v):[]});function _g(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),sn(n,s<0?0:s,b)):[]}function yg(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,0,s<0?0:s)):[]}function Ag(n,s){return n&&n.length?ya(n,Ue(s,3),!0,!0):[]}function bg(n,s){return n&&n.length?ya(n,Ue(s,3),!0):[]}function wg(n,s,v,b){var S=n==null?0:n.length;return S?(v&&typeof v!="number"&&Ir(n,s,v)&&(v=0,b=S),vv(n,s,v,b)):[]}function Gc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),Qu(n,Ue(s,3),S)}function Kc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b-1;return v!==r&&(S=tt(v),S=v<0?hr(b+S,0):Or(S,b-1)),Qu(n,Ue(s,3),S,!0)}function Yc(n){var s=n==null?0:n.length;return s?Er(n,1):[]}function Eg(n){var s=n==null?0:n.length;return s?Er(n,te):[]}function Fg(n,s){var v=n==null?0:n.length;return v?(s=s===r?1:tt(s),Er(n,s)):[]}function Cg(n){for(var s=-1,v=n==null?0:n.length,b={};++s<v;){var S=n[s];b[S[0]]=S[1]}return b}function Zc(n){return n&&n.length?n[0]:r}function Sg(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),qi(n,s,S)}function Bg(n){var s=n==null?0:n.length;return s?sn(n,0,-1):[]}var Og=ut(function(n){var s=Rt(n,fo);return s.length&&s[0]===n[0]?eo(s):[]}),Mg=ut(function(n){var s=on(n),v=Rt(n,fo);return s===on(v)?s=r:v.pop(),v.length&&v[0]===n[0]?eo(v,Ue(s,2)):[]}),xg=ut(function(n){var s=on(n),v=Rt(n,fo);return s=typeof s=="function"?s:r,s&&v.pop(),v.length&&v[0]===n[0]?eo(v,r,s):[]});function Pg(n,s){return n==null?"":B1.call(n,s)}function on(n){var s=n==null?0:n.length;return s?n[s-1]:r}function Tg(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b;return v!==r&&(S=tt(v),S=S<0?hr(b+S,0):Or(S,b-1)),s===s?h1(n,s,S):Qu(n,Of,S,!0)}function Ig(n,s){return n&&n.length?ac(n,tt(s)):r}var Ng=ut(Xc);function Xc(n,s){return n&&n.length&&s&&s.length?io(n,s):n}function kg(n,s,v){return n&&n.length&&s&&s.length?io(n,s,Ue(v,2)):n}function Rg(n,s,v){return n&&n.length&&s&&s.length?io(n,s,r,v):n}var Lg=Kn(function(n,s){var v=n==null?0:n.length,b=Xs(n,s);return lc(n,Rt(s,function(S){return Yn(S,v)?+S:S}).sort(_c)),b});function Ug(n,s){var v=[];if(!(n&&n.length))return v;var b=-1,S=[],P=n.length;for(s=Ue(s,3);++b<P;){var L=n[b];s(L,b,n)&&(v.push(L),S.push(b))}return lc(n,S),v}function Fo(n){return n==null?n:P1.call(n)}function jg(n,s,v){var b=n==null?0:n.length;return b?(v&&typeof v!="number"&&Ir(n,s,v)?(s=0,v=b):(s=s==null?0:tt(s),v=v===r?b:tt(v)),sn(n,s,v)):[]}function Vg(n,s){return _a(n,s)}function qg(n,s,v){return so(n,s,Ue(v,2))}function zg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s);if(b<v&&Dn(n[b],s))return b}return-1}function Wg(n,s){return _a(n,s,!0)}function Hg(n,s,v){return so(n,s,Ue(v,2),!0)}function Gg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s,!0)-1;if(Dn(n[b],s))return b}return-1}function Kg(n){return n&&n.length?cc(n):[]}function Yg(n,s){return n&&n.length?cc(n,Ue(s,2)):[]}function Zg(n){var s=n==null?0:n.length;return s?sn(n,1,s):[]}function Xg(n,s,v){return n&&n.length?(s=v||s===r?1:tt(s),sn(n,0,s<0?0:s)):[]}function Jg(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,s<0?0:s,b)):[]}function $g(n,s){return n&&n.length?ya(n,Ue(s,3),!1,!0):[]}function Qg(n,s){return n&&n.length?ya(n,Ue(s,3)):[]}var em=ut(function(n){return fi(Er(n,1,ir,!0))}),tm=ut(function(n){var s=on(n);return ir(s)&&(s=r),fi(Er(n,1,ir,!0),Ue(s,2))}),rm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,fi(Er(n,1,ir,!0),r,s)});function nm(n){return n&&n.length?fi(n):[]}function im(n,s){return n&&n.length?fi(n,Ue(s,2)):[]}function um(n,s){return s=typeof s=="function"?s:r,n&&n.length?fi(n,r,s):[]}function Co(n){if(!(n&&n.length))return[];var s=0;return n=ui(n,function(v){if(ir(v))return s=hr(v.length,s),!0}),qs(s,function(v){return Rt(n,Us(v))})}function Jc(n,s){if(!(n&&n.length))return[];var v=Co(n);return s==null?v:Rt(v,function(b){return Wr(s,r,b)})}var am=ut(function(n,s){return ir(n)?Ru(n,s):[]}),sm=ut(function(n){return lo(ui(n,ir))}),om=ut(function(n){var s=on(n);return ir(s)&&(s=r),lo(ui(n,ir),Ue(s,2))}),lm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,lo(ui(n,ir),r,s)}),fm=ut(Co);function cm(n,s){return vc(n||[],s||[],ku)}function hm(n,s){return vc(n||[],s||[],ju)}var dm=ut(function(n){var s=n.length,v=s>1?n[s-1]:r;return v=typeof v=="function"?(n.pop(),v):r,Jc(n,v)});function $c(n){var s=M(n);return s.__chain__=!0,s}function pm(n,s){return s(n),n}function Oa(n,s){return s(n)}var vm=Kn(function(n){var s=n.length,v=s?n[0]:0,b=this.__wrapped__,S=function(P){return Xs(P,n)};return s>1||this.__actions__.length||!(b instanceof ot)||!Yn(v)?this.thru(S):(b=b.slice(v,+v+(s?1:0)),b.__actions__.push({func:Oa,args:[S],thisArg:r}),new un(b,this.__chain__).thru(function(P){return s&&!P.length&&P.push(r),P}))});function gm(){return $c(this)}function mm(){return new un(this.value(),this.__chain__)}function Dm(){this.__values__===r&&(this.__values__=h0(this.value()));var n=this.__index__>=this.__values__.length,s=n?r:this.__values__[this.__index__++];return{done:n,value:s}}function _m(){return this}function ym(n){for(var s,v=this;v instanceof pa;){var b=Hc(v);b.__index__=0,b.__values__=r,s?S.__wrapped__=b:s=b;var S=b;v=v.__wrapped__}return S.__wrapped__=n,s}function Am(){var n=this.__wrapped__;if(n instanceof ot){var s=n;return this.__actions__.length&&(s=new ot(this)),s=s.reverse(),s.__actions__.push({func:Oa,args:[Fo],thisArg:r}),new un(s,this.__chain__)}return this.thru(Fo)}function bm(){return pc(this.__wrapped__,this.__actions__)}var wm=Aa(function(n,s,v){bt.call(n,v)?++n[v]:Hn(n,v,1)});function Em(n,s,v){var b=$e(n)?Sf:pv;return v&&Ir(n,s,v)&&(s=r),b(n,Ue(s,3))}function Fm(n,s){var v=$e(n)?ui:Jf;return v(n,Ue(s,3))}var Cm=Fc(Gc),Sm=Fc(Kc);function Bm(n,s){return Er(Ma(n,s),1)}function Om(n,s){return Er(Ma(n,s),te)}function Mm(n,s,v){return v=v===r?1:tt(v),Er(Ma(n,s),v)}function Qc(n,s){var v=$e(n)?rn:li;return v(n,Ue(s,3))}function e0(n,s){var v=$e(n)?Zp:Xf;return v(n,Ue(s,3))}var xm=Aa(function(n,s,v){bt.call(n,v)?n[v].push(s):Hn(n,v,[s])});function Pm(n,s,v,b){n=Lr(n)?n:eu(n),v=v&&!b?tt(v):0;var S=n.length;return v<0&&(v=hr(S+v,0)),Na(n)?v<=S&&n.indexOf(s,v)>-1:!!S&&qi(n,s,v)>-1}var Tm=ut(function(n,s,v){var b=-1,S=typeof s=="function",P=Lr(n)?re(n.length):[];return li(n,function(L){P[++b]=S?Wr(s,L,v):Lu(L,s,v)}),P}),Im=Aa(function(n,s,v){Hn(n,v,s)});function Ma(n,s){var v=$e(n)?Rt:nc;return v(n,Ue(s,3))}function Nm(n,s,v,b){return n==null?[]:($e(s)||(s=s==null?[]:[s]),v=b?r:v,$e(v)||(v=v==null?[]:[v]),sc(n,s,v))}var km=Aa(function(n,s,v){n[v?0:1].push(s)},function(){return[[],[]]});function Rm(n,s,v){var b=$e(n)?Rs:xf,S=arguments.length<3;return b(n,Ue(s,4),v,S,li)}function Lm(n,s,v){var b=$e(n)?Xp:xf,S=arguments.length<3;return b(n,Ue(s,4),v,S,Xf)}function Um(n,s){var v=$e(n)?ui:Jf;return v(n,Ta(Ue(s,3)))}function jm(n){var s=$e(n)?Gf:Pv;return s(n)}function Vm(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=tt(s);var b=$e(n)?lv:Tv;return b(n,s)}function qm(n){var s=$e(n)?fv:Nv;return s(n)}function zm(n){if(n==null)return 0;if(Lr(n))return Na(n)?Wi(n):n.length;var s=Mr(n);return s==Je||s==Nt?n.size:ro(n).length}function Wm(n,s,v){var b=$e(n)?Ls:kv;return v&&Ir(n,s,v)&&(s=r),b(n,Ue(s,3))}var Hm=ut(function(n,s){if(n==null)return[];var v=s.length;return v>1&&Ir(n,s[0],s[1])?s=[]:v>2&&Ir(s[0],s[1],s[2])&&(s=[s[0]]),sc(n,Er(s,1),[])}),xa=F1||function(){return wr.Date.now()};function Gm(n,s){if(typeof s!="function")throw new nn(o);return n=tt(n),function(){if(--n<1)return s.apply(this,arguments)}}function t0(n,s,v){return s=v?r:s,s=n&&s==null?n.length:s,Gn(n,x,r,r,r,r,s)}function r0(n,s){var v;if(typeof s!="function")throw new nn(o);return n=tt(n),function(){return--n>0&&(v=s.apply(this,arguments)),n<=1&&(s=r),v}}var So=ut(function(n,s,v){var b=m;if(v.length){var S=si(v,$i(So));b|=C}return Gn(n,b,s,v,S)}),n0=ut(function(n,s,v){var b=m|y;if(v.length){var S=si(v,$i(n0));b|=C}return Gn(s,b,n,v,S)});function i0(n,s,v){s=v?r:s;var b=Gn(n,w,r,r,r,r,r,s);return b.placeholder=i0.placeholder,b}function u0(n,s,v){s=v?r:s;var b=Gn(n,O,r,r,r,r,r,s);return b.placeholder=u0.placeholder,b}function a0(n,s,v){var b,S,P,L,z,$,de=0,pe=!1,me=!1,Fe=!0;if(typeof n!="function")throw new nn(o);s=ln(s)||0,Vt(v)&&(pe=!!v.leading,me="maxWait"in v,P=me?hr(ln(v.maxWait)||0,s):P,Fe="trailing"in v?!!v.trailing:Fe);function Me(ur){var _n=b,Jn=S;return b=S=r,de=ur,L=n.apply(Jn,_n),L}function Ve(ur){return de=ur,z=zu(st,s),pe?Me(ur):L}function nt(ur){var _n=ur-$,Jn=ur-de,F0=s-_n;return me?Or(F0,P-Jn):F0}function qe(ur){var _n=ur-$,Jn=ur-de;return $===r||_n>=s||_n<0||me&&Jn>=P}function st(){var ur=xa();if(qe(ur))return ft(ur);z=zu(st,nt(ur))}function ft(ur){return z=r,Fe&&b?Me(ur):(b=S=r,L)}function Yr(){z!==r&&gc(z),de=0,b=$=S=z=r}function Nr(){return z===r?L:ft(xa())}function Zr(){var ur=xa(),_n=qe(ur);if(b=arguments,S=this,$=ur,_n){if(z===r)return Ve($);if(me)return gc(z),z=zu(st,s),Me($)}return z===r&&(z=zu(st,s)),L}return Zr.cancel=Yr,Zr.flush=Nr,Zr}var Km=ut(function(n,s){return Zf(n,1,s)}),Ym=ut(function(n,s,v){return Zf(n,ln(s)||0,v)});function Zm(n){return Gn(n,I)}function Pa(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new nn(o);var v=function(){var b=arguments,S=s?s.apply(this,b):b[0],P=v.cache;if(P.has(S))return P.get(S);var L=n.apply(this,b);return v.cache=P.set(S,L)||P,L};return v.cache=new(Pa.Cache||Wn),v}Pa.Cache=Wn;function Ta(n){if(typeof n!="function")throw new nn(o);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function Xm(n){return r0(2,n)}var Jm=Rv(function(n,s){s=s.length==1&&$e(s[0])?Rt(s[0],Hr(Ue())):Rt(Er(s,1),Hr(Ue()));var v=s.length;return ut(function(b){for(var S=-1,P=Or(b.length,v);++S<P;)b[S]=s[S].call(this,b[S]);return Wr(n,this,b)})}),Bo=ut(function(n,s){var v=si(s,$i(Bo));return Gn(n,C,r,s,v)}),s0=ut(function(n,s){var v=si(s,$i(s0));return Gn(n,B,r,s,v)}),$m=Kn(function(n,s){return Gn(n,T,r,r,r,s)});function Qm(n,s){if(typeof n!="function")throw new nn(o);return s=s===r?s:tt(s),ut(n,s)}function eD(n,s){if(typeof n!="function")throw new nn(o);return s=s==null?0:hr(tt(s),0),ut(function(v){var b=v[s],S=hi(v,0,s);return b&&ai(S,b),Wr(n,this,S)})}function tD(n,s,v){var b=!0,S=!0;if(typeof n!="function")throw new nn(o);return Vt(v)&&(b="leading"in v?!!v.leading:b,S="trailing"in v?!!v.trailing:S),a0(n,s,{leading:b,maxWait:s,trailing:S})}function rD(n){return t0(n,1)}function nD(n,s){return Bo(co(s),n)}function iD(){if(!arguments.length)return[];var n=arguments[0];return $e(n)?n:[n]}function uD(n){return an(n,D)}function aD(n,s){return s=typeof s=="function"?s:r,an(n,D,s)}function sD(n){return an(n,l|D)}function oD(n,s){return s=typeof s=="function"?s:r,an(n,l|D,s)}function lD(n,s){return s==null||Yf(n,s,mr(s))}function Dn(n,s){return n===s||n!==n&&s!==s}var fD=Fa(Qs),cD=Fa(function(n,s){return n>=s}),ki=ec(function(){return arguments}())?ec:function(n){return Qt(n)&&bt.call(n,"callee")&&!jf.call(n,"callee")},$e=re.isArray,hD=Af?Hr(Af):yv;function Lr(n){return n!=null&&Ia(n.length)&&!Zn(n)}function ir(n){return Qt(n)&&Lr(n)}function dD(n){return n===!0||n===!1||Qt(n)&&Tr(n)==ct}var di=S1||Uo,pD=bf?Hr(bf):Av;function vD(n){return Qt(n)&&n.nodeType===1&&!Wu(n)}function gD(n){if(n==null)return!0;if(Lr(n)&&($e(n)||typeof n=="string"||typeof n.splice=="function"||di(n)||Qi(n)||ki(n)))return!n.length;var s=Mr(n);if(s==Je||s==Nt)return!n.size;if(qu(n))return!ro(n).length;for(var v in n)if(bt.call(n,v))return!1;return!0}function mD(n,s){return Uu(n,s)}function DD(n,s,v){v=typeof v=="function"?v:r;var b=v?v(n,s):r;return b===r?Uu(n,s,r,v):!!b}function Oo(n){if(!Qt(n))return!1;var s=Tr(n);return s==ht||s==it||typeof n.message=="string"&&typeof n.name=="string"&&!Wu(n)}function _D(n){return typeof n=="number"&&qf(n)}function Zn(n){if(!Vt(n))return!1;var s=Tr(n);return s==dt||s==rt||s==at||s==_e}function o0(n){return typeof n=="number"&&n==tt(n)}function Ia(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ce}function Vt(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Qt(n){return n!=null&&typeof n=="object"}var l0=wf?Hr(wf):wv;function yD(n,s){return n===s||to(n,s,_o(s))}function AD(n,s,v){return v=typeof v=="function"?v:r,to(n,s,_o(s),v)}function bD(n){return f0(n)&&n!=+n}function wD(n){if(ag(n))throw new Ye(a);return tc(n)}function ED(n){return n===null}function FD(n){return n==null}function f0(n){return typeof n=="number"||Qt(n)&&Tr(n)==At}function Wu(n){if(!Qt(n)||Tr(n)!=wt)return!1;var s=sa(n);if(s===null)return!0;var v=bt.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&na.call(v)==A1}var Mo=Ef?Hr(Ef):Ev;function CD(n){return o0(n)&&n>=-ce&&n<=ce}var c0=Ff?Hr(Ff):Fv;function Na(n){return typeof n=="string"||!$e(n)&&Qt(n)&&Tr(n)==ar}function Kr(n){return typeof n=="symbol"||Qt(n)&&Tr(n)==R}var Qi=Cf?Hr(Cf):Cv;function SD(n){return n===r}function BD(n){return Qt(n)&&Mr(n)==Z}function OD(n){return Qt(n)&&Tr(n)==ue}var MD=Fa(no),xD=Fa(function(n,s){return n<=s});function h0(n){if(!n)return[];if(Lr(n))return Na(n)?gn(n):Rr(n);if(xu&&n[xu])return l1(n[xu]());var s=Mr(n),v=s==Je?Ws:s==Nt?ea:eu;return v(n)}function Xn(n){if(!n)return n===0?n:0;if(n=ln(n),n===te||n===-te){var s=n<0?-1:1;return s*ve}return n===n?n:0}function tt(n){var s=Xn(n),v=s%1;return s===s?v?s-v:s:0}function d0(n){return n?Pi(tt(n),0,Se):0}function ln(n){if(typeof n=="number")return n;if(Kr(n))return we;if(Vt(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=Vt(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=Pf(n);var v=yu.test(n);return v||bu.test(n)?Gp(n.slice(2),v?2:8):_u.test(n)?we:+n}function p0(n){return Pn(n,Ur(n))}function PD(n){return n?Pi(tt(n),-ce,ce):n===0?n:0}function gt(n){return n==null?"":Gr(n)}var TD=Xi(function(n,s){if(qu(s)||Lr(s)){Pn(s,mr(s),n);return}for(var v in s)bt.call(s,v)&&ku(n,v,s[v])}),v0=Xi(function(n,s){Pn(s,Ur(s),n)}),ka=Xi(function(n,s,v,b){Pn(s,Ur(s),n,b)}),ID=Xi(function(n,s,v,b){Pn(s,mr(s),n,b)}),ND=Kn(Xs);function kD(n,s){var v=Zi(n);return s==null?v:Kf(v,s)}var RD=ut(function(n,s){n=St(n);var v=-1,b=s.length,S=b>2?s[2]:r;for(S&&Ir(s[0],s[1],S)&&(b=1);++v<b;)for(var P=s[v],L=Ur(P),z=-1,$=L.length;++z<$;){var de=L[z],pe=n[de];(pe===r||Dn(pe,Gi[de])&&!bt.call(n,de))&&(n[de]=P[de])}return n}),LD=ut(function(n){return n.push(r,Pc),Wr(g0,r,n)});function UD(n,s){return Bf(n,Ue(s,3),xn)}function jD(n,s){return Bf(n,Ue(s,3),$s)}function VD(n,s){return n==null?n:Js(n,Ue(s,3),Ur)}function qD(n,s){return n==null?n:$f(n,Ue(s,3),Ur)}function zD(n,s){return n&&xn(n,Ue(s,3))}function WD(n,s){return n&&$s(n,Ue(s,3))}function HD(n){return n==null?[]:ma(n,mr(n))}function GD(n){return n==null?[]:ma(n,Ur(n))}function xo(n,s,v){var b=n==null?r:Ti(n,s);return b===r?v:b}function KD(n,s){return n!=null&&Nc(n,s,gv)}function Po(n,s){return n!=null&&Nc(n,s,mv)}var YD=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),n[s]=v},Io(jr)),ZD=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),bt.call(n,s)?n[s].push(v):n[s]=[v]},Ue),XD=ut(Lu);function mr(n){return Lr(n)?Hf(n):ro(n)}function Ur(n){return Lr(n)?Hf(n,!0):Sv(n)}function JD(n,s){var v={};return s=Ue(s,3),xn(n,function(b,S,P){Hn(v,s(b,S,P),b)}),v}function $D(n,s){var v={};return s=Ue(s,3),xn(n,function(b,S,P){Hn(v,S,s(b,S,P))}),v}var QD=Xi(function(n,s,v){Da(n,s,v)}),g0=Xi(function(n,s,v,b){Da(n,s,v,b)}),e_=Kn(function(n,s){var v={};if(n==null)return v;var b=!1;s=Rt(s,function(P){return P=ci(P,n),b||(b=P.length>1),P}),Pn(n,mo(n),v),b&&(v=an(v,l|f|D,Yv));for(var S=s.length;S--;)oo(v,s[S]);return v});function t_(n,s){return m0(n,Ta(Ue(s)))}var r_=Kn(function(n,s){return n==null?{}:Ov(n,s)});function m0(n,s){if(n==null)return{};var v=Rt(mo(n),function(b){return[b]});return s=Ue(s),oc(n,v,function(b,S){return s(b,S[0])})}function n_(n,s,v){s=ci(s,n);var b=-1,S=s.length;for(S||(S=1,n=r);++b<S;){var P=n==null?r:n[Tn(s[b])];P===r&&(b=S,P=v),n=Zn(P)?P.call(n):P}return n}function i_(n,s,v){return n==null?n:ju(n,s,v)}function u_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:ju(n,s,v,b)}var D0=Mc(mr),_0=Mc(Ur);function a_(n,s,v){var b=$e(n),S=b||di(n)||Qi(n);if(s=Ue(s,4),v==null){var P=n&&n.constructor;S?v=b?new P:[]:Vt(n)?v=Zn(P)?Zi(sa(n)):{}:v={}}return(S?rn:xn)(n,function(L,z,$){return s(v,L,z,$)}),v}function s_(n,s){return n==null?!0:oo(n,s)}function o_(n,s,v){return n==null?n:dc(n,s,co(v))}function l_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:dc(n,s,co(v),b)}function eu(n){return n==null?[]:zs(n,mr(n))}function f_(n){return n==null?[]:zs(n,Ur(n))}function c_(n,s,v){return v===r&&(v=s,s=r),v!==r&&(v=ln(v),v=v===v?v:0),s!==r&&(s=ln(s),s=s===s?s:0),Pi(ln(n),s,v)}function h_(n,s,v){return s=Xn(s),v===r?(v=s,s=0):v=Xn(v),n=ln(n),Dv(n,s,v)}function d_(n,s,v){if(v&&typeof v!="boolean"&&Ir(n,s,v)&&(s=v=r),v===r&&(typeof s=="boolean"?(v=s,s=r):typeof n=="boolean"&&(v=n,n=r)),n===r&&s===r?(n=0,s=1):(n=Xn(n),s===r?(s=n,n=0):s=Xn(s)),n>s){var b=n;n=s,s=b}if(v||n%1||s%1){var S=zf();return Or(n+S*(s-n+Hp("1e-"+((S+"").length-1))),s)}return uo(n,s)}var p_=Ji(function(n,s,v){return s=s.toLowerCase(),n+(v?y0(s):s)});function y0(n){return To(gt(n).toLowerCase())}function A0(n){return n=gt(n),n&&n.replace(Eu,i1).replace(Np,"")}function v_(n,s,v){n=gt(n),s=Gr(s);var b=n.length;v=v===r?b:Pi(tt(v),0,b);var S=v;return v-=s.length,v>=0&&n.slice(v,S)==s}function g_(n){return n=gt(n),n&&$r.test(n)?n.replace(sr,u1):n}function m_(n){return n=gt(n),n&&vu.test(n)?n.replace(Ei,"\\$&"):n}var D_=Ji(function(n,s,v){return n+(v?"-":"")+s.toLowerCase()}),__=Ji(function(n,s,v){return n+(v?" ":"")+s.toLowerCase()}),y_=Ec("toLowerCase");function A_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;if(!s||b>=s)return n;var S=(s-b)/2;return Ea(ca(S),v)+n+Ea(fa(S),v)}function b_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?n+Ea(s-b,v):n}function w_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?Ea(s-b,v)+n:n}function E_(n,s,v){return v||s==null?s=0:s&&(s=+s),x1(gt(n).replace(br,""),s||0)}function F_(n,s,v){return(v?Ir(n,s,v):s===r)?s=1:s=tt(s),ao(gt(n),s)}function C_(){var n=arguments,s=gt(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var S_=Ji(function(n,s,v){return n+(v?"_":"")+s.toLowerCase()});function B_(n,s,v){return v&&typeof v!="number"&&Ir(n,s,v)&&(s=v=r),v=v===r?Se:v>>>0,v?(n=gt(n),n&&(typeof s=="string"||s!=null&&!Mo(s))&&(s=Gr(s),!s&&zi(n))?hi(gn(n),0,v):n.split(s,v)):[]}var O_=Ji(function(n,s,v){return n+(v?" ":"")+To(s)});function M_(n,s,v){return n=gt(n),v=v==null?0:Pi(tt(v),0,n.length),s=Gr(s),n.slice(v,v+s.length)==s}function x_(n,s,v){var b=M.templateSettings;v&&Ir(n,s,v)&&(s=r),n=gt(n),s=ka({},s,b,xc);var S=ka({},s.imports,b.imports,xc),P=mr(S),L=zs(S,P),z,$,de=0,pe=s.interpolate||ni,me="__p += '",Fe=Hs((s.escape||ni).source+"|"+pe.source+"|"+(pe===jn?Du:ni).source+"|"+(s.evaluate||ni).source+"|$","g"),Me="//# sourceURL="+(bt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jp+"]")+`
`;n.replace(Fe,function(qe,st,ft,Yr,Nr,Zr){return ft||(ft=Yr),me+=n.slice(de,Zr).replace(Fu,a1),st&&(z=!0,me+=`' +
__e(`+st+`) +
'`),Nr&&($=!0,me+=`';
`+Nr+`;
__p += '`),ft&&(me+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),de=Zr+qe.length,qe}),me+=`';
`;var Ve=bt.call(s,"variable")&&s.variable;if(!Ve)me=`with (obj) {
`+me+`
}
`;else if(Fi.test(Ve))throw new Ye(c);me=($?me.replace(Ut,""):me).replace(pr,"$1").replace(jt,"$1;"),me="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var nt=w0(function(){return vt(P,Me+"return "+me).apply(r,L)});if(nt.source=me,Oo(nt))throw nt;return nt}function P_(n){return gt(n).toLowerCase()}function T_(n){return gt(n).toUpperCase()}function I_(n,s,v){if(n=gt(n),n&&(v||s===r))return Pf(n);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=gn(s),P=Tf(b,S),L=If(b,S)+1;return hi(b,P,L).join("")}function N_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.slice(0,kf(n)+1);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=If(b,gn(s))+1;return hi(b,0,S).join("")}function k_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.replace(br,"");if(!n||!(s=Gr(s)))return n;var b=gn(n),S=Tf(b,gn(s));return hi(b,S).join("")}function R_(n,s){var v=W,b=K;if(Vt(s)){var S="separator"in s?s.separator:S;v="length"in s?tt(s.length):v,b="omission"in s?Gr(s.omission):b}n=gt(n);var P=n.length;if(zi(n)){var L=gn(n);P=L.length}if(v>=P)return n;var z=v-Wi(b);if(z<1)return b;var $=L?hi(L,0,z).join(""):n.slice(0,z);if(S===r)return $+b;if(L&&(z+=$.length-z),Mo(S)){if(n.slice(z).search(S)){var de,pe=$;for(S.global||(S=Hs(S.source,gt(Ui.exec(S))+"g")),S.lastIndex=0;de=S.exec(pe);)var me=de.index;$=$.slice(0,me===r?z:me)}}else if(n.indexOf(Gr(S),z)!=z){var Fe=$.lastIndexOf(S);Fe>-1&&($=$.slice(0,Fe))}return $+b}function L_(n){return n=gt(n),n&&or.test(n)?n.replace(vr,d1):n}var U_=Ji(function(n,s,v){return n+(v?" ":"")+s.toUpperCase()}),To=Ec("toUpperCase");function b0(n,s,v){return n=gt(n),s=v?r:s,s===r?o1(n)?g1(n):Qp(n):n.match(s)||[]}var w0=ut(function(n,s){try{return Wr(n,r,s)}catch(v){return Oo(v)?v:new Ye(v)}}),j_=Kn(function(n,s){return rn(s,function(v){v=Tn(v),Hn(n,v,So(n[v],n))}),n});function V_(n){var s=n==null?0:n.length,v=Ue();return n=s?Rt(n,function(b){if(typeof b[1]!="function")throw new nn(o);return[v(b[0]),b[1]]}):[],ut(function(b){for(var S=-1;++S<s;){var P=n[S];if(Wr(P[0],this,b))return Wr(P[1],this,b)}})}function q_(n){return dv(an(n,l))}function Io(n){return function(){return n}}function z_(n,s){return n==null||n!==n?s:n}var W_=Cc(),H_=Cc(!0);function jr(n){return n}function No(n){return rc(typeof n=="function"?n:an(n,l))}function G_(n){return ic(an(n,l))}function K_(n,s){return uc(n,an(s,l))}var Y_=ut(function(n,s){return function(v){return Lu(v,n,s)}}),Z_=ut(function(n,s){return function(v){return Lu(n,v,s)}});function ko(n,s,v){var b=mr(s),S=ma(s,b);v==null&&!(Vt(s)&&(S.length||!b.length))&&(v=s,s=n,n=this,S=ma(s,mr(s)));var P=!(Vt(v)&&"chain"in v)||!!v.chain,L=Zn(n);return rn(S,function(z){var $=s[z];n[z]=$,L&&(n.prototype[z]=function(){var de=this.__chain__;if(P||de){var pe=n(this.__wrapped__),me=pe.__actions__=Rr(this.__actions__);return me.push({func:$,args:arguments,thisArg:n}),pe.__chain__=de,pe}return $.apply(n,ai([this.value()],arguments))})}),n}function X_(){return wr._===this&&(wr._=b1),this}function Ro(){}function J_(n){return n=tt(n),ut(function(s){return ac(s,n)})}var $_=po(Rt),Q_=po(Sf),ey=po(Ls);function E0(n){return Ao(n)?Us(Tn(n)):Mv(n)}function ty(n){return function(s){return n==null?r:Ti(n,s)}}var ry=Bc(),ny=Bc(!0);function Lo(){return[]}function Uo(){return!1}function iy(){return{}}function uy(){return""}function ay(){return!0}function sy(n,s){if(n=tt(n),n<1||n>ce)return[];var v=Se,b=Or(n,Se);s=Ue(s),n-=Se;for(var S=qs(b,s);++v<n;)s(v);return S}function oy(n){return $e(n)?Rt(n,Tn):Kr(n)?[n]:Rr(Wc(gt(n)))}function ly(n){var s=++y1;return gt(n)+s}var fy=wa(function(n,s){return n+s},0),cy=vo("ceil"),hy=wa(function(n,s){return n/s},1),dy=vo("floor");function py(n){return n&&n.length?ga(n,jr,Qs):r}function vy(n,s){return n&&n.length?ga(n,Ue(s,2),Qs):r}function gy(n){return Mf(n,jr)}function my(n,s){return Mf(n,Ue(s,2))}function Dy(n){return n&&n.length?ga(n,jr,no):r}function _y(n,s){return n&&n.length?ga(n,Ue(s,2),no):r}var yy=wa(function(n,s){return n*s},1),Ay=vo("round"),by=wa(function(n,s){return n-s},0);function wy(n){return n&&n.length?Vs(n,jr):0}function Ey(n,s){return n&&n.length?Vs(n,Ue(s,2)):0}return M.after=Gm,M.ary=t0,M.assign=TD,M.assignIn=v0,M.assignInWith=ka,M.assignWith=ID,M.at=ND,M.before=r0,M.bind=So,M.bindAll=j_,M.bindKey=n0,M.castArray=iD,M.chain=$c,M.chunk=dg,M.compact=pg,M.concat=vg,M.cond=V_,M.conforms=q_,M.constant=Io,M.countBy=wm,M.create=kD,M.curry=i0,M.curryRight=u0,M.debounce=a0,M.defaults=RD,M.defaultsDeep=LD,M.defer=Km,M.delay=Ym,M.difference=gg,M.differenceBy=mg,M.differenceWith=Dg,M.drop=_g,M.dropRight=yg,M.dropRightWhile=Ag,M.dropWhile=bg,M.fill=wg,M.filter=Fm,M.flatMap=Bm,M.flatMapDeep=Om,M.flatMapDepth=Mm,M.flatten=Yc,M.flattenDeep=Eg,M.flattenDepth=Fg,M.flip=Zm,M.flow=W_,M.flowRight=H_,M.fromPairs=Cg,M.functions=HD,M.functionsIn=GD,M.groupBy=xm,M.initial=Bg,M.intersection=Og,M.intersectionBy=Mg,M.intersectionWith=xg,M.invert=YD,M.invertBy=ZD,M.invokeMap=Tm,M.iteratee=No,M.keyBy=Im,M.keys=mr,M.keysIn=Ur,M.map=Ma,M.mapKeys=JD,M.mapValues=$D,M.matches=G_,M.matchesProperty=K_,M.memoize=Pa,M.merge=QD,M.mergeWith=g0,M.method=Y_,M.methodOf=Z_,M.mixin=ko,M.negate=Ta,M.nthArg=J_,M.omit=e_,M.omitBy=t_,M.once=Xm,M.orderBy=Nm,M.over=$_,M.overArgs=Jm,M.overEvery=Q_,M.overSome=ey,M.partial=Bo,M.partialRight=s0,M.partition=km,M.pick=r_,M.pickBy=m0,M.property=E0,M.propertyOf=ty,M.pull=Ng,M.pullAll=Xc,M.pullAllBy=kg,M.pullAllWith=Rg,M.pullAt=Lg,M.range=ry,M.rangeRight=ny,M.rearg=$m,M.reject=Um,M.remove=Ug,M.rest=Qm,M.reverse=Fo,M.sampleSize=Vm,M.set=i_,M.setWith=u_,M.shuffle=qm,M.slice=jg,M.sortBy=Hm,M.sortedUniq=Kg,M.sortedUniqBy=Yg,M.split=B_,M.spread=eD,M.tail=Zg,M.take=Xg,M.takeRight=Jg,M.takeRightWhile=$g,M.takeWhile=Qg,M.tap=pm,M.throttle=tD,M.thru=Oa,M.toArray=h0,M.toPairs=D0,M.toPairsIn=_0,M.toPath=oy,M.toPlainObject=p0,M.transform=a_,M.unary=rD,M.union=em,M.unionBy=tm,M.unionWith=rm,M.uniq=nm,M.uniqBy=im,M.uniqWith=um,M.unset=s_,M.unzip=Co,M.unzipWith=Jc,M.update=o_,M.updateWith=l_,M.values=eu,M.valuesIn=f_,M.without=am,M.words=b0,M.wrap=nD,M.xor=sm,M.xorBy=om,M.xorWith=lm,M.zip=fm,M.zipObject=cm,M.zipObjectDeep=hm,M.zipWith=dm,M.entries=D0,M.entriesIn=_0,M.extend=v0,M.extendWith=ka,ko(M,M),M.add=fy,M.attempt=w0,M.camelCase=p_,M.capitalize=y0,M.ceil=cy,M.clamp=c_,M.clone=uD,M.cloneDeep=sD,M.cloneDeepWith=oD,M.cloneWith=aD,M.conformsTo=lD,M.deburr=A0,M.defaultTo=z_,M.divide=hy,M.endsWith=v_,M.eq=Dn,M.escape=g_,M.escapeRegExp=m_,M.every=Em,M.find=Cm,M.findIndex=Gc,M.findKey=UD,M.findLast=Sm,M.findLastIndex=Kc,M.findLastKey=jD,M.floor=dy,M.forEach=Qc,M.forEachRight=e0,M.forIn=VD,M.forInRight=qD,M.forOwn=zD,M.forOwnRight=WD,M.get=xo,M.gt=fD,M.gte=cD,M.has=KD,M.hasIn=Po,M.head=Zc,M.identity=jr,M.includes=Pm,M.indexOf=Sg,M.inRange=h_,M.invoke=XD,M.isArguments=ki,M.isArray=$e,M.isArrayBuffer=hD,M.isArrayLike=Lr,M.isArrayLikeObject=ir,M.isBoolean=dD,M.isBuffer=di,M.isDate=pD,M.isElement=vD,M.isEmpty=gD,M.isEqual=mD,M.isEqualWith=DD,M.isError=Oo,M.isFinite=_D,M.isFunction=Zn,M.isInteger=o0,M.isLength=Ia,M.isMap=l0,M.isMatch=yD,M.isMatchWith=AD,M.isNaN=bD,M.isNative=wD,M.isNil=FD,M.isNull=ED,M.isNumber=f0,M.isObject=Vt,M.isObjectLike=Qt,M.isPlainObject=Wu,M.isRegExp=Mo,M.isSafeInteger=CD,M.isSet=c0,M.isString=Na,M.isSymbol=Kr,M.isTypedArray=Qi,M.isUndefined=SD,M.isWeakMap=BD,M.isWeakSet=OD,M.join=Pg,M.kebabCase=D_,M.last=on,M.lastIndexOf=Tg,M.lowerCase=__,M.lowerFirst=y_,M.lt=MD,M.lte=xD,M.max=py,M.maxBy=vy,M.mean=gy,M.meanBy=my,M.min=Dy,M.minBy=_y,M.stubArray=Lo,M.stubFalse=Uo,M.stubObject=iy,M.stubString=uy,M.stubTrue=ay,M.multiply=yy,M.nth=Ig,M.noConflict=X_,M.noop=Ro,M.now=xa,M.pad=A_,M.padEnd=b_,M.padStart=w_,M.parseInt=E_,M.random=d_,M.reduce=Rm,M.reduceRight=Lm,M.repeat=F_,M.replace=C_,M.result=n_,M.round=Ay,M.runInContext=J,M.sample=jm,M.size=zm,M.snakeCase=S_,M.some=Wm,M.sortedIndex=Vg,M.sortedIndexBy=qg,M.sortedIndexOf=zg,M.sortedLastIndex=Wg,M.sortedLastIndexBy=Hg,M.sortedLastIndexOf=Gg,M.startCase=O_,M.startsWith=M_,M.subtract=by,M.sum=wy,M.sumBy=Ey,M.template=x_,M.times=sy,M.toFinite=Xn,M.toInteger=tt,M.toLength=d0,M.toLower=P_,M.toNumber=ln,M.toSafeInteger=PD,M.toString=gt,M.toUpper=T_,M.trim=I_,M.trimEnd=N_,M.trimStart=k_,M.truncate=R_,M.unescape=L_,M.uniqueId=ly,M.upperCase=U_,M.upperFirst=To,M.each=Qc,M.eachRight=e0,M.first=Zc,ko(M,function(){var n={};return xn(M,function(s,v){bt.call(M.prototype,v)||(n[v]=s)}),n}(),{chain:!1}),M.VERSION=i,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){M[n].placeholder=M}),rn(["drop","take"],function(n,s){ot.prototype[n]=function(v){v=v===r?1:hr(tt(v),0);var b=this.__filtered__&&!s?new ot(this):this.clone();return b.__filtered__?b.__takeCount__=Or(v,b.__takeCount__):b.__views__.push({size:Or(v,Se),type:n+(b.__dir__<0?"Right":"")}),b},ot.prototype[n+"Right"]=function(v){return this.reverse()[n](v).reverse()}}),rn(["filter","map","takeWhile"],function(n,s){var v=s+1,b=v==H||v==G;ot.prototype[n]=function(S){var P=this.clone();return P.__iteratees__.push({iteratee:Ue(S,3),type:v}),P.__filtered__=P.__filtered__||b,P}}),rn(["head","last"],function(n,s){var v="take"+(s?"Right":"");ot.prototype[n]=function(){return this[v](1).value()[0]}}),rn(["initial","tail"],function(n,s){var v="drop"+(s?"":"Right");ot.prototype[n]=function(){return this.__filtered__?new ot(this):this[v](1)}}),ot.prototype.compact=function(){return this.filter(jr)},ot.prototype.find=function(n){return this.filter(n).head()},ot.prototype.findLast=function(n){return this.reverse().find(n)},ot.prototype.invokeMap=ut(function(n,s){return typeof n=="function"?new ot(this):this.map(function(v){return Lu(v,n,s)})}),ot.prototype.reject=function(n){return this.filter(Ta(Ue(n)))},ot.prototype.slice=function(n,s){n=tt(n);var v=this;return v.__filtered__&&(n>0||s<0)?new ot(v):(n<0?v=v.takeRight(-n):n&&(v=v.drop(n)),s!==r&&(s=tt(s),v=s<0?v.dropRight(-s):v.take(s-n)),v)},ot.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ot.prototype.toArray=function(){return this.take(Se)},xn(ot.prototype,function(n,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),S=M[b?"take"+(s=="last"?"Right":""):s],P=b||/^find/.test(s);S&&(M.prototype[s]=function(){var L=this.__wrapped__,z=b?[1]:arguments,$=L instanceof ot,de=z[0],pe=$||$e(L),me=function(st){var ft=S.apply(M,ai([st],z));return b&&Fe?ft[0]:ft};pe&&v&&typeof de=="function"&&de.length!=1&&($=pe=!1);var Fe=this.__chain__,Me=!!this.__actions__.length,Ve=P&&!Fe,nt=$&&!Me;if(!P&&pe){L=nt?L:new ot(this);var qe=n.apply(L,z);return qe.__actions__.push({func:Oa,args:[me],thisArg:r}),new un(qe,Fe)}return Ve&&nt?n.apply(this,z):(qe=this.thru(me),Ve?b?qe.value()[0]:qe.value():qe)})}),rn(["pop","push","shift","sort","splice","unshift"],function(n){var s=ta[n],v=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",b=/^(?:pop|shift)$/.test(n);M.prototype[n]=function(){var S=arguments;if(b&&!this.__chain__){var P=this.value();return s.apply($e(P)?P:[],S)}return this[v](function(L){return s.apply($e(L)?L:[],S)})}}),xn(ot.prototype,function(n,s){var v=M[s];if(v){var b=v.name+"";bt.call(Yi,b)||(Yi[b]=[]),Yi[b].push({name:s,func:v})}}),Yi[ba(r,y).name]=[{name:"wrapper",func:r}],ot.prototype.clone=L1,ot.prototype.reverse=U1,ot.prototype.value=j1,M.prototype.at=vm,M.prototype.chain=gm,M.prototype.commit=mm,M.prototype.next=Dm,M.prototype.plant=ym,M.prototype.reverse=Am,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=bm,M.prototype.first=M.prototype.head,xu&&(M.prototype[xu]=_m),M},Hi=m1();Bi?((Bi.exports=Hi)._=Hi,Is._=Hi):wr._=Hi}).call(lr)})(PC,hs);const TC=hs,pl="panelModeStore";function IC(){const t=Fn("select"),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[pl]||""),{subscribe:e,updateMode:a=>{!a||!u||(localStorage[pl]=a,r(a))},getMode:()=>Pt(t),resetMode:()=>{u&&(delete localStorage[pl],r("select"))}}}const Ln=IC(),NC=En(Ln,t=>Pt(Ln)),vl="selectedPromptStore";function kC(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[vl]||""),{subscribe:e,updateId:a=>{!a||!u||(localStorage[vl]=a,r(a))},getId:()=>Pt(t),clearId:()=>{u&&(delete localStorage[vl],r(""))}}}const jl=kC(),RC=En(jl,t=>Pt(jl));function Lh(t,e,r){const i=t.slice();return i[6]=e[r][0],i[7]=e[r][1],i}function Uh(t,e,r){const i=t.slice();return i[10]=e[r][0],i[11]=e[r][1],i}function jh(t){let e=t[11].text+"",r,i,u,a=ti(t[11],t[7].weightMode)+"",o,c;return{c(){r=Ge(e),i=Ge("::"),u=se("b"),o=Ge(a),c=Ze()},l(d){r=Ke(d,e),i=Ke(d,"::"),u=oe(d,"B",{});var p=ne(u);o=Ke(p,a),p.forEach(V),c=Xe(d)},m(d,p){Ee(d,r,p),Ee(d,i,p),Ee(d,u,p),Q(u,o),Ee(d,c,p)},p(d,p){p&1&&e!==(e=d[11].text+"")&&wn(r,e),p&1&&a!==(a=ti(d[11],d[7].weightMode)+"")&&wn(o,a)},d(d){d&&V(r),d&&V(i),d&&V(u),d&&V(c)}}}function Vh(t,e){let r,i,u,a,o,c=Object.entries(e[7].weightedPrompts),d=[];for(let h=0;h<c.length;h+=1)d[h]=jh(Uh(e,c,h));function p(){return e[4](e[6],e[7])}return{key:t,first:null,c(){r=se("li"),i=se("a");for(let h=0;h<d.length;h+=1)d[h].c();u=Ze(),this.h()},l(h){r=oe(h,"LI",{});var l=ne(r);i=oe(l,"A",{class:!0});var f=ne(i);for(let D=0;D<d.length;D+=1)d[D].l(f);f.forEach(V),u=Xe(l),l.forEach(V),this.h()},h(){N(i,"class","text-xs inline-block"),this.first=r},m(h,l){Ee(h,r,l),Q(r,i);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(i,null);Q(r,u),a||(o=Re(i,"click",p),a=!0)},p(h,l){if(e=h,l&3){c=Object.entries(e[7].weightedPrompts);let f;for(f=0;f<c.length;f+=1){const D=Uh(e,c,f);d[f]?d[f].p(D,l):(d[f]=jh(D),d[f].c(),d[f].m(i,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=c.length}},d(h){h&&V(r),ld(d,h),a=!1,o()}}}function LC(t){let e,r,i,u,a,o=[],c=new Map,d,p,h=t[1](t[0],qh,"desc");const l=f=>f[6];for(let f=0;f<h.length;f+=1){let D=Lh(t,h,f),A=l(D);c.set(A,o[f]=Vh(A,D))}return{c(){e=se("ul"),r=se("li"),i=se("a"),u=Ge("New +"),a=Ze();for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=oe(f,"UL",{class:!0});var D=ne(e);r=oe(D,"LI",{});var A=ne(r);i=oe(A,"A",{class:!0});var g=ne(i);u=Ke(g,"New +"),g.forEach(V),A.forEach(V),a=Xe(D);for(let m=0;m<o.length;m+=1)o[m].l(D);D.forEach(V),this.h()},h(){N(i,"class","text-xs inline-block"),N(e,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(f,D){Ee(f,e,D),Q(e,r),Q(r,i),Q(i,u),Q(e,a);for(let A=0;A<o.length;A+=1)o[A]&&o[A].m(e,null);d||(p=Re(i,"click",t[2]),d=!0)},p(f,[D]){D&11&&(h=f[1](f[0],qh,"desc"),o=Ai(o,D,l,1,f,h,c,e,du,Vh,null,Lh))},i:xe,o:xe,d(f){f&&V(e);for(let D=0;D<o.length;D+=1)o[D].d();d=!1,p()}}}const qh=t=>t[1].date;function UC(t,e,r){let i,u;xt(t,Cn,p=>r(5,i=p)),xt(t,xC,p=>r(0,u=p));const{orderBy:a}=TC;function o(){It.updateActivePrompt(cu({},i.weightMode)),Ln.updateMode("edit")}function c(p,h){jl.updateId(p),It.updateActivePrompt({...h}),Ln.updateMode("edit")}return[u,a,o,c,(p,h)=>c(p,h)]}class jC extends Yt{constructor(e){super(),Zt(this,e,UC,LC,Xt,{})}}let qa;const VC=new Uint8Array(16);function qC(){if(!qa&&(qa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qa(VC)}const Cr=[];for(let t=0;t<256;++t)Cr.push((t+256).toString(16).slice(1));function zC(t,e=0){return(Cr[t[e+0]]+Cr[t[e+1]]+Cr[t[e+2]]+Cr[t[e+3]]+"-"+Cr[t[e+4]]+Cr[t[e+5]]+"-"+Cr[t[e+6]]+Cr[t[e+7]]+"-"+Cr[t[e+8]]+Cr[t[e+9]]+"-"+Cr[t[e+10]]+Cr[t[e+11]]+Cr[t[e+12]]+Cr[t[e+13]]+Cr[t[e+14]]+Cr[t[e+15]]).toLowerCase()}const WC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zh={randomUUID:WC};function bp(t,e,r){if(zh.randomUUID&&!e&&!t)return zh.randomUUID();t=t||{};const i=t.random||(t.rng||qC)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let u=0;u<16;++u)e[r+u]=i[u];return e}return zC(i)}function HC(t){const e=[],r=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let i;for(;(i=r.exec(t))!==null;){const u=i[1].trim(),a=i[2]?parseFloat(i[2]):1;u&&e.push([u,a])}return e}function gl(t){if(typeof t!="string")throw new Error("Input must be a string");const e=t.length-1;let r=t;for(;r[e]===",";)r=r.slice(0,e);return r}function ml(t){if(typeof t!="string")throw new Error("Input must be a string");const e=["-","#","*","•","◦",">","<","+","^","~","(",")","[","]","{","}"];let r=t.trim();for(;e.includes(r[0]);)r=r.slice(1).trim();return/^\d+(\.|\))\s/.test(r)&&(r=r.replace(/^\d+(\.|\))\s/,"")),r}function Vl(t){if(t=t.replace(/^\n+|\n+$/g,""),t.includes("::"))return HC(t);if(t.includes(`
`))return t.split(`
`).map(a=>ml(gl(a))).filter(a=>a.length>0).map(a=>[a,1]);const e=t.match(/[^.!?]+[.!?]+/g)||[],r=e.length,i=t.split(",").map(a=>ml(gl(a))).filter(a=>a.length>0),u=i.length-1;return r>u?e.map(a=>ml(gl(a))).filter(a=>a.length>0).map(a=>[a,1]):i.map(a=>[a,1])}function GC(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wp=GC,KC=typeof lr=="object"&&lr&&lr.Object===Object&&lr,YC=KC,ZC=YC,XC=typeof self=="object"&&self&&self.Object===Object&&self,JC=ZC||XC||Function("return this")(),Ep=JC,$C=Ep,QC=function(){return $C.Date.now()},e3=QC,t3=/\s/;function r3(t){for(var e=t.length;e--&&t3.test(t.charAt(e)););return e}var n3=r3,i3=n3,u3=/^\s+/;function a3(t){return t&&t.slice(0,i3(t)+1).replace(u3,"")}var s3=a3,o3=Ep,l3=o3.Symbol,Fp=l3,Wh=Fp,Cp=Object.prototype,f3=Cp.hasOwnProperty,c3=Cp.toString,Hu=Wh?Wh.toStringTag:void 0;function h3(t){var e=f3.call(t,Hu),r=t[Hu];try{t[Hu]=void 0;var i=!0}catch{}var u=c3.call(t);return i&&(e?t[Hu]=r:delete t[Hu]),u}var d3=h3,p3=Object.prototype,v3=p3.toString;function g3(t){return v3.call(t)}var m3=g3,Hh=Fp,D3=d3,_3=m3,y3="[object Null]",A3="[object Undefined]",Gh=Hh?Hh.toStringTag:void 0;function b3(t){return t==null?t===void 0?A3:y3:Gh&&Gh in Object(t)?D3(t):_3(t)}var w3=b3;function E3(t){return t!=null&&typeof t=="object"}var F3=E3,C3=w3,S3=F3,B3="[object Symbol]";function O3(t){return typeof t=="symbol"||S3(t)&&C3(t)==B3}var M3=O3,x3=s3,Kh=wp,P3=M3,Yh=0/0,T3=/^[-+]0x[0-9a-f]+$/i,I3=/^0b[01]+$/i,N3=/^0o[0-7]+$/i,k3=parseInt;function R3(t){if(typeof t=="number")return t;if(P3(t))return Yh;if(Kh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Kh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=x3(t);var r=I3.test(t);return r||N3.test(t)?k3(t.slice(2),r?2:8):T3.test(t)?Yh:+t}var L3=R3,U3=wp,Dl=e3,Zh=L3,j3="Expected a function",V3=Math.max,q3=Math.min;function z3(t,e,r){var i,u,a,o,c,d,p=0,h=!1,l=!1,f=!0;if(typeof t!="function")throw new TypeError(j3);e=Zh(e)||0,U3(r)&&(h=!!r.leading,l="maxWait"in r,a=l?V3(Zh(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function D(B){var x=i,T=u;return i=u=void 0,p=B,o=t.apply(T,x),o}function A(B){return p=B,c=setTimeout(y,e),h?D(B):o}function g(B){var x=B-d,T=B-p,I=e-x;return l?q3(I,a-T):I}function m(B){var x=B-d,T=B-p;return d===void 0||x>=e||x<0||l&&T>=a}function y(){var B=Dl();if(m(B))return F(B);c=setTimeout(y,g(B))}function F(B){return c=void 0,f&&i?D(B):(i=u=void 0,o)}function w(){c!==void 0&&clearTimeout(c),p=0,i=d=u=c=void 0}function O(){return c===void 0?o:F(Dl())}function C(){var B=Dl(),x=m(B);if(i=arguments,u=this,d=B,x){if(c===void 0)return A(d);if(l)return clearTimeout(c),c=setTimeout(y,e),D(d)}return c===void 0&&(c=setTimeout(y,e)),o}return C.cancel=w,C.flush=O,C}var Xh=z3;function Jh(t,e,r){const i=t.slice();return i[13]=e[r].id,i[14]=e[r].text,i}function $h(t,e){let r,i,u,a,o;function c(...d){return e[9](e[13],...d)}return{key:t,first:null,c(){r=se("li"),i=se("input"),this.h()},l(d){r=oe(d,"LI",{class:!0});var p=ne(r);i=oe(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(V),this.h()},h(){i.value=u=e[14],N(i,"type","text"),N(i,"placeholder",""),N(i,"class","input input-bordered input-sm w-full"),N(r,"class","p-1"),this.first=r},m(d,p){Ee(d,r,p),Q(r,i),a||(o=Re(i,"input",c),a=!0)},p(d,p){e=d,p&2&&u!==(u=e[14])&&i.value!==u&&(i.value=u)},d(d){d&&V(r),a=!1,o()}}}function W3(t){let e,r,i,u,a,o,c,d,p,h,l,f=[],D=new Map,A,g,m,y,F,w=t[1];const O=C=>C[13];for(let C=0;C<w.length;C+=1){let B=Jh(t,w,C),x=O(B);D.set(x,f[C]=$h(x,B))}return{c(){e=se("div"),r=se("button"),i=Ge("Paste"),u=Ze(),a=se("button"),o=Ge("Save"),c=Ze(),d=se("button"),p=Ge("Delete"),h=Ze(),l=se("ul");for(let C=0;C<f.length;C+=1)f[C].c();A=Ze(),g=se("li"),m=se("input"),this.h()},l(C){e=oe(C,"DIV",{class:!0});var B=ne(e);r=oe(B,"BUTTON",{class:!0});var x=ne(r);i=Ke(x,"Paste"),x.forEach(V),u=Xe(B),a=oe(B,"BUTTON",{class:!0});var T=ne(a);o=Ke(T,"Save"),T.forEach(V),c=Xe(B),d=oe(B,"BUTTON",{class:!0});var I=ne(d);p=Ke(I,"Delete"),I.forEach(V),B.forEach(V),h=Xe(C),l=oe(C,"UL",{class:!0});var W=ne(l);for(let Y=0;Y<f.length;Y+=1)f[Y].l(W);A=Xe(W),g=oe(W,"LI",{class:!0});var K=ne(g);m=oe(K,"INPUT",{type:!0,placeholder:!0,class:!0}),K.forEach(V),W.forEach(V),this.h()},h(){N(r,"class","btn btn-sm btn-info mx-2"),N(a,"class","btn btn-sm btn-success mx-2"),N(d,"class","btn btn-sm btn-error mx-2"),N(e,"class","flex px-8 py-2 justify-center bg-base-100"),N(m,"type","text"),N(m,"placeholder","Add prompt"),N(m,"class","input input-bordered input-sm w-full italic"),N(g,"class","p-1"),N(l,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(C,B){Ee(C,e,B),Q(e,r),Q(r,i),Q(e,u),Q(e,a),Q(a,o),Q(e,c),Q(e,d),Q(d,p),Ee(C,h,B),Ee(C,l,B);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(l,null);Q(l,A),Q(l,g),Q(g,m),mi(m,t[0]),y||(F=[Re(r,"click",t[3]),Re(a,"click",t[2]),Re(d,"click",t[4]),Re(m,"input",t[10]),Re(m,"input",t[11])],y=!0)},p(C,[B]){B&34&&(w=C[1],f=Ai(f,B,O,1,C,w,D,l,du,$h,A,Jh)),B&1&&m.value!==C[0]&&mi(m,C[0])},i:xe,o:xe,d(C){C&&V(e),C&&V(h),C&&V(l);for(let B=0;B<f.length;B+=1)f[B].d();y=!1,Jr(F)}}}function H3(t,e,r){let i,u,a;xt(t,Cn,m=>r(8,u=m)),xt(t,RC,m=>r(12,a=m));let o="",c=Object.keys(u.weightedPrompts).length;function d(){cs.updatePrompt(bp(),{...u,date:Date.now()}),Ln.updateMode("select")}function p(){navigator.clipboard.readText().then(m=>{const y=Vl(m),F=Math.max(...y.map(([O,C])=>C)),w=y.reduce((O,[C,B],x)=>(O[x]=Dr(x,C,B,B/F),O),{});It.updateActivePrompt(cu(w,u.weightMode))})}function h(){a&&cs.deletePrompt(a),Ln.updateMode("select"),It.deleteActivePrompt()}const l=Xh((m,y)=>{const F={...u.weightedPrompts},w={...F[m],text:y};F[m]=w,It.updateActivePrompt({...u,weightedPrompts:F})},500),f=Xh(m=>{const y=Object.keys(u.weightedPrompts).length,F={...u.weightedPrompts},w=Dr(y,m,1);F[y]=w,It.updateActivePrompt({...u,weightedPrompts:F})},500),D=(m,y)=>l(m,y.target.value);function A(){o=this.value,r(0,o),r(8,u),r(7,c)}const g=m=>f(m.target.value);return t.$$.update=()=>{if(t.$$.dirty&384){const m=Object.keys(u.weightedPrompts).length;m>c&&(r(7,c=m),r(0,o=""))}t.$$.dirty&256&&r(1,i=Object.entries(u.weightedPrompts).map(([m,y])=>({id:m,text:y.text})))},[o,i,d,p,h,l,f,c,u,D,A,g]}class G3 extends Yt{constructor(e){super(),Zt(this,e,H3,W3,Xt,{})}}const K3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,Y3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,Z3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,X3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
3. Do not use hyphens to mark list items.
4. Do not title the list.
`,J3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function $3(){const t=Fn({}),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("directive")){const c=o.split("_")[1];a[c]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:e,updateDirective:(a,o)=>{const c=Pt(t),p={...c[a]||{},...o};u&&(localStorage[`directive_${a}`]=JSON.stringify(p));const h={...c,[a]:p};r(h)},getDirective:a=>Pt(t)[a],deleteDirective:a=>{u&&delete localStorage[`directive_${a}`];const o={...Pt(t)};delete o[a],r(o)}}}const ds=$3(),Q3=En(ds,t=>Object.entries(Pt(ds))),_l="preferredModelStore";function eS(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[_l]||""),{subscribe:e,updateModel:a=>{!a||!u||(localStorage[_l]=a,r(a))},getModel:()=>Pt(t),deleteModel:()=>{u&&(delete localStorage[_l],r(""))}}}const ql=eS(),Sp=En(ql,t=>Pt(ql)),yl="preferredDirectiveStore";function tS(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[yl]||""),{subscribe:e,updateDirectiveKey:a=>{!a||!u||(localStorage[yl]=a,r(a))},getDirectiveKey:()=>Pt(t),deleteDirectiveKey:()=>{u&&(delete localStorage[yl],r(""))}}}const ps=tS(),rS=En(ps,t=>Pt(ps)),Al="metaPromptStore";function nS(){const t=Fn(""),{subscribe:e,set:r,update:i}=t,u=typeof window<"u";return r(u&&localStorage[Al]||""),{subscribe:e,updateMetaPrompt:a=>{!a||!u||(localStorage[Al]=a,r(a))},getMetaPrompt:()=>Pt(t),deleteMetaPrompt:()=>{u&&(delete localStorage[Al],r(""))}}}const zl=nS(),iS=En(zl,t=>Pt(zl));function Qh(t,e,r){const i=t.slice();return i[30]=e[r][0],i[31]=e[r][1],i}function uS(t){let e,r,i;return{c(){e=se("div"),r=se("p"),i=Ge("Set Open AI Key in settings for GPT generation."),this.h()},l(u){e=oe(u,"DIV",{class:!0});var a=ne(e);r=oe(a,"P",{class:!0});var o=ne(r);i=Ke(o,"Set Open AI Key in settings for GPT generation."),o.forEach(V),a.forEach(V),this.h()},h(){N(r,"class","text-center"),N(e,"class","w-full p-2 flex justify-center")},m(u,a){Ee(u,e,a),Q(e,r),Q(r,i)},p:xe,d(u){u&&V(e)}}}function aS(t){let e,r,i,u,a,o,c,d,p,h,l=[],f=new Map,D,A,g,m,y,F,w,O=Object.entries(t[1]);const C=x=>x[30];for(let x=0;x<O.length;x+=1){let T=Qh(t,O,x),I=C(T);f.set(I,l[x]=ed(I,T))}let B=t[0]&&td(t);return{c(){e=se("div"),r=se("div"),i=se("label"),u=se("span"),a=Ge("Pick a directive for prompt creation"),o=Ze(),c=se("select"),d=se("option"),p=Ge("Pick one");for(let x=0;x<l.length;x+=1)l[x].c();D=se("option"),A=Ge("New"),m=Ze(),B&&B.c(),y=tr(),this.h()},l(x){e=oe(x,"DIV",{class:!0});var T=ne(e);r=oe(T,"DIV",{class:!0});var I=ne(r);i=oe(I,"LABEL",{class:!0});var W=ne(i);u=oe(W,"SPAN",{class:!0});var K=ne(u);a=Ke(K,"Pick a directive for prompt creation"),K.forEach(V),W.forEach(V),o=Xe(I),c=oe(I,"SELECT",{class:!0});var Y=ne(c);d=oe(Y,"OPTION",{});var q=ne(d);p=Ke(q,"Pick one"),q.forEach(V);for(let j=0;j<l.length;j+=1)l[j].l(Y);D=oe(Y,"OPTION",{});var H=ne(D);A=Ke(H,"New"),H.forEach(V),Y.forEach(V),I.forEach(V),T.forEach(V),m=Xe(x),B&&B.l(x),y=tr(),this.h()},h(){N(u,"class","label-text"),N(i,"class","label"),d.disabled=!0,d.selected=h=t[0]===null,d.__value="Pick one",d.value=d.__value,D.__value="new",D.value=D.__value,D.selected=g=t[0]==="new",N(c,"class","select select-bordered"),N(r,"class","form-control w-full max-w-xs mb-4"),N(e,"class","flex justify-center")},m(x,T){Ee(x,e,T),Q(e,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,c),Q(c,d),Q(d,p);for(let I=0;I<l.length;I+=1)l[I]&&l[I].m(c,null);Q(c,D),Q(D,A),ou(c,t[0]),Ee(x,m,T),B&&B.m(x,T),Ee(x,y,T),F||(w=Re(c,"change",t[11]),F=!0)},p(x,T){T[0]&3&&h!==(h=x[0]===null)&&(d.selected=h),T[0]&3&&(O=Object.entries(x[1]),l=Ai(l,T,C,1,x,O,f,c,du,ed,D,Qh)),T[0]&3&&g!==(g=x[0]==="new")&&(D.selected=g),T[0]&3&&ou(c,x[0]),x[0]?B?B.p(x,T):(B=td(x),B.c(),B.m(y.parentNode,y)):B&&(B.d(1),B=null)},d(x){x&&V(e);for(let T=0;T<l.length;T+=1)l[T].d();x&&V(m),B&&B.d(x),x&&V(y),F=!1,w()}}}function ed(t,e){let r,i=e[31].name+"",u,a=e[31].builtIn?" (Built-In)":" (User)",o,c,d;return{key:t,first:null,c(){r=se("option"),u=Ge(i),o=Ge(a),this.h()},l(p){r=oe(p,"OPTION",{});var h=ne(r);u=Ke(h,i),o=Ke(h,a),h.forEach(V),this.h()},h(){r.__value=c=e[30],r.value=r.__value,r.selected=d=e[0]===e[30],this.first=r},m(p,h){Ee(p,r,h),Q(r,u),Q(r,o)},p(p,h){e=p,h[0]&2&&i!==(i=e[31].name+"")&&wn(u,i),h[0]&2&&a!==(a=e[31].builtIn?" (Built-In)":" (User)")&&wn(o,a),h[0]&2&&c!==(c=e[30])&&(r.__value=c,r.value=r.__value),h[0]&3&&d!==(d=e[0]===e[30])&&(r.selected=d)},d(p){p&&V(r)}}}function td(t){let e,r,i,u,a,o,c,d,p,h,l=!t[6]&&rd(t);function f(g,m){return g[5]?oS:sS}let D=f(t),A=D(t);return{c(){l&&l.c(),e=Ze(),r=se("div"),i=se("textarea"),u=Ze(),a=se("div"),o=se("textarea"),c=Ze(),A.c(),d=tr(),this.h()},l(g){l&&l.l(g),e=Xe(g),r=oe(g,"DIV",{class:!0});var m=ne(r);i=oe(m,"TEXTAREA",{class:!0,placeholder:!0}),ne(i).forEach(V),m.forEach(V),u=Xe(g),a=oe(g,"DIV",{class:!0});var y=ne(a);o=oe(y,"TEXTAREA",{class:!0,placeholder:!0}),ne(o).forEach(V),y.forEach(V),c=Xe(g),A.l(g),d=tr(),this.h()},h(){N(i,"class","textarea textarea-bordered w-full h-full"),N(i,"placeholder","GPT Directives"),N(r,"class","w-full p-2 h-1/2"),o.value=t[7],N(o,"class","textarea textarea-bordered w-full h-full"),N(o,"placeholder","Describe the prompt to generate."),N(a,"class","w-full p-2 h-1/5")},m(g,m){l&&l.m(g,m),Ee(g,e,m),Ee(g,r,m),Q(r,i),mi(i,t[4]),Ee(g,u,m),Ee(g,a,m),Q(a,o),Ee(g,c,m),A.m(g,m),Ee(g,d,m),p||(h=[Re(i,"input",t[17]),Re(o,"input",t[18])],p=!0)},p(g,m){g[6]?l&&(l.d(1),l=null):l?l.p(g,m):(l=rd(g),l.c(),l.m(e.parentNode,e)),m[0]&16&&mi(i,g[4]),m[0]&128&&(o.value=g[7]),D===(D=f(g))&&A?A.p(g,m):(A.d(1),A=D(g),A&&(A.c(),A.m(d.parentNode,d)))},d(g){l&&l.d(g),g&&V(e),g&&V(r),g&&V(u),g&&V(a),g&&V(c),A.d(g),g&&V(d),p=!1,Jr(h)}}}function rd(t){let e,r,i,u,a,o,c;return{c(){e=se("div"),r=se("input"),i=Ze(),u=se("button"),a=Ge("Save"),this.h()},l(d){e=oe(d,"DIV",{class:!0});var p=ne(e);r=oe(p,"INPUT",{type:!0,placeholder:!0,class:!0}),i=Xe(p),u=oe(p,"BUTTON",{class:!0});var h=ne(u);a=Ke(h,"Save"),h.forEach(V),p.forEach(V),this.h()},h(){N(r,"type","text"),N(r,"placeholder","Name"),N(r,"class","input input-bordered input-sm w-full max-w-xs"),N(u,"class","btn btn-sm btn-primary ml-4"),N(e,"class","w-full p-2 h-12 flex justify-between")},m(d,p){Ee(d,e,p),Q(e,r),mi(r,t[3]),Q(e,i),Q(e,u),Q(u,a),o||(c=[Re(r,"input",t[16]),Re(u,"click",t[9])],o=!0)},p(d,p){p[0]&8&&r.value!==d[3]&&mi(r,d[3])},d(d){d&&V(e),o=!1,Jr(c)}}}function sS(t){let e,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:cS,then:fS,catch:lS,value:29};return Di(r=t[2],i),{c(){e=se("div"),i.block.c(),this.h()},l(u){e=oe(u,"DIV",{class:!0});var a=ne(e);i.block.l(a),a.forEach(V),this.h()},h(){N(e,"class","w-full p-2 h-12 flex justify-end")},m(u,a){Ee(u,e,a),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null},p(u,a){t=u,i.ctx=t,a[0]&4&&r!==(r=t[2])&&Di(r,i)||vs(i,t,a)},d(u){u&&V(e),i.block.d(),i.token=null,i=null}}}function oS(t){let e,r,i,u,a,o,c,d={ctx:t,current:null,token:null,hasCatch:!1,pending:pS,then:dS,catch:hS,value:29};return Di(a=t[2],d),{c(){e=se("div"),r=se("button"),i=Ge("Delete"),u=Ze(),d.block.c(),this.h()},l(p){e=oe(p,"DIV",{class:!0});var h=ne(e);r=oe(h,"BUTTON",{class:!0});var l=ne(r);i=Ke(l,"Delete"),l.forEach(V),u=Xe(h),d.block.l(h),h.forEach(V),this.h()},h(){N(r,"class","btn btn-sm btn-error ml-4"),N(e,"class","w-full p-2 h-12 flex justify-between")},m(p,h){Ee(p,e,h),Q(e,r),Q(r,i),Q(e,u),d.block.m(e,d.anchor=null),d.mount=()=>e,d.anchor=null,o||(c=Re(r,"click",t[10]),o=!0)},p(p,h){t=p,d.ctx=t,h[0]&4&&a!==(a=t[2])&&Di(a,d)||vs(d,t,h)},d(p){p&&V(e),d.block.d(),d.token=null,d=null,o=!1,c()}}}function lS(t){return{c:xe,l:xe,m:xe,p:xe,d:xe}}function fS(t){let e,r,i,u;return{c(){e=se("button"),r=Ge("Generate"),this.h()},l(a){e=oe(a,"BUTTON",{class:!0});var o=ne(e);r=Ke(o,"Generate"),o.forEach(V),this.h()},h(){N(e,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ee(a,e,o),Q(e,r),i||(u=Re(e,"click",t[12]),i=!0)},p:xe,d(a){a&&V(e),i=!1,u()}}}function cS(t){let e,r,i,u;return{c(){e=se("button"),r=Ge("Generating"),this.h()},l(a){e=oe(a,"BUTTON",{class:!0});var o=ne(e);r=Ke(o,"Generating"),o.forEach(V),this.h()},h(){N(e,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ee(a,e,o),Q(e,r),i||(u=Re(e,"click",t[12]),i=!0)},p:xe,d(a){a&&V(e),i=!1,u()}}}function hS(t){return{c:xe,l:xe,m:xe,p:xe,d:xe}}function dS(t){let e,r,i,u;return{c(){e=se("button"),r=Ge("Generate"),this.h()},l(a){e=oe(a,"BUTTON",{class:!0});var o=ne(e);r=Ke(o,"Generate"),o.forEach(V),this.h()},h(){N(e,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ee(a,e,o),Q(e,r),i||(u=Re(e,"click",t[12]),i=!0)},p:xe,d(a){a&&V(e),i=!1,u()}}}function pS(t){let e,r,i,u;return{c(){e=se("button"),r=Ge("Generating"),this.h()},l(a){e=oe(a,"BUTTON",{class:!0});var o=ne(e);r=Ke(o,"Generating"),o.forEach(V),this.h()},h(){N(e,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ee(a,e,o),Q(e,r),i||(u=Re(e,"click",t[12]),i=!0)},p:xe,d(a){a&&V(e),i=!1,u()}}}function vS(t){let e;function r(a,o){return a[8]?aS:uS}let u=r(t)(t);return{c(){e=se("div"),u.c(),this.h()},l(a){e=oe(a,"DIV",{class:!0});var o=ne(e);u.l(o),o.forEach(V),this.h()},h(){N(e,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(a,o){Ee(a,e,o),u.m(e,null)},p(a,o){u.p(a,o)},i:xe,o:xe,d(a){a&&V(e),u.d()}}}function gS(t,e,r){let i,u,a,o,c,d,p,h,l,f;xt(t,iS,j=>r(7,c=j)),xt(t,Cn,j=>r(19,d=j)),xt(t,rS,j=>r(14,p=j)),xt(t,Q3,j=>r(15,h=j)),xt(t,Sp,j=>r(20,l=j)),xt(t,cf,j=>r(21,f=j));let D=f,A=l,g=null;const m=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let y={C:{name:"Five Sentences",text:K3,builtIn:!0},D:{name:"Ten Sentences",text:Y3,builtIn:!0},E:{name:"Fragments",text:Z3,builtIn:!0},F:{name:"Concept Shotgun",text:X3,builtIn:!0},G:{name:"Poetic Accents",text:J3,builtIn:!0}},F=null,w="",O="";function C(){const j=F==="new"?bp():F;ds.updateDirective(j,{name:w,text:O,builtIn:!1}),F==="new"&&r(0,F=j)}function B(){ds.deleteDirective(F),r(0,F=null),r(3,w=""),r(4,O=""),ps.deleteDirectiveKey(null)}function x(j){r(0,F=j),console.log(F),ps.updateDirectiveKey(j),j&&j!=="new"?(r(3,w=u[j].name),r(4,O=u[j].text)):j==="new"&&(r(3,w=""),r(4,O=""))}function T(j){x(j.target.value)}function I(j,G){r(2,g=Y2(j,G,A||"gpt-3.5-turbo")),g.then(ce=>{console.log(ce),ce.data.choices.forEach((ve,we)=>{const Se=Vl(ve.message.content);console.log(Se);const Te=Se.reduce((Ce,[Pe,Ie],Le)=>(Ce[Le]=Dr(Le,Pe,Ie),Ce),{});It.updateActivePrompt(cu(Te,d.weightMode)),Ln.updateMode("edit")})})}function W(j,G){r(2,g=K2(j,G,A||"text-davinci-003")),g.then(ce=>{console.log(ce),ce.data.choices.forEach((ve,we)=>{const Se=Vl(ve.text);console.log(Se);const Te=Se.reduce((Ce,[Pe,Ie],Le)=>(Ce[Le]=Dr(Le,Pe,Ie),Ce),{});It.updateActivePrompt(cu(Te,d.weightMode)),Ln.updateMode("edit")})})}function K(){if(!D||!O||!c)return;const j=ff(D),G=`${O}

        Using the above rules create a prompt from:
        ${c}
        `;m.includes(A)?W(j,G):I(j,G)}function Y(){w=this.value,r(3,w)}function q(){O=this.value,r(4,O)}const H=j=>zl.updateMetaPrompt(j.target.value);return t.$$.update=()=>{t.$$.dirty[0]&32768&&r(13,i=h.reduce((j,[G,te])=>(j[G]={name:te.name,text:te.text,builtIn:!1},j),{})),t.$$.dirty[0]&8192&&r(1,u=Object.entries({...y,...i}).reduce((j,[G,te])=>(j[G]=te,j),{})),t.$$.dirty[0]&16385&&(F===null&&r(0,F=p),x(F)),t.$$.dirty[0]&3&&r(6,a=F&&F!=="new"&&u[F].builtIn),t.$$.dirty[0]&3&&r(5,o=F&&F!=="new"&&!u[F].builtIn)},[F,u,g,w,O,o,a,c,D,C,B,T,K,i,p,h,Y,q,H]}class mS extends Yt{constructor(e){super(),Zt(this,e,gS,vS,Xt,{},null,[-1,-1])}}function nd(t,e,r){const i=t.slice();return i[20]=e[r],i}function id(t,e,r){const i=t.slice();return i[20]=e[r],i}function DS(t){return{c:xe,l:xe,m:xe,p:xe,d:xe}}function _S(t){let e,r,i=t[0].length>0&&ud(t),u=t[1].length>0&&sd(t);return{c(){i&&i.c(),e=Ze(),u&&u.c(),r=tr()},l(a){i&&i.l(a),e=Xe(a),u&&u.l(a),r=tr()},m(a,o){i&&i.m(a,o),Ee(a,e,o),u&&u.m(a,o),Ee(a,r,o)},p(a,o){a[0].length>0?i?i.p(a,o):(i=ud(a),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),a[1].length>0?u?u.p(a,o):(u=sd(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){i&&i.d(a),a&&V(e),u&&u.d(a),a&&V(r)}}}function ud(t){let e,r,i,u,a,o,c,d,p,h,l=[],f=new Map,D,A,g=t[0];const m=y=>y[20];for(let y=0;y<g.length;y+=1){let F=id(t,g,y),w=m(F);f.set(w,l[y]=ad(w,F))}return{c(){e=se("div"),r=se("div"),i=se("label"),u=se("span"),a=Ge("Pick a model to use for model generation"),o=Ze(),c=se("select"),d=se("option"),p=Ge("Pick one");for(let y=0;y<l.length;y+=1)l[y].c();this.h()},l(y){e=oe(y,"DIV",{class:!0});var F=ne(e);r=oe(F,"DIV",{class:!0});var w=ne(r);i=oe(w,"LABEL",{class:!0});var O=ne(i);u=oe(O,"SPAN",{class:!0});var C=ne(u);a=Ke(C,"Pick a model to use for model generation"),C.forEach(V),O.forEach(V),o=Xe(w),c=oe(w,"SELECT",{class:!0});var B=ne(c);d=oe(B,"OPTION",{});var x=ne(d);p=Ke(x,"Pick one"),x.forEach(V);for(let T=0;T<l.length;T+=1)l[T].l(B);B.forEach(V),w.forEach(V),F.forEach(V),this.h()},h(){N(u,"class","label-text"),N(i,"class","label"),d.disabled=!0,d.selected=h=t[2]===null,d.__value="Pick one",d.value=d.__value,N(c,"class","select select-bordered"),N(r,"class","form-control w-full max-w-xs mb-4"),N(e,"class","flex justify-center")},m(y,F){Ee(y,e,F),Q(e,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,c),Q(c,d),Q(d,p);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(c,null);ou(c,t[2]),D||(A=Re(c,"change",t[7]),D=!0)},p(y,F){F&5&&h!==(h=y[2]===null)&&(d.selected=h),F&5&&(g=y[0],l=Ai(l,F,m,1,y,g,f,c,du,ad,null,id)),F&5&&ou(c,y[2])},d(y){y&&V(e);for(let F=0;F<l.length;F+=1)l[F].d();D=!1,A()}}}function ad(t,e){let r,i=e[20]+"",u,a,o;return{key:t,first:null,c(){r=se("option"),u=Ge(i),this.h()},l(c){r=oe(c,"OPTION",{});var d=ne(r);u=Ke(d,i),d.forEach(V),this.h()},h(){r.__value=a=e[20],r.value=r.__value,r.selected=o=e[2]===e[20],this.first=r},m(c,d){Ee(c,r,d),Q(r,u)},p(c,d){e=c,d&1&&i!==(i=e[20]+"")&&wn(u,i),d&1&&a!==(a=e[20])&&(r.__value=a,r.value=r.__value),d&5&&o!==(o=e[2]===e[20])&&(r.selected=o)},d(c){c&&V(r)}}}function sd(t){let e,r,i,u,a,o,c,d,p,h,l=[],f=new Map,D,A,g=t[1];const m=y=>y[20];for(let y=0;y<g.length;y+=1){let F=nd(t,g,y),w=m(F);f.set(w,l[y]=od(w,F))}return{c(){e=se("div"),r=se("div"),i=se("label"),u=se("span"),a=Ge("Pick a model to use for prompt embedding"),o=Ze(),c=se("select"),d=se("option"),p=Ge("Pick one");for(let y=0;y<l.length;y+=1)l[y].c();this.h()},l(y){e=oe(y,"DIV",{class:!0});var F=ne(e);r=oe(F,"DIV",{class:!0});var w=ne(r);i=oe(w,"LABEL",{class:!0});var O=ne(i);u=oe(O,"SPAN",{class:!0});var C=ne(u);a=Ke(C,"Pick a model to use for prompt embedding"),C.forEach(V),O.forEach(V),o=Xe(w),c=oe(w,"SELECT",{class:!0});var B=ne(c);d=oe(B,"OPTION",{});var x=ne(d);p=Ke(x,"Pick one"),x.forEach(V);for(let T=0;T<l.length;T+=1)l[T].l(B);B.forEach(V),w.forEach(V),F.forEach(V),this.h()},h(){N(u,"class","label-text"),N(i,"class","label"),d.disabled=!0,d.selected=h=t[3]===null,d.__value="Pick one",d.value=d.__value,N(c,"class","select select-bordered"),N(r,"class","form-control w-full max-w-xs mb-4"),N(e,"class","flex justify-center")},m(y,F){Ee(y,e,F),Q(e,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,c),Q(c,d),Q(d,p);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(c,null);ou(c,t[3]),D||(A=Re(c,"change",t[8]),D=!0)},p(y,F){F&10&&h!==(h=y[3]===null)&&(d.selected=h),F&10&&(g=y[1],l=Ai(l,F,m,1,y,g,f,c,du,od,null,nd)),F&10&&ou(c,y[3])},d(y){y&&V(e);for(let F=0;F<l.length;F+=1)l[F].d();D=!1,A()}}}function od(t,e){let r,i=e[20]+"",u,a,o;return{key:t,first:null,c(){r=se("option"),u=Ge(i),this.h()},l(c){r=oe(c,"OPTION",{});var d=ne(r);u=Ke(d,i),d.forEach(V),this.h()},h(){r.__value=a=e[20],r.value=r.__value,r.selected=o=e[3]===e[20],this.first=r},m(c,d){Ee(c,r,d),Q(r,u)},p(c,d){e=c,d&2&&i!==(i=e[20]+"")&&wn(u,i),d&2&&a!==(a=e[20])&&(r.__value=a,r.value=r.__value),d&10&&o!==(o=e[3]===e[20])&&(r.selected=o)},d(c){c&&V(r)}}}function yS(t){let e,r,i;return{c(){e=se("div"),r=se("div"),i=se("progress"),this.h()},l(u){e=oe(u,"DIV",{class:!0});var a=ne(e);r=oe(a,"DIV",{class:!0});var o=ne(r);i=oe(o,"PROGRESS",{class:!0}),ne(i).forEach(V),o.forEach(V),a.forEach(V),this.h()},h(){N(i,"class","progress progress-primary w-56"),N(r,"class","form-control w-full flex flex-col max-w-xs"),N(e,"class","py-10 flex justify-center")},m(u,a){Ee(u,e,a),Q(e,r),Q(r,i)},p:xe,d(u){u&&V(e)}}}function AS(t){let e,r,i,u,a,o,c,d,p,h,l,f,D,A,g,m,y,F,w,O,C,B,x,T,I={ctx:t,current:null,token:null,hasCatch:!1,pending:yS,then:_S,catch:DS,value:19};return Di(B=t[4],I),{c(){e=se("div"),r=se("div"),i=se("div"),u=se("label"),a=se("span"),o=Ge("Include Prompts With Zero Weight"),c=Ze(),d=se("input"),p=Ze(),h=se("div"),l=se("div"),f=se("label"),D=se("span"),A=Ge("Open AI Key"),g=Ze(),m=se("input"),y=Ze(),F=se("label"),w=se("button"),O=Ge("Clear"),C=Ze(),I.block.c(),this.h()},l(W){e=oe(W,"DIV",{class:!0});var K=ne(e);r=oe(K,"DIV",{class:!0});var Y=ne(r);i=oe(Y,"DIV",{class:!0});var q=ne(i);u=oe(q,"LABEL",{class:!0});var H=ne(u);a=oe(H,"SPAN",{class:!0});var j=ne(a);o=Ke(j,"Include Prompts With Zero Weight"),j.forEach(V),H.forEach(V),c=Xe(q),d=oe(q,"INPUT",{type:!0,class:!0}),q.forEach(V),Y.forEach(V),p=Xe(K),h=oe(K,"DIV",{class:!0});var G=ne(h);l=oe(G,"DIV",{class:!0});var te=ne(l);f=oe(te,"LABEL",{class:!0});var ce=ne(f);D=oe(ce,"SPAN",{class:!0});var ve=ne(D);A=Ke(ve,"Open AI Key"),ve.forEach(V),ce.forEach(V),g=Xe(te),m=oe(te,"INPUT",{type:!0,placeholder:!0,class:!0}),y=Xe(te),F=oe(te,"LABEL",{class:!0});var we=ne(F);w=oe(we,"BUTTON",{class:!0});var Se=ne(w);O=Ke(Se,"Clear"),Se.forEach(V),we.forEach(V),te.forEach(V),G.forEach(V),C=Xe(K),I.block.l(K),K.forEach(V),this.h()},h(){N(a,"class","label-text-alt"),N(u,"class","label"),N(d,"type","checkbox"),N(d,"class","toggle"),d.checked=t[5],N(i,"class","form-control w-full max-w-xs"),N(r,"class","flex justify-center"),N(D,"class","label-text-alt"),N(f,"class","label"),m.value=t[6],N(m,"type","password"),N(m,"placeholder","Open AI Key"),N(m,"class","input input-bordered w-full max-w-xs"),N(w,"class","btn btn-xs btn-error"),N(F,"class","label"),N(l,"class","form-control w-full max-w-xs"),N(h,"class","flex justify-center"),N(e,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(W,K){Ee(W,e,K),Q(e,r),Q(r,i),Q(i,u),Q(u,a),Q(a,o),Q(i,c),Q(i,d),Q(e,p),Q(e,h),Q(h,l),Q(l,f),Q(f,D),Q(D,A),Q(l,g),Q(l,m),Q(l,y),Q(l,F),Q(F,w),Q(w,O),Q(e,C),I.block.m(e,I.anchor=null),I.mount=()=>e,I.anchor=null,x||(T=[Re(d,"change",t[11]),Re(m,"input",t[9]),Re(w,"click",t[10])],x=!0)},p(W,[K]){t=W,K&32&&(d.checked=t[5]),K&64&&m.value!==t[6]&&(m.value=t[6]),I.ctx=t,K&16&&B!==(B=t[4])&&Di(B,I)||vs(I,t,K)},i:xe,o:xe,d(W){W&&V(e),I.block.d(),I.token=null,I=null,x=!1,Jr(T)}}}function bS(t,e,r){let i,u,a,o,c;xt(t,Ap,B=>r(5,i=B)),xt(t,Cn,B=>r(13,u=B)),xt(t,sp,B=>r(14,a=B)),xt(t,Sp,B=>r(15,o=B)),xt(t,cf,B=>r(6,c=B));const d=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"],p=["text-embedding-ada-002"];let h=c,l=[],f=[],D=o,A=a,g=null;async function m(B){if(!B||l.length&&f.length)return;const x=ff(B);r(4,g=X2(x));const T=await g;T.data&&r(0,l=T.data.data.map(({id:I})=>I).filter(I=>d.includes(I))),r(1,f=T.data.data.map(({id:I})=>I).filter(I=>p.includes(I)))}function y(B){r(2,D=B.target.value),ql.updateModel(D)}function F(B){r(3,A=B.target.value),Ll.updateEmbeddingModel(A)}function w(B){const x=B.target.value;is.updateKey(x),x.length===51&&m(x),x.length===0&&O()}function O(){is.deleteKey(),r(12,h=""),r(0,l=[]),r(1,f=[]),u.weightMode==="embed"&&It.updateActivePrompt({...u,weightMode:"circle"})}function C(){Ul.update(!i)}return t.$$.update=()=>{t.$$.dirty&4096&&m(h)},[l,f,D,A,g,i,c,y,F,w,O,C,h]}class wS extends Yt{constructor(e){super(),Zt(this,e,bS,AS,Xt,{})}}function ES(t){let e,r;return e=new wS({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function FS(t){let e,r;return e=new mS({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function CS(t){let e,r;return e=new G3({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function SS(t){let e,r;return e=new jC({}),{c(){mt(e.$$.fragment)},l(i){Dt(e.$$.fragment,i)},m(i,u){_t(e,i,u),r=!0},i(i){r||(ke(e.$$.fragment,i),r=!0)},o(i){ze(e.$$.fragment,i),r=!1},d(i){yt(e,i)}}}function BS(t){let e,r,i,u,a,o,c,d,p,h,l,f,D,A,g,m,y,F,w,O,C,B,x,T;const I=[SS,CS,FS,ES],W=[];function K(Y,q){return Y[0]==="select"?0:Y[0]==="edit"?1:Y[0]==="generate"?2:Y[0]==="settings"?3:-1}return~(O=K(t))&&(C=W[O]=I[O](t)),{c(){e=se("div"),r=se("div"),i=se("div"),u=se("button"),a=Ge("Select"),c=Ze(),d=se("button"),p=Ge("Edit"),l=Ze(),f=se("button"),D=Ge("Generate"),g=Ze(),m=se("button"),y=Ge("Settings"),w=Ze(),C&&C.c(),this.h()},l(Y){e=oe(Y,"DIV",{class:!0});var q=ne(e);r=oe(q,"DIV",{class:!0});var H=ne(r);i=oe(H,"DIV",{class:!0});var j=ne(i);u=oe(j,"BUTTON",{class:!0});var G=ne(u);a=Ke(G,"Select"),G.forEach(V),c=Xe(j),d=oe(j,"BUTTON",{class:!0});var te=ne(d);p=Ke(te,"Edit"),te.forEach(V),l=Xe(j),f=oe(j,"BUTTON",{class:!0});var ce=ne(f);D=Ke(ce,"Generate"),ce.forEach(V),g=Xe(j),m=oe(j,"BUTTON",{class:!0});var ve=ne(m);y=Ke(ve,"Settings"),ve.forEach(V),j.forEach(V),w=Xe(H),C&&C.l(H),H.forEach(V),q.forEach(V),this.h()},h(){N(u,"class",o=t[0]==="select"?"btn btn-active":"btn"),N(d,"class",h=t[0]==="edit"?"btn btn-active":"btn"),N(f,"class",A=t[0]==="generate"?"btn btn-active":"btn"),N(m,"class",F=t[0]==="settings"?"btn btn-active":"btn"),N(i,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),N(r,"class","h-screen overflow-y-auto flex flex-col"),N(e,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(Y,q){Ee(Y,e,q),Q(e,r),Q(r,i),Q(i,u),Q(u,a),Q(i,c),Q(i,d),Q(d,p),Q(i,l),Q(i,f),Q(f,D),Q(i,g),Q(i,m),Q(m,y),Q(r,w),~O&&W[O].m(r,null),B=!0,x||(T=[Re(u,"click",t[2]),Re(d,"click",t[3]),Re(f,"click",t[4]),Re(m,"click",t[5])],x=!0)},p(Y,[q]){(!B||q&1&&o!==(o=Y[0]==="select"?"btn btn-active":"btn"))&&N(u,"class",o),(!B||q&1&&h!==(h=Y[0]==="edit"?"btn btn-active":"btn"))&&N(d,"class",h),(!B||q&1&&A!==(A=Y[0]==="generate"?"btn btn-active":"btn"))&&N(f,"class",A),(!B||q&1&&F!==(F=Y[0]==="settings"?"btn btn-active":"btn"))&&N(m,"class",F);let H=O;O=K(Y),O!==H&&(C&&(Nn(),ze(W[H],1,1,()=>{W[H]=null}),kn()),~O?(C=W[O],C||(C=W[O]=I[O](Y),C.c()),ke(C,1),C.m(r,null)):C=null)},i(Y){B||(ke(C),B=!0)},o(Y){ze(C),B=!1},d(Y){Y&&V(e),~O&&W[O].d(),x=!1,Jr(T)}}}function OS(t,e,r){let i;xt(t,NC,p=>r(0,i=p));function u(p){Ln.updateMode(p)}const a=()=>u("select"),o=()=>u("edit"),c=()=>u("generate"),d=()=>u("settings");return t.$$.update=()=>{t.$$.dirty&1&&(i||Ln.updateMode("select"))},[i,u,a,o,c,d]}class MS extends Yt{constructor(e){super(),Zt(this,e,OS,BS,Xt,{})}}function xS(t){let e,r,i,u;return e=new MS({}),i=new OC({}),{c(){mt(e.$$.fragment),r=Ze(),mt(i.$$.fragment)},l(a){Dt(e.$$.fragment,a),r=Xe(a),Dt(i.$$.fragment,a)},m(a,o){_t(e,a,o),Ee(a,r,o),_t(i,a,o),u=!0},p:xe,i(a){u||(ke(e.$$.fragment,a),ke(i.$$.fragment,a),u=!0)},o(a){ze(e.$$.fragment,a),ze(i.$$.fragment,a),u=!1},d(a){yt(e,a),a&&V(r),yt(i,a)}}}class IS extends Yt{constructor(e){super(),Zt(this,e,null,xS,Xt,{})}}export{IS as default};
