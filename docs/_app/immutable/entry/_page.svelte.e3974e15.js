import{J as Pt,S as Yt,i as Zt,s as $t,K as Gt,L as Kt,m as ie,h as q,n as k,p as Wt,b as Ce,H as Pe,M as ke,N as Jr,k as oe,q as Ye,l as le,r as Ze,G as Q,u as wn,a as Ge,c as Ke,g as Ne,v as Nn,d as Ve,f as kn,I as Bt,y as mt,e as lr,z as Dt,A as _t,B as yt,O as fd,P as Hl,Q as Gl,R as mi,T as Cy,U as jo,V as Ai,W as cd,X as Di,Y as ps,o as Sy,Z as du,_ as ou}from"../chunks/index.4b6ced97.js";import{d as En,w as Fn}from"../chunks/index.99b0775d.js";function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bl.apply(this,arguments)}var hd={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ht(e){return typeof e=="number"}function hn(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function dd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function pd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function vd(e){return e&&e.constructor.prototype.isUnit===!0||!1}function In(e){return typeof e=="string"}var qt=Array.isArray;function kr(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Ka(e){return Array.isArray(e)||kr(e)}function By(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Oy(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function My(e){return e&&e.constructor.prototype.isRange===!0||!1}function Kl(e){return e&&e.constructor.prototype.isIndex===!0||!1}function xy(e){return typeof e=="boolean"}function Py(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Ty(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Iy(e){return typeof e=="function"}function Ny(e){return e instanceof Date}function ky(e){return e instanceof RegExp}function Ry(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!dd(e)&&!pd(e))}function Ly(e){return e===null}function gd(e){return e===void 0}function Uy(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function jy(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vy(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function qy(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function zy(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wy(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hy(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gy(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ky(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yy(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zy(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function $y(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jy(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xy(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qy(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function eA(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function tA(e){return e&&e.constructor.prototype.isChain===!0||!1}function Gu(e){var t=typeof e;return t==="object"?e===null?"null":hn(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function _r(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return _r(r)});if(e instanceof Date)return new Date(e.valueOf());if(hn(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return rA(e,_r)}function rA(e,t){var r={};for(var i in e)Ku(e,i)&&(r[i]=t(e[i]));return r}function nA(e,t){for(var r in t)Ku(t,r)&&(e[r]=t[r]);return e}function Ya(e,t){var r,i,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,u=e.length;i<u;i++)if(!Ya(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Ya(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Ku(e,t){return e&&Object.hasOwnProperty.call(e,t)}function iA(e,t){for(var r={},i=0;i<t.length;i++){var u=t[i],a=e[u];a!==void 0&&(r[u]=a)}return r}var uA=["Matrix","Array"],aA=["number","BigNumber","Fraction"],vs=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(hd)};bl(vs,hd,{MATRIX_OPTIONS:uA,NUMBER_OPTIONS:aA});function yn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=sA(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var i=0,u=function(){};return{s:u,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,h;return{s:function(){r=r.call(e)},n:function(){var p=r.next();return a=p.done,p},e:function(p){o=!0,h=p},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw h}}}}function sA(e,t){if(e){if(typeof e=="string")return C0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(e,t)}}function C0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function iu(e){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function S0(){return!0}function fn(){return!1}function tu(){}var B0="Argument is not a typed-function.";function md(){function e(R){return iu(R)==="object"&&R!==null&&R.constructor===Object}var t=[{name:"number",test:function(U){return typeof U=="number"}},{name:"string",test:function(U){return typeof U=="string"}},{name:"boolean",test:function(U){return typeof U=="boolean"}},{name:"Function",test:function(U){return typeof U=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(U){return U instanceof Date}},{name:"RegExp",test:function(U){return U instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(U){return U===null}},{name:"undefined",test:function(U){return U===void 0}}],r={name:"any",test:S0,isAny:!0},i,u,a=0,o={createCount:0};function h(R){var U=i.get(R);if(U)return U;var K='Unknown type "'+R+'"',ue=R.toLowerCase(),ee,he=yn(u),ne;try{for(he.s();!(ne=he.n()).done;)if(ee=ne.value,ee.toLowerCase()===ue){K+='. Did you mean "'+ee+'" ?';break}}catch(ae){he.e(ae)}finally{he.f()}throw new TypeError(K)}function d(R){for(var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",K=U?h(U).index:u.length,ue=[],ee=0;ee<R.length;++ee){if(!R[ee]||typeof R[ee].name!="string"||typeof R[ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var he=R[ee].name;if(i.has(he))throw new TypeError('Duplicate type name "'+he+'"');ue.push(he),i.set(he,{name:he,test:R[ee].test,isAny:R[ee].isAny,index:K+ee,conversionsTo:[]})}var ne=u.slice(K);u=u.slice(0,K).concat(ue).concat(ne);for(var ae=K+ue.length;ae<u.length;++ae)i.get(u[ae]).index=ae}function p(){i=new Map,u=[],a=0,d([r],!1)}p(),d(t);function c(){var R,U=yn(u),K;try{for(U.s();!(K=U.n()).done;)R=K.value,i.get(R).conversionsTo=[]}catch(ue){U.e(ue)}finally{U.f()}a=0}function l(R){var U=u.filter(function(K){var ue=i.get(K);return!ue.isAny&&ue.test(R)});return U.length?U:["any"]}function f(R){return R&&typeof R=="function"&&"_typedFunctionData"in R}function D(R,U,K){if(!f(R))throw new TypeError(B0);var ue=K&&K.exact,ee=Array.isArray(U)?U.join(","):U,he=B(ee),ne=m(he);if(!ue||ne in R.signatures){var ae=R._typedFunctionData.signatureMap.get(ne);if(ae)return ae}var De=he.length,Se;if(ue){Se=[];var qe;for(qe in R.signatures)Se.push(R._typedFunctionData.signatureMap.get(qe))}else Se=R._typedFunctionData.signatures;for(var be=0;be<De;++be){var Lt=he[be],Mt=[],Jt=void 0,Ut=yn(Se),pr;try{for(Ut.s();!(pr=Ut.n()).done;){Jt=pr.value;var jt=T(Jt.params,be);if(!(!jt||Lt.restParam&&!jt.restParam)){if(!jt.hasAny){var vr=function(){var fr=w(jt);if(Lt.types.some(function(pn){return!fr.has(pn.name)}))return"continue"}();if(vr==="continue")continue}Mt.push(Jt)}}}catch(fr){Ut.e(fr)}finally{Ut.f()}if(Se=Mt,Se.length===0)break}var ar,sr=yn(Se),Xr;try{for(sr.s();!(Xr=sr.n()).done;)if(ar=Xr.value,ar.params.length<=De)return ar}catch(fr){sr.e(fr)}finally{sr.f()}throw new TypeError("Signature not found (signature: "+(R.name||"unnamed")+"("+m(he,", ")+"))")}function A(R,U,K){return D(R,U,K).implementation}function g(R,U){var K=h(U);if(K.test(R))return R;var ue=K.conversionsTo;if(ue.length===0)throw new Error("There are no conversions to "+U+" defined.");for(var ee=0;ee<ue.length;ee++){var he=h(ue[ee].from);if(he.test(R))return ue[ee].convert(R)}throw new Error("Cannot convert "+R+" to "+U)}function m(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return R.map(function(K){return K.name}).join(U)}function y(R){var U=R.indexOf("...")===0,K=U?R.length>3?R.slice(3):"any":R,ue=K.split("|").map(function(ae){return h(ae.trim())}),ee=!1,he=U?"...":"",ne=ue.map(function(ae){return ee=ae.isAny||ee,he+=ae.name+"|",{name:ae.name,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:null,conversionIndex:-1}});return{types:ne,name:he.slice(0,-1),hasAny:ee,hasConversion:!1,restParam:U}}function F(R){var U=R.types.map(function(ne){return ne.name}),K=re(U),ue=R.hasAny,ee=R.name,he=K.map(function(ne){var ae=h(ne.from);return ue=ae.isAny||ue,ee+="|"+ne.from,{name:ne.from,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:ne,conversionIndex:ne.index}});return{types:R.types.concat(he),name:ee,hasAny:ue,hasConversion:he.length>0,restParam:R.restParam}}function w(R){return R.typeSet||(R.typeSet=new Set,R.types.forEach(function(U){return R.typeSet.add(U.name)})),R.typeSet}function B(R){var U=[];if(typeof R!="string")throw new TypeError("Signatures must be strings");var K=R.trim();if(K==="")return U;for(var ue=K.split(","),ee=0;ee<ue.length;++ee){var he=y(ue[ee].trim());if(he.restParam&&ee!==ue.length-1)throw new SyntaxError('Unexpected rest parameter "'+ue[ee]+'": only allowed for the last parameter');if(he.types.length===0)return null;U.push(he)}return U}function C(R){var U=Qe(R);return U?U.restParam:!1}function O(R){if(!R||R.types.length===0)return S0;if(R.types.length===1)return h(R.types[0].name).test;if(R.types.length===2){var U=h(R.types[0].name).test,K=h(R.types[1].name).test;return function(he){return U(he)||K(he)}}else{var ue=R.types.map(function(ee){return h(ee.name).test});return function(he){for(var ne=0;ne<ue.length;ne++)if(ue[ne](he))return!0;return!1}}}function x(R){var U,K,ue;if(C(R)){U=ct(R).map(O);var ee=U.length,he=O(Qe(R)),ne=function(De){for(var Se=ee;Se<De.length;Se++)if(!he(De[Se]))return!1;return!0};return function(De){for(var Se=0;Se<U.length;Se++)if(!U[Se](De[Se]))return!1;return ne(De)&&De.length>=ee+1}}else return R.length===0?function(De){return De.length===0}:R.length===1?(K=O(R[0]),function(De){return K(De[0])&&De.length===1}):R.length===2?(K=O(R[0]),ue=O(R[1]),function(De){return K(De[0])&&ue(De[1])&&De.length===2}):(U=R.map(O),function(De){for(var Se=0;Se<U.length;Se++)if(!U[Se](De[Se]))return!1;return De.length===U.length})}function T(R,U){return U<R.length?R[U]:C(R)?Qe(R):null}function I(R,U){var K=T(R,U);return K?w(K):new Set}function j(R){return R.conversion===null||R.conversion===void 0}function Y(R,U){var K=new Set;return R.forEach(function(ue){var ee=I(ue.params,U),he,ne=yn(ee),ae;try{for(ne.s();!(ae=ne.n()).done;)he=ae.value,K.add(he)}catch(De){ne.e(De)}finally{ne.f()}}),K.has("any")?["any"]:Array.from(K)}function X(R,U,K){var ue,ee,he=R||"unnamed",ne=K,ae,De=function(){var Ut=[];if(ne.forEach(function(jt){var vr=T(jt.params,ae),ar=O(vr);(ae<jt.params.length||C(jt.params))&&ar(U[ae])&&Ut.push(jt)}),Ut.length===0){if(ee=Y(ne,ae),ee.length>0){var pr=l(U[ae]);return ue=new TypeError("Unexpected type of argument in function "+he+" (expected: "+ee.join(" or ")+", actual: "+pr.join(" | ")+", index: "+ae+")"),ue.data={category:"wrongType",fn:he,index:ae,actual:pr,expected:ee},{v:ue}}}else ne=Ut};for(ae=0;ae<U.length;ae++){var Se=De();if(iu(Se)==="object")return Se.v}var qe=ne.map(function(Jt){return C(Jt.params)?1/0:Jt.params.length});if(U.length<Math.min.apply(null,qe))return ee=Y(ne,ae),ue=new TypeError("Too few arguments in function "+he+" (expected: "+ee.join(" or ")+", index: "+U.length+")"),ue.data={category:"tooFewArgs",fn:he,index:U.length,expected:ee},ue;var be=Math.max.apply(null,qe);if(U.length>be)return ue=new TypeError("Too many arguments in function "+he+" (expected: "+be+", actual: "+U.length+")"),ue.data={category:"tooManyArgs",fn:he,index:U.length,expectedLength:be},ue;for(var Lt=[],Mt=0;Mt<U.length;++Mt)Lt.push(l(U[Mt]).join("|"));return ue=new TypeError('Arguments of type "'+Lt.join(", ")+'" do not match any of the defined signatures of function '+he+"."),ue.data={category:"mismatch",actual:Lt},ue}function G(R){for(var U=u.length+1,K=0;K<R.types.length;K++)j(R.types[K])&&(U=Math.min(U,R.types[K].typeIndex));return U}function H(R){for(var U=a+1,K=0;K<R.types.length;K++)j(R.types[K])||(U=Math.min(U,R.types[K].conversionIndex));return U}function V(R,U){if(R.hasAny){if(!U.hasAny)return 1}else if(U.hasAny)return-1;if(R.restParam){if(!U.restParam)return 1}else if(U.restParam)return-1;if(R.hasConversion){if(!U.hasConversion)return 1}else if(U.hasConversion)return-1;var K=G(R)-G(U);if(K<0)return-1;if(K>0)return 1;var ue=H(R)-H(U);return ue<0?-1:ue>0?1:0}function W(R,U){var K=R.params,ue=U.params,ee=Qe(K),he=Qe(ue),ne=C(K),ae=C(ue);if(ne&&ee.hasAny){if(!ae||!he.hasAny)return 1}else if(ae&&he.hasAny)return-1;var De=0,Se=0,qe,be=yn(K),Lt;try{for(be.s();!(Lt=be.n()).done;)qe=Lt.value,qe.hasAny&&++De,qe.hasConversion&&++Se}catch(Sn){be.e(Sn)}finally{be.f()}var Mt=0,Jt=0,Ut=yn(ue),pr;try{for(Ut.s();!(pr=Ut.n()).done;)qe=pr.value,qe.hasAny&&++Mt,qe.hasConversion&&++Jt}catch(Sn){Ut.e(Sn)}finally{Ut.f()}if(De!==Mt)return De-Mt;if(ne&&ee.hasConversion){if(!ae||!he.hasConversion)return 1}else if(ae&&he.hasConversion)return-1;if(Se!==Jt)return Se-Jt;if(ne){if(!ae)return 1}else if(ae)return-1;var jt=(K.length-ue.length)*(ne?-1:1);if(jt!==0)return jt;for(var vr=[],ar=0,sr=0;sr<K.length;++sr){var Xr=V(K[sr],ue[sr]);vr.push(Xr),ar+=Xr}if(ar!==0)return ar;for(var fr,pn=0,jn=vr;pn<jn.length;pn++)if(fr=jn[pn],fr!==0)return fr;return 0}function re(R){if(R.length===0)return[];var U=R.map(h);R.length>1&&U.sort(function(De,Se){return De.index-Se.index});var K=U[0].conversionsTo;if(R.length===1)return K;K=K.concat([]);for(var ue=new Set(R),ee=1;ee<U.length;++ee){var he=void 0,ne=yn(U[ee].conversionsTo),ae;try{for(ne.s();!(ae=ne.n()).done;)he=ae.value,ue.has(he.from)||(K.push(he),ue.add(he.from))}catch(De){ne.e(De)}finally{ne.f()}}return K}function ce(R,U){var K=U;if(R.some(function(ae){return ae.hasConversion})){var ue=C(R),ee=R.map(ve);K=function(){for(var De=[],Se=ue?arguments.length-1:arguments.length,qe=0;qe<Se;qe++)De[qe]=ee[qe](arguments[qe]);return ue&&(De[Se]=arguments[Se].map(ee[Se])),U.apply(this,De)}}var he=K;if(C(R)){var ne=R.length-1;he=function(){return K.apply(this,it(arguments,0,ne).concat([it(arguments,ne)]))}}return he}function ve(R){var U,K,ue,ee,he=[],ne=[];switch(R.types.forEach(function(ae){ae.conversion&&(he.push(h(ae.conversion.from).test),ne.push(ae.conversion.convert))}),ne.length){case 0:return function(De){return De};case 1:return U=he[0],ue=ne[0],function(De){return U(De)?ue(De):De};case 2:return U=he[0],K=he[1],ue=ne[0],ee=ne[1],function(De){return U(De)?ue(De):K(De)?ee(De):De};default:return function(De){for(var Se=0;Se<ne.length;Se++)if(he[Se](De))return ne[Se](De);return De}}}function ye(R){function U(K,ue,ee){if(ue<K.length){var he=K[ue],ne=[];if(he.restParam){var ae=he.types.filter(j);ae.length<he.types.length&&ne.push({types:ae,name:"..."+ae.map(function(De){return De.name}).join("|"),hasAny:ae.some(function(De){return De.isAny}),hasConversion:!1,restParam:!0}),ne.push(he)}else ne=he.types.map(function(De){return{types:[De],name:De.name,hasAny:De.isAny,hasConversion:De.conversion,restParam:!1}});return dt(ne,function(De){return U(K,ue+1,ee.concat([De]))})}else return[ee]}return U(R,0,[])}function Ee(R,U){for(var K=Math.max(R.length,U.length),ue=0;ue<K;ue++){var ee=I(R,ue),he=I(U,ue),ne=!1,ae=void 0,De=yn(he),Se;try{for(De.s();!(Se=De.n()).done;)if(ae=Se.value,ee.has(ae)){ne=!0;break}}catch(Jt){De.e(Jt)}finally{De.f()}if(!ne)return!1}var qe=R.length,be=U.length,Lt=C(R),Mt=C(U);return Lt?Mt?qe===be:be>=qe:Mt?qe>=be:qe===be}function Oe(R){return R.map(function(U){return wt(U)?At(U.referToSelf.callback):Ar(U)?Je(U.referTo.references,U.referTo.callback):U})}function Me(R,U,K){var ue=[],ee,he=yn(R),ne;try{for(he.s();!(ne=he.n()).done;){ee=ne.value;var ae=K[ee];if(typeof ae!="number")throw new TypeError('No definition for referenced signature "'+ee+'"');if(ae=U[ae],typeof ae!="function")return!1;ue.push(ae)}}catch(De){he.e(De)}finally{he.f()}return ue}function Te(R,U,K){for(var ue=Oe(R),ee=new Array(ue.length).fill(!1),he=!0;he;){he=!1;for(var ne=!0,ae=0;ae<ue.length;++ae)if(!ee[ae]){var De=ue[ae];if(wt(De))ue[ae]=De.referToSelf.callback(K),ue[ae].referToSelf=De.referToSelf,ee[ae]=!0,ne=!1;else if(Ar(De)){var Se=Me(De.referTo.references,ue,U);Se?(ue[ae]=De.referTo.callback.apply(this,Se),ue[ae].referTo=De.referTo,ee[ae]=!0,ne=!1):he=!0}}if(ne&&he)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ue}function $e(R){var U=/\bthis(\(|\.signatures\b)/;Object.keys(R).forEach(function(K){var ue=R[K];if(U.test(ue.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ze(R,U){if(o.createCount++,Object.keys(U).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&$e(U);var K=[],ue=[],ee={},he=[],ne,ae=function(){if(!Object.prototype.hasOwnProperty.call(U,ne))return"continue";var tr=B(ne);if(!tr)return"continue";K.forEach(function(en){if(Ee(en,tr))throw new TypeError('Conflicting signatures "'+m(en)+'" and "'+m(tr)+'".')}),K.push(tr);var Pr=ue.length;ue.push(U[ne]);var Ci=tr.map(F),qn=void 0,Mn=yn(ye(Ci)),Si;try{for(Mn.s();!(Si=Mn.n()).done;){qn=Si.value;var vn=m(qn);he.push({params:qn,name:vn,fn:Pr}),qn.every(function(en){return!en.hasConversion})&&(ee[vn]=Pr)}}catch(en){Mn.e(en)}finally{Mn.f()}};for(ne in U)var De=ae();he.sort(W);var Se=Te(ue,ee,On),qe;for(qe in ee)Object.prototype.hasOwnProperty.call(ee,qe)&&(ee[qe]=Se[ee[qe]]);for(var be=[],Lt=new Map,Mt=0,Jt=he;Mt<Jt.length;Mt++)qe=Jt[Mt],Lt.has(qe.name)||(qe.fn=Se[qe.fn],be.push(qe),Lt.set(qe.name,qe));for(var Ut=be[0]&&be[0].params.length<=2&&!C(be[0].params),pr=be[1]&&be[1].params.length<=2&&!C(be[1].params),jt=be[2]&&be[2].params.length<=2&&!C(be[2].params),vr=be[3]&&be[3].params.length<=2&&!C(be[3].params),ar=be[4]&&be[4].params.length<=2&&!C(be[4].params),sr=be[5]&&be[5].params.length<=2&&!C(be[5].params),Xr=Ut&&pr&&jt&&vr&&ar&&sr,fr=0;fr<be.length;++fr)be[fr].test=x(be[fr].params);for(var pn=Ut?O(be[0].params[0]):fn,jn=pr?O(be[1].params[0]):fn,Sn=jt?O(be[2].params[0]):fn,Bn=vr?O(be[3].params[0]):fn,Li=ar?O(be[4].params[0]):fn,Ei=sr?O(be[5].params[0]):fn,vu=Ut?O(be[0].params[1]):fn,br=pr?O(be[1].params[1]):fn,Xt=jt?O(be[2].params[1]):fn,gu=vr?O(be[3].params[1]):fn,ri=ar?O(be[4].params[1]):fn,Qr=sr?O(be[5].params[1]):fn,Vn=0;Vn<be.length;++Vn)be[Vn].implementation=ce(be[Vn].params,be[Vn].fn);var Fi=Ut?be[0].implementation:tu,mu=pr?be[1].implementation:tu,Du=jt?be[2].implementation:tu,Ui=vr?be[3].implementation:tu,_u=ar?be[4].implementation:tu,yu=sr?be[5].implementation:tu,Au=Ut?be[0].params.length:-1,bu=pr?be[1].params.length:-1,wu=jt?be[2].params.length:-1,Eu=vr?be[3].params.length:-1,ni=ar?be[4].params.length:-1,Fu=sr?be[5].params.length:-1,ii=Xr?6:0,Cu=be.length,Su=be.map(function(gr){return gr.test}),Bu=be.map(function(gr){return gr.implementation}),ji=function(){for(var tr=ii;tr<Cu;tr++)if(Su[tr](arguments))return Bu[tr].apply(this,arguments);return o.onMismatch(R,arguments,be)};function On(gr,tr){return arguments.length===Au&&pn(gr)&&vu(tr)?Fi.apply(this,arguments):arguments.length===bu&&jn(gr)&&br(tr)?mu.apply(this,arguments):arguments.length===wu&&Sn(gr)&&Xt(tr)?Du.apply(this,arguments):arguments.length===Eu&&Bn(gr)&&gu(tr)?Ui.apply(this,arguments):arguments.length===ni&&Li(gr)&&ri(tr)?_u.apply(this,arguments):arguments.length===Fu&&Ei(gr)&&Qr(tr)?yu.apply(this,arguments):ji.apply(this,arguments)}try{Object.defineProperty(On,"name",{value:R})}catch{}return On.signatures=ee,On._typedFunctionData={signatures:be,signatureMap:Lt},On}function at(R,U,K){throw X(R,U,K)}function ct(R){return it(R,0,R.length-1)}function Qe(R){return R[R.length-1]}function it(R,U,K){return Array.prototype.slice.call(R,U,K)}function ht(R,U){for(var K=0;K<R.length;K++)if(U(R[K]))return R[K]}function dt(R,U){return Array.prototype.concat.apply([],R.map(U))}function rt(){var R=ct(arguments).map(function(K){return m(B(K))}),U=Qe(arguments);if(typeof U!="function")throw new TypeError("Callback function expected as last argument");return Je(R,U)}function Je(R,U){return{referTo:{references:R,callback:U}}}function At(R){if(typeof R!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:R}}}function Ar(R){return R&&iu(R.referTo)==="object"&&Array.isArray(R.referTo.references)&&typeof R.referTo.callback=="function"}function wt(R){return R&&iu(R.referToSelf)==="object"&&typeof R.referToSelf.callback=="function"}function Ae(R,U){if(!R)return U;if(U&&U!==R){var K=new Error("Function names do not match (expected: "+R+", actual: "+U+")");throw K.data={actual:U,expected:R},K}return R}function _e(R){var U;for(var K in R)Object.prototype.hasOwnProperty.call(R,K)&&(f(R[K])||typeof R[K].signature=="string")&&(U=Ae(U,R[K].name));return U}function pt(R,U){var K;for(K in U)if(Object.prototype.hasOwnProperty.call(U,K)){if(K in R&&U[K]!==R[K]){var ue=new Error('Signature "'+K+'" is defined twice');throw ue.data={signature:K,sourceFunction:U[K],destFunction:R[K]},ue}R[K]=U[K]}}var Nt=o;o=function(U){for(var K=typeof U=="string",ue=K?1:0,ee=K?U:"",he={},ne=ue;ne<arguments.length;++ne){var ae=arguments[ne],De={},Se=void 0;if(typeof ae=="function"?(Se=ae.name,typeof ae.signature=="string"?De[ae.signature]=ae:f(ae)&&(De=ae.signatures)):e(ae)&&(De=ae,K||(Se=_e(ae))),Object.keys(De).length===0){var qe=new TypeError("Argument to 'typed' at index "+ne+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw qe.data={index:ne,argument:ae},qe}K||(ee=Ae(ee,Se)),pt(he,De)}return ze(ee||"",he)},o.create=md,o.createCount=Nt.createCount,o.onMismatch=at,o.throwMismatchError=at,o.createError=X,o.clear=p,o.clearConversions=c,o.addTypes=d,o._findType=h,o.referTo=rt,o.referToSelf=At,o.convert=g,o.findSignature=D,o.find=A,o.isTypedFunction=f,o.warnAgainstDeprecatedThis=!0,o.addType=function(R,U){var K="any";U!==!1&&i.has("Object")&&(K="Object"),o.addTypes([R],K)};function ur(R){if(!R||typeof R.from!="string"||typeof R.to!="string"||typeof R.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(R.to===R.from)throw new SyntaxError('Illegal to define conversion from "'+R.from+'" to itself.')}return o.addConversion=function(R){ur(R);var U=h(R.to);if(U.conversionsTo.every(function(K){return K.from!==R.from}))U.conversionsTo.push({from:R.from,convert:R.convert,index:a++});else throw new Error('There is already a conversion from "'+R.from+'" to "'+U.name+'"')},o.addConversions=function(R){R.forEach(o.addConversion)},o.removeConversion=function(R){ur(R);var U=h(R.to),K=ht(U.conversionsTo,function(ee){return ee.from===R.from});if(!K)throw new Error("Attempt to remove nonexistent conversion from "+R.from+" to "+R.to);if(K.convert!==R.convert)throw new Error("Conversion to remove does not match existing conversion");var ue=U.conversionsTo.indexOf(K);U.conversionsTo.splice(ue,1)},o.resolve=function(R,U){if(!f(R))throw new TypeError(B0);for(var K=R._typedFunctionData.signatures,ue=0;ue<K.length;++ue)if(K[ue].test(U))return K[ue];return null},o}const O0=md();function yr(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Vo(e,t,r){var i={2:"0b",8:"0o",16:"0x"},u=i[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!yr(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(a)}function wl(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",i,u;if(t&&(t.notation&&(r=t.notation),Ht(t)?i=t:Ht(t.precision)&&(i=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return lA(e,i);case"exponential":return Dd(e,i);case"engineering":return oA(e,i);case"bin":return Vo(e,2,u);case"oct":return Vo(e,8,u);case"hex":return Vo(e,16,u);case"auto":return fA(e,i,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function gs(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],i=t[2],u=parseFloat(t[4]||"0"),a=i.indexOf(".");u+=a!==-1?a-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(h){return u-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function oA(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gs(e),i=ms(r,t),u=i.exponent,a=i.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(Ht(t))for(;t>a.length||u-o+1>a.length;)a.push(0);else for(var h=Math.abs(u-o)-(a.length-1),d=0;d<h;d++)a.push(0);for(var p=Math.abs(u-o),c=1;p>0;)c++,p--;var l=a.slice(c).join(""),f=Ht(t)&&l.length||l.match(/[1-9]/)?"."+l:"",D=a.slice(0,c).join("")+f+"e"+(u>=0?"+":"")+o.toString();return i.sign+D}function lA(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gs(e),i=typeof t=="number"?ms(r,r.exponent+1+t):r,u=i.coefficients,a=i.exponent+1,o=a+(t||0);return u.length<o&&(u=u.concat(au(o-u.length))),a<0&&(u=au(-a+1).concat(u),a=1),a<u.length&&u.splice(a,0,a===0?"0.":"."),i.sign+u.join("")}function Dd(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gs(e),i=t?ms(r,t):r,u=i.coefficients,a=i.exponent;u.length<t&&(u=u.concat(au(t-u.length)));var o=u.shift();return i.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(a>=0?"+":"")+a}function fA(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var i=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5,a=gs(e),o=t?ms(a,t):a;if(o.exponent<i||o.exponent>=u)return Dd(e,t);var h=o.coefficients,d=o.exponent;h.length<t&&(h=h.concat(au(t-h.length))),h=h.concat(au(d-h.length+1+(h.length<t?t-h.length:0))),h=au(-d).concat(h);var p=d>0?d:0;return p<h.length-1&&h.splice(p+1,0,"."),o.sign+h.join("")}function ms(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=r.coefficients;t<=0;)i.unshift(0),r.exponent++,t++;if(i.length>t){var u=i.splice(t,i.length-t);if(u[0]>=5){var a=t-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),r.exponent++,a++),a--,i[a]++}}return r}function au(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function cA(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var hA=Number.EPSILON||2220446049250313e-31;function Za(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<hA?!0:i<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function qo(e,t,r){var i=e.constructor,u=new i(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function dA(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",i,u;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?i=t:t.precision&&(i=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return vA(e,i);case"exponential":return M0(e,i);case"engineering":return pA(e,i);case"bin":return qo(e,2,u);case"oct":return qo(e,8,u);case"hex":return qo(e,16,u);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,o=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var h,d=e.toSignificantDigits(i),p=d.e;return p>=a&&p<o?h=d.toFixed():h=M0(e,i),h.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],l=arguments[4];return c!=="."?c+l:l})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function pA(e,t){var r=e.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-i)),a=u.toPrecision(t);return a.indexOf("e")!==-1&&(a=u.toString()),a+"e"+(r>=0?"+":"")+i.toString()}function M0(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function vA(e,t){return e.toFixed(t)}function Vr(e,t){var r=gA(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function gA(e,t){if(typeof e=="number")return wl(e,t);if(hn(e))return dA(e,t);if(mA(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return _d(e,t);if(In(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(i=>'"'+i+'": '+Vr(e[i],t));return"{"+r.join(", ")+"}"}return String(e)}function _d(e,t){if(Array.isArray(e)){for(var r="[",i=e.length,u=0;u<i;u++)u!==0&&(r+=", "),r+=_d(e[u],t);return r+="]",r}else return Vr(e,t)}function mA(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Et(e,t,r){if(!(this instanceof Et))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Et.prototype=new RangeError;Et.prototype.constructor=RangeError;Et.prototype.name="DimensionError";Et.prototype.isDimensionError=!0;function Ri(e,t,r){if(!(this instanceof Ri))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ri.prototype=new RangeError;Ri.prototype.constructor=RangeError;Ri.prototype.name="IndexError";Ri.prototype.isIndexError=!0;function _i(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function yd(e,t,r){var i,u=e.length;if(u!==t[r])throw new Et(u,t[r]);if(r<t.length-1){var a=r+1;for(i=0;i<u;i++){var o=e[i];if(!Array.isArray(o))throw new Et(t.length-1,t.length,"<");yd(e[i],t,a)}}else for(i=0;i<u;i++)if(Array.isArray(e[i]))throw new Et(t.length+1,t.length,">")}function x0(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Et(e.length,0)}else yd(e,t,0)}function zt(e,t){if(!Ht(e)||!yr(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ri(e,t)}function P0(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!Ht(u)||!yr(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(t)+")")});var i=r!==void 0?r:0;return El(e,t,0,i),e}function El(e,t,r,i){var u,a,o=e.length,h=t[r],d=Math.min(o,h);if(e.length=h,r<t.length-1){var p=r+1;for(u=0;u<d;u++)a=e[u],Array.isArray(a)||(a=[a],e[u]=a),El(a,t,p,i);for(u=d;u<h;u++)a=[],e[u]=a,El(a,t,p,i)}else{for(u=0;u<d;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=d;u<h;u++)e[u]=i}}function DA(e,t){var r=yA(e),i=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Et(0,i,"!=");t=Yl(t,i);var u=Ad(t);if(i!==u)throw new Et(u,i,"!=");try{return _A(r,t)}catch(a){throw a instanceof Et?new Et(u,i,"!="):a}}function Yl(e,t){var r=Ad(e),i=e.slice(),u=-1,a=e.indexOf(u),o=e.indexOf(u,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var h=a>=0,d=t%r===0;if(h)if(d)i[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return i}function Ad(e){return e.reduce((t,r)=>t*r,1)}function _A(e,t){for(var r=e,i,u=t.length-1;u>0;u--){var a=t[u];i=[];for(var o=r.length/a,h=0;h<o;h++)i.push(r.slice(h*a,(h+1)*a));r=i}return r}function bd(e,t,r,i){var u=i||_i(e);if(r)for(var a=0;a<r;a++)e=[e],u.unshift(1);for(e=wd(e,t,0);u.length<t;)u.push(1);return e}function wd(e,t,r){var i,u;if(Array.isArray(e)){var a=r+1;for(i=0,u=e.length;i<u;i++)e[i]=wd(e[i],t,a)}else for(var o=r;o<t;o++)e=[e];return e}function yA(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(i){Array.isArray(i)?i.forEach(r):t.push(i)}),t}function $a(e,t){for(var r,i=0,u=0;u<e.length;u++){var a=e[u],o=Array.isArray(a);if(u===0&&o&&(i=a.length),o&&a.length!==i)return;var h=o?$a(a,t):t(a);if(r===void 0)r=h;else if(r!==h)return"mixed"}return r}function Ct(e,t,r,i){function u(a){var o=iA(a,t.map(wA));return AA(e,t,a),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),i&&(u.meta=i),u}function AA(e,t,r){var i=t.filter(a=>!bA(a)).every(a=>r[a]!==void 0);if(!i){var u=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function bA(e){return e&&e[0]==="?"}function wA(e){return e&&e[0]==="?"?e.slice(1):e}function EA(e,t){if(Fd(e)&&Ed(e,t))return e[t];throw typeof e[t]=="function"&&SA(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function FA(e,t,r){if(Fd(e)&&Ed(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function CA(e,t){return t in e}function Ed(e,t){return!e||typeof e!="object"?!1:Ku(BA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function SA(e,t){return e==null||typeof e[t]!="function"||Ku(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Ku(OA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Fd(e){return typeof e=="object"&&e&&e.constructor===Object}var BA={length:!0,name:!0},OA={toString:!0,valueOf:!0,toLocaleString:!0};class MA{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return EA(this.wrappedObject,t)}set(t,r){return FA(this.wrappedObject,t,r),this}has(t){return CA(this.wrappedObject,t)}}function xA(e){return e?e instanceof Map||e instanceof MA||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Cd=function(){return Cd=O0.create,O0},PA=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],TA=Ct("typed",PA,function(t){var{BigNumber:r,Complex:i,DenseMatrix:u,Fraction:a}=t,o=Cd();return o.clear(),o.addTypes([{name:"number",test:Ht},{name:"Complex",test:dd},{name:"BigNumber",test:hn},{name:"Fraction",test:pd},{name:"Unit",test:vd},{name:"identifier",test:h=>In&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(h)},{name:"string",test:In},{name:"Chain",test:tA},{name:"Array",test:qt},{name:"Matrix",test:kr},{name:"DenseMatrix",test:By},{name:"SparseMatrix",test:Oy},{name:"Range",test:My},{name:"Index",test:Kl},{name:"boolean",test:xy},{name:"ResultSet",test:Py},{name:"Help",test:Ty},{name:"function",test:Iy},{name:"Date",test:Ny},{name:"RegExp",test:ky},{name:"null",test:Ly},{name:"undefined",test:gd},{name:"AccessorNode",test:Uy},{name:"ArrayNode",test:jy},{name:"AssignmentNode",test:Vy},{name:"BlockNode",test:qy},{name:"ConditionalNode",test:zy},{name:"ConstantNode",test:Wy},{name:"FunctionNode",test:Gy},{name:"FunctionAssignmentNode",test:Hy},{name:"IndexNode",test:Ky},{name:"Node",test:Yy},{name:"ObjectNode",test:Zy},{name:"OperatorNode",test:$y},{name:"ParenthesisNode",test:Jy},{name:"RangeNode",test:Xy},{name:"RelationalNode",test:Qy},{name:"SymbolNode",test:eA},{name:"Map",test:xA},{name:"Object",test:Ry}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(d){if(r||zo(d),cA(d)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+d+"). Use function bignumber(x) to convert to BigNumber.");return new r(d)}},{from:"number",to:"Complex",convert:function(d){return i||Ra(d),new i(d,0)}},{from:"BigNumber",to:"Complex",convert:function(d){return i||Ra(d),new i(d.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(d){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(d){return i||Ra(d),new i(d.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(d){a||Wo(d);var p=new a(d);if(p.valueOf()!==d)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+d+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(d){var p=Number(d);if(isNaN(p))throw new Error('Cannot convert "'+d+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(d){r||zo(d);try{return new r(d)}catch{throw new Error('Cannot convert "'+d+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(d){a||Wo(d);try{return new a(d)}catch{throw new Error('Cannot convert "'+d+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(d){i||Ra(d);try{return new i(d)}catch{throw new Error('Cannot convert "'+d+'" to Complex')}}},{from:"boolean",to:"number",convert:function(d){return+d}},{from:"boolean",to:"BigNumber",convert:function(d){return r||zo(d),new r(+d)}},{from:"boolean",to:"Fraction",convert:function(d){return a||Wo(d),new a(+d)}},{from:"boolean",to:"string",convert:function(d){return String(d)}},{from:"Array",to:"Matrix",convert:function(d){return u||IA(),new u(d)}},{from:"Matrix",to:"Array",convert:function(d){return d.valueOf()}}]),o.onMismatch=(h,d,p)=>{var c=o.createError(h,d,p);if(["wrongType","mismatch"].includes(c.data.category)&&d.length===1&&Ka(d[0])&&p.some(f=>!f.params.includes(","))){var l=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw l.data=c.data,l}throw c},o.onMismatch=(h,d,p)=>{var c=o.createError(h,d,p);if(["wrongType","mismatch"].includes(c.data.category)&&d.length===1&&Ka(d[0])&&p.some(f=>!f.params.includes(","))){var l=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw l.data=c.data,l}throw c},o});function zo(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Ra(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function IA(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Wo(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var uu=9e15,bi=1e9,Fl="0123456789abcdef",Ja="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Xa="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-uu,maxE:uu,crypto:!1},Sd,Qn,We=!0,Ds="[DecimalError] ",yi=Ds+"Invalid argument: ",Bd=Ds+"Precision limit exceeded",Od=Ds+"crypto unavailable",Md="[object Decimal]",xr=Math.floor,dr=Math.pow,NA=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,kA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,RA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,xd=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn=1e7,Le=7,LA=9007199254740991,UA=Ja.length-1,Sl=Xa.length-1,ge={toStringTag:Md};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Ie(e)};ge.ceil=function(){return Ie(new this.constructor(this),this.e+1,2)};ge.clampedTo=ge.clamp=function(e,t){var r,i=this,u=i.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(yi+t);return r=i.cmp(e),r<0?e:i.cmp(t)>0?t:new u(i)};ge.comparedTo=ge.cmp=function(e){var t,r,i,u,a=this,o=a.d,h=(e=new a.constructor(e)).d,d=a.s,p=e.s;if(!o||!h)return!d||!p?NaN:d!==p?d:o===h?0:!o^d<0?1:-1;if(!o[0]||!h[0])return o[0]?d:h[0]?-p:0;if(d!==p)return d;if(a.e!==e.e)return a.e>e.e^d<0?1:-1;for(i=o.length,u=h.length,t=0,r=i<u?i:u;t<r;++t)if(o[t]!==h[t])return o[t]>h[t]^d<0?1:-1;return i===u?0:i>u^d<0?1:-1};ge.cosine=ge.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+Le,i.rounding=1,r=jA(i,kd(i,r)),i.precision=e,i.rounding=t,Ie(Qn==2||Qn==3?r.neg():r,e,t,!0)):new i(1):new i(NaN)};ge.cubeRoot=ge.cbrt=function(){var e,t,r,i,u,a,o,h,d,p,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(We=!1,a=c.s*dr(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=Br(c.d),e=c.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=dr(r,1/3),e=xr((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),i=new l(r),i.s=c.s):i=new l(a.toString()),o=(e=l.precision)+3;;)if(h=i,d=h.times(h).times(h),p=d.plus(c),i=Ot(p.plus(c).times(h),p.plus(d),o+2,1),Br(h.d).slice(0,o)===(r=Br(i.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(Ie(h,e+1,0),h.times(h).times(h).eq(c))){i=h;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ie(i,e+1,1),t=!i.times(i).times(i).eq(c));break}return We=!0,Ie(i,e,l.rounding,t)};ge.decimalPlaces=ge.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-xr(this.e/Le))*Le,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};ge.dividedBy=ge.div=function(e){return Ot(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.divToInt=function(e){var t=this,r=t.constructor;return Ie(Ot(t,new r(e),0,1,1),r.precision,r.rounding)};ge.equals=ge.eq=function(e){return this.cmp(e)===0};ge.floor=function(){return Ie(new this.constructor(this),this.e+1,3)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){var t=this.cmp(e);return t==1||t===0};ge.hyperbolicCosine=ge.cosh=function(){var e,t,r,i,u,a=this,o=a.constructor,h=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return h;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,u=a.d.length,u<32?(e=Math.ceil(u/3),t=(1/ys(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=lu(o,1,a.times(t),new o(1),!0);for(var d,p=e,c=new o(8);p--;)d=a.times(a),a=h.minus(d.times(c.minus(d.times(c))));return Ie(a,o.precision=r,o.rounding=i,!0)};ge.hyperbolicSine=ge.sinh=function(){var e,t,r,i,u=this,a=u.constructor;if(!u.isFinite()||u.isZero())return new a(u);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<3)u=lu(a,2,u,u,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,u=u.times(1/ys(5,e)),u=lu(a,2,u,u,!0);for(var o,h=new a(5),d=new a(16),p=new a(20);e--;)o=u.times(u),u=u.times(h.plus(o.times(d.times(o).plus(p))))}return a.precision=t,a.rounding=r,Ie(u,t,r,!0)};ge.hyperbolicTangent=ge.tanh=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,Ot(r.sinh(),r.cosh(),i.precision=e,i.rounding=t)):new i(r.s)};ge.inverseCosine=ge.acos=function(){var e,t=this,r=t.constructor,i=t.abs().cmp(1),u=r.precision,a=r.rounding;return i!==-1?i===0?t.isNeg()?An(r,u,a):new r(0):new r(NaN):t.isZero()?An(r,u+4,a).times(.5):(r.precision=u+6,r.rounding=1,t=t.asin(),e=An(r,u+4,a).times(.5),r.precision=u,r.rounding=a,e.minus(t))};ge.inverseHyperbolicCosine=ge.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,We=!1,r=r.times(r).minus(1).sqrt().plus(r),We=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)};ge.inverseHyperbolicSine=ge.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,We=!1,r=r.times(r).plus(1).sqrt().plus(r),We=!0,i.precision=e,i.rounding=t,r.ln())};ge.inverseHyperbolicTangent=ge.atanh=function(){var e,t,r,i,u=this,a=u.constructor;return u.isFinite()?u.e>=0?new a(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=a.precision,t=a.rounding,i=u.sd(),Math.max(i,e)<2*-u.e-1?Ie(new a(u),e,t,!0):(a.precision=r=i-u.e,u=Ot(u.plus(1),new a(1).minus(u),r+e,1),a.precision=e+4,a.rounding=1,u=u.ln(),a.precision=e,a.rounding=t,u.times(.5))):new a(NaN)};ge.inverseSine=ge.asin=function(){var e,t,r,i,u=this,a=u.constructor;return u.isZero()?new a(u):(t=u.abs().cmp(1),r=a.precision,i=a.rounding,t!==-1?t===0?(e=An(a,r+4,i).times(.5),e.s=u.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,u=u.div(new a(1).minus(u.times(u)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,u.times(2)))};ge.inverseTangent=ge.atan=function(){var e,t,r,i,u,a,o,h,d,p=this,c=p.constructor,l=c.precision,f=c.rounding;if(p.isFinite()){if(p.isZero())return new c(p);if(p.abs().eq(1)&&l+4<=Sl)return o=An(c,l+4,f).times(.25),o.s=p.s,o}else{if(!p.s)return new c(NaN);if(l+4<=Sl)return o=An(c,l+4,f).times(.5),o.s=p.s,o}for(c.precision=h=l+10,c.rounding=1,r=Math.min(28,h/Le+2|0),e=r;e;--e)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(We=!1,t=Math.ceil(h/Le),i=1,d=p.times(p),o=new c(p),u=p;e!==-1;)if(u=u.times(d),a=o.minus(u.div(i+=2)),u=u.times(d),o=a.plus(u.div(i+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),We=!0,Ie(o,c.precision=l,c.rounding=f,!0)};ge.isFinite=function(){return!!this.d};ge.isInteger=ge.isInt=function(){return!!this.d&&xr(this.e/Le)>this.d.length-2};ge.isNaN=function(){return!this.s};ge.isNegative=ge.isNeg=function(){return this.s<0};ge.isPositive=ge.isPos=function(){return this.s>0};ge.isZero=function(){return!!this.d&&this.d[0]===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r,i,u,a,o,h,d,p=this,c=p.constructor,l=c.precision,f=c.rounding,D=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new c(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(u=r[0];u%10===0;)u/=10;a=u!==1}if(We=!1,h=l+D,o=vi(p,h),i=t?Qa(c,h+10):vi(e,h),d=Ot(o,i,h,1),Yu(d.d,u=l,f))do if(h+=10,o=vi(p,h),i=t?Qa(c,h+10):vi(e,h),d=Ot(o,i,h,1),!a){+Br(d.d).slice(u+1,u+15)+1==1e14&&(d=Ie(d,l+1,0));break}while(Yu(d.d,u+=10,f));return We=!0,Ie(d,l,f)};ge.minus=ge.sub=function(e){var t,r,i,u,a,o,h,d,p,c,l,f,D=this,A=D.constructor;if(e=new A(e),!D.d||!e.d)return!D.s||!e.s?e=new A(NaN):D.d?e.s=-e.s:e=new A(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(p=D.d,f=e.d,h=A.precision,d=A.rounding,!p[0]||!f[0]){if(f[0])e.s=-e.s;else if(p[0])e=new A(D);else return new A(d===3?-0:0);return We?Ie(e,h,d):e}if(r=xr(e.e/Le),c=xr(D.e/Le),p=p.slice(),a=c-r,a){for(l=a<0,l?(t=p,a=-a,o=f.length):(t=f,r=c,o=p.length),i=Math.max(Math.ceil(h/Le),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=p.length,o=f.length,l=i<o,l&&(o=i),i=0;i<o;i++)if(p[i]!=f[i]){l=p[i]<f[i];break}a=0}for(l&&(t=p,p=f,f=t,e.s=-e.s),o=p.length,i=f.length-o;i>0;--i)p[o++]=0;for(i=f.length;i>a;){if(p[--i]<f[i]){for(u=i;u&&p[--u]===0;)p[u]=bn-1;--p[u],p[i]+=bn}p[i]-=f[i]}for(;p[--o]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(e.d=p,e.e=_s(p,r),We?Ie(e,h,d):e):new A(d===3?-0:0)};ge.modulo=ge.mod=function(e){var t,r=this,i=r.constructor;return e=new i(e),!r.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||r.d&&!r.d[0]?Ie(new i(r),i.precision,i.rounding):(We=!1,i.modulo==9?(t=Ot(r,e.abs(),0,3,1),t.s*=e.s):t=Ot(r,e,0,i.modulo,1),t=t.times(e),We=!0,r.minus(t))};ge.naturalExponential=ge.exp=function(){return Bl(this)};ge.naturalLogarithm=ge.ln=function(){return vi(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Ie(e)};ge.plus=ge.add=function(e){var t,r,i,u,a,o,h,d,p,c,l=this,f=l.constructor;if(e=new f(e),!l.d||!e.d)return!l.s||!e.s?e=new f(NaN):l.d||(e=new f(e.d||l.s===e.s?l:NaN)),e;if(l.s!=e.s)return e.s=-e.s,l.minus(e);if(p=l.d,c=e.d,h=f.precision,d=f.rounding,!p[0]||!c[0])return c[0]||(e=new f(l)),We?Ie(e,h,d):e;if(a=xr(l.e/Le),i=xr(e.e/Le),p=p.slice(),u=a-i,u){for(u<0?(r=p,u=-u,o=c.length):(r=c,i=a,o=p.length),a=Math.ceil(h/Le),o=a>o?a+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=p.length,u=c.length,o-u<0&&(u=o,r=c,c=p,p=r),t=0;u;)t=(p[--u]=p[u]+c[u]+t)/bn|0,p[u]%=bn;for(t&&(p.unshift(t),++i),o=p.length;p[--o]==0;)p.pop();return e.d=p,e.e=_s(p,i),We?Ie(e,h,d):e};ge.precision=ge.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yi+e);return r.d?(t=Pd(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};ge.round=function(){var e=this,t=e.constructor;return Ie(new t(e),e.e+1,t.rounding)};ge.sine=ge.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+Le,i.rounding=1,r=qA(i,kd(i,r)),i.precision=e,i.rounding=t,Ie(Qn>2?r.neg():r,e,t,!0)):new i(NaN)};ge.squareRoot=ge.sqrt=function(){var e,t,r,i,u,a,o=this,h=o.d,d=o.e,p=o.s,c=o.constructor;if(p!==1||!h||!h[0])return new c(!p||p<0&&(!h||h[0])?NaN:h?o:1/0);for(We=!1,p=Math.sqrt(+o),p==0||p==1/0?(t=Br(h),(t.length+d)%2==0&&(t+="0"),p=Math.sqrt(t),d=xr((d+1)/2)-(d<0||d%2),p==1/0?t="5e"+d:(t=p.toExponential(),t=t.slice(0,t.indexOf("e")+1)+d),i=new c(t)):i=new c(p.toString()),r=(d=c.precision)+3;;)if(a=i,i=a.plus(Ot(o,a,r+2,1)).times(.5),Br(a.d).slice(0,r)===(t=Br(i.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(Ie(a,d+1,0),a.times(a).eq(o))){i=a;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Ie(i,d+1,1),e=!i.times(i).eq(o));break}return We=!0,Ie(i,d,c.rounding,e)};ge.tangent=ge.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,r=r.sin(),r.s=1,r=Ot(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,Ie(Qn==2||Qn==4?r.neg():r,e,t,!0)):new i(NaN)};ge.times=ge.mul=function(e){var t,r,i,u,a,o,h,d,p,c=this,l=c.constructor,f=c.d,D=(e=new l(e)).d;if(e.s*=c.s,!f||!f[0]||!D||!D[0])return new l(!e.s||f&&!f[0]&&!D||D&&!D[0]&&!f?NaN:!f||!D?e.s/0:e.s*0);for(r=xr(c.e/Le)+xr(e.e/Le),d=f.length,p=D.length,d<p&&(a=f,f=D,D=a,o=d,d=p,p=o),a=[],o=d+p,i=o;i--;)a.push(0);for(i=p;--i>=0;){for(t=0,u=d+i;u>i;)h=a[u]+D[i]*f[u-i-1]+t,a[u--]=h%bn|0,t=h/bn|0;a[u]=(a[u]+t)%bn|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=_s(a,r),We?Ie(e,l.precision,l.rounding):e};ge.toBinary=function(e,t){return Zl(this,2,e,t)};ge.toDecimalPlaces=ge.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),e===void 0?r:(qr(e,0,bi),t===void 0?t=i.rounding:qr(t,0,8),Ie(r,e+r.e+1,t))};ge.toExponential=function(e,t){var r,i=this,u=i.constructor;return e===void 0?r=Rn(i,!0):(qr(e,0,bi),t===void 0?t=u.rounding:qr(t,0,8),i=Ie(new u(i),e+1,t),r=Rn(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toFixed=function(e,t){var r,i,u=this,a=u.constructor;return e===void 0?r=Rn(u):(qr(e,0,bi),t===void 0?t=a.rounding:qr(t,0,8),i=Ie(new a(u),e+u.e+1,t),r=Rn(i,!1,e+i.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};ge.toFraction=function(e){var t,r,i,u,a,o,h,d,p,c,l,f,D=this,A=D.d,g=D.constructor;if(!A)return new g(D);if(p=r=new g(1),i=d=new g(0),t=new g(i),a=t.e=Pd(A)-D.e-1,o=a%Le,t.d[0]=dr(10,o<0?Le+o:o),e==null)e=a>0?t:p;else{if(h=new g(e),!h.isInt()||h.lt(p))throw Error(yi+h);e=h.gt(t)?a>0?t:p:h}for(We=!1,h=new g(Br(A)),c=g.precision,g.precision=a=A.length*Le*2;l=Ot(h,t,0,1,1),u=r.plus(l.times(i)),u.cmp(e)!=1;)r=i,i=u,u=p,p=d.plus(l.times(u)),d=u,u=t,t=h.minus(l.times(u)),h=u;return u=Ot(e.minus(r),i,0,1,1),d=d.plus(u.times(p)),r=r.plus(u.times(i)),d.s=p.s=D.s,f=Ot(p,i,a,1).minus(D).abs().cmp(Ot(d,r,a,1).minus(D).abs())<1?[p,i]:[d,r],g.precision=c,We=!0,f};ge.toHexadecimal=ge.toHex=function(e,t){return Zl(this,16,e,t)};ge.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),e==null){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:qr(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(We=!1,r=Ot(r,e,0,t,1).times(e),We=!0,Ie(r)):(e.s=r.s,r=e),r};ge.toNumber=function(){return+this};ge.toOctal=function(e,t){return Zl(this,8,e,t)};ge.toPower=ge.pow=function(e){var t,r,i,u,a,o,h=this,d=h.constructor,p=+(e=new d(e));if(!h.d||!e.d||!h.d[0]||!e.d[0])return new d(dr(+h,p));if(h=new d(h),h.eq(1))return h;if(i=d.precision,a=d.rounding,e.eq(1))return Ie(h,i,a);if(t=xr(e.e/Le),t>=e.d.length-1&&(r=p<0?-p:p)<=LA)return u=Td(d,h,r,i),e.s<0?new d(1).div(u):Ie(u,i,a);if(o=h.s,o<0){if(t<e.d.length-1)return new d(NaN);if(e.d[t]&1||(o=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=o,h}return r=dr(+h,p),t=r==0||!isFinite(r)?xr(p*(Math.log("0."+Br(h.d))/Math.LN10+h.e+1)):new d(r+"").e,t>d.maxE+1||t<d.minE-1?new d(t>0?o/0:0):(We=!1,d.rounding=h.s=1,r=Math.min(12,(t+"").length),u=Bl(e.times(vi(h,i+r)),i),u.d&&(u=Ie(u,i+5,1),Yu(u.d,i,a)&&(t=i+10,u=Ie(Bl(e.times(vi(h,t+r)),t),t+5,1),+Br(u.d).slice(i+1,i+15)+1==1e14&&(u=Ie(u,i+1,0)))),u.s=o,We=!0,d.rounding=a,Ie(u,i,a))};ge.toPrecision=function(e,t){var r,i=this,u=i.constructor;return e===void 0?r=Rn(i,i.e<=u.toExpNeg||i.e>=u.toExpPos):(qr(e,1,bi),t===void 0?t=u.rounding:qr(t,0,8),i=Ie(new u(i),e,t),r=Rn(i,e<=i.e||i.e<=u.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toSignificantDigits=ge.toSD=function(e,t){var r=this,i=r.constructor;return e===void 0?(e=i.precision,t=i.rounding):(qr(e,1,bi),t===void 0?t=i.rounding:qr(t,0,8)),Ie(new i(r),e,t)};ge.toString=function(){var e=this,t=e.constructor,r=Rn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};ge.truncated=ge.trunc=function(){return Ie(new this.constructor(this),this.e+1,1)};ge.valueOf=ge.toJSON=function(){var e=this,t=e.constructor,r=Rn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Br(e){var t,r,i,u=e.length-1,a="",o=e[0];if(u>0){for(a+=o,t=1;t<u;t++)i=e[t]+"",r=Le-i.length,r&&(a+=pi(r)),a+=i;o=e[t],i=o+"",r=Le-i.length,r&&(a+=pi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function qr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yi+e)}function Yu(e,t,r,i){var u,a,o,h;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Le,u=0):(u=Math.ceil((t+1)/Le),t%=Le),a=dr(10,Le-t),h=e[u]%a|0,i==null?t<3?(t==0?h=h/100|0:t==1&&(h=h/10|0),o=r<4&&h==99999||r>3&&h==49999||h==5e4||h==0):o=(r<4&&h+1==a||r>3&&h+1==a/2)&&(e[u+1]/a/100|0)==dr(10,t-2)-1||(h==a/2||h==0)&&(e[u+1]/a/100|0)==0:t<4?(t==0?h=h/1e3|0:t==1?h=h/100|0:t==2&&(h=h/10|0),o=(i||r<4)&&h==9999||!i&&r>3&&h==4999):o=((i||r<4)&&h+1==a||!i&&r>3&&h+1==a/2)&&(e[u+1]/a/1e3|0)==dr(10,t-3)-1,o}function za(e,t,r){for(var i,u=[0],a,o=0,h=e.length;o<h;){for(a=u.length;a--;)u[a]*=t;for(u[0]+=Fl.indexOf(e.charAt(o++)),i=0;i<u.length;i++)u[i]>r-1&&(u[i+1]===void 0&&(u[i+1]=0),u[i+1]+=u[i]/r|0,u[i]%=r)}return u.reverse()}function jA(e,t){var r,i,u;if(t.isZero())return t;i=t.d.length,i<32?(r=Math.ceil(i/3),u=(1/ys(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=lu(e,1,t.times(u),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var Ot=function(){function e(i,u,a){var o,h=0,d=i.length;for(i=i.slice();d--;)o=i[d]*u+h,i[d]=o%a|0,h=o/a|0;return h&&i.unshift(h),i}function t(i,u,a,o){var h,d;if(a!=o)d=a>o?1:-1;else for(h=d=0;h<a;h++)if(i[h]!=u[h]){d=i[h]>u[h]?1:-1;break}return d}function r(i,u,a,o){for(var h=0;a--;)i[a]-=h,h=i[a]<u[a]?1:0,i[a]=h*o+i[a]-u[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,u,a,o,h,d){var p,c,l,f,D,A,g,m,y,F,w,B,C,O,x,T,I,j,Y,X,G=i.constructor,H=i.s==u.s?1:-1,V=i.d,W=u.d;if(!V||!V[0]||!W||!W[0])return new G(!i.s||!u.s||(V?W&&V[0]==W[0]:!W)?NaN:V&&V[0]==0||!W?H*0:H/0);for(d?(D=1,c=i.e-u.e):(d=bn,D=Le,c=xr(i.e/D)-xr(u.e/D)),Y=W.length,I=V.length,y=new G(H),F=y.d=[],l=0;W[l]==(V[l]||0);l++);if(W[l]>(V[l]||0)&&c--,a==null?(O=a=G.precision,o=G.rounding):h?O=a+(i.e-u.e)+1:O=a,O<0)F.push(1),A=!0;else{if(O=O/D+2|0,l=0,Y==1){for(f=0,W=W[0],O++;(l<I||f)&&O--;l++)x=f*d+(V[l]||0),F[l]=x/W|0,f=x%W|0;A=f||l<I}else{for(f=d/(W[0]+1)|0,f>1&&(W=e(W,f,d),V=e(V,f,d),Y=W.length,I=V.length),T=Y,w=V.slice(0,Y),B=w.length;B<Y;)w[B++]=0;X=W.slice(),X.unshift(0),j=W[0],W[1]>=d/2&&++j;do f=0,p=t(W,w,Y,B),p<0?(C=w[0],Y!=B&&(C=C*d+(w[1]||0)),f=C/j|0,f>1?(f>=d&&(f=d-1),g=e(W,f,d),m=g.length,B=w.length,p=t(g,w,m,B),p==1&&(f--,r(g,Y<m?X:W,m,d))):(f==0&&(p=f=1),g=W.slice()),m=g.length,m<B&&g.unshift(0),r(w,g,B,d),p==-1&&(B=w.length,p=t(W,w,Y,B),p<1&&(f++,r(w,Y<B?X:W,B,d))),B=w.length):p===0&&(f++,w=[0]),F[l++]=f,p&&w[0]?w[B++]=V[T]||0:(w=[V[T]],B=1);while((T++<I||w[0]!==void 0)&&O--);A=w[0]!==void 0}F[0]||F.shift()}if(D==1)y.e=c,Sd=A;else{for(l=1,f=F[0];f>=10;f/=10)l++;y.e=l+c*D-1,Ie(y,h?a+y.e+1:a,o,A)}return y}}();function Ie(e,t,r,i){var u,a,o,h,d,p,c,l,f,D=e.constructor;e:if(t!=null){if(l=e.d,!l)return e;for(u=1,h=l[0];h>=10;h/=10)u++;if(a=t-u,a<0)a+=Le,o=t,c=l[f=0],d=c/dr(10,u-o-1)%10|0;else if(f=Math.ceil((a+1)/Le),h=l.length,f>=h)if(i){for(;h++<=f;)l.push(0);c=d=0,u=1,a%=Le,o=a-Le+1}else break e;else{for(c=h=l[f],u=1;h>=10;h/=10)u++;a%=Le,o=a-Le+u,d=o<0?0:c/dr(10,u-o-1)%10|0}if(i=i||t<0||l[f+1]!==void 0||(o<0?c:c%dr(10,u-o-1)),p=r<4?(d||i)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||i||r==6&&(a>0?o>0?c/dr(10,u-o):0:l[f-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,p?(t-=e.e+1,l[0]=dr(10,(Le-t%Le)%Le),e.e=-t||0):l[0]=e.e=0,e;if(a==0?(l.length=f,h=1,f--):(l.length=f+1,h=dr(10,Le-a),l[f]=o>0?(c/dr(10,u-o)%dr(10,o)|0)*h:0),p)for(;;)if(f==0){for(a=1,o=l[0];o>=10;o/=10)a++;for(o=l[0]+=h,h=1;o>=10;o/=10)h++;a!=h&&(e.e++,l[0]==bn&&(l[0]=1));break}else{if(l[f]+=h,l[f]!=bn)break;l[f--]=0,h=1}for(a=l.length;l[--a]===0;)l.pop()}return We&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function Rn(e,t,r){if(!e.isFinite())return Nd(e);var i,u=e.e,a=Br(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pi(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):u<0?(a="0."+pi(-u-1)+a,r&&(i=r-o)>0&&(a+=pi(i))):u>=o?(a+=pi(u+1-o),r&&(i=r-u-1)>0&&(a=a+"."+pi(i))):((i=u+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(u+1===o&&(a+="."),a+=pi(i))),a}function _s(e,t){var r=e[0];for(t*=Le;r>=10;r/=10)t++;return t}function Qa(e,t,r){if(t>UA)throw We=!0,r&&(e.precision=r),Error(Bd);return Ie(new e(Ja),t,1,!0)}function An(e,t,r){if(t>Sl)throw Error(Bd);return Ie(new e(Xa),t,r,!0)}function Pd(e){var t=e.length-1,r=t*Le+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function pi(e){for(var t="";e--;)t+="0";return t}function Td(e,t,r,i){var u,a=new e(1),o=Math.ceil(i/Le+4);for(We=!1;;){if(r%2&&(a=a.times(t),I0(a.d,o)&&(u=!0)),r=xr(r/2),r===0){r=a.d.length-1,u&&a.d[r]===0&&++a.d[r];break}t=t.times(t),I0(t.d,o)}return We=!0,a}function T0(e){return e.d[e.d.length-1]&1}function Id(e,t,r){for(var i,u=new e(t[0]),a=0;++a<t.length;)if(i=new e(t[a]),i.s)u[r](i)&&(u=i);else{u=i;break}return u}function Bl(e,t){var r,i,u,a,o,h,d,p=0,c=0,l=0,f=e.constructor,D=f.rounding,A=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(We=!1,d=A):d=t,h=new f(.03125);e.e>-2;)e=e.times(h),l+=5;for(i=Math.log(dr(2,l))/Math.LN10*2+5|0,d+=i,r=a=o=new f(1),f.precision=d;;){if(a=Ie(a.times(e),d,1),r=r.times(++c),h=o.plus(Ot(a,r,d,1)),Br(h.d).slice(0,d)===Br(o.d).slice(0,d)){for(u=l;u--;)o=Ie(o.times(o),d,1);if(t==null)if(p<3&&Yu(o.d,d-i,D,p))f.precision=d+=10,r=a=h=new f(1),c=0,p++;else return Ie(o,f.precision=A,D,We=!0);else return f.precision=A,o}o=h}}function vi(e,t){var r,i,u,a,o,h,d,p,c,l,f,D=1,A=10,g=e,m=g.d,y=g.constructor,F=y.rounding,w=y.precision;if(g.s<0||!m||!m[0]||!g.e&&m[0]==1&&m.length==1)return new y(m&&!m[0]?-1/0:g.s!=1?NaN:m?0:g);if(t==null?(We=!1,c=w):c=t,y.precision=c+=A,r=Br(m),i=r.charAt(0),Math.abs(a=g.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)g=g.times(e),r=Br(g.d),i=r.charAt(0),D++;a=g.e,i>1?(g=new y("0."+r),a++):g=new y(i+"."+r.slice(1))}else return p=Qa(y,c+2,w).times(a+""),g=vi(new y(i+"."+r.slice(1)),c-A).plus(p),y.precision=w,t==null?Ie(g,w,F,We=!0):g;for(l=g,d=o=g=Ot(g.minus(1),g.plus(1),c,1),f=Ie(g.times(g),c,1),u=3;;){if(o=Ie(o.times(f),c,1),p=d.plus(Ot(o,new y(u),c,1)),Br(p.d).slice(0,c)===Br(d.d).slice(0,c))if(d=d.times(2),a!==0&&(d=d.plus(Qa(y,c+2,w).times(a+""))),d=Ot(d,new y(D),c,1),t==null)if(Yu(d.d,c-A,F,h))y.precision=c+=A,p=o=g=Ot(l.minus(1),l.plus(1),c,1),f=Ie(g.times(g),c,1),u=h=1;else return Ie(d,y.precision=w,F,We=!0);else return y.precision=w,d;d=p,u+=2}}function Nd(e){return String(e.s*e.s/0)}function Ol(e,t){var r,i,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;t.charCodeAt(i)===48;i++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(i,u),t){if(u-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%Le,r<0&&(i+=Le),i<u){for(i&&e.d.push(+t.slice(0,i)),u-=Le;i<u;)e.d.push(+t.slice(i,i+=Le));t=t.slice(i),i=Le-t.length}else i-=u;for(;i--;)t+="0";e.d.push(+t),We&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function VA(e,t){var r,i,u,a,o,h,d,p,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),xd.test(t))return Ol(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(kA.test(t))r=16,t=t.toLowerCase();else if(NA.test(t))r=2;else if(RA.test(t))r=8;else throw Error(yi+t);for(a=t.search(/p/i),a>0?(d=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,i=e.constructor,o&&(t=t.replace(".",""),h=t.length,a=h-a,u=Td(i,new i(r),a,a*2)),p=za(t,r,bn),c=p.length-1,a=c;p[a]===0;--a)p.pop();return a<0?new i(e.s*0):(e.e=_s(p,c),e.d=p,We=!1,o&&(e=Ot(e,u,h*4)),d&&(e=e.times(Math.abs(d)<54?dr(2,d):fu.pow(2,d))),We=!0,e)}function qA(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:lu(e,2,t,t);r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/ys(5,r)),t=lu(e,2,t,t);for(var u,a=new e(5),o=new e(16),h=new e(20);r--;)u=t.times(t),t=t.times(a.plus(u.times(o.times(u).minus(h))));return t}function lu(e,t,r,i,u){var a,o,h,d,p=e.precision,c=Math.ceil(p/Le);for(We=!1,d=r.times(r),h=new e(i);;){if(o=Ot(h.times(d),new e(t++*t++),p,1),h=u?i.plus(o):i.minus(o),i=Ot(o.times(d),new e(t++*t++),p,1),o=h.plus(i),o.d[c]!==void 0){for(a=c;o.d[a]===h.d[a]&&a--;);if(a==-1)break}a=h,h=i,i=o,o=a}return We=!0,o.d.length=c+1,o}function ys(e,t){for(var r=e;--t;)r*=e;return r}function kd(e,t){var r,i=t.s<0,u=An(e,e.precision,1),a=u.times(.5);if(t=t.abs(),t.lte(a))return Qn=i?4:1,t;if(r=t.divToInt(u),r.isZero())Qn=i?3:2;else{if(t=t.minus(r.times(u)),t.lte(a))return Qn=T0(r)?i?2:3:i?4:1,t;Qn=T0(r)?i?1:4:i?3:2}return t.minus(u).abs()}function Zl(e,t,r,i){var u,a,o,h,d,p,c,l,f,D=e.constructor,A=r!==void 0;if(A?(qr(r,1,bi),i===void 0?i=D.rounding:qr(i,0,8)):(r=D.precision,i=D.rounding),!e.isFinite())c=Nd(e);else{for(c=Rn(e),o=c.indexOf("."),A?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(c=c.replace(".",""),f=new D(1),f.e=c.length-o,f.d=za(Rn(f),10,u),f.e=f.d.length),l=za(c,10,u),a=d=l.length;l[--d]==0;)l.pop();if(!l[0])c=A?"0p+0":"0";else{if(o<0?a--:(e=new D(e),e.d=l,e.e=a,e=Ot(e,f,r,i,0,u),l=e.d,a=e.e,p=Sd),o=l[r],h=u/2,p=p||l[r+1]!==void 0,p=i<4?(o!==void 0||p)&&(i===0||i===(e.s<0?3:2)):o>h||o===h&&(i===4||p||i===6&&l[r-1]&1||i===(e.s<0?8:7)),l.length=r,p)for(;++l[--r]>u-1;)l[r]=0,r||(++a,l.unshift(1));for(d=l.length;!l[d-1];--d);for(o=0,c="";o<d;o++)c+=Fl.charAt(l[o]);if(A){if(d>1)if(t==16||t==8){for(o=t==16?4:3,--d;d%o;d++)c+="0";for(l=za(c,u,t),d=l.length;!l[d-1];--d);for(o=1,c="1.";o<d;o++)c+=Fl.charAt(l[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>d)for(a-=d;a--;)c+="0";else a<d&&(c=c.slice(0,a)+"."+c.slice(a))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}function I0(e,t){if(e.length>t)return e.length=t,!0}function zA(e){return new this(e).abs()}function WA(e){return new this(e).acos()}function HA(e){return new this(e).acosh()}function GA(e,t){return new this(e).plus(t)}function KA(e){return new this(e).asin()}function YA(e){return new this(e).asinh()}function ZA(e){return new this(e).atan()}function $A(e){return new this(e).atanh()}function JA(e,t){e=new this(e),t=new this(t);var r,i=this.precision,u=this.rounding,a=i+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=An(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?An(this,i,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=An(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(Ot(e,t,a,1)),t=An(this,a,1),this.precision=i,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Ot(e,t,a,1)),r}function XA(e){return new this(e).cbrt()}function QA(e){return Ie(e=new this(e),e.e+1,2)}function eb(e,t,r){return new this(e).clamp(t,r)}function tb(e){if(!e||typeof e!="object")throw Error(Ds+"Object expected");var t,r,i,u=e.defaults===!0,a=["precision",1,bi,"rounding",0,8,"toExpNeg",-uu,0,"toExpPos",0,uu,"maxE",0,uu,"minE",-uu,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],u&&(this[r]=Cl[r]),(i=e[r])!==void 0)if(xr(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(yi+r+": "+i);if(r="crypto",u&&(this[r]=Cl[r]),(i=e[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Od);else this[r]=!1;else throw Error(yi+r+": "+i);return this}function rb(e){return new this(e).cos()}function nb(e){return new this(e).cosh()}function Rd(e){var t,r,i;function u(a){var o,h,d,p=this;if(!(p instanceof u))return new u(a);if(p.constructor=u,N0(a)){p.s=a.s,We?!a.d||a.e>u.maxE?(p.e=NaN,p.d=null):a.e<u.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(o=0,h=a;h>=10;h/=10)o++;We?o>u.maxE?(p.e=NaN,p.d=null):o<u.minE?(p.e=0,p.d=[0]):(p.e=o,p.d=[a]):(p.e=o,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return Ol(p,a.toString())}else if(d!=="string")throw Error(yi+a);return(h=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(h===43&&(a=a.slice(1)),p.s=1),xd.test(a)?Ol(p,a):VA(p,a)}if(u.prototype=ge,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=tb,u.clone=Rd,u.isDecimal=N0,u.abs=zA,u.acos=WA,u.acosh=HA,u.add=GA,u.asin=KA,u.asinh=YA,u.atan=ZA,u.atanh=$A,u.atan2=JA,u.cbrt=XA,u.ceil=QA,u.clamp=eb,u.cos=rb,u.cosh=nb,u.div=ib,u.exp=ub,u.floor=ab,u.hypot=sb,u.ln=ob,u.log=lb,u.log10=cb,u.log2=fb,u.max=hb,u.min=db,u.mod=pb,u.mul=vb,u.pow=gb,u.random=mb,u.round=Db,u.sign=_b,u.sin=yb,u.sinh=Ab,u.sqrt=bb,u.sub=wb,u.sum=Eb,u.tan=Fb,u.tanh=Cb,u.trunc=Sb,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return u.config(e),u}function ib(e,t){return new this(e).div(t)}function ub(e){return new this(e).exp()}function ab(e){return Ie(e=new this(e),e.e+1,3)}function sb(){var e,t,r=new this(0);for(We=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return We=!0,new this(1/0);r=t}return We=!0,r.sqrt()}function N0(e){return e instanceof fu||e&&e.toStringTag===Md||!1}function ob(e){return new this(e).ln()}function lb(e,t){return new this(e).log(t)}function fb(e){return new this(e).log(2)}function cb(e){return new this(e).log(10)}function hb(){return Id(this,arguments,"lt")}function db(){return Id(this,arguments,"gt")}function pb(e,t){return new this(e).mod(t)}function vb(e,t){return new this(e).mul(t)}function gb(e,t){return new this(e).pow(t)}function mb(e){var t,r,i,u,a=0,o=new this(1),h=[];if(e===void 0?e=this.precision:qr(e,1,bi),i=Math.ceil(e/Le),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)u=t[a],u>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:h[a++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)u=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,a):(h.push(u%1e7),a+=4);a=i/4}else throw Error(Od);else for(;a<i;)h[a++]=Math.random()*1e7|0;for(i=h[--a],e%=Le,i&&e&&(u=dr(10,Le-e),h[a]=(i/u|0)*u);h[a]===0;a--)h.pop();if(a<0)r=0,h=[0];else{for(r=-1;h[0]===0;r-=Le)h.shift();for(i=1,u=h[0];u>=10;u/=10)i++;i<Le&&(r-=Le-i)}return o.e=r,o.d=h,o}function Db(e){return Ie(e=new this(e),e.e+1,this.rounding)}function _b(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function yb(e){return new this(e).sin()}function Ab(e){return new this(e).sinh()}function bb(e){return new this(e).sqrt()}function wb(e,t){return new this(e).sub(t)}function Eb(){var e=0,t=arguments,r=new this(t[e]);for(We=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return We=!0,Ie(r,this.precision,this.rounding)}function Fb(e){return new this(e).tan()}function Cb(e){return new this(e).tanh()}function Sb(e){return Ie(e=new this(e),e.e+1,1)}ge[Symbol.for("nodejs.util.inspect.custom")]=ge.toString;ge[Symbol.toStringTag]="Decimal";var fu=ge.constructor=Rd(Cl);Ja=new fu(Ja);Xa=new fu(Xa);var Bb="BigNumber",Ob=["?on","config"],Mb=Ct(Bb,Ob,e=>{var{on:t,config:r}=e,i=fu.clone({precision:r.precision,modulo:fu.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(u){return new i(u.value)},t&&t("config",function(u,a){u.precision!==a.precision&&i.config({precision:u.precision})}),i},{isClass:!0}),or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ml={},xb={get exports(){return Ml},set exports(e){Ml=e}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var i=Math.cosh||function(l){return Math.abs(l)<1e-9?1-l:(Math.exp(l)+Math.exp(-l))*.5},u=Math.sinh||function(l){return Math.abs(l)<1e-9?l:(Math.exp(l)-Math.exp(-l))*.5},a=function(l){var f=Math.PI/4;if(-f>l||l>f)return Math.cos(l)-1;var D=l*l;return D*(D*(D*(D*(D*(D*(D*(D/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(l,f){var D=Math.abs(l),A=Math.abs(f);return D<3e3&&A<3e3?Math.sqrt(D*D+A*A):(D<A?(D=A,A=l/f):A=f/l,D*Math.sqrt(1+A*A))},h=function(){throw SyntaxError("Invalid Param")};function d(l,f){var D=Math.abs(l),A=Math.abs(f);return l===0?Math.log(A):f===0?Math.log(D):D<3e3&&A<3e3?Math.log(l*l+f*f)*.5:(l=l/2,f=f/2,.5*Math.log(l*l+f*f)+Math.LN2)}var p=function(l,f){var D={re:0,im:0};if(l==null)D.re=D.im=0;else if(f!==void 0)D.re=l,D.im=f;else switch(typeof l){case"object":if("im"in l&&"re"in l)D.re=l.re,D.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return c.INFINITY;D.re=l.abs*Math.cos(l.arg),D.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return c.INFINITY;D.re=l.r*Math.cos(l.phi),D.im=l.r*Math.sin(l.phi)}else l.length===2?(D.re=l[0],D.im=l[1]):h();break;case"string":D.im=D.re=0;var A=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,m=0;A===null&&h();for(var y=0;y<A.length;y++){var F=A[y];F===" "||F==="	"||F===`
`||(F==="+"?g++:F==="-"?m++:F==="i"||F==="I"?(g+m===0&&h(),A[y+1]!==" "&&!isNaN(A[y+1])?(D.im+=parseFloat((m%2?"-":"")+A[y+1]),y++):D.im+=parseFloat((m%2?"-":"")+"1"),g=m=0):((g+m===0||isNaN(F))&&h(),A[y+1]==="i"||A[y+1]==="I"?(D.im+=parseFloat((m%2?"-":"")+F),y++):D.re+=parseFloat((m%2?"-":"")+F),g=m=0))}g+m>0&&h();break;case"number":D.im=0,D.re=l;break;default:h()}return isNaN(D.re)||isNaN(D.im),D};function c(l,f){if(!(this instanceof c))return new c(l,f);var D=p(l,f);this.re=D.re,this.im=D.im}c.prototype={re:0,im:0,sign:function(){var l=this.abs();return new c(this.re/l,this.im/l)},add:function(l,f){var D=new c(l,f);return this.isInfinite()&&D.isInfinite()?c.NAN:this.isInfinite()||D.isInfinite()?c.INFINITY:new c(this.re+D.re,this.im+D.im)},sub:function(l,f){var D=new c(l,f);return this.isInfinite()&&D.isInfinite()?c.NAN:this.isInfinite()||D.isInfinite()?c.INFINITY:new c(this.re-D.re,this.im-D.im)},mul:function(l,f){var D=new c(l,f);return this.isInfinite()&&D.isZero()||this.isZero()&&D.isInfinite()?c.NAN:this.isInfinite()||D.isInfinite()?c.INFINITY:D.im===0&&this.im===0?new c(this.re*D.re,0):new c(this.re*D.re-this.im*D.im,this.re*D.im+this.im*D.re)},div:function(l,f){var D=new c(l,f);if(this.isZero()&&D.isZero()||this.isInfinite()&&D.isInfinite())return c.NAN;if(this.isInfinite()||D.isZero())return c.INFINITY;if(this.isZero()||D.isInfinite())return c.ZERO;l=this.re,f=this.im;var A=D.re,g=D.im,m,y;return g===0?new c(l/A,f/A):Math.abs(A)<Math.abs(g)?(y=A/g,m=A*y+g,new c((l*y+f)/m,(f*y-l)/m)):(y=g/A,m=g*y+A,new c((l+f*y)/m,(f-l*y)/m))},pow:function(l,f){var D=new c(l,f);if(l=this.re,f=this.im,D.isZero())return c.ONE;if(D.im===0){if(f===0&&l>0)return new c(Math.pow(l,D.re),0);if(l===0)switch((D.re%4+4)%4){case 0:return new c(Math.pow(f,D.re),0);case 1:return new c(0,Math.pow(f,D.re));case 2:return new c(-Math.pow(f,D.re),0);case 3:return new c(0,-Math.pow(f,D.re))}}if(l===0&&f===0&&D.re>0&&D.im>=0)return c.ZERO;var A=Math.atan2(f,l),g=d(l,f);return l=Math.exp(D.re*g-D.im*A),f=D.im*g+D.re*A,new c(l*Math.cos(f),l*Math.sin(f))},sqrt:function(){var l=this.re,f=this.im,D=this.abs(),A,g;if(l>=0){if(f===0)return new c(Math.sqrt(l),0);A=.5*Math.sqrt(2*(D+l))}else A=Math.abs(f)/Math.sqrt(2*(D-l));return l<=0?g=.5*Math.sqrt(2*(D-l)):g=Math.abs(f)/Math.sqrt(2*(D+l)),new c(A,f<0?-g:g)},exp:function(){var l=Math.exp(this.re);return this.im,new c(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,f=this.im;return new c(Math.expm1(l)*Math.cos(f)+a(f),Math.exp(l)*Math.sin(f))},log:function(){var l=this.re,f=this.im;return new c(d(l,f),Math.atan2(f,l))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,f=this.im;return new c(Math.sin(l)*i(f),Math.cos(l)*u(f))},cos:function(){var l=this.re,f=this.im;return new c(Math.cos(l)*i(f),-Math.sin(l)*u(f))},tan:function(){var l=2*this.re,f=2*this.im,D=Math.cos(l)+i(f);return new c(Math.sin(l)/D,u(f)/D)},cot:function(){var l=2*this.re,f=2*this.im,D=Math.cos(l)-i(f);return new c(-Math.sin(l)/D,u(f)/D)},sec:function(){var l=this.re,f=this.im,D=.5*i(2*f)+.5*Math.cos(2*l);return new c(Math.cos(l)*i(f)/D,Math.sin(l)*u(f)/D)},csc:function(){var l=this.re,f=this.im,D=.5*i(2*f)-.5*Math.cos(2*l);return new c(Math.sin(l)*i(f)/D,-Math.cos(l)*u(f)/D)},asin:function(){var l=this.re,f=this.im,D=new c(f*f-l*l+1,-2*l*f).sqrt(),A=new c(D.re-f,D.im+l).log();return new c(A.im,-A.re)},acos:function(){var l=this.re,f=this.im,D=new c(f*f-l*l+1,-2*l*f).sqrt(),A=new c(D.re-f,D.im+l).log();return new c(Math.PI/2-A.im,A.re)},atan:function(){var l=this.re,f=this.im;if(l===0){if(f===1)return new c(0,1/0);if(f===-1)return new c(0,-1/0)}var D=l*l+(1-f)*(1-f),A=new c((1-f*f-l*l)/D,-2*l/D).log();return new c(-.5*A.im,.5*A.re)},acot:function(){var l=this.re,f=this.im;if(f===0)return new c(Math.atan2(1,l),0);var D=l*l+f*f;return D!==0?new c(l/D,-f/D).atan():new c(l!==0?l/0:0,f!==0?-f/0:0).atan()},asec:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new c(0,1/0);var D=l*l+f*f;return D!==0?new c(l/D,-f/D).acos():new c(l!==0?l/0:0,f!==0?-f/0:0).acos()},acsc:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new c(Math.PI/2,1/0);var D=l*l+f*f;return D!==0?new c(l/D,-f/D).asin():new c(l!==0?l/0:0,f!==0?-f/0:0).asin()},sinh:function(){var l=this.re,f=this.im;return new c(u(l)*Math.cos(f),i(l)*Math.sin(f))},cosh:function(){var l=this.re,f=this.im;return new c(i(l)*Math.cos(f),u(l)*Math.sin(f))},tanh:function(){var l=2*this.re,f=2*this.im,D=i(l)+Math.cos(f);return new c(u(l)/D,Math.sin(f)/D)},coth:function(){var l=2*this.re,f=2*this.im,D=i(l)-Math.cos(f);return new c(u(l)/D,-Math.sin(f)/D)},csch:function(){var l=this.re,f=this.im,D=Math.cos(2*f)-i(2*l);return new c(-2*u(l)*Math.cos(f)/D,2*i(l)*Math.sin(f)/D)},sech:function(){var l=this.re,f=this.im,D=Math.cos(2*f)+i(2*l);return new c(2*i(l)*Math.cos(f)/D,-2*u(l)*Math.sin(f)/D)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var f=this.asin();return this.re=-this.im,this.im=l,l=f.re,f.re=-f.im,f.im=l,f},acosh:function(){var l=this.acos();if(l.im<=0){var f=l.re;l.re=-l.im,l.im=f}else{var f=l.im;l.im=-l.re,l.re=f}return l},atanh:function(){var l=this.re,f=this.im,D=l>1&&f===0,A=1-l,g=1+l,m=A*A+f*f,y=m!==0?new c((g*A-f*f)/m,(f*A+g*f)/m):new c(l!==-1?l/0:0,f!==0?f/0:0),F=y.re;return y.re=d(y.re,y.im)/2,y.im=Math.atan2(y.im,F)/2,D&&(y.im=-y.im),y},acoth:function(){var l=this.re,f=this.im;if(l===0&&f===0)return new c(0,Math.PI/2);var D=l*l+f*f;return D!==0?new c(l/D,-f/D).atanh():new c(l!==0?l/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var l=this.re,f=this.im;if(f===0)return new c(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var D=l*l+f*f;return D!==0?new c(l/D,-f/D).asinh():new c(l!==0?l/0:0,f!==0?-f/0:0).asinh()},asech:function(){var l=this.re,f=this.im;if(this.isZero())return c.INFINITY;var D=l*l+f*f;return D!==0?new c(l/D,-f/D).acosh():new c(l!==0?l/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var l=this.re,f=this.im,D=l*l+f*f;return new c(l/D,-f/D)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new c(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new c(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new c(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,f){var D=new c(l,f);return Math.abs(D.re-this.re)<=c.EPSILON&&Math.abs(D.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var l=this.re,f=this.im,D="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<c.EPSILON&&(l=0),Math.abs(f)<c.EPSILON&&(f=0),f===0?D+l:(l!==0?(D+=l,D+=" ",f<0?(f=-f,D+="-"):D+="+",D+=" "):f<0&&(f=-f,D+="-"),f!==1&&(D+=f),D+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,e.exports=c})()})(xb);const Fr=$l(Ml);var Pb="Complex",Tb=[],Ib=Ct(Pb,Tb,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(e){var t="",r=this.im,i=this.re,u=wl(this.re,e),a=wl(this.im,e),o=Ht(e)?e:e?e.precision:null;if(o!==null){var h=Math.pow(10,-o);Math.abs(i/r)<h&&(i=0),Math.abs(r/i)<h&&(r=0)}return r===0?t=u:i===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=u+" - i":t=u+" - "+a.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+a+"i",t},Fr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Fr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(Ht(r)){if(vd(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Ht(i))return new Fr({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(e){return new Fr(e)},Fr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Fr),{isClass:!0}),xl={},Nb={get exports(){return xl},set exports(e){xl=e}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var i=2e3,u={s:1,n:0,d:1};function a(A,g){if(isNaN(A=parseInt(A,10)))throw D.InvalidParameter;return A*g}function o(A,g){if(g===0)throw D.DivisionByZero;var m=Object.create(D.prototype);m.s=A<0?-1:1,A=A<0?-A:A;var y=f(A,g);return m.n=A/y,m.d=g/y,m}function h(A){for(var g={},m=A,y=2,F=4;F<=m;){for(;m%y===0;)m/=y,g[y]=(g[y]||0)+1;F+=1+2*y++}return m!==A?m>1&&(g[m]=(g[m]||0)+1):g[A]=(g[A]||0)+1,g}var d=function(A,g){var m=0,y=1,F=1,w=0,B=0,C=0,O=1,x=1,T=0,I=1,j=1,Y=1,X=1e7,G;if(A!=null)if(g!==void 0){if(m=A,y=g,F=m*y,m%1!==0||y%1!==0)throw D.NonIntegerParameter}else switch(typeof A){case"object":{if("d"in A&&"n"in A)m=A.n,y=A.d,"s"in A&&(m*=A.s);else if(0 in A)m=A[0],1 in A&&(y=A[1]);else throw D.InvalidParameter;F=m*y;break}case"number":{if(A<0&&(F=A,A=-A),A%1===0)m=A;else if(A>0){for(A>=1&&(x=Math.pow(10,Math.floor(1+Math.log(A)/Math.LN10)),A/=x);I<=X&&Y<=X;)if(G=(T+j)/(I+Y),A===G){I+Y<=X?(m=T+j,y=I+Y):Y>I?(m=j,y=Y):(m=T,y=I);break}else A>G?(T+=j,I+=Y):(j+=T,Y+=I),I>X?(m=j,y=Y):(m=T,y=I);m*=x}else(isNaN(A)||isNaN(g))&&(y=m=NaN);break}case"string":{if(I=A.match(/\d+|./g),I===null)throw D.InvalidParameter;if(I[T]==="-"?(F=-1,T++):I[T]==="+"&&T++,I.length===T+1?B=a(I[T++],F):I[T+1]==="."||I[T]==="."?(I[T]!=="."&&(w=a(I[T++],F)),T++,(T+1===I.length||I[T+1]==="("&&I[T+3]===")"||I[T+1]==="'"&&I[T+3]==="'")&&(B=a(I[T],F),O=Math.pow(10,I[T].length),T++),(I[T]==="("&&I[T+2]===")"||I[T]==="'"&&I[T+2]==="'")&&(C=a(I[T+1],F),x=Math.pow(10,I[T+1].length)-1,T+=3)):I[T+1]==="/"||I[T+1]===":"?(B=a(I[T],F),O=a(I[T+2],1),T+=3):I[T+3]==="/"&&I[T+1]===" "&&(w=a(I[T],F),B=a(I[T+2],F),O=a(I[T+4],1),T+=5),I.length<=T){y=O*x,F=m=C+y*w+x*B;break}}default:throw D.InvalidParameter}if(y===0)throw D.DivisionByZero;u.s=F<0?-1:1,u.n=Math.abs(m),u.d=Math.abs(y)};function p(A,g,m){for(var y=1;g>0;A=A*A%m,g>>=1)g&1&&(y=y*A%m);return y}function c(A,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var m=10%g,y=1;m!==1;y++)if(m=m*10%g,y>i)return 0;return y}function l(A,g,m){for(var y=1,F=p(10,m,g),w=0;w<300;w++){if(y===F)return w;y=y*10%g,F=F*10%g}return 0}function f(A,g){if(!A)return g;if(!g)return A;for(;;){if(A%=g,!A)return g;if(g%=A,!g)return A}}function D(A,g){if(d(A,g),this instanceof D)A=f(u.d,u.n),this.s=u.s,this.n=u.n/A,this.d=u.d/A;else return o(u.s*u.n,u.d)}D.DivisionByZero=new Error("Division by Zero"),D.InvalidParameter=new Error("Invalid argument"),D.NonIntegerParameter=new Error("Parameters must be integer"),D.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(A,g){return d(A,g),o(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(A,g){return d(A,g),o(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(A,g){return d(A,g),o(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(A,g){return d(A,g),o(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(A,g){if(isNaN(this.n)||isNaN(this.d))return new D(NaN);if(A===void 0)return o(this.s*this.n%this.d,1);if(d(A,g),u.n===0&&this.d===0)throw D.DivisionByZero;return o(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(A,g){return d(A,g),o(f(u.n,this.n)*f(u.d,this.d),u.d*this.d)},lcm:function(A,g){return d(A,g),u.n===0&&this.n===0?o(0,1):o(u.n*this.n,f(u.n,this.n)*f(u.d,this.d))},ceil:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.ceil(A*this.s*this.n/this.d),A)},floor:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.floor(A*this.s*this.n/this.d),A)},round:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new D(NaN):o(Math.round(A*this.s*this.n/this.d),A)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(A,g){if(d(A,g),u.d===1)return u.s<0?o(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):o(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var m=h(this.n),y=h(this.d),F=1,w=1;for(var B in m)if(B!=="1"){if(B==="0"){F=0;break}if(m[B]*=u.n,m[B]%u.d===0)m[B]/=u.d;else return null;F*=Math.pow(B,m[B])}for(var B in y)if(B!=="1"){if(y[B]*=u.n,y[B]%u.d===0)y[B]/=u.d;else return null;w*=Math.pow(B,y[B])}return u.s<0?o(w,F):o(F,w)},equals:function(A,g){return d(A,g),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(A,g){d(A,g);var m=this.s*this.n*u.d-u.s*u.n*this.d;return(0<m)-(m<0)},simplify:function(A){if(isNaN(this.n)||isNaN(this.d))return this;A=A||.001;for(var g=this.abs(),m=g.toContinued(),y=1;y<m.length;y++){for(var F=o(m[y-1],1),w=y-2;w>=0;w--)F=F.inverse().add(m[w]);if(F.sub(g).abs().valueOf()<A)return F.mul(this.s)}return this},divisible:function(A,g){return d(A,g),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(A){var g,m="",y=this.n,F=this.d;return this.s<0&&(m+="-"),F===1?m+=y:(A&&(g=Math.floor(y/F))>0&&(m+=g,m+=" ",y%=F),m+=y,m+="/",m+=F),m},toLatex:function(A){var g,m="",y=this.n,F=this.d;return this.s<0&&(m+="-"),F===1?m+=y:(A&&(g=Math.floor(y/F))>0&&(m+=g,y%=F),m+="\\frac{",m+=y,m+="}{",m+=F,m+="}"),m},toContinued:function(){var A,g=this.n,m=this.d,y=[];if(isNaN(g)||isNaN(m))return y;do y.push(Math.floor(g/m)),A=g%m,g=m,m=A;while(g!==1);return y},toString:function(A){var g=this.n,m=this.d;if(isNaN(g)||isNaN(m))return"NaN";A=A||15;var y=c(g,m),F=l(g,m,y),w=this.s<0?"-":"";if(w+=g/m|0,g%=m,g*=10,g&&(w+="."),y){for(var B=F;B--;)w+=g/m|0,g%=m,g*=10;w+="(";for(var B=y;B--;)w+=g/m|0,g%=m,g*=10;w+=")"}else for(var B=A;g&&B--;)w+=g/m|0,g%=m,g*=10;return w}},Object.defineProperty(D,"__esModule",{value:!0}),D.default=D,D.Fraction=D,e.exports=D})()})(Nb);const Xn=$l(xl);var kb="Fraction",Rb=[],Lb=Ct(kb,Rb,()=>(Object.defineProperty(Xn,"name",{value:"Fraction"}),Xn.prototype.constructor=Xn,Xn.prototype.type="Fraction",Xn.prototype.isFraction=!0,Xn.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Xn.fromJSON=function(e){return new Xn(e)},Xn),{isClass:!0}),Ub="Matrix",jb=[],Vb=Ct(Ub,jb,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Ld(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var i=(r.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var qb="DenseMatrix",zb=["Matrix"],Wb=Ct(qb,zb,e=>{var{Matrix:t}=e;function r(c,l){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!In(l))throw new Error("Invalid datatype: "+l);if(kr(c))c.type==="DenseMatrix"?(this._data=_r(c._data),this._size=_r(c._size),this._datatype=l||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=l||c._datatype);else if(c&&qt(c.data)&&qt(c.size))this._data=c.data,this._size=c.size,x0(this._data,this._size),this._datatype=l||c.datatype;else if(qt(c))this._data=p(c),this._size=_i(this._data),x0(this._data,this._size),this._datatype=l;else{if(c)throw new TypeError("Unsupported type of data ("+Gu(c)+")");this._data=[],this._size=[0],this._datatype=l}}r.prototype=new t,r.prototype.createDenseMatrix=function(c,l){return new r(c,l)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return $a(this._data,Gu)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,l){return new r(c,l)},r.prototype.subset=function(c,l,f){switch(arguments.length){case 1:return i(this,c);case 2:case 3:return a(this,c,l,f);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){if(!qt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Et(c.length,this._size.length);for(var l=0;l<c.length;l++)zt(c[l],this._size[l]);for(var f=this._data,D=0,A=c.length;D<A;D++){var g=c[D];zt(g,f.length),f=f[g]}return f},r.prototype.set=function(c,l,f){if(!qt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Et(c.length,this._size.length,"<");var D,A,g,m=c.map(function(F){return F+1});d(this,m,f);var y=this._data;for(D=0,A=c.length-1;D<A;D++)g=c[D],zt(g,y.length),y=y[g];return g=c[c.length-1],zt(g,y.length),y[g]=l,this};function i(c,l){if(!Kl(l))throw new TypeError("Invalid index");var f=l.isScalar();if(f)return c.get(l.min());var D=l.size();if(D.length!==c._size.length)throw new Et(D.length,c._size.length);for(var A=l.min(),g=l.max(),m=0,y=c._size.length;m<y;m++)zt(A[m],c._size[m]),zt(g[m],c._size[m]);return new r(u(c._data,l,D.length,0),c._datatype)}function u(c,l,f,D){var A=D===f-1,g=l.dimension(D);return A?g.map(function(m){return zt(m,c.length),c[m]}).valueOf():g.map(function(m){zt(m,c.length);var y=c[m];return u(y,l,f,D+1)}).valueOf()}function a(c,l,f,D){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var A=l.size(),g=l.isScalar(),m;if(kr(f)?(m=f.size(),f=f.valueOf()):m=_i(f),g){if(m.length!==0)throw new TypeError("Scalar expected");c.set(l.min(),f,D)}else{if(A.length<c._size.length)throw new Et(A.length,c._size.length,"<");if(m.length<A.length){for(var y=0,F=0;A[y]===1&&m[y]===1;)y++;for(;A[y]===1;)F++,y++;f=bd(f,A.length,F,m)}if(!Ya(A,m))throw new Et(A,m,">");var w=l.max().map(function(O){return O+1});d(c,w,D);var B=A.length,C=0;o(c._data,l,f,B,C)}return c}function o(c,l,f,D,A){var g=A===D-1,m=l.dimension(A);g?m.forEach(function(y,F){zt(y),c[y]=f[F[0]]}):m.forEach(function(y,F){zt(y),o(c[y],l,f[F[0]],D,A+1)})}r.prototype.resize=function(c,l,f){if(!Ka(c))throw new TypeError("Array or Matrix expected");var D=c.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),A=f?this.clone():this;return h(A,D,l)};function h(c,l,f){if(l.length===0){for(var D=c._data;qt(D);)D=D[0];return D}return c._size=l.slice(0),c._data=P0(c._data,c._size,f),c}r.prototype.reshape=function(c,l){var f=l?this.clone():this;f._data=DA(f._data,c);var D=f._size.reduce((A,g)=>A*g);return f._size=Yl(c,D),f};function d(c,l,f){for(var D=c._size.slice(0),A=!1;D.length<l.length;)D.push(0),A=!0;for(var g=0,m=l.length;g<m;g++)l[g]>D[g]&&(D[g]=l[g],A=!0);A&&h(c,D,f)}r.prototype.clone=function(){var c=new r({data:_r(this._data),size:_r(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var l=this,f=Ld(c),D=function m(y,F){return qt(y)?y.map(function(w,B){return m(w,F.concat(B))}):f===1?c(y):f===2?c(y,F):c(y,F,l)},A=D(this._data,[]),g=this._datatype!==void 0?$a(A,Gu):void 0;return new r(A,g)},r.prototype.forEach=function(c){var l=this,f=function D(A,g){qt(A)?A.forEach(function(m,y){D(m,g.concat(y))}):c(A,g,l)};f(this._data,[])},r.prototype[Symbol.iterator]=function*(){var c=function*l(f,D){if(qt(f))for(var A=0;A<f.length;A++)yield*l(f[A],D.concat(A));else yield{value:f,index:D}};yield*c(this._data,[])},r.prototype.rows=function(){var c=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var D of f)c.push(new r([D],this._datatype));return c},r.prototype.columns=function(){var c=this,l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var D=this._data,A=function(y){var F=D.map(w=>[w[y]]);l.push(new r(F,c._datatype))},g=0;g<f[1];g++)A(g);return l},r.prototype.toArray=function(){return _r(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return Vr(this._data,c)},r.prototype.toString=function(){return Vr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(hn(c)&&(c=c.toNumber()),!Ht(c)||!yr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var l=c>0?c:0,f=c<0?-c:0,D=this._size[0],A=this._size[1],g=Math.min(D-f,A-l),m=[],y=0;y<g;y++)m[y]=this._data[y+f][y+l];return new r({data:m,size:[g],datatype:this._datatype})},r.diagonal=function(c,l,f,D){if(!qt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(x){if(hn(x)&&(x=x.toNumber()),!Ht(x)||!yr(x)||x<1)throw new Error("Size values must be positive integers");return x}),f){if(hn(f)&&(f=f.toNumber()),!Ht(f)||!yr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var A=f>0?f:0,g=f<0?-f:0,m=c[0],y=c[1],F=Math.min(m-g,y-A),w;if(qt(l)){if(l.length!==F)throw new Error("Invalid value array length");w=function(T){return l[T]}}else if(kr(l)){var B=l.size();if(B.length!==1||B[0]!==F)throw new Error("Invalid matrix length");w=function(T){return l.get([T])}}else w=function(){return l};D||(D=hn(w(0))?w(0).mul(0):0);var C=[];if(c.length>0){C=P0(C,c,D);for(var O=0;O<F;O++)C[O+g][O+A]=w(O)}return new r({data:C,size:[m,y]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,l){if(!Ht(c)||!yr(c)||!Ht(l)||!yr(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(c,this._size[0]),zt(l,this._size[0]),r._swapRows(c,l,this._data),this},r._swapRows=function(c,l,f){var D=f[c];f[c]=f[l],f[l]=D};function p(c){for(var l=0,f=c.length;l<f;l++){var D=c[l];qt(D)?c[l]=p(D):D&&D.isMatrix===!0&&(c[l]=p(D.valueOf()))}return c}return r},{isClass:!0});function Jl(e,t,r){return e&&typeof e.map=="function"?e.map(function(i){return Jl(i,t)}):t(e)}var k0="isInteger",Hb=["typed"],Gb=Ct(k0,Hb,e=>{var{typed:t}=e;return t(k0,{number:yr,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":t.referToSelf(r=>i=>Jl(i,r))})}),Ud="number, number";function jd(e,t){return e+t}jd.signature=Ud;function Vd(e,t){return e*t}Vd.signature=Ud;function Kb(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var i=e.minus(t).abs();if(i.isZero())return!0;var u=e.constructor.max(e.abs(),t.abs());return i.lte(u.times(r))}return!1}function Yb(e,t,r){return Za(e.re,t.re,r)&&Za(e.im,t.im,r)}var Zb=Ct("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(i,u)=>{if(!i.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[i.valueType(),u.valueType()])(i.value,u.value)})}}),es="equalScalar",$b=["typed","config"],Jb=Ct(es,$b,e=>{var{typed:t,config:r}=e,i=Zb({typed:t});return t(es,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Za(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Kb(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return Yb(a,o,r.epsilon)}},i)});Ct(es,["typed","config"],e=>{var{typed:t,config:r}=e;return t(es,{"number, number":function(u,a){return Za(u,a,r.epsilon)}})});var Xb="SparseMatrix",Qb=["typed","equalScalar","Matrix"],ew=Ct(Xb,Qb,e=>{var{typed:t,equalScalar:r,Matrix:i}=e;function u(g,m){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!In(m))throw new Error("Invalid datatype: "+m);if(kr(g))a(this,g,m);else if(g&&qt(g.index)&&qt(g.ptr)&&qt(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=m||g.datatype;else if(qt(g))o(this,g,m);else{if(g)throw new TypeError("Unsupported type of data ("+Gu(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(g,m,y){m.type==="SparseMatrix"?(g._values=m._values?_r(m._values):void 0,g._index=_r(m._index),g._ptr=_r(m._ptr),g._size=_r(m._size),g._datatype=y||m._datatype):o(g,m.valueOf(),y||m._datatype)}function o(g,m,y){g._values=[],g._index=[],g._ptr=[],g._datatype=y;var F=m.length,w=0,B=r,C=0;if(In(y)&&(B=t.find(r,[y,y])||r,C=t.convert(0,y)),F>0){var O=0;do{g._ptr.push(g._index.length);for(var x=0;x<F;x++){var T=m[x];if(qt(T)){if(O===0&&w<T.length&&(w=T.length),O<T.length){var I=T[O];B(I,C)||(g._values.push(I),g._index.push(x))}}else O===0&&w<1&&(w=1),B(T,C)||(g._values.push(T),g._index.push(x))}O++}while(O<w)}g._ptr.push(g._index.length),g._size=[F,w]}u.prototype=new i,u.prototype.createSparseMatrix=function(g,m){return new u(g,m)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return $a(this._values,Gu)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(g,m){return new u(g,m)},u.prototype.density=function(){var g=this._size[0],m=this._size[1];return g!==0&&m!==0?this._index.length/(g*m):0},u.prototype.subset=function(g,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,g);case 2:case 3:return d(this,g,m,y);default:throw new SyntaxError("Wrong number of arguments")}};function h(g,m){if(!Kl(m))throw new TypeError("Invalid index");var y=m.isScalar();if(y)return g.get(m.min());var F=m.size();if(F.length!==g._size.length)throw new Et(F.length,g._size.length);var w,B,C,O,x=m.min(),T=m.max();for(w=0,B=g._size.length;w<B;w++)zt(x[w],g._size[w]),zt(T[w],g._size[w]);var I=g._values,j=g._index,Y=g._ptr,X=m.dimension(0),G=m.dimension(1),H=[],V=[];X.forEach(function(ve,ye){V[ve]=ye[0],H[ve]=!0});var W=I?[]:void 0,re=[],ce=[];return G.forEach(function(ve){for(ce.push(re.length),C=Y[ve],O=Y[ve+1];C<O;C++)w=j[C],H[w]===!0&&(re.push(V[w]),W&&W.push(I[C]))}),ce.push(re.length),new u({values:W,index:re,ptr:ce,size:F,datatype:g._datatype})}function d(g,m,y,F){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),B=m.isScalar(),C;if(kr(y)?(C=y.size(),y=y.toArray()):C=_i(y),B){if(C.length!==0)throw new TypeError("Scalar expected");g.set(m.min(),y,F)}else{if(w.length!==1&&w.length!==2)throw new Et(w.length,g._size.length,"<");if(C.length<w.length){for(var O=0,x=0;w[O]===1&&C[O]===1;)O++;for(;w[O]===1;)x++,O++;y=bd(y,w.length,x,C)}if(!Ya(w,C))throw new Et(w,C,">");if(w.length===1){var T=m.dimension(0);T.forEach(function(Y,X){zt(Y),g.set([Y,0],y[X[0]],F)})}else{var I=m.dimension(0),j=m.dimension(1);I.forEach(function(Y,X){zt(Y),j.forEach(function(G,H){zt(G),g.set([Y,G],y[X[0]][H[0]],F)})})}}return g}u.prototype.get=function(g){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=g[0],y=g[1];zt(m,this._size[0]),zt(y,this._size[1]);var F=p(m,this._ptr[y],this._ptr[y+1],this._index);return F<this._ptr[y+1]&&this._index[F]===m?this._values[F]:0},u.prototype.set=function(g,m,y){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var F=g[0],w=g[1],B=this._size[0],C=this._size[1],O=r,x=0;In(this._datatype)&&(O=t.find(r,[this._datatype,this._datatype])||r,x=t.convert(0,this._datatype)),(F>B-1||w>C-1)&&(f(this,Math.max(F+1,B),Math.max(w+1,C),y),B=this._size[0],C=this._size[1]),zt(F,B),zt(w,C);var T=p(F,this._ptr[w],this._ptr[w+1],this._index);return T<this._ptr[w+1]&&this._index[T]===F?O(m,x)?c(T,w,this._values,this._index,this._ptr):this._values[T]=m:O(m,x)||l(T,F,w,m,this._values,this._index,this._ptr),this};function p(g,m,y,F){if(y-m===0)return y;for(var w=m;w<y;w++)if(F[w]===g)return w;return m}function c(g,m,y,F,w){y.splice(g,1),F.splice(g,1);for(var B=m+1;B<w.length;B++)w[B]--}function l(g,m,y,F,w,B,C){w.splice(g,0,F),B.splice(g,0,m);for(var O=y+1;O<C.length;O++)C[O]++}u.prototype.resize=function(g,m,y){if(!Ka(g))throw new TypeError("Array or Matrix expected");var F=g.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(F.length!==2)throw new Error("Only two dimensions matrix are supported");F.forEach(function(B){if(!Ht(B)||!yr(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(F)+")")});var w=y?this.clone():this;return f(w,F[0],F[1],m)};function f(g,m,y,F){var w=F||0,B=r,C=0;In(g._datatype)&&(B=t.find(r,[g._datatype,g._datatype])||r,C=t.convert(0,g._datatype),w=t.convert(w,g._datatype));var O=!B(w,C),x=g._size[0],T=g._size[1],I,j,Y;if(y>T){for(j=T;j<y;j++)if(g._ptr[j]=g._values.length,O)for(I=0;I<x;I++)g._values.push(w),g._index.push(I);g._ptr[y]=g._values.length}else y<T&&(g._ptr.splice(y+1,T-y),g._values.splice(g._ptr[y],g._values.length),g._index.splice(g._ptr[y],g._index.length));if(T=y,m>x){if(O){var X=0;for(j=0;j<T;j++){g._ptr[j]=g._ptr[j]+X,Y=g._ptr[j+1]+X;var G=0;for(I=x;I<m;I++,G++)g._values.splice(Y+G,0,w),g._index.splice(Y+G,0,I),X++}g._ptr[T]=g._values.length}}else if(m<x){var H=0;for(j=0;j<T;j++){g._ptr[j]=g._ptr[j]-H;var V=g._ptr[j],W=g._ptr[j+1]-H;for(Y=V;Y<W;Y++)I=g._index[Y],I>m-1&&(g._values.splice(Y,1),g._index.splice(Y,1),H++)}g._ptr[j]=g._values.length}return g._size[0]=m,g._size[1]=y,g}u.prototype.reshape=function(g,m){if(!qt(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(ve){if(!Ht(ve)||!yr(ve)||ve<=-2||ve===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Vr(g)+")")});var y=this._size[0]*this._size[1];g=Yl(g,y);var F=g[0]*g[1];if(y!==F)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return w;for(var B=[],C=0;C<w._ptr.length;C++)for(var O=0;O<w._ptr[C+1]-w._ptr[C];O++)B.push(C);for(var x=w._values.slice(),T=w._index.slice(),I=0;I<w._index.length;I++){var j=T[I],Y=B[I],X=j*w._size[1]+Y;B[I]=X%g[1],T[I]=Math.floor(X/g[1])}w._values.length=0,w._index.length=0,w._ptr.length=g[1]+1,w._size=g.slice();for(var G=0;G<w._ptr.length;G++)w._ptr[G]=0;for(var H=0;H<x.length;H++){var V=T[H],W=B[H],re=x[H],ce=p(V,w._ptr[W],w._ptr[W+1],w._index);l(ce,V,W,re,w._values,w._index,w._ptr)}return w},u.prototype.clone=function(){var g=new u({values:this._values?_r(this._values):void 0,index:_r(this._index),ptr:_r(this._ptr),size:_r(this._size),datatype:this._datatype});return g},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(g,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,F=this._size[0],w=this._size[1],B=Ld(g),C=function(x,T,I){return B===1?g(x):B===2?g(x,[T,I]):g(x,[T,I],y)};return D(this,0,F-1,0,w-1,C,m)};function D(g,m,y,F,w,B,C){var O=[],x=[],T=[],I=r,j=0;In(g._datatype)&&(I=t.find(r,[g._datatype,g._datatype])||r,j=t.convert(0,g._datatype));for(var Y=function(Me,Te,$e){Me=B(Me,Te,$e),I(Me,j)||(O.push(Me),x.push(Te))},X=F;X<=w;X++){T.push(O.length);var G=g._ptr[X],H=g._ptr[X+1];if(C)for(var V=G;V<H;V++){var W=g._index[V];W>=m&&W<=y&&Y(g._values[V],W-m,X-F)}else{for(var re={},ce=G;ce<H;ce++){var ve=g._index[ce];re[ve]=g._values[ce]}for(var ye=m;ye<=y;ye++){var Ee=ye in re?re[ye]:0;Y(Ee,ye-m,X-F)}}}return T.push(O.length),new u({values:O,index:x,ptr:T,size:[y-m+1,w-F+1]})}u.prototype.forEach=function(g,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,F=this._size[0],w=this._size[1],B=0;B<w;B++){var C=this._ptr[B],O=this._ptr[B+1];if(m)for(var x=C;x<O;x++){var T=this._index[x];g(this._values[x],[T,B],y)}else{for(var I={},j=C;j<O;j++){var Y=this._index[j];I[Y]=this._values[j]}for(var X=0;X<F;X++){var G=X in I?I[X]:0;g(G,[X,B],y)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],m=0;m<g;m++)for(var y=this._ptr[m],F=this._ptr[m+1],w=y;w<F;w++){var B=this._index[w];yield{value:this._values[w],index:[B,m]}}},u.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(g,m,y,F,w){var B=F[0],C=F[1],O=[],x,T;for(x=0;x<B;x++)for(O[x]=[],T=0;T<C;T++)O[x][T]=0;for(T=0;T<C;T++)for(var I=y[T],j=y[T+1],Y=I;Y<j;Y++)x=m[Y],O[x][T]=g?w?_r(g[Y]):g[Y]:1;return O}return u.prototype.format=function(g){for(var m=this._size[0],y=this._size[1],F=this.density(),w="Sparse Matrix ["+Vr(m,g)+" x "+Vr(y,g)+"] density: "+Vr(F,g)+`
`,B=0;B<y;B++)for(var C=this._ptr[B],O=this._ptr[B+1],x=C;x<O;x++){var T=this._index[x];w+=`
    (`+Vr(T,g)+", "+Vr(B,g)+") ==> "+(this._values?Vr(this._values[x],g):"X")}return w},u.prototype.toString=function(){return Vr(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(g){if(g){if(hn(g)&&(g=g.toNumber()),!Ht(g)||!yr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var m=g>0?g:0,y=g<0?-g:0,F=this._size[0],w=this._size[1],B=Math.min(F-y,w-m),C=[],O=[],x=[];x[0]=0;for(var T=m;T<w&&C.length<B;T++)for(var I=this._ptr[T],j=this._ptr[T+1],Y=I;Y<j;Y++){var X=this._index[Y];if(X===T-m+y){C.push(this._values[Y]),O[C.length-1]=X-y;break}}return x.push(C.length),new u({values:C,index:O,ptr:x,size:[B,1]})},u.fromJSON=function(g){return new u(g)},u.diagonal=function(g,m,y,F,w){if(!qt(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(ve){if(hn(ve)&&(ve=ve.toNumber()),!Ht(ve)||!yr(ve)||ve<1)throw new Error("Size values must be positive integers");return ve}),y){if(hn(y)&&(y=y.toNumber()),!Ht(y)||!yr(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var B=r,C=0;In(w)&&(B=t.find(r,[w,w])||r,C=t.convert(0,w));var O=y>0?y:0,x=y<0?-y:0,T=g[0],I=g[1],j=Math.min(T-x,I-O),Y;if(qt(m)){if(m.length!==j)throw new Error("Invalid value array length");Y=function(ye){return m[ye]}}else if(kr(m)){var X=m.size();if(X.length!==1||X[0]!==j)throw new Error("Invalid matrix length");Y=function(ye){return m.get([ye])}}else Y=function(){return m};for(var G=[],H=[],V=[],W=0;W<I;W++){V.push(G.length);var re=W-O;if(re>=0&&re<j){var ce=Y(re);B(ce,C)||(H.push(re+x),G.push(ce))}}return V.push(G.length),new u({values:G,index:H,ptr:V,size:[T,I]})},u.prototype.swapRows=function(g,m){if(!Ht(g)||!yr(g)||!Ht(m)||!yr(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(g,this._size[0]),zt(m,this._size[0]),u._swapRows(g,m,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(g,m,y,F,w){for(var B=F[g],C=F[g+1],O=B;O<C;O++)w(y[O],m[O])},u._swapRows=function(g,m,y,F,w,B){for(var C=0;C<y;C++){var O=B[C],x=B[C+1],T=p(g,O,x,w),I=p(m,O,x,w);if(T<x&&I<x&&w[T]===g&&w[I]===m){if(F){var j=F[T];F[T]=F[I],F[I]=j}continue}if(T<x&&w[T]===g&&(I>=x||w[I]!==m)){var Y=F?F[T]:void 0;w.splice(I,0,m),F&&F.splice(I,0,Y),w.splice(I<=T?T+1:T,1),F&&F.splice(I<=T?T+1:T,1);continue}if(I<x&&w[I]===m&&(T>=x||w[T]!==g)){var X=F?F[I]:void 0;w.splice(T,0,g),F&&F.splice(T,0,X),w.splice(T<=I?I+1:I,1),F&&F.splice(T<=I?I+1:I,1)}}},u},{isClass:!0}),R0="matrix",tw=["typed","Matrix","DenseMatrix","SparseMatrix"],rw=Ct(R0,tw,e=>{var{typed:t,Matrix:r,DenseMatrix:i,SparseMatrix:u}=e;return t(R0,{"":function(){return a([])},string:function(h){return a([],h)},"string, string":function(h,d){return a([],h,d)},Array:function(h){return a(h)},Matrix:function(h){return a(h,h.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,h,d){if(h==="dense"||h==="default"||h===void 0)return new i(o,d);if(h==="sparse")return new u(o,d);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),L0="addScalar",nw=["typed"],iw=Ct(L0,nw,e=>{var{typed:t}=e;return t(L0,{"number, number":jd,"Complex, Complex":function(i,u){return i.add(u)},"BigNumber, BigNumber":function(i,u){return i.plus(u)},"Fraction, Fraction":function(i,u){return i.add(u)},"Unit, Unit":t.referToSelf(r=>(i,u)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(u))throw new Error("Units do not match");var a=i.clone();return a.value=t.find(r,[a.valueType(),u.valueType()])(a.value,u.value),a.fixPrefix=!1,a})})}),uw="matAlgo11xS0s",aw=["typed","equalScalar"],sw=Ct(uw,aw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,o,h){var d=u._values,p=u._index,c=u._ptr,l=u._size,f=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=l[0],A=l[1],g,m=r,y=0,F=o;typeof f=="string"&&(g=f,m=t.find(r,[g,g]),y=t.convert(0,g),a=t.convert(a,g),F=t.find(o,[g,g]));for(var w=[],B=[],C=[],O=0;O<A;O++){C[O]=B.length;for(var x=c[O],T=c[O+1],I=x;I<T;I++){var j=p[I],Y=h?F(a,d[I]):F(d[I],a);m(Y,y)||(B.push(j),w.push(Y))}}return C[A]=B.length,u.createSparseMatrix({values:w,index:B,ptr:C,size:[D,A],datatype:g})}}),ow="matAlgo14xDs",lw=["typed"],qd=Ct(ow,lw,e=>{var{typed:t}=e;return function(u,a,o,h){var d=u._data,p=u._size,c=u._datatype,l,f=o;typeof c=="string"&&(l=c,a=t.convert(a,l),f=t.find(o,[l,l]));var D=p.length>0?r(f,0,p,p[0],d,a,h):[];return u.createDenseMatrix({data:D,size:_r(p),datatype:l})};function r(i,u,a,o,h,d,p){var c=[];if(u===a.length-1)for(var l=0;l<o;l++)c[l]=p?i(d,h[l]):i(h[l],d);else for(var f=0;f<o;f++)c[f]=r(i,u+1,a,a[u+1],h[f],d,p);return c}}),fw="matAlgo01xDSid",cw=["typed"],hw=Ct(fw,cw,e=>{var{typed:t}=e;return function(i,u,a,o){var h=i._data,d=i._size,p=i._datatype,c=u._values,l=u._index,f=u._ptr,D=u._size,A=u._datatype;if(d.length!==D.length)throw new Et(d.length,D.length);if(d[0]!==D[0]||d[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+D+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=d[0],m=d[1],y=typeof p=="string"&&p===A?p:void 0,F=y?t.find(a,[y,y]):a,w,B,C=[];for(w=0;w<g;w++)C[w]=[];var O=[],x=[];for(B=0;B<m;B++){for(var T=B+1,I=f[B],j=f[B+1],Y=I;Y<j;Y++)w=l[Y],O[w]=o?F(c[Y],h[w][B]):F(h[w][B],c[Y]),x[w]=T;for(w=0;w<g;w++)x[w]===T?C[w][B]=O[w]:C[w][B]=h[w][B]}return i.createDenseMatrix({data:C,size:[g,m],datatype:y})}}),dw="matAlgo04xSidSid",pw=["typed","equalScalar"],vw=Ct(dw,pw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,o){var h=u._values,d=u._index,p=u._ptr,c=u._size,l=u._datatype,f=a._values,D=a._index,A=a._ptr,g=a._size,m=a._datatype;if(c.length!==g.length)throw new Et(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");var y=c[0],F=c[1],w,B=r,C=0,O=o;typeof l=="string"&&l===m&&(w=l,B=t.find(r,[w,w]),C=t.convert(0,w),O=t.find(o,[w,w]));var x=h&&f?[]:void 0,T=[],I=[],j=h&&f?[]:void 0,Y=h&&f?[]:void 0,X=[],G=[],H,V,W,re,ce;for(V=0;V<F;V++){I[V]=T.length;var ve=V+1;for(re=p[V],ce=p[V+1],W=re;W<ce;W++)H=d[W],T.push(H),X[H]=ve,j&&(j[H]=h[W]);for(re=A[V],ce=A[V+1],W=re;W<ce;W++)if(H=D[W],X[H]===ve){if(j){var ye=O(j[H],f[W]);B(ye,C)?X[H]=null:j[H]=ye}}else T.push(H),G[H]=ve,Y&&(Y[H]=f[W]);if(j&&Y)for(W=I[V];W<T.length;)H=T[W],X[H]===ve?(x[W]=j[H],W++):G[H]===ve?(x[W]=Y[H],W++):T.splice(W,1)}return I[F]=T.length,u.createSparseMatrix({values:x,index:T,ptr:I,size:[y,F],datatype:w})}}),gw="matAlgo10xSids",mw=["typed","DenseMatrix"],Dw=Ct(gw,mw,e=>{var{typed:t,DenseMatrix:r}=e;return function(u,a,o,h){var d=u._values,p=u._index,c=u._ptr,l=u._size,f=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=l[0],A=l[1],g,m=o;typeof f=="string"&&(g=f,a=t.convert(a,g),m=t.find(o,[g,g]));for(var y=[],F=[],w=[],B=0;B<A;B++){for(var C=B+1,O=c[B],x=c[B+1],T=O;T<x;T++){var I=p[T];F[I]=d[T],w[I]=C}for(var j=0;j<D;j++)B===0&&(y[j]=[]),w[j]===C?y[j][B]=h?m(a,F[j]):m(F[j],a):y[j][B]=a}return new r({data:y,size:[D,A],datatype:g})}}),_w="matAlgo13xDD",yw=["typed"],Aw=Ct(_w,yw,e=>{var{typed:t}=e;return function(u,a,o){var h=u._data,d=u._size,p=u._datatype,c=a._data,l=a._size,f=a._datatype,D=[];if(d.length!==l.length)throw new Et(d.length,l.length);for(var A=0;A<d.length;A++){if(d[A]!==l[A])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+l+")");D[A]=d[A]}var g,m=o;typeof p=="string"&&p===f&&(g=p,m=t.find(o,[g,g]));var y=D.length>0?r(m,0,D,D[0],h,c):[];return u.createDenseMatrix({data:y,size:D,datatype:g})};function r(i,u,a,o,h,d){var p=[];if(u===a.length-1)for(var c=0;c<o;c++)p[c]=i(h[c],d[c]);else for(var l=0;l<o;l++)p[l]=r(i,u+1,a,a[u+1],h[l],d[l]);return p}}),bw="broadcast",ww=["concat"],Ew=Ct(bw,ww,e=>{var{concat:t}=e;return function(a,o){var h=Math.max(a._size.length,o._size.length);if(a._size.length===o._size.length&&a._size.every((m,y)=>m===o._size[y]))return[a,o];for(var d=r(a._size,h,0),p=r(o._size,h,0),c=[],l=0;l<h;l++)c[l]=Math.max(d[l],p[l]);for(var f=0;f<h;f++)u(d,c,f),u(p,c,f);var D=a.clone(),A=o.clone();D._size.length<h?D.reshape(r(D._size,h,1)):A._size.length<h&&A.reshape(r(A._size,h,1));for(var g=0;g<h;g++)D._size[g]<c[g]&&(D=i(D,c[g],g)),A._size[g]<c[g]&&(A=i(A,c[g],g));return[D,A]};function r(a,o,h){return[...Array(o-a.length).fill(h),...a]}function i(a,o,h){return t(...Array(o).fill(a),h)}function u(a,o,h){if(a[h]<o[h]&a[h]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(h," with size ").concat(a[h]," to size ").concat(o[h]))}}),Fw="matrixAlgorithmSuite",Cw=["typed","matrix","concat"],Sw=Ct(Fw,Cw,e=>{var{typed:t,matrix:r,concat:i}=e,u=Aw({typed:t}),a=qd({typed:t}),o=Ew({concat:i});return function(d){var p=d.elop,c=d.SD||d.DS,l;p?(l={"DenseMatrix, DenseMatrix":(g,m)=>u(...o(g,m),p),"Array, Array":(g,m)=>u(...o(r(g),r(m)),p).valueOf(),"Array, DenseMatrix":(g,m)=>u(...o(r(g),m),p),"DenseMatrix, Array":(g,m)=>u(...o(g,r(m)),p)},d.SS&&(l["SparseMatrix, SparseMatrix"]=(g,m)=>d.SS(...o(g,m),p,!1)),d.DS&&(l["DenseMatrix, SparseMatrix"]=(g,m)=>d.DS(...o(g,m),p,!1),l["Array, SparseMatrix"]=(g,m)=>d.DS(...o(r(g),m),p,!1)),c&&(l["SparseMatrix, DenseMatrix"]=(g,m)=>c(...o(m,g),p,!0),l["SparseMatrix, Array"]=(g,m)=>c(...o(r(m),g),p,!0))):(l={"DenseMatrix, DenseMatrix":t.referToSelf(g=>(m,y)=>u(...o(m,y),g)),"Array, Array":t.referToSelf(g=>(m,y)=>u(...o(r(m),r(y)),g).valueOf()),"Array, DenseMatrix":t.referToSelf(g=>(m,y)=>u(...o(r(m),y),g)),"DenseMatrix, Array":t.referToSelf(g=>(m,y)=>u(...o(m,r(y)),g))},d.SS&&(l["SparseMatrix, SparseMatrix"]=t.referToSelf(g=>(m,y)=>d.SS(...o(m,y),g,!1))),d.DS&&(l["DenseMatrix, SparseMatrix"]=t.referToSelf(g=>(m,y)=>d.DS(...o(m,y),g,!1)),l["Array, SparseMatrix"]=t.referToSelf(g=>(m,y)=>d.DS(...o(r(m),y),g,!1))),c&&(l["SparseMatrix, DenseMatrix"]=t.referToSelf(g=>(m,y)=>c(...o(y,m),g,!0)),l["SparseMatrix, Array"]=t.referToSelf(g=>(m,y)=>c(...o(r(y),m),g,!0))));var f=d.scalar||"any",D=d.Ds||d.Ss;D&&(p?(l["DenseMatrix,"+f]=(g,m)=>a(g,m,p,!1),l[f+", DenseMatrix"]=(g,m)=>a(m,g,p,!0),l["Array,"+f]=(g,m)=>a(r(g),m,p,!1).valueOf(),l[f+", Array"]=(g,m)=>a(r(m),g,p,!0).valueOf()):(l["DenseMatrix,"+f]=t.referToSelf(g=>(m,y)=>a(m,y,g,!1)),l[f+", DenseMatrix"]=t.referToSelf(g=>(m,y)=>a(y,m,g,!0)),l["Array,"+f]=t.referToSelf(g=>(m,y)=>a(r(m),y,g,!1).valueOf()),l[f+", Array"]=t.referToSelf(g=>(m,y)=>a(r(y),m,g,!0).valueOf())));var A=d.sS!==void 0?d.sS:d.Ss;return p?(d.Ss&&(l["SparseMatrix,"+f]=(g,m)=>d.Ss(g,m,p,!1)),A&&(l[f+", SparseMatrix"]=(g,m)=>A(m,g,p,!0))):(d.Ss&&(l["SparseMatrix,"+f]=t.referToSelf(g=>(m,y)=>d.Ss(m,y,g,!1))),A&&(l[f+", SparseMatrix"]=t.referToSelf(g=>(m,y)=>A(y,m,g,!0)))),p&&p.signatures&&nA(l,p.signatures),l}}),Bw="multiplyScalar",Ow=["typed"],Mw=Ct(Bw,Ow,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Vd,"Complex, Complex":function(i,u){return i.mul(u)},"BigNumber, BigNumber":function(i,u){return i.times(u)},"Fraction, Fraction":function(i,u){return i.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),U0="multiply",xw=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Pw=Ct(U0,xw,e=>{var{typed:t,matrix:r,addScalar:i,multiplyScalar:u,equalScalar:a,dot:o}=e,h=sw({typed:t,equalScalar:a}),d=qd({typed:t});function p(C,O){switch(C.length){case 1:switch(O.length){case 1:if(C[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(C[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+O[0]+")");break;case 2:if(C[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function c(C,O,x){if(x===0)throw new Error("Cannot multiply two empty vectors");return o(C,O)}function l(C,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(C,O)}function f(C,O){var x=C._data,T=C._size,I=C._datatype,j=O._data,Y=O._size,X=O._datatype,G=T[0],H=Y[1],V,W=i,re=u;I&&X&&I===X&&typeof I=="string"&&(V=I,W=t.find(i,[V,V]),re=t.find(u,[V,V]));for(var ce=[],ve=0;ve<H;ve++){for(var ye=re(x[0],j[0][ve]),Ee=1;Ee<G;Ee++)ye=W(ye,re(x[Ee],j[Ee][ve]));ce[ve]=ye}return C.createDenseMatrix({data:ce,size:[H],datatype:V})}var D=t("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":F}),A=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":B});function g(C,O){var x=C._data,T=C._size,I=C._datatype,j=O._data,Y=O._datatype,X=T[0],G=T[1],H,V=i,W=u;I&&Y&&I===Y&&typeof I=="string"&&(H=I,V=t.find(i,[H,H]),W=t.find(u,[H,H]));for(var re=[],ce=0;ce<X;ce++){for(var ve=x[ce],ye=W(ve[0],j[0]),Ee=1;Ee<G;Ee++)ye=V(ye,W(ve[Ee],j[Ee]));re[ce]=ye}return C.createDenseMatrix({data:re,size:[X],datatype:H})}function m(C,O){var x=C._data,T=C._size,I=C._datatype,j=O._data,Y=O._size,X=O._datatype,G=T[0],H=T[1],V=Y[1],W,re=i,ce=u;I&&X&&I===X&&typeof I=="string"&&(W=I,re=t.find(i,[W,W]),ce=t.find(u,[W,W]));for(var ve=[],ye=0;ye<G;ye++){var Ee=x[ye];ve[ye]=[];for(var Oe=0;Oe<V;Oe++){for(var Me=ce(Ee[0],j[0][Oe]),Te=1;Te<H;Te++)Me=re(Me,ce(Ee[Te],j[Te][Oe]));ve[ye][Oe]=Me}}return C.createDenseMatrix({data:ve,size:[G,V],datatype:W})}function y(C,O){var x=C._data,T=C._size,I=C._datatype,j=O._values,Y=O._index,X=O._ptr,G=O._size,H=O._datatype;if(!j)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=T[0],W=G[1],re,ce=i,ve=u,ye=a,Ee=0;I&&H&&I===H&&typeof I=="string"&&(re=I,ce=t.find(i,[re,re]),ve=t.find(u,[re,re]),ye=t.find(a,[re,re]),Ee=t.convert(0,re));for(var Oe=[],Me=[],Te=[],$e=O.createSparseMatrix({values:Oe,index:Me,ptr:Te,size:[V,W],datatype:re}),ze=0;ze<W;ze++){Te[ze]=Me.length;var at=X[ze],ct=X[ze+1];if(ct>at)for(var Qe=0,it=0;it<V;it++){for(var ht=it+1,dt=void 0,rt=at;rt<ct;rt++){var Je=Y[rt];Qe!==ht?(dt=ve(x[it][Je],j[rt]),Qe=ht):dt=ce(dt,ve(x[it][Je],j[rt]))}Qe===ht&&!ye(dt,Ee)&&(Me.push(it),Oe.push(dt))}}return Te[W]=Me.length,$e}function F(C,O){var x=C._values,T=C._index,I=C._ptr,j=C._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var Y=O._data,X=O._datatype,G=C._size[0],H=O._size[0],V=[],W=[],re=[],ce,ve=i,ye=u,Ee=a,Oe=0;j&&X&&j===X&&typeof j=="string"&&(ce=j,ve=t.find(i,[ce,ce]),ye=t.find(u,[ce,ce]),Ee=t.find(a,[ce,ce]),Oe=t.convert(0,ce));var Me=[],Te=[];re[0]=0;for(var $e=0;$e<H;$e++){var ze=Y[$e];if(!Ee(ze,Oe))for(var at=I[$e],ct=I[$e+1],Qe=at;Qe<ct;Qe++){var it=T[Qe];Te[it]?Me[it]=ve(Me[it],ye(ze,x[Qe])):(Te[it]=!0,W.push(it),Me[it]=ye(ze,x[Qe]))}}for(var ht=W.length,dt=0;dt<ht;dt++){var rt=W[dt];V[dt]=Me[rt]}return re[1]=W.length,C.createSparseMatrix({values:V,index:W,ptr:re,size:[G,1],datatype:ce})}function w(C,O){var x=C._values,T=C._index,I=C._ptr,j=C._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var Y=O._data,X=O._datatype,G=C._size[0],H=O._size[0],V=O._size[1],W,re=i,ce=u,ve=a,ye=0;j&&X&&j===X&&typeof j=="string"&&(W=j,re=t.find(i,[W,W]),ce=t.find(u,[W,W]),ve=t.find(a,[W,W]),ye=t.convert(0,W));for(var Ee=[],Oe=[],Me=[],Te=C.createSparseMatrix({values:Ee,index:Oe,ptr:Me,size:[G,V],datatype:W}),$e=[],ze=[],at=0;at<V;at++){Me[at]=Oe.length;for(var ct=at+1,Qe=0;Qe<H;Qe++){var it=Y[Qe][at];if(!ve(it,ye))for(var ht=I[Qe],dt=I[Qe+1],rt=ht;rt<dt;rt++){var Je=T[rt];ze[Je]!==ct?(ze[Je]=ct,Oe.push(Je),$e[Je]=ce(it,x[rt])):$e[Je]=re($e[Je],ce(it,x[rt]))}}for(var At=Me[at],Ar=Oe.length,wt=At;wt<Ar;wt++){var Ae=Oe[wt];Ee[wt]=$e[Ae]}}return Me[V]=Oe.length,Te}function B(C,O){var x=C._values,T=C._index,I=C._ptr,j=C._datatype,Y=O._values,X=O._index,G=O._ptr,H=O._datatype,V=C._size[0],W=O._size[1],re=x&&Y,ce,ve=i,ye=u;j&&H&&j===H&&typeof j=="string"&&(ce=j,ve=t.find(i,[ce,ce]),ye=t.find(u,[ce,ce]));for(var Ee=re?[]:void 0,Oe=[],Me=[],Te=C.createSparseMatrix({values:Ee,index:Oe,ptr:Me,size:[V,W],datatype:ce}),$e=re?[]:void 0,ze=[],at,ct,Qe,it,ht,dt,rt,Je,At=0;At<W;At++){Me[At]=Oe.length;var Ar=At+1;for(ht=G[At],dt=G[At+1],it=ht;it<dt;it++)if(Je=X[it],re)for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],ze[rt]!==Ar?(ze[rt]=Ar,Oe.push(rt),$e[rt]=ye(Y[it],x[at])):$e[rt]=ve($e[rt],ye(Y[it],x[at]));else for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],ze[rt]!==Ar&&(ze[rt]=Ar,Oe.push(rt));if(re)for(var wt=Me[At],Ae=Oe.length,_e=wt;_e<Ae;_e++){var pt=Oe[_e];Ee[_e]=$e[pt]}}return Me[W]=Oe.length,Te}return t(U0,u,{"Array, Array":t.referTo("Matrix, Matrix",C=>(O,x)=>{p(_i(O),_i(x));var T=C(r(O),r(x));return kr(T)?T.valueOf():T}),"Matrix, Matrix":function(O,x){var T=O.size(),I=x.size();return p(T,I),T.length===1?I.length===1?c(O,x,T[0]):l(O,x):I.length===1?D(O,x):A(O,x)},"Matrix, Array":t.referTo("Matrix,Matrix",C=>(O,x)=>C(O,r(x))),"Array, Matrix":t.referToSelf(C=>(O,x)=>C(r(O,x.storage()),x)),"SparseMatrix, any":function(O,x){return h(O,x,u,!1)},"DenseMatrix, any":function(O,x){return d(O,x,u,!1)},"any, SparseMatrix":function(O,x){return h(x,O,u,!0)},"any, DenseMatrix":function(O,x){return d(x,O,u,!0)},"Array, any":function(O,x){return d(r(O),x,u,!1).valueOf()},"any, Array":function(O,x){return d(r(x),O,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(C=>(O,x,T)=>{for(var I=C(O,x),j=0;j<T.length;j++)I=C(I,T[j]);return I})})}),j0="conj",Tw=["typed"],Iw=Ct(j0,Tw,e=>{var{typed:t}=e;return t(j0,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>i=>Jl(i,r))})}),V0="concat",Nw=["typed","matrix","isInteger"],kw=Ct(V0,Nw,e=>{var{typed:t,matrix:r,isInteger:i}=e;return t(V0,{"...Array | Matrix | number | BigNumber":function(a){var o,h=a.length,d=-1,p,c=!1,l=[];for(o=0;o<h;o++){var f=a[o];if(kr(f)&&(c=!0),Ht(f)||hn(f)){if(o!==h-1)throw new Error("Dimension must be specified as last argument");if(p=d,d=f.valueOf(),!i(d))throw new TypeError("Integer number expected for dimension");if(d<0||o>0&&d>p)throw new Ri(d,p+1)}else{var D=_r(f).valueOf(),A=_i(D);if(l[o]=D,p=d,d=A.length-1,o>0&&d!==p)throw new Et(p+1,d+1)}}if(l.length===0)throw new SyntaxError("At least one matrix expected");for(var g=l.shift();l.length;)g=zd(g,l.shift(),d,0);return c?r(g):g},"...string":function(a){return a.join("")}})});function zd(e,t,r,i){if(i<r){if(e.length!==t.length)throw new Et(e.length,t.length);for(var u=[],a=0;a<e.length;a++)u[a]=zd(e[a],t[a],r,i+1);return u}else return e.concat(t)}function Rw(){throw new Error('No "matrix" implementation available')}var q0="size",Lw=["typed","config","?matrix"],Uw=Ct(q0,Lw,e=>{var{typed:t,config:r,matrix:i}=e;return t(q0,{Matrix:function(a){return a.create(a.size())},Array:_i,string:function(a){return r.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:i?i([]):Rw()}})}),z0="add",jw=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Vw=Ct(z0,jw,e=>{var{typed:t,matrix:r,addScalar:i,equalScalar:u,DenseMatrix:a,SparseMatrix:o,concat:h}=e,d=hw({typed:t}),p=vw({typed:t,equalScalar:u}),c=Dw({typed:t,DenseMatrix:a}),l=Sw({typed:t,matrix:r,concat:h});return t(z0,{"any, any":i,"any, any, ...any":t.referToSelf(f=>(D,A,g)=>{for(var m=f(D,A),y=0;y<g.length;y++)m=f(m,g[y]);return m})},l({elop:i,DS:d,SS:p,Ss:c}))}),W0="dot",qw=["typed","addScalar","multiplyScalar","conj","size"],zw=Ct(W0,qw,e=>{var{typed:t,addScalar:r,multiplyScalar:i,conj:u,size:a}=e;return t(W0,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":d});function o(c,l){var f=p(c),D=p(l),A,g;if(f.length===1)A=f[0];else if(f.length===2&&f[1]===1)A=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(D.length===1)g=D[0];else if(D.length===2&&D[1]===1)g=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(A!==g)throw new RangeError("Vectors must have equal length ("+A+" != "+g+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function h(c,l){var f=o(c,l),D=kr(c)?c._data:c,A=kr(c)?c._datatype:void 0,g=kr(l)?l._data:l,m=kr(l)?l._datatype:void 0,y=p(c).length===2,F=p(l).length===2,w=r,B=i;if(A&&m&&A===m&&typeof A=="string"){var C=A;w=t.find(r,[C,C]),B=t.find(i,[C,C])}if(!y&&!F){for(var O=B(u(D[0]),g[0]),x=1;x<f;x++)O=w(O,B(u(D[x]),g[x]));return O}if(!y&&F){for(var T=B(u(D[0]),g[0][0]),I=1;I<f;I++)T=w(T,B(u(D[I]),g[I][0]));return T}if(y&&!F){for(var j=B(u(D[0][0]),g[0]),Y=1;Y<f;Y++)j=w(j,B(u(D[Y][0]),g[Y]));return j}if(y&&F){for(var X=B(u(D[0][0]),g[0][0]),G=1;G<f;G++)X=w(X,B(u(D[G][0]),g[G][0]));return X}}function d(c,l){o(c,l);for(var f=c._index,D=c._values,A=l._index,g=l._values,m=0,y=r,F=i,w=0,B=0;w<f.length&&B<A.length;){var C=f[w],O=A[B];if(C<O){w++;continue}if(C>O){B++;continue}C===O&&(m=y(m,F(D[w],g[B])),w++,B++)}return m}function p(c){return kr(c)?c.size():a(c)}}),Ww=Mb({config:vs}),Hw=Ib({}),Gw=Lb({}),Xl=Vb({}),Ql=Wb({Matrix:Xl}),dn=TA({BigNumber:Ww,Complex:Hw,DenseMatrix:Ql,Fraction:Gw}),ef=iw({typed:dn}),Kw=Iw({typed:dn}),tf=Jb({config:vs,typed:dn}),Yw=Gb({typed:dn}),Wd=Mw({typed:dn}),Hd=ew({Matrix:Xl,equalScalar:tf,typed:dn}),As=rw({DenseMatrix:Ql,Matrix:Xl,SparseMatrix:Hd,typed:dn}),Zw=Uw({matrix:As,config:vs,typed:dn}),$w=kw({isInteger:Yw,matrix:As,typed:dn}),ts=Vw({DenseMatrix:Ql,SparseMatrix:Hd,addScalar:ef,concat:$w,equalScalar:tf,matrix:As,typed:dn}),Jw=zw({addScalar:ef,conj:Kw,multiplyScalar:Wd,size:Zw,typed:dn}),Pl=Pw({addScalar:ef,dot:Jw,equalScalar:tf,matrix:As,multiplyScalar:Wd,typed:dn});const La="activePromptStore";function Dr(e,t,r,i=1){return{id:e,text:t,barWeight:i,parsedWeight:r}}function H0(){return{0:Dr(0,"Magic potion in a mystical bottle",1),1:Dr(1,"A crystalline decanter",1),2:Dr(2,"An ornate tequila bottle",1),3:Dr(3,"An antique sake bottle",1),4:Dr(4,"A colorful perfume bottle",1),5:Dr(5,"A glass vase full of vibrant flowers",1),6:Dr(6,"A minimalist glass tea kettle",1),7:Dr(7,"Chihuly glass art",1),8:Dr(8,"A fine wine bottle",1),9:Dr(9,"A gourmet vinegar bottle",1),10:Dr(10,"A stunning fishbowl",1),11:Dr(11,"A striking piece of tourmaline",1),12:Dr(12,"A finely cut piece of sapphire",1),13:Dr(13,"Iittala glass art",1)}}function cu(e,t="circle"){return{weightedPrompts:e||{},weightMode:t,circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0,embedExponentialScaling:2,embedWeightScaling:!0,embedPromptLimit:Object.keys(e).length}}function Xw(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[La]?JSON.parse(localStorage[La]):cu(H0())),{subscribe:t,updateActivePrompt:a=>{!a||!u||(localStorage[La]=JSON.stringify(a),r(a))},getActivePrompt:()=>Pt(e),deleteActivePrompt:()=>{u&&(delete localStorage[La],r(cu(H0())))}}}const It=Xw(),Cn=En(It,e=>Pt(It));function Qw(e){let t,r,i;return{c(){t=Gt("circle"),this.h()},l(u){t=Kt(u,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),ie(t).forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),k(t,"stroke",e[3]),k(t,"stroke-width",e[2]),Wt(t,"fill","rgba(0,0,0,0)")},m(u,a){Ce(u,t,a)},p(u,[a]){a&1&&r!==(r=u[0][0])&&k(t,"cx",r),a&1&&i!==(i=u[0][1])&&k(t,"cy",i),a&2&&k(t,"r",u[1]),a&8&&k(t,"stroke",u[3]),a&4&&k(t,"stroke-width",u[2])},i:Pe,o:Pe,d(u){u&&q(t)}}}function eE(e,t,r){let{xy:i=[500,500]}=t,{radius:u=400}=t,{stroke:a=2}=t,{color:o="rgba(46,67,101, 0.4)"}=t;return e.$$set=h=>{"xy"in h&&r(0,i=h.xy),"radius"in h&&r(1,u=h.radius),"stroke"in h&&r(2,a=h.stroke),"color"in h&&r(3,o=h.color)},[i,u,a,o]}class tE extends Yt{constructor(t){super(),Zt(this,t,eE,Qw,$t,{xy:0,radius:1,stroke:2,color:3})}}function rE(e){let t,r,i,u,a;return{c(){t=Gt("circle"),this.h()},l(o){t=Kt(o,"circle",{cx:!0,cy:!0,r:!0}),ie(t).forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),Wt(t,"fill",e[2])},m(o,h){Ce(o,t,h),u||(a=[ke(t,"mouseover",e[3]),ke(t,"mouseout",e[4]),ke(t,"mousedown",e[5])],u=!0)},p(o,[h]){h&1&&r!==(r=o[0][0])&&k(t,"cx",r),h&1&&i!==(i=o[0][1])&&k(t,"cy",i),h&2&&k(t,"r",o[1]),h&4&&Wt(t,"fill",o[2])},i:Pe,o:Pe,d(o){o&&q(t),u=!1,Jr(a)}}}function nE(e,t,r){let{xy:i=[100,100]}=t,{radius:u=5}=t,{color:a="black"}=t,{hoverColor:o="white"}=t,{handleMouseDown:h=f=>{}}=t,d=a;function p(){r(2,d=o)}function c(){r(2,d=a)}function l(f){h(f)}return e.$$set=f=>{"xy"in f&&r(0,i=f.xy),"radius"in f&&r(1,u=f.radius),"color"in f&&r(6,a=f.color),"hoverColor"in f&&r(7,o=f.hoverColor),"handleMouseDown"in f&&r(8,h=f.handleMouseDown)},[i,u,d,p,c,l,a,o,h]}class bs extends Yt{constructor(t){super(),Zt(this,t,nE,rE,$t,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function iE(e){let t,r,i,u,a;return{c(){t=Gt("line"),this.h()},l(o){t=Kt(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),ie(t).forEach(q),this.h()},h(){k(t,"x1",r=e[0][0]),k(t,"y1",i=e[0][1]),k(t,"x2",u=e[1][0]),k(t,"y2",a=e[1][1]),k(t,"stroke",e[3]),k(t,"stroke-dasharray","10,10"),k(t,"stroke-width",e[2])},m(o,h){Ce(o,t,h)},p(o,[h]){h&1&&r!==(r=o[0][0])&&k(t,"x1",r),h&1&&i!==(i=o[0][1])&&k(t,"y1",i),h&2&&u!==(u=o[1][0])&&k(t,"x2",u),h&2&&a!==(a=o[1][1])&&k(t,"y2",a),h&8&&k(t,"stroke",o[3]),h&4&&k(t,"stroke-width",o[2])},i:Pe,o:Pe,d(o){o&&q(t)}}}function uE(e,t,r){let{p1:i=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:o="rgba(46,67,101, 0.4)"}=t;return e.$$set=h=>{"p1"in h&&r(0,i=h.p1),"p2"in h&&r(1,u=h.p2),"stroke"in h&&r(2,a=h.stroke),"color"in h&&r(3,o=h.color)},[i,u,a,o]}class Gd extends Yt{constructor(t){super(),Zt(this,t,uE,iE,$t,{p1:0,p2:1,stroke:2,color:3})}}function aE(e){let t,r,i,u,a,o,h,d;return{c(){t=Gt("foreignObject"),r=oe("div"),i=oe("p"),u=Ye(e[2]),this.h()},l(p){t=Kt(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var c=ie(t);r=le(c,"DIV",{class:!0});var l=ie(r);i=le(l,"P",{});var f=ie(i);u=Ze(f,e[2]),f.forEach(q),l.forEach(q),c.forEach(q),this.h()},h(){Wt(i,"color",e[3]),Wt(i,"user-select","none"),Wt(i,"margin","0"),Wt(i,"pointer-events","none"),Wt(i,"text-align",e[4]),Wt(i,"font-size",`${e[5]}px`),Wt(i,"font-family","sans-serif"),Wt(i,"font-style","italic"),k(r,"class","h-full flex flex-col justify-center"),k(t,"x",a=e[0][0]),k(t,"y",o=e[0][1]),k(t,"width",h=e[1][0]),k(t,"height",d=e[1][1])},m(p,c){Ce(p,t,c),Q(t,r),Q(r,i),Q(i,u)},p(p,[c]){c&4&&wn(u,p[2]),c&8&&Wt(i,"color",p[3]),c&16&&Wt(i,"text-align",p[4]),c&32&&Wt(i,"font-size",`${p[5]}px`),c&1&&a!==(a=p[0][0])&&k(t,"x",a),c&1&&o!==(o=p[0][1])&&k(t,"y",o),c&2&&h!==(h=p[1][0])&&k(t,"width",h),c&2&&d!==(d=p[1][1])&&k(t,"height",d)},i:Pe,o:Pe,d(p){p&&q(t)}}}function sE(e,t,r){let{xy:i=[100,100]}=t,{wh:u=[100,100]}=t,{text:a=""}=t,{color:o="rgba(96,117,151, 1)"}=t,{textAlign:h="center"}=t,{fontSize:d=12}=t;return e.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"text"in p&&r(2,a=p.text),"color"in p&&r(3,o=p.color),"textAlign"in p&&r(4,h=p.textAlign),"fontSize"in p&&r(5,d=p.fontSize)},[i,u,a,o,h,d]}class rf extends Yt{constructor(t){super(),Zt(this,t,sE,aE,$t,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function oE(e){let t,r,i,u,a,o,h,d,p,c,l;return{c(){t=Gt("circle"),u=Ge(),a=Gt("foreignObject"),o=oe("p"),h=Ye(e[4]),this.h()},l(f){t=Kt(f,"circle",{cx:!0,cy:!0,r:!0}),ie(t).forEach(q),u=Ke(f),a=Kt(f,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var D=ie(a);o=le(D,"P",{style:!0,class:!0});var A=ie(o);h=Ze(A,e[4]),A.forEach(q),D.forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),Wt(t,"fill",e[3]),Wt(o,"color",e[2]),Wt(o,"user-select","none"),Wt(o,"margin","0"),k(o,"class","heavy svelte-6if1p2"),k(a,"x",d=e[0][0]-e[1]),k(a,"y",p=e[0][1]-e[1]),k(a,"width",c=e[1]*2),k(a,"height",l=e[1]*2)},m(f,D){Ce(f,t,D),Ce(f,u,D),Ce(f,a,D),Q(a,o),Q(o,h)},p(f,[D]){D&1&&r!==(r=f[0][0])&&k(t,"cx",r),D&1&&i!==(i=f[0][1])&&k(t,"cy",i),D&2&&k(t,"r",f[1]),D&8&&Wt(t,"fill",f[3]),D&16&&wn(h,f[4]),D&4&&Wt(o,"color",f[2]),D&3&&d!==(d=f[0][0]-f[1])&&k(a,"x",d),D&3&&p!==(p=f[0][1]-f[1])&&k(a,"y",p),D&2&&c!==(c=f[1]*2)&&k(a,"width",c),D&2&&l!==(l=f[1]*2)&&k(a,"height",l)},i:Pe,o:Pe,d(f){f&&q(t),f&&q(u),f&&q(a)}}}function lE(e,t,r){let{xy:i=[100,100]}=t,{radius:u=25}=t,{textColor:a="rgba(96,117,151, 1)"}=t,{bgColor:o="black"}=t,{weight:h=""}=t;return e.$$set=d=>{"xy"in d&&r(0,i=d.xy),"radius"in d&&r(1,u=d.radius),"textColor"in d&&r(2,a=d.textColor),"bgColor"in d&&r(3,o=d.bgColor),"weight"in d&&r(4,h=d.weight)},[i,u,a,o,h]}class fE extends Yt{constructor(t){super(),Zt(this,t,lE,oE,$t,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function Ua(e,t,r){const i=e[0]-t[0],u=e[1]-t[1],a=360+Math.atan2(u,i)*180/Math.PI,o=Math.sqrt(i*i+u*u);return[a%360,o/r]}function gi(e,t,r){const i=t[0]%360*Math.PI/180,u=[r*t[1]*Math.cos(i),r*t[1]*Math.sin(i)];return ts(e,u)}function G0(e,t,r){const i=e[0]-t[0],u=e[1]-t[1],a=Math.sqrt(i*i+u*u),o=r/a,h=t[0]+i*o,d=t[1]+u*o;return[h,d]}function cE(e,t,r){const i=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(i*i+u*u)<r}function hE(e,t){const r=t%360*Math.PI/180;let i,u;const a=Math.cos(r),o=Math.sin(r);return i=(e[0]+5)*-1.2*a,u=(e[1]+5)*-1.2*o,i-=e[0],u-=e[1],[i,u]}function dE(e){return Math.round(e*100)}function cn(e){return Math.max(1-Math.pow(1-e,2),.25).toFixed(2)}function ti(e,t){const r=t==="circle"?e.circleWeight:t==="bars"?e.barWeight:t==="embed"?e.embedWeight:e.parsedWeight;return dE(r||0)}function pE(e,t,r){const a=r*.6,o=Math.floor(e/a);return Math.ceil(t/o)*r*1.2}function ei(e,t,r){const i=pE(e,t,r)+10;return[e,i]}function Tl(e,t){const r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)}function nf(e){return Pl(e,.5)}function hu(e){const t=e.currentTarget;var r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const i=r.matrixTransform(t.getScreenCTM().inverse());return[i.x,i.y]}function K0(e,t,r){const i=e.slice();return i[18]=t[r][0],i[19]=t[r][1],i}function Y0(e){let t,r,i=Object.entries(e[5].weightedPrompts).length>0,u,a;t=new tE({props:{xy:e[0],radius:e[1]}});let o=Object.entries(e[5].weightedPrompts),h=[];for(let c=0;c<o.length;c+=1)h[c]=Z0(K0(e,o,c));const d=c=>Ve(h[c],1,1,()=>{h[c]=null});let p=i&&$0(e);return{c(){mt(t.$$.fragment);for(let c=0;c<h.length;c+=1)h[c].c();r=lr(),p&&p.c(),u=lr()},l(c){Dt(t.$$.fragment,c);for(let l=0;l<h.length;l+=1)h[l].l(c);r=lr(),p&&p.l(c),u=lr()},m(c,l){_t(t,c,l);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(c,l);Ce(c,r,l),p&&p.m(c,l),Ce(c,u,l),a=!0},p(c,l){const f={};if(l&1&&(f.xy=c[0]),l&2&&(f.radius=c[1]),t.$set(f),l&895){o=Object.entries(c[5].weightedPrompts);let D;for(D=0;D<o.length;D+=1){const A=K0(c,o,D);h[D]?(h[D].p(A,l),Ne(h[D],1)):(h[D]=Z0(A),h[D].c(),Ne(h[D],1),h[D].m(r.parentNode,r))}for(Nn(),D=o.length;D<h.length;D+=1)d(D);kn()}l&32&&(i=Object.entries(c[5].weightedPrompts).length>0),i?p?(p.p(c,l),l&32&&Ne(p,1)):(p=$0(c),p.c(),Ne(p,1),p.m(u.parentNode,u)):p&&(Nn(),Ve(p,1,1,()=>{p=null}),kn())},i(c){if(!a){Ne(t.$$.fragment,c);for(let l=0;l<o.length;l+=1)Ne(h[l]);Ne(p),a=!0}},o(c){Ve(t.$$.fragment,c),h=h.filter(Boolean);for(let l=0;l<h.length;l+=1)Ve(h[l]);Ve(p),a=!1},d(c){yt(t,c),fd(h,c),c&&q(r),p&&p.d(c),c&&q(u)}}}function Z0(e){let t,r,i,u,a;t=new Gd({props:{p1:gi(e[0],e[5].circleMarker,e[1]),p2:e[6][e[18]].xy}});function o(){return e[12](e[18])}return r=new bs({props:{xy:e[6][e[18]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:o}}),i=new rf({props:{xy:e[9](e[6][e[18]].xy,ei(e[3],e[19].text.length,e[4])),color:`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`,wh:ei(e[3],e[19].text.length,e[4]),fontSize:e[4],text:e[19].text}}),u=new fE({props:{xy:Pl(ts(gi(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5),weight:ti(e[5].weightedPrompts[e[18]],e[5].weightMode),radius:15,textColor:`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){mt(t.$$.fragment),mt(r.$$.fragment),mt(i.$$.fragment),mt(u.$$.fragment)},l(h){Dt(t.$$.fragment,h),Dt(r.$$.fragment,h),Dt(i.$$.fragment,h),Dt(u.$$.fragment,h)},m(h,d){_t(t,h,d),_t(r,h,d),_t(i,h,d),_t(u,h,d),a=!0},p(h,d){e=h;const p={};d&35&&(p.p1=gi(e[0],e[5].circleMarker,e[1])),d&96&&(p.p2=e[6][e[18]].xy),t.$set(p);const c={};d&96&&(c.xy=e[6][e[18]].xy),d&4&&(c.radius=e[2]),d&32&&(c.handleMouseDown=o),r.$set(c);const l={};d&120&&(l.xy=e[9](e[6][e[18]].xy,ei(e[3],e[19].text.length,e[4]))),d&96&&(l.color=`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`),d&56&&(l.wh=ei(e[3],e[19].text.length,e[4])),d&16&&(l.fontSize=e[4]),d&32&&(l.text=e[19].text),i.$set(l);const f={};d&99&&(f.xy=Pl(ts(gi(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5)),d&32&&(f.weight=ti(e[5].weightedPrompts[e[18]],e[5].weightMode)),d&96&&(f.textColor=`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`),u.$set(f)},i(h){a||(Ne(t.$$.fragment,h),Ne(r.$$.fragment,h),Ne(i.$$.fragment,h),Ne(u.$$.fragment,h),a=!0)},o(h){Ve(t.$$.fragment,h),Ve(r.$$.fragment,h),Ve(i.$$.fragment,h),Ve(u.$$.fragment,h),a=!1},d(h){yt(t,h),yt(r,h),yt(i,h),yt(u,h)}}}function $0(e){let t,r;return t=new bs({props:{xy:gi(e[0],e[5].circleMarker,e[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:e[13]}}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},p(i,u){const a={};u&35&&(a.xy=gi(i[0],i[5].circleMarker,i[1])),t.$set(a)},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function vE(e){let t,r,i,u,a=e[6]&&e[5].weightedPrompts&&Y0(e);return{c(){t=Gt("svg"),a&&a.c(),this.h()},l(o){t=Kt(o,"svg",{id:!0,class:!0});var h=ie(t);a&&a.l(h),h.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(o,h){Ce(o,t,h),a&&a.m(t,null),r=!0,i||(u=[ke(t,"mousemove",e[10]),ke(t,"mouseup",e[7]),ke(t,"dblclick",e[11])],i=!0)},p(o,[h]){o[6]&&o[5].weightedPrompts?a?(a.p(o,h),h&96&&Ne(a,1)):(a=Y0(o),a.c(),Ne(a,1),a.m(t,null)):a&&(Nn(),Ve(a,1,1,()=>{a=null}),kn())},i(o){r||(Ne(a),r=!0)},o(o){Ve(a),r=!1},d(o){o&&q(t),a&&a.d(),i=!1,Jr(u)}}}function J0(e,t){return e?Object.entries(e).reduce((r,[i,u],a)=>{const o=r[i]||a*(360/Object.keys(e).length)-90;return r[i]=o,r},t):null}function gE(e,t,r){let i,u;Bt(e,Cn,C=>r(5,u=C));let{center:a=[450,450]}=t,{radius:o=250}=t,{pointRadius:h=10}=t,{textWidth:d=150}=t,{fontSize:p=13}=t,c=[0,0],l=null;function f(C){l=null}function D(C){l=C}function A(C,O){let x=Ua(C,a,o)[0]-180;x<0&&(x+=360);const T=hE(nf(O),x);return ts(C,T)}function g(C){const O=cE(C,a,o)?Ua(C,a,o):Ua(G0(C,a,o),a,o);r(6,i=F(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,O,u.circleAngles))}function m(C){if(c=hu(C),l==="main")g(c);else if(l){const O={...u.weightedPrompts[l]},x=G0(c,a,o),T=Ua(x,a,o)[0],I={...u.circleAngles};I[O.id]=T;const j={...u.weightedPrompts};j[l]=O,r(6,i=F(j,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,I))}}function y(C){c=hu(C),g(c)}function F(C,O,x,T,I,j,Y){if(!C||!O||!x||!T||!j)return null;let X=Object.entries(C).reduce((V,[W,re])=>(V[W]={xy:gi(O,[Y[W],1],x)},V),{});X=Object.entries(X).reduce((V,[W,re])=>(V[W]={...V[W],distance:Tl(re.xy,gi(O,j,x))},V),X);const G=Object.values(X).reduce((V,W)=>V+W.distance,0);X=Object.entries(X).reduce((V,[W,re])=>(V[W]={...V[W],unitDistance:Math.round(re.distance/G*100)/100},V),X),X=Object.entries(X).reduce((V,[W,re])=>(V[W]={...V[W],invertedUnitDistance:Math.round((1-re.unitDistance)*100)/100},V),X),X=Object.entries(X).reduce((V,[W,re])=>(I?V[W]={...V[W],unitWeight:Math.round(Math.pow(1-re.distance/(2*x),T)*100)/100}:V[W]={...V[W],unitWeight:Math.round((1-re.distance/(2*x))*100)/100},V),X);const H={...C};return Object.entries(X).forEach(([V,W])=>{H[V].circleWeight=W.unitWeight}),It.updateActivePrompt({...u,circleMarker:j,weightedPrompts:H,circleAngles:Y}),X}const w=C=>D(C),B=()=>D("main");return e.$$set=C=>{"center"in C&&r(0,a=C.center),"radius"in C&&r(1,o=C.radius),"pointRadius"in C&&r(2,h=C.pointRadius),"textWidth"in C&&r(3,d=C.textWidth),"fontSize"in C&&r(4,p=C.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.circleAngles).length!==Object.keys(u.weightedPrompts).length&&It.updateActivePrompt({...u,circleAngles:J0(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,i=F(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,u.circleAngles||J0(u.weightedPrompts,{})))},[a,o,h,d,p,u,i,f,D,A,m,y,w,B]}class mE extends Yt{constructor(t){super(),Zt(this,t,gE,vE,$t,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function X0(e){let t,r,i,u,a,o,h,d;return{c(){t=oe("div"),r=oe("label"),i=oe("span"),u=Ye("Scaling Power"),a=Ge(),o=oe("input"),this.h()},l(p){t=le(p,"DIV",{class:!0});var c=ie(t);r=le(c,"LABEL",{class:!0});var l=ie(r);i=le(l,"SPAN",{class:!0});var f=ie(i);u=Ze(f,"Scaling Power"),f.forEach(q),l.forEach(q),a=Ke(c),o=le(c,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),c.forEach(q),this.h()},h(){k(i,"class","label-text"),k(r,"class","label"),k(o,"type","range"),k(o,"min","0.5"),k(o,"max","3"),k(o,"step","0.1"),k(o,"class","range"),k(t,"class","w-full px-2")},m(p,c){Ce(p,t,c),Q(t,r),Q(r,i),Q(i,u),Q(t,a),Q(t,o),mi(o,e[0]),h||(d=[ke(o,"change",e[6]),ke(o,"input",e[6])],h=!0)},p(p,c){c&1&&mi(o,p[0])},d(p){p&&q(t),h=!1,Jr(d)}}}function DE(e){let t,r,i,u,a,o,h,d,p,c,l,f,D,A,g;r=new mE({props:{center:[Math.round(e[2]/2),Math.round(e[3]/2)],radius:Math.round(Math.min(e[2],e[3])/2)-150}});let m=e[1]&&X0(e);return{c(){t=oe("div"),mt(r.$$.fragment),u=Ge(),a=oe("div"),o=oe("div"),h=oe("label"),d=oe("span"),p=Ye("Exponential Scaling"),c=Ge(),l=oe("input"),f=Ge(),m&&m.c(),this.h()},l(y){t=le(y,"DIV",{class:!0});var F=ie(t);Dt(r.$$.fragment,F),F.forEach(q),u=Ke(y),a=le(y,"DIV",{class:!0});var w=ie(a);o=le(w,"DIV",{class:!0});var B=ie(o);h=le(B,"LABEL",{class:!0});var C=ie(h);d=le(C,"SPAN",{class:!0});var O=ie(d);p=Ze(O,"Exponential Scaling"),O.forEach(q),C.forEach(q),c=Ke(B),l=le(B,"INPUT",{type:!0,class:!0}),B.forEach(q),f=Ke(w),m&&m.l(w),w.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[4].call(t)),k(d,"class","label-text"),k(h,"class","label"),k(l,"type","checkbox"),k(l,"class","toggle"),k(o,"class","w-52 px-2"),k(a,"class","px-2 py-4 pb-0 flex")},m(y,F){Ce(y,t,F),_t(r,t,null),i=Gl(t,e[4].bind(t)),Ce(y,u,F),Ce(y,a,F),Q(a,o),Q(o,h),Q(h,d),Q(d,p),Q(o,c),Q(o,l),l.checked=e[1],Q(a,f),m&&m.m(a,null),D=!0,A||(g=ke(l,"change",e[5]),A=!0)},p(y,[F]){const w={};F&12&&(w.center=[Math.round(y[2]/2),Math.round(y[3]/2)]),F&12&&(w.radius=Math.round(Math.min(y[2],y[3])/2)-150),r.$set(w),F&2&&(l.checked=y[1]),y[1]?m?m.p(y,F):(m=X0(y),m.c(),m.m(a,null)):m&&(m.d(1),m=null)},i(y){D||(Ne(r.$$.fragment,y),D=!0)},o(y){Ve(r.$$.fragment,y),D=!1},d(y){y&&q(t),yt(r),i(),y&&q(u),y&&q(a),m&&m.d(),A=!1,g()}}}function _E(e,t,r){let i;Bt(e,Cn,l=>r(7,i=l));let u,a,o=i.circleWeightScaling||2,h=gd(i.circleExponentialScaling)?!0:i.circleExponentialScaling;function d(){u=this.clientWidth,a=this.clientHeight,r(2,u),r(3,a)}function p(){h=this.checked,r(1,h)}function c(){o=Cy(this.value),r(0,o)}return e.$$.update=()=>{e.$$.dirty&3&&It.updateActivePrompt({...It.getActivePrompt(),circleExponentialScaling:h,circleWeightScaling:o})},[o,h,u,a,d,p,c]}class yE extends Yt{constructor(t){super(),Zt(this,t,_E,DE,$t,{})}}function AE(e){let t,r,i,u,a,o,h;return{c(){t=Gt("rect"),this.h()},l(d){t=Kt(d,"rect",{x:!0,y:!0,width:!0,height:!0}),ie(t).forEach(q),this.h()},h(){k(t,"x",r=e[0][0]),k(t,"y",i=e[0][1]),k(t,"width",u=Math.max(e[1][0],0)),k(t,"height",a=Math.max(e[1][1],0)),Wt(t,"fill",e[2])},m(d,p){Ce(d,t,p),o||(h=[ke(t,"mouseover",function(){jo(e[4])&&e[4].apply(this,arguments)}),ke(t,"mouseout",function(){jo(e[5])&&e[5].apply(this,arguments)}),ke(t,"mousedown",function(){jo(e[3])&&e[3].apply(this,arguments)})],o=!0)},p(d,[p]){e=d,p&1&&r!==(r=e[0][0])&&k(t,"x",r),p&1&&i!==(i=e[0][1])&&k(t,"y",i),p&2&&u!==(u=Math.max(e[1][0],0))&&k(t,"width",u),p&2&&a!==(a=Math.max(e[1][1],0))&&k(t,"height",a),p&4&&Wt(t,"fill",e[2])},i:Pe,o:Pe,d(d){d&&q(t),o=!1,Jr(h)}}}function bE(e,t,r){let{xy:i=[500,500]}=t,{wh:u=[100,100]}=t,{color:a="rgba(46,67,101, 0.4)"}=t,{handleMouseDown:o=p=>{}}=t,{handleMouseOver:h=p=>{}}=t,{handleMouseOut:d=p=>{}}=t;return e.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"color"in p&&r(2,a=p.color),"handleMouseDown"in p&&r(3,o=p.handleMouseDown),"handleMouseOver"in p&&r(4,h=p.handleMouseOver),"handleMouseOut"in p&&r(5,d=p.handleMouseOut)},[i,u,a,o,h,d]}class Ho extends Yt{constructor(t){super(),Zt(this,t,bE,AE,$t,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function Q0(e,t,r){const i=e.slice();return i[51]=t[r][0],i[52]=t[r][1],i[53]=t[r][2],i}function eh(e,t){let r,i,u,a,o,h;i=new rf({props:{xy:[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]],color:`rgba(255,255,255,${cn(t[53].barWeight/t[12]||0)})`,wh:t[5][t[51]],text:t[53].text,textAlign:"right",fontSize:t[1]}});function d(...g){return t[39](t[51],...g)}function p(...g){return t[40](t[51],...g)}u=new Ho({props:{color:t[13](0),handleMouseOver:d,handleMouseOut:p,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[t[11],t[4]-2]}});function c(...g){return t[41](t[51],...g)}function l(...g){return t[42](t[51],...g)}a=new Ho({props:{color:t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](cn((t[53].barWeight||0)/t[12]+.15)):t[13](cn(t[53].barWeight||0)),handleMouseOver:c,handleMouseOut:l,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[(t[53].barWeight||0)*t[11],t[4]-2]}});function f(...g){return t[43](t[51],...g)}function D(...g){return t[44](t[51],...g)}function A(...g){return t[45](t[51],...g)}return o=new Ho({props:{color:t[9]===t[51]?t[15]:t[14],handleMouseOver:f,handleMouseOut:D,handleMouseDown:A,xy:[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]],wh:[t[2],t[4]-2]}}),{key:e,first:null,c(){r=lr(),mt(i.$$.fragment),mt(u.$$.fragment),mt(a.$$.fragment),mt(o.$$.fragment),this.h()},l(g){r=lr(),Dt(i.$$.fragment,g),Dt(u.$$.fragment,g),Dt(a.$$.fragment,g),Dt(o.$$.fragment,g),this.h()},h(){this.first=r},m(g,m){Ce(g,r,m),_t(i,g,m),_t(u,g,m),_t(a,g,m),_t(o,g,m),h=!0},p(g,m){t=g;const y={};m[0]&89&&(y.xy=[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]]),m[0]&4160&&(y.color=`rgba(255,255,255,${cn(t[53].barWeight/t[12]||0)})`),m[0]&96&&(y.wh=t[5][t[51]]),m[0]&64&&(y.text=t[53].text),m[0]&2&&(y.fontSize=t[1]),i.$set(y);const F={};m[0]&64&&(F.handleMouseOver=d),m[0]&64&&(F.handleMouseOut=p),m[0]&1112&&(F.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),m[0]&2064&&(F.wh=[t[11],t[4]-2]),u.$set(F);const w={};m[0]&5056&&(w.color=t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](cn((t[53].barWeight||0)/t[12]+.15)):t[13](cn(t[53].barWeight||0))),m[0]&64&&(w.handleMouseOver=c),m[0]&64&&(w.handleMouseOut=l),m[0]&1112&&(w.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),m[0]&2128&&(w.wh=[(t[53].barWeight||0)*t[11],t[4]-2]),a.$set(w);const B={};m[0]&576&&(B.color=t[9]===t[51]?t[15]:t[14]),m[0]&64&&(B.handleMouseOver=f),m[0]&64&&(B.handleMouseOut=D),m[0]&64&&(B.handleMouseDown=A),m[0]&3160&&(B.xy=[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]]),m[0]&20&&(B.wh=[t[2],t[4]-2]),o.$set(B)},i(g){h||(Ne(i.$$.fragment,g),Ne(u.$$.fragment,g),Ne(a.$$.fragment,g),Ne(o.$$.fragment,g),h=!0)},o(g){Ve(i.$$.fragment,g),Ve(u.$$.fragment,g),Ve(a.$$.fragment,g),Ve(o.$$.fragment,g),h=!1},d(g){g&&q(r),yt(i,g),yt(u,g),yt(a,g),yt(o,g)}}}function wE(e){let t,r=[],i=new Map,u,a,o,h=e[6];const d=p=>p[51];for(let p=0;p<h.length;p+=1){let c=Q0(e,h,p),l=d(c);i.set(l,r[p]=eh(l,c))}return{c(){t=Gt("svg");for(let p=0;p<r.length;p+=1)r[p].c();this.h()},l(p){t=Kt(p,"svg",{id:!0,class:!0});var c=ie(t);for(let l=0;l<r.length;l+=1)r[l].l(c);c.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(p,c){Ce(p,t,c);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null);u=!0,a||(o=[ke(t,"mousemove",e[25]),ke(t,"mouseup",e[24]),ke(t,"dblclick",e[23])],a=!0)},p(p,c){c[0]&8388607&&(h=p[6],Nn(),r=Ai(r,c,d,1,p,h,i,t,cd,eh,null,Q0),kn())},i(p){if(!u){for(let c=0;c<h.length;c+=1)Ne(r[c]);u=!0}},o(p){for(let c=0;c<r.length;c+=1)Ve(r[c]);u=!1},d(p){p&&q(t);for(let c=0;c<r.length;c+=1)r[c].d();a=!1,Jr(o)}}}function EE(e,t,r){let i,u,a,o,h,d,p,c,l,f,D,A,g;Bt(e,Cn,Ae=>r(38,g=Ae));let{center:m=[0,0]}=t,{dimensions:y=[100,100]}=t,{maxWidth:F=1e3}=t,{pointRadius:w=10}=t,{textWidth:B=250}=t,{horizontalPad:C=20}=t,{verticalPad:O=2}=t,{textBarPad:x=10}=t,{fontSize:T=13}=t,{handleWidth:I=20}=t,j=Ae=>`rgba(46,67,101, ${Ae})`,Y=Ae=>`rgba(76,97,131, ${Ae})`,X=null,G=null,H=null,V=Y(.3),W=Y(.8),re=null,ce=null,ve=null;function ye(Ae,_e){r(8,G=Ae)}function Ee(Ae,_e){r(7,X=Ae)}function Oe(Ae,_e){r(9,H=Ae)}function Me(Ae,_e){r(8,G=null)}function Te(Ae,_e){r(7,X=null)}function $e(Ae,_e){r(9,H=null)}function ze(Ae,_e){re=Ae}function at(Ae){let _e=re||G||H||X;if(!_e)return;const pt=hu(Ae);Qe(_e,pt)}function ct(Ae){re=null,clearInterval(ce),ce=null,ve=null}function Qe(Ae,_e){let Nt=Math.min(f,Math.max(0,_e[0]-D))/f,ur={...g.weightedPrompts},R={...ur[Ae]};R.barWeight=Nt,ur[Ae]=R,It.updateActivePrompt({...g,weightedPrompts:ur})}function it(Ae){let _e=re;if(!_e)return;const pt=hu(Ae);if(Qe(_e,pt),re){let Nt=D+f+I,ur=D;pt[0]>Nt&&!ce?(ve=Date.now(),ce=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((K,[ue,ee])=>(ue!==re?K[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)}:K[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)},K),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<ur&&!ce?(ve=Date.now(),ce=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((K,[ue,ee])=>(ue!==re?K[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)}:K[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)},K),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<Nt&&pt[0]>ur&&ce&&(clearInterval(ce),ce=null,ve=null)}}const ht=(Ae,_e)=>Ee(Ae),dt=(Ae,_e)=>Te(),rt=(Ae,_e)=>ye(Ae),Je=(Ae,_e)=>Me(),At=(Ae,_e)=>Oe(Ae),Ar=(Ae,_e)=>$e(),wt=(Ae,_e)=>ze(Ae);return e.$$set=Ae=>{"center"in Ae&&r(26,m=Ae.center),"dimensions"in Ae&&r(27,y=Ae.dimensions),"maxWidth"in Ae&&r(28,F=Ae.maxWidth),"pointRadius"in Ae&&r(29,w=Ae.pointRadius),"textWidth"in Ae&&r(30,B=Ae.textWidth),"horizontalPad"in Ae&&r(0,C=Ae.horizontalPad),"verticalPad"in Ae&&r(31,O=Ae.verticalPad),"textBarPad"in Ae&&r(32,x=Ae.textBarPad),"fontSize"in Ae&&r(1,T=Ae.fontSize),"handleWidth"in Ae&&r(2,I=Ae.handleWidth)},e.$$.update=()=>{e.$$.dirty[1]&128&&r(6,i=Object.entries(g.weightedPrompts).map(([Ae,_e],pt)=>[Ae,pt,_e])),e.$$.dirty[1]&128&&r(36,u=Object.keys(g.weightedPrompts).length),e.$$.dirty[0]&134217728&&r(35,a=[y[0]-50,y[1]-50]),e.$$.dirty[0]&1073741890&&r(5,o=i.reduce((Ae,[_e,pt,Nt])=>{const[ur,R]=ei(B,Nt.text.length,T);return Ae[_e]=[ur,R],Ae},{})),e.$$.dirty[0]&32&&r(37,h=Math.max(...Object.values(o).map(([Ae,_e])=>_e))),e.$$.dirty[1]&112&&r(4,d=Math.min(a[1]/u,h)),e.$$.dirty[0]&16|e.$$.dirty[1]&33&&r(34,p=d*u+O*Math.max(u-1,0)),e.$$.dirty[0]&268435456|e.$$.dirty[1]&16&&r(33,c=Math.min(a[0],F)),e.$$.dirty[0]&67108864|e.$$.dirty[1]&12&&r(3,l=[m[0]-c/2,m[1]-p/2]),e.$$.dirty[0]&1073741829|e.$$.dirty[1]&6&&r(11,f=c-x-B-2*C-I),e.$$.dirty[0]&1073741833|e.$$.dirty[1]&2&&r(10,D=l[0]+x+B+C),e.$$.dirty[1]&128&&r(12,A=Math.max(...Object.values(g.weightedPrompts).map(Ae=>Ae.barWeight||0)))},[C,T,I,l,d,o,i,X,G,H,D,f,A,j,V,W,ye,Ee,Oe,Me,Te,$e,ze,at,ct,it,m,y,F,w,B,O,x,c,p,a,u,h,g,ht,dt,rt,Je,At,Ar,wt]}class FE extends Yt{constructor(t){super(),Zt(this,t,EE,wE,$t,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function CE(e){let t,r,i,u;return r=new FE({props:{dimensions:e[2],center:e[3]}}),{c(){t=oe("div"),mt(r.$$.fragment),this.h()},l(a){t=le(a,"DIV",{class:!0});var o=ie(t);Dt(r.$$.fragment,o),o.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[4].call(t))},m(a,o){Ce(a,t,o),_t(r,t,null),i=Gl(t,e[4].bind(t)),u=!0},p(a,[o]){const h={};o&4&&(h.dimensions=a[2]),o&8&&(h.center=a[3]),r.$set(h)},i(a){u||(Ne(r.$$.fragment,a),u=!0)},o(a){Ve(r.$$.fragment,a),u=!1},d(a){a&&q(t),yt(r),i()}}}function SE(e,t,r){let i,u,a,o;function h(){a=this.clientWidth,o=this.clientHeight,r(0,a),r(1,o)}return e.$$.update=()=>{e.$$.dirty&3&&r(2,i=[a||0,o||0]),e.$$.dirty&4&&r(3,u=nf(i))},[a,o,i,u,h]}class BE extends Yt{constructor(t){super(),Zt(this,t,SE,CE,$t,{})}}function th(e,t,r){const i=e.slice();return i[26]=t[r][0],i[27]=t[r][1],i}function rh(e){let t=[],r=new Map,i,u,a,o=Object.entries(e[4].weightedPrompts);const h=d=>d[26];for(let d=0;d<o.length;d+=1){let p=th(e,o,d),c=h(p);r.set(c,t[d]=ih(c,p))}return u=new bs({props:{xy:e[5],radius:e[1],color:"rgba(136,157,191, 1)",handleMouseDown:e[19]}}),{c(){for(let d=0;d<t.length;d+=1)t[d].c();i=lr(),mt(u.$$.fragment)},l(d){for(let p=0;p<t.length;p+=1)t[p].l(d);i=lr(),Dt(u.$$.fragment,d)},m(d,p){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(d,p);Ce(d,i,p),_t(u,d,p),a=!0},p(d,p){p&189&&(o=Object.entries(d[4].weightedPrompts),Nn(),t=Ai(t,p,h,1,d,o,r,i.parentNode,cd,ih,i,th),kn());const c={};p&32&&(c.xy=d[5]),p&2&&(c.radius=d[1]),p&64&&(c.handleMouseDown=d[19]),u.$set(c)},i(d){if(!a){for(let p=0;p<o.length;p+=1)Ne(t[p]);Ne(u.$$.fragment,d),a=!0}},o(d){for(let p=0;p<t.length;p+=1)Ve(t[p]);Ve(u.$$.fragment,d),a=!1},d(d){for(let p=0;p<t.length;p+=1)t[p].d(d);d&&q(i),yt(u,d)}}}function nh(e){let t,r;return t=new Gd({props:{p1:e[7][e[26]].embedXY,p2:e[5]}}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},p(i,u){const a={};u&144&&(a.p1=i[7][i[26]].embedXY),u&32&&(a.p2=i[5]),t.$set(a)},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function ih(e,t){let r,i,u,a,o,h=t[27].embedActive&&nh(t);return u=new bs({props:{xy:t[7][t[26]].embedXY,radius:t[0],color:"rgba(136,157,191, 1)"}}),a=new rf({props:{xy:[t[7][t[26]].embedXY[0]-ei(t[2],t[27].text.length,t[3])[0]/2,t[7][t[26]].embedXY[1]+t[0]],color:`rgba(255,255,255,${cn(t[27].embedWeight)}`,wh:ei(t[2],t[27].text.length,t[3]),fontSize:t[3],text:t[27].text}}),{key:e,first:null,c(){r=lr(),h&&h.c(),i=lr(),mt(u.$$.fragment),mt(a.$$.fragment),this.h()},l(d){r=lr(),h&&h.l(d),i=lr(),Dt(u.$$.fragment,d),Dt(a.$$.fragment,d),this.h()},h(){this.first=r},m(d,p){Ce(d,r,p),h&&h.m(d,p),Ce(d,i,p),_t(u,d,p),_t(a,d,p),o=!0},p(d,p){t=d,t[27].embedActive?h?(h.p(t,p),p&16&&Ne(h,1)):(h=nh(t),h.c(),Ne(h,1),h.m(i.parentNode,i)):h&&(Nn(),Ve(h,1,1,()=>{h=null}),kn());const c={};p&144&&(c.xy=t[7][t[26]].embedXY),p&1&&(c.radius=t[0]),u.$set(c);const l={};p&157&&(l.xy=[t[7][t[26]].embedXY[0]-ei(t[2],t[27].text.length,t[3])[0]/2,t[7][t[26]].embedXY[1]+t[0]]),p&16&&(l.color=`rgba(255,255,255,${cn(t[27].embedWeight)}`),p&28&&(l.wh=ei(t[2],t[27].text.length,t[3])),p&8&&(l.fontSize=t[3]),p&16&&(l.text=t[27].text),a.$set(l)},i(d){o||(Ne(h),Ne(u.$$.fragment,d),Ne(a.$$.fragment,d),o=!0)},o(d){Ve(h),Ve(u.$$.fragment,d),Ve(a.$$.fragment,d),o=!1},d(d){d&&q(r),h&&h.d(d),d&&q(i),yt(u,d),yt(a,d)}}}function OE(e){let t,r=Object.entries(e[4].weightedPrompts).length>0&&Object.entries(e[7]||{}).length>0,i,u,a,o=r&&rh(e);return{c(){t=Gt("svg"),o&&o.c(),this.h()},l(h){t=Kt(h,"svg",{id:!0,class:!0});var d=ie(t);o&&o.l(d),d.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(h,d){Ce(h,t,d),o&&o.m(t,null),i=!0,u||(a=[ke(t,"mousemove",e[9]),ke(t,"mouseup",e[10]),ke(t,"dblclick",e[8])],u=!0)},p(h,[d]){d&144&&(r=Object.entries(h[4].weightedPrompts).length>0&&Object.entries(h[7]||{}).length>0),r?o?(o.p(h,d),d&144&&Ne(o,1)):(o=rh(h),o.c(),Ne(o,1),o.m(t,null)):o&&(Nn(),Ve(o,1,1,()=>{o=null}),kn())},i(h){i||(Ne(o),i=!0)},o(h){Ve(o),i=!1},d(h){h&&q(t),o&&o.d(),u=!1,Jr(a)}}}function ME(e,t,r){let i,u,a,o;Bt(e,Cn,G=>r(4,o=G));let{center:h=[100,100]}=t,{dimensions:d=[100,100]}=t,{pointRadius:p=4}=t,{markerRadius:c=10}=t,{textWidth:l=150}=t,{fontSize:f=13}=t,{innerPad:D=100}=t,A=o.embedMarker||h,g=!1,m=null,y=d,F=[0,0];function w(G){o.embeddings&&o.scaledEmbedMappings&&(Y(),x(A,i,u,y,G))}function B(G,H){G&&H&&(Y(),x(A,i,u,y,a))}function C(G,H){x(A,G,H,y,a)}function O(G){o.embeddings&&o.scaledEmbedMappings&&(Y(),x(A,i,u,G,a))}function x(G,H,V,W,re){if(!m)return;let ce={...o.weightedPrompts},ve=Tl(W,[0,0]);const ye=Object.entries(m).reduce((Ee,[Oe,Me])=>{const Te=Tl(G,Me.embedXY);return Ee[Oe]=Te,Ee},{});Object.entries(ye).sort((Ee,Oe)=>Ee[1]-Oe[1]).forEach(([Ee,Oe],Me)=>{if(!ce[Ee])return;const Te=Me<re;H?ce[Ee]={...ce[Ee],embedWeight:Te?Math.round(Math.pow(1-Oe/ve,V)*100)/100:0,embedActive:Te}:ce[Ee]={...ce[Ee],embedWeight:Te?Math.round((1-Oe/ve)*100)/100:0,embedActive:Te}}),It.updateActivePrompt({...o,embedMarker:A,weightedPrompts:ce})}function T(G){const H=hu(G,svg);r(5,A=H),x(A,i,u,y,a)}function I(G){if(g){const H=hu(G,svg);r(5,A=H),x(A,i,u,y,a)}}function j(G){r(6,g=!1)}function Y(){const G=Object.keys(o.scaledEmbedMappings);r(7,m=G.reduce((H,V,W)=>(H[V]={embedXY:[F[0]+y[0]*o.scaledEmbedMappings[W][0],F[1]+y[1]*o.scaledEmbedMappings[W][1]]},H),{}))}const X=()=>r(6,g=!0);return e.$$set=G=>{"center"in G&&r(11,h=G.center),"dimensions"in G&&r(12,d=G.dimensions),"pointRadius"in G&&r(0,p=G.pointRadius),"markerRadius"in G&&r(1,c=G.markerRadius),"textWidth"in G&&r(2,l=G.textWidth),"fontSize"in G&&r(3,f=G.fontSize),"innerPad"in G&&r(13,D=G.innerPad)},e.$$.update=()=>{if(e.$$.dirty&16&&r(18,i=o.embedExponentialScaling),e.$$.dirty&16&&r(17,u=o.embedWeightScaling),e.$$.dirty&16&&r(16,a=o.embedPromptLimit||Object.keys(o.weightedPrompts).length),e.$$.dirty&393216&&C(i,u),e.$$.dirty&16&&B(o.embeddings,o.scaledEmbedMappings),e.$$.dirty&45056){const G=Math.min(...d),H=d[0]===G,V=d[1]===G;r(15,F=[Math.max(H?0:(d[0]-G)/2,D),Math.max(V?0:(d[1]-G)/2,D)]),r(14,y=[d[0]-2*F[0],d[1]-2*F[1]])}e.$$.dirty&16384&&O(y),e.$$.dirty&16384&&O(y),e.$$.dirty&65536&&w(a)},[p,c,l,f,o,A,g,m,T,I,j,h,d,D,y,F,a,u,i,X]}class xE extends Yt{constructor(t){super(),Zt(this,t,ME,OE,$t,{center:11,dimensions:12,pointRadius:0,markerRadius:1,textWidth:2,fontSize:3,innerPad:13})}}var Il={},Kd={},rs={},PE={get exports(){return rs},set exports(e){rs=e}},ns={},TE={get exports(){return ns},set exports(e){ns=e}},Yd=function(t,r){return function(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];return t.apply(r,u)}},IE=Yd,wi=Object.prototype.toString;function uf(e){return Array.isArray(e)}function Nl(e){return typeof e>"u"}function NE(e){return e!==null&&!Nl(e)&&e.constructor!==null&&!Nl(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Zd(e){return wi.call(e)==="[object ArrayBuffer]"}function kE(e){return wi.call(e)==="[object FormData]"}function RE(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zd(e.buffer),t}function LE(e){return typeof e=="string"}function UE(e){return typeof e=="number"}function $d(e){return e!==null&&typeof e=="object"}function Wa(e){if(wi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function jE(e){return wi.call(e)==="[object Date]"}function VE(e){return wi.call(e)==="[object File]"}function qE(e){return wi.call(e)==="[object Blob]"}function Jd(e){return wi.call(e)==="[object Function]"}function zE(e){return $d(e)&&Jd(e.pipe)}function WE(e){return wi.call(e)==="[object URLSearchParams]"}function HE(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function GE(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function af(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),uf(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.call(null,e[u],u,e)}function kl(){var e={};function t(u,a){Wa(e[a])&&Wa(u)?e[a]=kl(e[a],u):Wa(u)?e[a]=kl({},u):uf(u)?e[a]=u.slice():e[a]=u}for(var r=0,i=arguments.length;r<i;r++)af(arguments[r],t);return e}function KE(e,t,r){return af(t,function(u,a){r&&typeof u=="function"?e[a]=IE(u,r):e[a]=u}),e}function YE(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var zr={isArray:uf,isArrayBuffer:Zd,isBuffer:NE,isFormData:kE,isArrayBufferView:RE,isString:LE,isNumber:UE,isObject:$d,isPlainObject:Wa,isUndefined:Nl,isDate:jE,isFile:VE,isBlob:qE,isFunction:Jd,isStream:zE,isURLSearchParams:WE,isStandardBrowserEnv:GE,forEach:af,merge:kl,extend:KE,trim:HE,stripBOM:YE},ru=zr;function uh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xd=function(t,r,i){if(!r)return t;var u;if(i)u=i(r);else if(ru.isURLSearchParams(r))u=r.toString();else{var a=[];ru.forEach(r,function(d,p){d===null||typeof d>"u"||(ru.isArray(d)?p=p+"[]":d=[d],ru.forEach(d,function(l){ru.isDate(l)?l=l.toISOString():ru.isObject(l)&&(l=JSON.stringify(l)),a.push(uh(p)+"="+uh(l))}))}),u=a.join("&")}if(u){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t},ZE=zr;function ws(){this.handlers=[]}ws.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};ws.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};ws.prototype.forEach=function(t){ZE.forEach(this.handlers,function(i){i!==null&&t(i)})};var $E=ws,JE=zr,XE=function(t,r){JE.forEach(t,function(u,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(t[r]=u,delete t[a])})},Qd=function(t,r,i,u,a){return t.config=r,i&&(t.code=i),t.request=u,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Go,ah;function tp(){if(ah)return Go;ah=1;var e=Qd;return Go=function(r,i,u,a,o){var h=new Error(r);return e(h,i,u,a,o)},Go}var Ko,sh;function QE(){if(sh)return Ko;sh=1;var e=tp();return Ko=function(r,i,u){var a=u.config.validateStatus;!u.status||!a||a(u.status)?r(u):i(e("Request failed with status code "+u.status,u.config,null,u.request,u))},Ko}var Yo,oh;function e2(){if(oh)return Yo;oh=1;var e=zr;return Yo=e.isStandardBrowserEnv()?function(){return{write:function(i,u,a,o,h,d){var p=[];p.push(i+"="+encodeURIComponent(u)),e.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),e.isString(o)&&p.push("path="+o),e.isString(h)&&p.push("domain="+h),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var u=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Yo}var Zo,lh;function t2(){return lh||(lh=1,Zo=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Zo}var $o,fh;function r2(){return fh||(fh=1,$o=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),$o}var Jo,ch;function n2(){if(ch)return Jo;ch=1;var e=t2(),t=r2();return Jo=function(i,u){return i&&!e(u)?t(i,u):u},Jo}var Xo,hh;function i2(){if(hh)return Xo;hh=1;var e=zr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Xo=function(i){var u={},a,o,h;return i&&e.forEach(i.split(`
`),function(p){if(h=p.indexOf(":"),a=e.trim(p.substr(0,h)).toLowerCase(),o=e.trim(p.substr(h+1)),a){if(u[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?u[a]=(u[a]?u[a]:[]).concat([o]):u[a]=u[a]?u[a]+", "+o:o}}),u},Xo}var Qo,dh;function u2(){if(dh)return Qo;dh=1;var e=zr;return Qo=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),u;function a(o){var h=o;return r&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return u=a(window.location.href),function(h){var d=e.isString(h)?a(h):h;return d.protocol===u.protocol&&d.host===u.host}}():function(){return function(){return!0}}(),Qo}var el,ph;function Es(){if(ph)return el;ph=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,el=e,el}var tl,vh;function gh(){if(vh)return tl;vh=1;var e=zr,t=QE(),r=e2(),i=Xd,u=n2(),a=i2(),o=u2(),h=tp(),d=ep,p=Es();return tl=function(l){return new Promise(function(D,A){var g=l.data,m=l.headers,y=l.responseType,F;function w(){l.cancelToken&&l.cancelToken.unsubscribe(F),l.signal&&l.signal.removeEventListener("abort",F)}e.isFormData(g)&&delete m["Content-Type"];var B=new XMLHttpRequest;if(l.auth){var C=l.auth.username||"",O=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";m.Authorization="Basic "+btoa(C+":"+O)}var x=u(l.baseURL,l.url);B.open(l.method.toUpperCase(),i(x,l.params,l.paramsSerializer),!0),B.timeout=l.timeout;function T(){if(B){var j="getAllResponseHeaders"in B?a(B.getAllResponseHeaders()):null,Y=!y||y==="text"||y==="json"?B.responseText:B.response,X={data:Y,status:B.status,statusText:B.statusText,headers:j,config:l,request:B};t(function(H){D(H),w()},function(H){A(H),w()},X),B=null}}if("onloadend"in B?B.onloadend=T:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(T)},B.onabort=function(){B&&(A(h("Request aborted",l,"ECONNABORTED",B)),B=null)},B.onerror=function(){A(h("Network Error",l,null,B)),B=null},B.ontimeout=function(){var Y=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",X=l.transitional||d;l.timeoutErrorMessage&&(Y=l.timeoutErrorMessage),A(h(Y,l,X.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",B)),B=null},e.isStandardBrowserEnv()){var I=(l.withCredentials||o(x))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;I&&(m[l.xsrfHeaderName]=I)}"setRequestHeader"in B&&e.forEach(m,function(Y,X){typeof g>"u"&&X.toLowerCase()==="content-type"?delete m[X]:B.setRequestHeader(X,Y)}),e.isUndefined(l.withCredentials)||(B.withCredentials=!!l.withCredentials),y&&y!=="json"&&(B.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&B.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&B.upload&&B.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(F=function(j){B&&(A(!j||j&&j.type?new p("canceled"):j),B.abort(),B=null)},l.cancelToken&&l.cancelToken.subscribe(F),l.signal&&(l.signal.aborted?F():l.signal.addEventListener("abort",F))),g||(g=null),B.send(g)})},tl}var Sr=zr,mh=XE,a2=Qd,s2=ep,o2={"Content-Type":"application/x-www-form-urlencoded"};function Dh(e,t){!Sr.isUndefined(e)&&Sr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l2(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=gh()),e}function f2(e,t,r){if(Sr.isString(e))try{return(t||JSON.parse)(e),Sr.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var Fs={transitional:s2,adapter:l2(),transformRequest:[function(t,r){return mh(r,"Accept"),mh(r,"Content-Type"),Sr.isFormData(t)||Sr.isArrayBuffer(t)||Sr.isBuffer(t)||Sr.isStream(t)||Sr.isFile(t)||Sr.isBlob(t)?t:Sr.isArrayBufferView(t)?t.buffer:Sr.isURLSearchParams(t)?(Dh(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Sr.isObject(t)||r&&r["Content-Type"]==="application/json"?(Dh(r,"application/json"),f2(t)):t}],transformResponse:[function(t){var r=this.transitional||Fs.transitional,i=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,a=!i&&this.responseType==="json";if(a||u&&Sr.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?a2(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(t){Fs.headers[t]={}});Sr.forEach(["post","put","patch"],function(t){Fs.headers[t]=Sr.merge(o2)});var sf=Fs,c2=zr,h2=sf,d2=function(t,r,i){var u=this||h2;return c2.forEach(i,function(o){t=o.call(u,t,r)}),t},rl,_h;function rp(){return _h||(_h=1,rl=function(t){return!!(t&&t.__CANCEL__)}),rl}var yh=zr,nl=d2,p2=rp(),v2=sf,g2=Es();function il(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new g2("canceled")}var m2=function(t){il(t),t.headers=t.headers||{},t.data=nl.call(t,t.data,t.headers,t.transformRequest),t.headers=yh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),yh.forEach(["delete","get","head","post","put","patch","common"],function(u){delete t.headers[u]});var r=t.adapter||v2.adapter;return r(t).then(function(u){return il(t),u.data=nl.call(t,u.data,u.headers,t.transformResponse),u},function(u){return p2(u)||(il(t),u&&u.response&&(u.response.data=nl.call(t,u.response.data,u.response.headers,t.transformResponse))),Promise.reject(u)})},$r=zr,np=function(t,r){r=r||{};var i={};function u(c,l){return $r.isPlainObject(c)&&$r.isPlainObject(l)?$r.merge(c,l):$r.isPlainObject(l)?$r.merge({},l):$r.isArray(l)?l.slice():l}function a(c){if($r.isUndefined(r[c])){if(!$r.isUndefined(t[c]))return u(void 0,t[c])}else return u(t[c],r[c])}function o(c){if(!$r.isUndefined(r[c]))return u(void 0,r[c])}function h(c){if($r.isUndefined(r[c])){if(!$r.isUndefined(t[c]))return u(void 0,t[c])}else return u(void 0,r[c])}function d(c){if(c in r)return u(t[c],r[c]);if(c in t)return u(void 0,t[c])}var p={url:o,method:o,data:o,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d};return $r.forEach(Object.keys(t).concat(Object.keys(r)),function(l){var f=p[l]||a,D=f(l);$r.isUndefined(D)&&f!==d||(i[l]=D)}),i},ul,Ah;function ip(){return Ah||(Ah=1,ul={version:"0.26.1"}),ul}var D2=ip().version,of={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){of[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var bh={};of.transitional=function(t,r,i){function u(a,o){return"[Axios v"+D2+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return function(a,o,h){if(t===!1)throw new Error(u(o," has been removed"+(r?" in "+r:"")));return r&&!bh[o]&&(bh[o]=!0,console.warn(u(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,h):!0}};function _2(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var i=Object.keys(e),u=i.length;u-- >0;){var a=i[u],o=t[a];if(o){var h=e[a],d=h===void 0||o(h,a,e);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}var y2={assertOptions:_2,validators:of},up=zr,A2=Xd,wh=$E,Eh=m2,Cs=np,ap=y2,nu=ap.validators;function $u(e){this.defaults=e,this.interceptors={request:new wh,response:new wh}}$u.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Cs(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&ap.assertOptions(i,{silentJSONParsing:nu.transitional(nu.boolean),forcedJSONParsing:nu.transitional(nu.boolean),clarifyTimeoutError:nu.transitional(nu.boolean)},!1);var u=[],a=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(a=a&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});var o=[];this.interceptors.response.forEach(function(D){o.push(D.fulfilled,D.rejected)});var h;if(!a){var d=[Eh,void 0];for(Array.prototype.unshift.apply(d,u),d=d.concat(o),h=Promise.resolve(r);d.length;)h=h.then(d.shift(),d.shift());return h}for(var p=r;u.length;){var c=u.shift(),l=u.shift();try{p=c(p)}catch(f){l(f);break}}try{h=Eh(p)}catch(f){return Promise.reject(f)}for(;o.length;)h=h.then(o.shift(),o.shift());return h};$u.prototype.getUri=function(t){return t=Cs(this.defaults,t),A2(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};up.forEach(["delete","get","head","options"],function(t){$u.prototype[t]=function(r,i){return this.request(Cs(i||{},{method:t,url:r,data:(i||{}).data}))}});up.forEach(["post","put","patch"],function(t){$u.prototype[t]=function(r,i,u){return this.request(Cs(u||{},{method:t,url:r,data:i}))}});var b2=$u,al,Fh;function w2(){if(Fh)return al;Fh=1;var e=Es();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var u=this;this.promise.then(function(a){if(u._listeners){var o,h=u._listeners.length;for(o=0;o<h;o++)u._listeners[o](a);u._listeners=null}}),this.promise.then=function(a){var o,h=new Promise(function(d){u.subscribe(d),o=d}).then(a);return h.cancel=function(){u.unsubscribe(o)},h},r(function(o){u.reason||(u.reason=new e(o),i(u.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(this._listeners){var u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}},t.source=function(){var i,u=new t(function(o){i=o});return{token:u,cancel:i}},al=t,al}var sl,Ch;function E2(){return Ch||(Ch=1,sl=function(t){return function(i){return t.apply(null,i)}}),sl}var ol,Sh;function F2(){if(Sh)return ol;Sh=1;var e=zr;return ol=function(r){return e.isObject(r)&&r.isAxiosError===!0},ol}var Bh=zr,C2=Yd,Ha=b2,S2=np,B2=sf;function sp(e){var t=new Ha(e),r=C2(Ha.prototype.request,t);return Bh.extend(r,Ha.prototype,t),Bh.extend(r,t),r.create=function(u){return sp(S2(e,u))},r}var Un=sp(B2);Un.Axios=Ha;Un.Cancel=Es();Un.CancelToken=w2();Un.isCancel=rp();Un.VERSION=ip().version;Un.all=function(t){return Promise.all(t)};Un.spread=E2();Un.isAxiosError=F2();TE.exports=Un;ns.default=Un;(function(e){e.exports=ns})(PE);var er={},lf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=rs;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class r{constructor(a,o=e.BASE_PATH,h=t.default){this.basePath=o,this.axios=h,a&&(this.configuration=a,this.basePath=a.basePath||this.basePath)}}e.BaseAPI=r;class i extends Error{constructor(a,o){super(o),this.field=a,this.name="RequiredError"}}e.RequiredError=i})(lf);var ff=or&&or.__awaiter||function(e,t,r,i){function u(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function h(c){try{p(i.next(c))}catch(l){o(l)}}function d(c){try{p(i.throw(c))}catch(l){o(l)}}function p(c){c.done?a(c.value):u(c.value).then(h,d)}p((i=i.apply(e,t||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0});er.createRequestFunction=er.toPathString=er.serializeDataIfNeeded=er.setSearchParams=er.setOAuthToObject=er.setBearerAuthToObject=er.setBasicAuthToObject=er.setApiKeyToObject=er.assertParamExists=er.DUMMY_BASE_URL=void 0;const O2=lf;er.DUMMY_BASE_URL="https://example.com";er.assertParamExists=function(e,t,r){if(r==null)throw new O2.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};er.setApiKeyToObject=function(e,t,r){return ff(this,void 0,void 0,function*(){if(r&&r.apiKey){const i=typeof r.apiKey=="function"?yield r.apiKey(t):yield r.apiKey;e[t]=i}})};er.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};er.setBearerAuthToObject=function(e,t){return ff(this,void 0,void 0,function*(){if(t&&t.accessToken){const r=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+r}})};er.setOAuthToObject=function(e,t,r,i){return ff(this,void 0,void 0,function*(){if(i&&i.accessToken){const u=typeof i.accessToken=="function"?yield i.accessToken(t,r):yield i.accessToken;e.Authorization="Bearer "+u}})};function Rl(e,t,r=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(i=>Rl(e,i,r)):Object.keys(t).forEach(i=>Rl(e,t[i],`${r}${r!==""?".":""}${i}`)):e.has(r)?e.append(r,t):e.set(r,t))}er.setSearchParams=function(e,...t){const r=new URLSearchParams(e.search);Rl(r,t),e.search=r.toString()};er.serializeDataIfNeeded=function(e,t,r){const i=typeof e!="string";return(i&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):i)?JSON.stringify(e!==void 0?e:{}):e||""};er.toPathString=function(e){return e.pathname+e.search+e.hash};er.createRequestFunction=function(e,t,r,i){return(u=t,a=r)=>{const o=Object.assign(Object.assign({},e.options),{url:((i==null?void 0:i.basePath)||a)+e.url});return u.request(o)}};(function(e){var t=or&&or.__awaiter||function(o,h,d,p){function c(l){return l instanceof d?l:new d(function(f){f(l)})}return new(d||(d=Promise))(function(l,f){function D(m){try{g(p.next(m))}catch(y){f(y)}}function A(m){try{g(p.throw(m))}catch(y){f(y)}}function g(m){m.done?l(m.value):c(m.value).then(D,A)}g((p=p.apply(o,h||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const r=rs,i=er,u=lf;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(o){return{cancelFineTune:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("cancelFineTune","fineTuneId",h);const p="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),createAnswer:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createAnswer","createAnswerRequest",h);const p="/answers",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createChatCompletion:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createChatCompletion","createChatCompletionRequest",h);const p="/chat/completions",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createClassification:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createClassification","createClassificationRequest",h);const p="/classifications",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createCompletion:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createCompletion","createCompletionRequest",h);const p="/completions",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createEdit:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createEdit","createEditRequest",h);const p="/edits",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createEmbedding:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createEmbedding","createEmbeddingRequest",h);const p="/embeddings",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createFile:(h,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createFile","file",h),i.assertParamExists("createFile","purpose",d);const c="/files",l=new URL(c,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},f),p),A={},g={},m=new(o&&o.formDataCtor||FormData);h!==void 0&&m.append("file",h),d!==void 0&&m.append("purpose",d),A["Content-Type"]="multipart/form-data",i.setSearchParams(l,g);let y=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),m.getHeaders()),y),p.headers),D.data=m,{url:i.toPathString(l),options:D}}),createFineTune:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createFineTune","createFineTuneRequest",h);const p="/fine-tunes",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createImage:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImage","createImageRequest",h);const p="/images/generations",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createImageEdit:(h,d,p,c,l,f,D,A={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImageEdit","image",h),i.assertParamExists("createImageEdit","prompt",d);const g="/images/edits",m=new URL(g,i.DUMMY_BASE_URL);let y;o&&(y=o.baseOptions);const F=Object.assign(Object.assign({method:"POST"},y),A),w={},B={},C=new(o&&o.formDataCtor||FormData);h!==void 0&&C.append("image",h),p!==void 0&&C.append("mask",p),d!==void 0&&C.append("prompt",d),c!==void 0&&C.append("n",c),l!==void 0&&C.append("size",l),f!==void 0&&C.append("response_format",f),D!==void 0&&C.append("user",D),w["Content-Type"]="multipart/form-data",i.setSearchParams(m,B);let O=y&&y.headers?y.headers:{};return F.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),C.getHeaders()),O),A.headers),F.data=C,{url:i.toPathString(m),options:F}}),createImageVariation:(h,d,p,c,l,f={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImageVariation","image",h);const D="/images/variations",A=new URL(D,i.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},g),f),y={},F={},w=new(o&&o.formDataCtor||FormData);h!==void 0&&w.append("image",h),d!==void 0&&w.append("n",d),p!==void 0&&w.append("size",p),c!==void 0&&w.append("response_format",c),l!==void 0&&w.append("user",l),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,F);let B=g&&g.headers?g.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),B),f.headers),m.data=w,{url:i.toPathString(A),options:m}}),createModeration:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createModeration","createModerationRequest",h);const p="/moderations",c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"POST"},l),d),D={},A={};D["Content-Type"]="application/json",i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),f.data=i.serializeDataIfNeeded(h,f,o),{url:i.toPathString(c),options:f}}),createSearch:(h,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createSearch","engineId",h),i.assertParamExists("createSearch","createSearchRequest",d);const c="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(h))),l=new URL(c,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},f),p),A={},g={};A["Content-Type"]="application/json",i.setSearchParams(l,g);let m=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign({},A),m),p.headers),D.data=i.serializeDataIfNeeded(d,D,o),{url:i.toPathString(l),options:D}}),createTranscription:(h,d,p,c,l,f,D={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createTranscription","file",h),i.assertParamExists("createTranscription","model",d);const A="/audio/transcriptions",g=new URL(A,i.DUMMY_BASE_URL);let m;o&&(m=o.baseOptions);const y=Object.assign(Object.assign({method:"POST"},m),D),F={},w={},B=new(o&&o.formDataCtor||FormData);h!==void 0&&B.append("file",h),d!==void 0&&B.append("model",d),p!==void 0&&B.append("prompt",p),c!==void 0&&B.append("response_format",c),l!==void 0&&B.append("temperature",l),f!==void 0&&B.append("language",f),F["Content-Type"]="multipart/form-data",i.setSearchParams(g,w);let C=m&&m.headers?m.headers:{};return y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},F),B.getHeaders()),C),D.headers),y.data=B,{url:i.toPathString(g),options:y}}),createTranslation:(h,d,p,c,l,f={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createTranslation","file",h),i.assertParamExists("createTranslation","model",d);const D="/audio/translations",A=new URL(D,i.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},g),f),y={},F={},w=new(o&&o.formDataCtor||FormData);h!==void 0&&w.append("file",h),d!==void 0&&w.append("model",d),p!==void 0&&w.append("prompt",p),c!==void 0&&w.append("response_format",c),l!==void 0&&w.append("temperature",l),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,F);let B=g&&g.headers?g.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),B),f.headers),m.data=w,{url:i.toPathString(A),options:m}}),deleteFile:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("deleteFile","fileId",h);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"DELETE"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),deleteModel:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("deleteModel","model",h);const p="/models/{model}".replace("{model}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"DELETE"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),downloadFile:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("downloadFile","fileId",h);const p="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),listEngines:(h={})=>t(this,void 0,void 0,function*(){const d="/engines",p=new URL(d,i.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},c),h),f={},D={};i.setSearchParams(p,D);let A=c&&c.headers?c.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),h.headers),{url:i.toPathString(p),options:l}}),listFiles:(h={})=>t(this,void 0,void 0,function*(){const d="/files",p=new URL(d,i.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},c),h),f={},D={};i.setSearchParams(p,D);let A=c&&c.headers?c.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),h.headers),{url:i.toPathString(p),options:l}}),listFineTuneEvents:(h,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("listFineTuneEvents","fineTuneId",h);const c="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(h))),l=new URL(c,i.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const D=Object.assign(Object.assign({method:"GET"},f),p),A={},g={};d!==void 0&&(g.stream=d),i.setSearchParams(l,g);let m=f&&f.headers?f.headers:{};return D.headers=Object.assign(Object.assign(Object.assign({},A),m),p.headers),{url:i.toPathString(l),options:D}}),listFineTunes:(h={})=>t(this,void 0,void 0,function*(){const d="/fine-tunes",p=new URL(d,i.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},c),h),f={},D={};i.setSearchParams(p,D);let A=c&&c.headers?c.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),h.headers),{url:i.toPathString(p),options:l}}),listModels:(h={})=>t(this,void 0,void 0,function*(){const d="/models",p=new URL(d,i.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const l=Object.assign(Object.assign({method:"GET"},c),h),f={},D={};i.setSearchParams(p,D);let A=c&&c.headers?c.headers:{};return l.headers=Object.assign(Object.assign(Object.assign({},f),A),h.headers),{url:i.toPathString(p),options:l}}),retrieveEngine:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveEngine","engineId",h);const p="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),retrieveFile:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveFile","fileId",h);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),retrieveFineTune:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveFineTune","fineTuneId",h);const p="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}}),retrieveModel:(h,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveModel","model",h);const p="/models/{model}".replace("{model}",encodeURIComponent(String(h))),c=new URL(p,i.DUMMY_BASE_URL);let l;o&&(l=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},l),d),D={},A={};i.setSearchParams(c,A);let g=l&&l.headers?l.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},D),g),d.headers),{url:i.toPathString(c),options:f}})}},e.OpenAIApiFp=function(o){const h=e.OpenAIApiAxiosParamCreator(o);return{cancelFineTune(d,p){return t(this,void 0,void 0,function*(){const c=yield h.cancelFineTune(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createAnswer(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createAnswer(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createChatCompletion(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createChatCompletion(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createClassification(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createClassification(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createCompletion(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createCompletion(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createEdit(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createEdit(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createEmbedding(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createEmbedding(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createFile(d,p,c){return t(this,void 0,void 0,function*(){const l=yield h.createFile(d,p,c);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},createFineTune(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createFineTune(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createImage(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createImage(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createImageEdit(d,p,c,l,f,D,A,g){return t(this,void 0,void 0,function*(){const m=yield h.createImageEdit(d,p,c,l,f,D,A,g);return i.createRequestFunction(m,r.default,u.BASE_PATH,o)})},createImageVariation(d,p,c,l,f,D){return t(this,void 0,void 0,function*(){const A=yield h.createImageVariation(d,p,c,l,f,D);return i.createRequestFunction(A,r.default,u.BASE_PATH,o)})},createModeration(d,p){return t(this,void 0,void 0,function*(){const c=yield h.createModeration(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},createSearch(d,p,c){return t(this,void 0,void 0,function*(){const l=yield h.createSearch(d,p,c);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},createTranscription(d,p,c,l,f,D,A){return t(this,void 0,void 0,function*(){const g=yield h.createTranscription(d,p,c,l,f,D,A);return i.createRequestFunction(g,r.default,u.BASE_PATH,o)})},createTranslation(d,p,c,l,f,D){return t(this,void 0,void 0,function*(){const A=yield h.createTranslation(d,p,c,l,f,D);return i.createRequestFunction(A,r.default,u.BASE_PATH,o)})},deleteFile(d,p){return t(this,void 0,void 0,function*(){const c=yield h.deleteFile(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},deleteModel(d,p){return t(this,void 0,void 0,function*(){const c=yield h.deleteModel(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},downloadFile(d,p){return t(this,void 0,void 0,function*(){const c=yield h.downloadFile(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},listEngines(d){return t(this,void 0,void 0,function*(){const p=yield h.listEngines(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFiles(d){return t(this,void 0,void 0,function*(){const p=yield h.listFiles(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFineTuneEvents(d,p,c){return t(this,void 0,void 0,function*(){const l=yield h.listFineTuneEvents(d,p,c);return i.createRequestFunction(l,r.default,u.BASE_PATH,o)})},listFineTunes(d){return t(this,void 0,void 0,function*(){const p=yield h.listFineTunes(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listModels(d){return t(this,void 0,void 0,function*(){const p=yield h.listModels(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,o)})},retrieveEngine(d,p){return t(this,void 0,void 0,function*(){const c=yield h.retrieveEngine(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},retrieveFile(d,p){return t(this,void 0,void 0,function*(){const c=yield h.retrieveFile(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},retrieveFineTune(d,p){return t(this,void 0,void 0,function*(){const c=yield h.retrieveFineTune(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})},retrieveModel(d,p){return t(this,void 0,void 0,function*(){const c=yield h.retrieveModel(d,p);return i.createRequestFunction(c,r.default,u.BASE_PATH,o)})}}},e.OpenAIApiFactory=function(o,h,d){const p=e.OpenAIApiFp(o);return{cancelFineTune(c,l){return p.cancelFineTune(c,l).then(f=>f(d,h))},createAnswer(c,l){return p.createAnswer(c,l).then(f=>f(d,h))},createChatCompletion(c,l){return p.createChatCompletion(c,l).then(f=>f(d,h))},createClassification(c,l){return p.createClassification(c,l).then(f=>f(d,h))},createCompletion(c,l){return p.createCompletion(c,l).then(f=>f(d,h))},createEdit(c,l){return p.createEdit(c,l).then(f=>f(d,h))},createEmbedding(c,l){return p.createEmbedding(c,l).then(f=>f(d,h))},createFile(c,l,f){return p.createFile(c,l,f).then(D=>D(d,h))},createFineTune(c,l){return p.createFineTune(c,l).then(f=>f(d,h))},createImage(c,l){return p.createImage(c,l).then(f=>f(d,h))},createImageEdit(c,l,f,D,A,g,m,y){return p.createImageEdit(c,l,f,D,A,g,m,y).then(F=>F(d,h))},createImageVariation(c,l,f,D,A,g){return p.createImageVariation(c,l,f,D,A,g).then(m=>m(d,h))},createModeration(c,l){return p.createModeration(c,l).then(f=>f(d,h))},createSearch(c,l,f){return p.createSearch(c,l,f).then(D=>D(d,h))},createTranscription(c,l,f,D,A,g,m){return p.createTranscription(c,l,f,D,A,g,m).then(y=>y(d,h))},createTranslation(c,l,f,D,A,g){return p.createTranslation(c,l,f,D,A,g).then(m=>m(d,h))},deleteFile(c,l){return p.deleteFile(c,l).then(f=>f(d,h))},deleteModel(c,l){return p.deleteModel(c,l).then(f=>f(d,h))},downloadFile(c,l){return p.downloadFile(c,l).then(f=>f(d,h))},listEngines(c){return p.listEngines(c).then(l=>l(d,h))},listFiles(c){return p.listFiles(c).then(l=>l(d,h))},listFineTuneEvents(c,l,f){return p.listFineTuneEvents(c,l,f).then(D=>D(d,h))},listFineTunes(c){return p.listFineTunes(c).then(l=>l(d,h))},listModels(c){return p.listModels(c).then(l=>l(d,h))},retrieveEngine(c,l){return p.retrieveEngine(c,l).then(f=>f(d,h))},retrieveFile(c,l){return p.retrieveFile(c,l).then(f=>f(d,h))},retrieveFineTune(c,l){return p.retrieveFineTune(c,l).then(f=>f(d,h))},retrieveModel(c,l){return p.retrieveModel(c,l).then(f=>f(d,h))}}};class a extends u.BaseAPI{cancelFineTune(h,d){return e.OpenAIApiFp(this.configuration).cancelFineTune(h,d).then(p=>p(this.axios,this.basePath))}createAnswer(h,d){return e.OpenAIApiFp(this.configuration).createAnswer(h,d).then(p=>p(this.axios,this.basePath))}createChatCompletion(h,d){return e.OpenAIApiFp(this.configuration).createChatCompletion(h,d).then(p=>p(this.axios,this.basePath))}createClassification(h,d){return e.OpenAIApiFp(this.configuration).createClassification(h,d).then(p=>p(this.axios,this.basePath))}createCompletion(h,d){return e.OpenAIApiFp(this.configuration).createCompletion(h,d).then(p=>p(this.axios,this.basePath))}createEdit(h,d){return e.OpenAIApiFp(this.configuration).createEdit(h,d).then(p=>p(this.axios,this.basePath))}createEmbedding(h,d){return e.OpenAIApiFp(this.configuration).createEmbedding(h,d).then(p=>p(this.axios,this.basePath))}createFile(h,d,p){return e.OpenAIApiFp(this.configuration).createFile(h,d,p).then(c=>c(this.axios,this.basePath))}createFineTune(h,d){return e.OpenAIApiFp(this.configuration).createFineTune(h,d).then(p=>p(this.axios,this.basePath))}createImage(h,d){return e.OpenAIApiFp(this.configuration).createImage(h,d).then(p=>p(this.axios,this.basePath))}createImageEdit(h,d,p,c,l,f,D,A){return e.OpenAIApiFp(this.configuration).createImageEdit(h,d,p,c,l,f,D,A).then(g=>g(this.axios,this.basePath))}createImageVariation(h,d,p,c,l,f){return e.OpenAIApiFp(this.configuration).createImageVariation(h,d,p,c,l,f).then(D=>D(this.axios,this.basePath))}createModeration(h,d){return e.OpenAIApiFp(this.configuration).createModeration(h,d).then(p=>p(this.axios,this.basePath))}createSearch(h,d,p){return e.OpenAIApiFp(this.configuration).createSearch(h,d,p).then(c=>c(this.axios,this.basePath))}createTranscription(h,d,p,c,l,f,D){return e.OpenAIApiFp(this.configuration).createTranscription(h,d,p,c,l,f,D).then(A=>A(this.axios,this.basePath))}createTranslation(h,d,p,c,l,f){return e.OpenAIApiFp(this.configuration).createTranslation(h,d,p,c,l,f).then(D=>D(this.axios,this.basePath))}deleteFile(h,d){return e.OpenAIApiFp(this.configuration).deleteFile(h,d).then(p=>p(this.axios,this.basePath))}deleteModel(h,d){return e.OpenAIApiFp(this.configuration).deleteModel(h,d).then(p=>p(this.axios,this.basePath))}downloadFile(h,d){return e.OpenAIApiFp(this.configuration).downloadFile(h,d).then(p=>p(this.axios,this.basePath))}listEngines(h){return e.OpenAIApiFp(this.configuration).listEngines(h).then(d=>d(this.axios,this.basePath))}listFiles(h){return e.OpenAIApiFp(this.configuration).listFiles(h).then(d=>d(this.axios,this.basePath))}listFineTuneEvents(h,d,p){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(h,d,p).then(c=>c(this.axios,this.basePath))}listFineTunes(h){return e.OpenAIApiFp(this.configuration).listFineTunes(h).then(d=>d(this.axios,this.basePath))}listModels(h){return e.OpenAIApiFp(this.configuration).listModels(h).then(d=>d(this.axios,this.basePath))}retrieveEngine(h,d){return e.OpenAIApiFp(this.configuration).retrieveEngine(h,d).then(p=>p(this.axios,this.basePath))}retrieveFile(h,d){return e.OpenAIApiFp(this.configuration).retrieveFile(h,d).then(p=>p(this.axios,this.basePath))}retrieveFineTune(h,d){return e.OpenAIApiFp(this.configuration).retrieveFineTune(h,d).then(p=>p(this.axios,this.basePath))}retrieveModel(h,d){return e.OpenAIApiFp(this.configuration).retrieveModel(h,d).then(p=>p(this.axios,this.basePath))}}e.OpenAIApi=a})(Kd);var Ss={};const M2="openai",x2="3.2.1",P2="Node.js library for the OpenAI API",T2={type:"git",url:"git@github.com:openai/openai-node.git"},I2=["openai","open","ai","gpt-3","gpt3"],N2="OpenAI",k2="MIT",R2="./dist/index.js",L2="./dist/index.d.ts",U2={build:"tsc --outDir dist/"},j2={axios:"^0.26.0","form-data":"^4.0.0"},V2={"@types/node":"^12.11.5",typescript:"^3.6.4"},q2={name:M2,version:x2,description:P2,repository:T2,keywords:I2,author:N2,license:k2,main:R2,types:L2,scripts:U2,dependencies:j2,devDependencies:V2};var ll,Oh;function z2(){return Oh||(Oh=1,ll=typeof self=="object"?self.FormData:window.FormData),ll}Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Configuration=void 0;const W2=q2;class H2{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${W2.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=z2())}isJsonMime(t){const r=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(r.test(t)||t.toLowerCase()==="application/json-patch+json")}}Ss.Configuration=H2;(function(e){var t=or&&or.__createBinding||(Object.create?function(i,u,a,o){o===void 0&&(o=a),Object.defineProperty(i,o,{enumerable:!0,get:function(){return u[a]}})}:function(i,u,a,o){o===void 0&&(o=a),i[o]=u[a]}),r=or&&or.__exportStar||function(i,u){for(var a in i)a!=="default"&&!u.hasOwnProperty(a)&&t(u,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kd,e),r(Ss,e)})(Il);function cf(e){const t=new Il.Configuration({apiKey:e});return new Il.OpenAIApi(t)}async function G2(e,t,r="text-davinci-003"){return await e.createCompletion({model:r,prompt:t,temperature:.8,max_tokens:250})}async function K2(e,t,r="gpt-3.5-turbo"){return await e.createChatCompletion({model:r,messages:[{role:"user",content:t}],temperature:.8,max_tokens:250})}async function Y2(e,t,r="text-embedding-ada-002"){return await e.createEmbedding({model:r,input:t})}async function Z2(e){return await e.listModels()}const fl="preferredEmbeddingModelStore";function $2(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[fl]||""),{subscribe:t,updateEmbeddingModel:a=>{!a||!u||(localStorage[fl]=a,r(a))},getEmbeddingModel:()=>Pt(e),deleteEmbeddingModel:()=>{u&&(delete localStorage[fl],r(""))}}}const Ll=$2(),op=En(Ll,e=>Pt(Ll)),cl="oKeyStore";function J2(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[cl]||""),{subscribe:t,updateKey:a=>{!a||!u||(localStorage[cl]=a,r(a))},getKey:()=>Pt(e),deleteKey:()=>{u&&(delete localStorage[cl],r(""))}}}const is=J2(),Bs=En(is,e=>Pt(is));var us={},X2={get exports(){return us},set exports(e){us=e}},as={},Q2={get exports(){return as},set exports(e){as=e}},su=typeof Reflect=="object"?Reflect:null,Mh=su&&typeof su.apply=="function"?su.apply:function(t,r,i){return Function.prototype.apply.call(t,r,i)},Ga;su&&typeof su.ownKeys=="function"?Ga=su.ownKeys:Object.getOwnPropertySymbols?Ga=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ga=function(t){return Object.getOwnPropertyNames(t)};function eF(e){console&&console.warn&&console.warn(e)}var lp=Number.isNaN||function(t){return t!==t};function Ft(){Ft.init.call(this)}Q2.exports=Ft;as.once=iF;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var xh=10;function Os(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return xh},set:function(e){if(typeof e!="number"||e<0||lp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");xh=e}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||lp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fp(e){return e._maxListeners===void 0?Ft.defaultMaxListeners:e._maxListeners}Ft.prototype.getMaxListeners=function(){return fp(this)};Ft.prototype.emit=function(t){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var u=t==="error",a=this._events;if(a!==void 0)u=u&&a.error===void 0;else if(!u)return!1;if(u){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var h=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw h.context=o,h}var d=a[t];if(d===void 0)return!1;if(typeof d=="function")Mh(d,this,r);else for(var p=d.length,c=vp(d,p),i=0;i<p;++i)Mh(c[i],this,r);return!0};function cp(e,t,r,i){var u,a,o;if(Os(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),o===void 0)o=a[t]=r,++e._eventsCount;else if(typeof o=="function"?o=a[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),u=fp(e),u>0&&o.length>u&&!o.warned){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=o.length,eF(h)}return e}Ft.prototype.addListener=function(t,r){return cp(this,t,r,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(t,r){return cp(this,t,r,!0)};function tF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hp(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=tF.bind(i);return u.listener=r,i.wrapFn=u,u}Ft.prototype.once=function(t,r){return Os(r),this.on(t,hp(this,t,r)),this};Ft.prototype.prependOnceListener=function(t,r){return Os(r),this.prependListener(t,hp(this,t,r)),this};Ft.prototype.removeListener=function(t,r){var i,u,a,o,h;if(Os(r),u=this._events,u===void 0)return this;if(i=u[t],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,i.listener||r));else if(typeof i!="function"){for(a=-1,o=i.length-1;o>=0;o--)if(i[o]===r||i[o].listener===r){h=i[o].listener,a=o;break}if(a<0)return this;a===0?i.shift():rF(i,a),i.length===1&&(u[t]=i[0]),u.removeListener!==void 0&&this.emit("removeListener",t,h||r)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(t){var r,i,u;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var a=Object.keys(i),o;for(u=0;u<a.length;++u)o=a[u],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function dp(e,t,r){var i=e._events;if(i===void 0)return[];var u=i[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?nF(u):vp(u,u.length)}Ft.prototype.listeners=function(t){return dp(this,t,!0)};Ft.prototype.rawListeners=function(t){return dp(this,t,!1)};Ft.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):pp.call(e,t)};Ft.prototype.listenerCount=pp;function pp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Ga(this._events):[]};function vp(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function rF(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function nF(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function iF(e,t){return new Promise(function(r,i){function u(o){e.removeListener(t,a),i(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}gp(e,t,a,{once:!0}),t!=="error"&&uF(e,u,{once:!0})})}function uF(e,t,r){typeof e.on=="function"&&gp(e,"error",t,r)}function gp(e,t,r,i){if(typeof e.on=="function")i.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(a){i.once&&e.removeEventListener(t,u),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function aF(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var sF=aF;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oF=function(e){return e!=null&&(mp(e)||lF(e)||!!e._isBuffer)};function mp(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lF(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&mp(e.slice(0,0))}var fF=sF,cF=oF,hF=typeof Float64Array<"u";function dF(e,t){return e[0]-t[0]}function pF(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(dF);var i=new Array(t.length);for(r=0;r<i.length;++r)i[r]=t[r][1];return i}function vF(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i=e==="generic";if(t===-1){var u="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",g=new Function(u);return g()}else if(t===0){var u="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",g=new Function("TrivialArray",u);return g(ss[e][0])}var u=["'use strict'"],a=fF(t),o=a.map(function(m){return"i"+m}),h="this.offset+"+a.map(function(m){return"this.stride["+m+"]*i"+m}).join("+"),d=a.map(function(m){return"b"+m}).join(","),p=a.map(function(m){return"c"+m}).join(",");u.push("function "+r+"(a,"+d+","+p+",d){this.data=a","this.shape=["+d+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),u.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(m){return"this.shape["+m+"]"}).join("*"),"}})"),t===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),t<4?(u.push("function "+r+"_order(){"),t===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+r+"_set("+o.join(",")+",v){"),i?u.push("return this.data.set("+h+",v)}"):u.push("return this.data["+h+"]=v}"),u.push("proto.get=function "+r+"_get("+o.join(",")+"){"),i?u.push("return this.data.get("+h+")}"):u.push("return this.data["+h+"]}"),u.push("proto.index=function "+r+"_index(",o.join(),"){return "+h+"}"),u.push("proto.hi=function "+r+"_hi("+o.join(",")+"){return new "+r+"(this.data,"+a.map(function(m){return["(typeof i",m,"!=='number'||i",m,"<0)?this.shape[",m,"]:i",m,"|0"].join("")}).join(",")+","+a.map(function(m){return"this.stride["+m+"]"}).join(",")+",this.offset)}");var c=a.map(function(m){return"a"+m+"=this.shape["+m+"]"}),l=a.map(function(m){return"c"+m+"=this.stride["+m+"]"});u.push("proto.lo=function "+r+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+l.join(","));for(var f=0;f<t;++f)u.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");u.push("return new "+r+"(this.data,"+a.map(function(m){return"a"+m}).join(",")+","+a.map(function(m){return"c"+m}).join(",")+",b)}"),u.push("proto.step=function "+r+"_step("+o.join(",")+"){var "+a.map(function(m){return"a"+m+"=this.shape["+m+"]"}).join(",")+","+a.map(function(m){return"b"+m+"=this.stride["+m+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var f=0;f<t;++f)u.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");u.push("return new "+r+"(this.data,"+a.map(function(m){return"a"+m}).join(",")+","+a.map(function(m){return"b"+m}).join(",")+",c)}");for(var D=new Array(t),A=new Array(t),f=0;f<t;++f)D[f]="a[i"+f+"]",A[f]="b[i"+f+"]";u.push("proto.transpose=function "+r+"_transpose("+o+"){"+o.map(function(m,y){return m+"=("+m+"===undefined?"+y+":"+m+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+D.join(",")+","+A.join(",")+",this.offset)}"),u.push("proto.pick=function "+r+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var f=0;f<t;++f)u.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(m){return"shape["+m+"]"}).join(",")+","+a.map(function(m){return"stride["+m+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",u.join(`
`));return g(ss[e],pF)}function gF(e){if(cF(e))return"buffer";if(hF)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var ss={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function mF(e,t,r,i){if(e===void 0){var p=ss.array[0];return p([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var u=t.length;if(r===void 0){r=new Array(u);for(var a=u-1,o=1;a>=0;--a)r[a]=o,o*=t[a]}if(i===void 0){i=0;for(var a=0;a<u;++a)r[a]<0&&(i-=(t[a]-1)*r[a])}for(var h=gF(e),d=ss[h];d.length<=u+1;)d.push(vF(h,d.length-1));var p=d[u+1];return p(e,t,r,i)}var pu=mF,Ms={};function DF(e,t){for(var r=1,i=e.length,u=e[0],a=e[0],o=1;o<i;++o)if(a=u,u=e[o],t(u,a)){if(o===r){r++;continue}e[r++]=u}return e.length=r,e}function _F(e){for(var t=1,r=e.length,i=e[0],u=e[0],a=1;a<r;++a,u=i)if(u=i,i=e[a],i!==u){if(a===t){t++;continue}e[t++]=i}return e.length=t,e}function yF(e,t,r){return e.length===0?e:t?(r||e.sort(t),DF(e,t)):(r||e.sort(),_F(e))}var Dp=yF,AF=Dp;function _p(e,t,r){var i=e.length,u=t.arrayArgs.length,a=t.indexArgs.length>0,o=[],h=[],d=0,p=0,c,l;for(c=0;c<i;++c)h.push(["i",c,"=0"].join(""));for(l=0;l<u;++l)for(c=0;c<i;++c)p=d,d=e[c],c===0?h.push(["d",l,"s",c,"=t",l,"p",d].join("")):h.push(["d",l,"s",c,"=(t",l,"p",d,"-s",p,"*t",l,"p",p,")"].join(""));for(h.length>0&&o.push("var "+h.join(",")),c=i-1;c>=0;--c)d=e[c],o.push(["for(i",c,"=0;i",c,"<s",d,";++i",c,"){"].join(""));for(o.push(r),c=0;c<i;++c){for(p=d,d=e[c],l=0;l<u;++l)o.push(["p",l,"+=d",l,"s",c].join(""));a&&(c>0&&o.push(["index[",p,"]-=s",p].join("")),o.push(["++index[",d,"]"].join(""))),o.push("}")}return o.join(`
`)}function bF(e,t,r,i){for(var u=t.length,a=r.arrayArgs.length,o=r.blockSize,h=r.indexArgs.length>0,d=[],p=0;p<a;++p)d.push(["var offset",p,"=p",p].join(""));for(var p=e;p<u;++p)d.push(["for(var j"+p+"=SS[",t[p],"]|0;j",p,">0;){"].join("")),d.push(["if(j",p,"<",o,"){"].join("")),d.push(["s",t[p],"=j",p].join("")),d.push(["j",p,"=0"].join("")),d.push(["}else{s",t[p],"=",o].join("")),d.push(["j",p,"-=",o,"}"].join("")),h&&d.push(["index[",t[p],"]=j",p].join(""));for(var p=0;p<a;++p){for(var c=["offset"+p],l=e;l<u;++l)c.push(["j",l,"*t",p,"p",t[l]].join(""));d.push(["p",p,"=(",c.join("+"),")"].join(""))}d.push(_p(t,r,i));for(var p=e;p<u;++p)d.push("}");return d.join(`
`)}function wF(e){for(var t=0,r=e[0].length;t<r;){for(var i=1;i<e.length;++i)if(e[i][t]!==e[0][t])return t;++t}return t}function hl(e,t,r){for(var i=e.body,u=[],a=[],o=0;o<e.args.length;++o){var h=e.args[o];if(!(h.count<=0)){var d=new RegExp(h.name,"g"),p="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var l=t.offsetArgIndex.indexOf(o),f=t.offsetArgs[l];c=f.array,p="+q"+l;case"array":p="p"+c+p;var D="l"+o,A="a"+c;if(t.arrayBlockIndices[c]===0)h.count===1?r[c]==="generic"?h.lvalue?(u.push(["var ",D,"=",A,".get(",p,")"].join("")),i=i.replace(d,D),a.push([A,".set(",p,",",D,")"].join(""))):i=i.replace(d,[A,".get(",p,")"].join("")):i=i.replace(d,[A,"[",p,"]"].join("")):r[c]==="generic"?(u.push(["var ",D,"=",A,".get(",p,")"].join("")),i=i.replace(d,D),h.lvalue&&a.push([A,".set(",p,",",D,")"].join(""))):(u.push(["var ",D,"=",A,"[",p,"]"].join("")),i=i.replace(d,D),h.lvalue&&a.push([A,"[",p,"]=",D].join("")));else{for(var g=[h.name],m=[p],y=0;y<Math.abs(t.arrayBlockIndices[c]);y++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(y+1)+"*t"+c+"b"+y);if(d=new RegExp(g.join(""),"g"),p=m.join("+"),r[c]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");i=i.replace(d,[A,"[",p,"]"].join(""))}break;case"scalar":i=i.replace(d,"Y"+t.scalarArgs.indexOf(o));break;case"index":i=i.replace(d,"index");break;case"shape":i=i.replace(d,"shape");break}}}return[u.join(`
`),i,a.join(`
`)].join(`
`).trim()}function EF(e){for(var t=new Array(e.length),r=!0,i=0;i<e.length;++i){var u=e[i],a=u.match(/\d+/);a?a=a[0]:a="",u.charAt(0)===0?t[i]="u"+u.charAt(1)+a:t[i]=u.charAt(0)+a,i>0&&(r=r&&t[i]===t[i-1])}return r?t[0]:t.join("")}function FF(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,i=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)u[a]=t[2*a],i[a]=t[2*a+1];for(var o=[],h=[],d=[],p=[],c=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(d.push(0),p.push(r),o.push(r),h.push(r+e.arrayBlockIndices[a])):(d.push(e.arrayBlockIndices[a]),p.push(e.arrayBlockIndices[a]+r),o.push(0),h.push(e.arrayBlockIndices[a]));for(var l=[],f=0;f<i[a].length;f++)d[a]<=i[a][f]&&i[a][f]<p[a]&&l.push(i[a][f]-d[a]);c.push(l)}for(var D=["SS"],A=["'use strict'"],g=[],f=0;f<r;++f)g.push(["s",f,"=SS[",f,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){D.push("a"+a),D.push("t"+a),D.push("p"+a);for(var f=0;f<r;++f)g.push(["t",a,"p",f,"=t",a,"[",d[a]+f,"]"].join(""));for(var f=0;f<Math.abs(e.arrayBlockIndices[a]);++f)g.push(["t",a,"b",f,"=t",a,"[",o[a]+f,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)D.push("Y"+a);if(e.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var m=new Array(r),a=0;a<r;++a)m[a]="0";g.push(["index=[",m.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var y=e.offsetArgs[a],F=[],f=0;f<y.offset.length;++f)y.offset[f]!==0&&(y.offset[f]===1?F.push(["t",y.array,"p",f].join("")):F.push([y.offset[f],"*t",y.array,"p",f].join("")));F.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",F.join("+")].join(""))}var w=AF([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));g=g.concat(w),g.length>0&&A.push("var "+g.join(","));for(var a=0;a<e.arrayArgs.length;++a)A.push("p"+a+"|=0");e.pre.body.length>3&&A.push(hl(e.pre,e,u));var B=hl(e.body,e,u),C=wF(c);C<r?A.push(bF(C,c[0],e,B)):A.push(_p(c[0],e,B)),e.post.body.length>3&&A.push(hl(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+A.join(`
`)+`
----------`);var O=[e.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",C,EF(u)].join(""),x=new Function(["function ",O,"(",D.join(","),"){",A.join(`
`),"} return ",O].join(""));return x()}var CF=FF,SF=CF;function BF(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var u=[],a=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],h=[],d=[],p=0;p<e.arrayArgs.length;++p){var c=e.arrayArgs[p];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),u.push("t"+c),u.push("r"+c),a.push("t"+c),a.push("r"+c+".join()"),o.push("array"+c+".data"),o.push("array"+c+".stride"),o.push("array"+c+".offset|0"),p>0&&(h.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[p]))),d.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[p])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var p=0;p<e.scalarArgs.length;++p)o.push("scalar"+e.scalarArgs[p]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",u.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var l=new Function("compile",t.join(`
`));return l(SF.bind(void 0,e))}var OF=BF,MF=OF;function xF(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function PF(e){var t=new xF;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var i=0;i<r.length;++i){var u=r[i];if(u==="array"||typeof u=="object"&&u.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(u.blockIndices?u.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if(u==="scalar")t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if(u==="index"){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if(u==="shape"){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof u=="object"&&u.offset)t.argTypes[i]="offset",t.offsetArgs.push({array:u.array,offset:u.offset}),t.offsetArgIndex.push(i);else throw new Error("cwise: Unknown argument type "+r[i])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,MF(t)}var hf=PF;(function(e){var t=hf,r={body:"",args:[],thisVars:[],localVars:[]};function i(f){if(!f)return r;for(var D=0;D<f.args.length;++D){var A=f.args[D];D===0?f.args[D]={name:A,lvalue:!0,rvalue:!!f.rvalue,count:f.count||1}:f.args[D]={name:A,lvalue:!1,rvalue:!0,count:1}}return f.thisVars||(f.thisVars=[]),f.localVars||(f.localVars=[]),f}function u(f){return t({args:f.args,pre:i(f.pre),body:i(f.body),post:i(f.proc),funcName:f.funcName})}function a(f){for(var D=[],A=0;A<f.args.length;++A)D.push("a"+A);var g=new Function("P",["return function ",f.funcName,"_ndarrayops(",D.join(","),") {P(",D.join(","),");return a0}"].join(""));return g(u(f))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var f in o){var D=o[f];e[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+D+"c"},funcName:f}),e[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+D+"=b"},rvalue:!0,funcName:f+"eq"}),e[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+D+"s"},funcName:f+"s"}),e[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+D+"=s"},rvalue:!0,funcName:f+"seq"})}})();var h={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var f in h){var D=h[f];e[f]=a({args:["array","array"],body:{args:["a","b"],body:"a="+D+"b"},funcName:f}),e[f+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+D+"a"},rvalue:!0,count:2,funcName:f+"eq"})}})();var d={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var f in d){var D=d[f];e[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+D+"c"},funcName:f}),e[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+D+"s"},funcName:f+"s"}),e[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+D+"b"},rvalue:!0,count:2,funcName:f+"eq"}),e[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+D+"s"},rvalue:!0,count:2,funcName:f+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var f=0;f<p.length;++f){var D=p[f];e[D]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:D}),e[D+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"eq"})}})();var c=["max","min","atan2","pow"];(function(){for(var f=0;f<c.length;++f){var D=c[f];e[D]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:D}),e[D+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:D+"s"}),e[D+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"eq"}),e[D+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"seq"})}})();var l=["atan2","pow"];(function(){for(var f=0;f<l.length;++f){var D=l[f];e[D+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:D+"op"}),e[D+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:D+"ops"}),e[D+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"opeq"}),e[D+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+D,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:D+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(Ms);var TF=hf({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64}),Ph=pu,IF=TF,NF=function(t,r){for(var i=[],u=t,a=1;Array.isArray(u);)i.push(u.length),a*=u.length,u=u[0];return i.length===0?Ph():(r||(r=Ph(new Float64Array(a),i)),IF(r,t),r)};function yp(e,t,r){var i=e[r]|0;if(i<=0)return[];var u=new Array(i),a;if(r===e.length-1)for(a=0;a<i;++a)u[a]=t;else for(a=0;a<i;++a)u[a]=yp(e,t,r+1);return u}function kF(e,t){var r,i;for(r=new Array(e),i=0;i<e;++i)r[i]=t;return r}function RF(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return kF(e|0,t);break;case"object":if(typeof e.length=="number")return yp(e,t,0);break}return[]}var LF=RF,Ap={};(function(e){(function(t,r){r(e)})(or,function(t){var r,i,u,a,o,h,d,p,c,l,f,D,A,g,m,y,F,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},i={},i[r.BooleanLiteral]="Boolean",i[r.EOF]="<end>",i[r.Identifier]="Identifier",i[r.Keyword]="Keyword",i[r.NullLiteral]="Null",i[r.NumericLiteral]="Numeric",i[r.Punctuator]="Punctuator",i[r.StringLiteral]="String",i[r.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},h={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},d={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function B(_,E){if(!_)throw new Error("ASSERT: "+E)}function C(_){return _>=48&&_<=57}function O(_){return"0123456789abcdefABCDEF".indexOf(_)>=0}function x(_){return"01234567".indexOf(_)>=0}function T(_){return _===32||_===9||_===11||_===12||_===160||_>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(_)>=0}function I(_){return _===10||_===13||_===8232||_===8233}function j(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_===92||_>=128&&d.NonAsciiIdentifierStart.test(String.fromCharCode(_))}function Y(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_>=48&&_<=57||_===92||_>=128&&d.NonAsciiIdentifierPart.test(String.fromCharCode(_))}function X(_){switch(_){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function G(_){switch(_){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function H(_){return _==="eval"||_==="arguments"}function V(_){if(l&&G(_))return!0;switch(_.length){case 2:return _==="if"||_==="in"||_==="do";case 3:return _==="var"||_==="for"||_==="new"||_==="try"||_==="let";case 4:return _==="this"||_==="else"||_==="case"||_==="void"||_==="with"||_==="enum";case 5:return _==="while"||_==="break"||_==="catch"||_==="throw"||_==="const"||_==="yield"||_==="class"||_==="super";case 6:return _==="return"||_==="typeof"||_==="delete"||_==="switch"||_==="export"||_==="import";case 7:return _==="default"||_==="finally"||_==="extends";case 8:return _==="function"||_==="continue"||_==="debugger";case 10:return _==="instanceof";default:return!1}}function W(_,E,N,Z,fe){var we;B(typeof N=="number","Comment must have valid position"),!(F.lastCommentStart>=N)&&(F.lastCommentStart=N,we={type:_,value:E},w.range&&(we.range=[N,Z]),w.loc&&(we.loc=fe),w.comments.push(we),w.attachComment&&(w.leadingComments.push(we),w.trailingComments.push(we)))}function re(_){var E,N,Z,fe;for(E=f-_,N={start:{line:D,column:f-A-_}};f<g;)if(Z=c.charCodeAt(f),++f,I(Z)){w.comments&&(fe=c.slice(E+_,f-1),N.end={line:D,column:f-A-1},W("Line",fe,E,f-1,N)),Z===13&&c.charCodeAt(f)===10&&++f,++D,A=f;return}w.comments&&(fe=c.slice(E+_,f),N.end={line:D,column:f-A},W("Line",fe,E,f,N))}function ce(){var _,E,N,Z;for(w.comments&&(_=f-2,E={start:{line:D,column:f-A-2}});f<g;)if(N=c.charCodeAt(f),I(N))N===13&&c.charCodeAt(f+1)===10&&++f,++D,++f,A=f,f>=g&&U({},h.UnexpectedToken,"ILLEGAL");else if(N===42){if(c.charCodeAt(f+1)===47){++f,++f,w.comments&&(Z=c.slice(_+2,f-2),E.end={line:D,column:f-A},W("Block",Z,_,f,E));return}++f}else++f;U({},h.UnexpectedToken,"ILLEGAL")}function ve(){var _,E;for(E=f===0;f<g;)if(_=c.charCodeAt(f),T(_))++f;else if(I(_))++f,_===13&&c.charCodeAt(f)===10&&++f,++D,A=f,E=!0;else if(_===47)if(_=c.charCodeAt(f+1),_===47)++f,++f,re(2),E=!0;else if(_===42)++f,++f,ce();else break;else if(E&&_===45)if(c.charCodeAt(f+1)===45&&c.charCodeAt(f+2)===62)f+=3,re(3);else break;else if(_===60)if(c.slice(f+1,f+4)==="!--")++f,++f,++f,++f,re(4);else break;else break}function ye(_){var E,N,Z,fe=0;for(N=_==="u"?4:2,E=0;E<N;++E)if(f<g&&O(c[f]))Z=c[f++],fe=fe*16+"0123456789abcdef".indexOf(Z.toLowerCase());else return"";return String.fromCharCode(fe)}function Ee(){var _,E;for(_=c.charCodeAt(f++),E=String.fromCharCode(_),_===92&&(c.charCodeAt(f)!==117&&U({},h.UnexpectedToken,"ILLEGAL"),++f,_=ye("u"),(!_||_==="\\"||!j(_.charCodeAt(0)))&&U({},h.UnexpectedToken,"ILLEGAL"),E=_);f<g&&(_=c.charCodeAt(f),!!Y(_));)++f,E+=String.fromCharCode(_),_===92&&(E=E.substr(0,E.length-1),c.charCodeAt(f)!==117&&U({},h.UnexpectedToken,"ILLEGAL"),++f,_=ye("u"),(!_||_==="\\"||!Y(_.charCodeAt(0)))&&U({},h.UnexpectedToken,"ILLEGAL"),E+=_);return E}function Oe(){var _,E;for(_=f++;f<g;){if(E=c.charCodeAt(f),E===92)return f=_,Ee();if(Y(E))++f;else break}return c.slice(_,f)}function Me(){var _,E,N;return _=f,E=c.charCodeAt(f)===92?Ee():Oe(),E.length===1?N=r.Identifier:V(E)?N=r.Keyword:E==="null"?N=r.NullLiteral:E==="true"||E==="false"?N=r.BooleanLiteral:N=r.Identifier,{type:N,value:E,lineNumber:D,lineStart:A,start:_,end:f}}function Te(){var _=f,E=c.charCodeAt(f),N,Z=c[f],fe,we,et;switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,w.tokenize&&(E===40?w.openParenToken=w.tokens.length:E===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(E),lineNumber:D,lineStart:A,start:_,end:f};default:if(N=c.charCodeAt(f+1),N===61)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:r.Punctuator,value:String.fromCharCode(E)+String.fromCharCode(N),lineNumber:D,lineStart:A,start:_,end:f};case 33:case 61:return f+=2,c.charCodeAt(f)===61&&++f,{type:r.Punctuator,value:c.slice(_,f),lineNumber:D,lineStart:A,start:_,end:f}}}if(et=c.substr(f,4),et===">>>=")return f+=4,{type:r.Punctuator,value:et,lineNumber:D,lineStart:A,start:_,end:f};if(we=et.substr(0,3),we===">>>"||we==="<<="||we===">>=")return f+=3,{type:r.Punctuator,value:we,lineNumber:D,lineStart:A,start:_,end:f};if(fe=we.substr(0,2),Z===fe[1]&&"+-<>&|".indexOf(Z)>=0||fe==="=>")return f+=2,{type:r.Punctuator,value:fe,lineNumber:D,lineStart:A,start:_,end:f};if("<>=!+-*%&|^/".indexOf(Z)>=0)return++f,{type:r.Punctuator,value:Z,lineNumber:D,lineStart:A,start:_,end:f};U({},h.UnexpectedToken,"ILLEGAL")}function $e(_){for(var E="";f<g&&O(c[f]);)E+=c[f++];return E.length===0&&U({},h.UnexpectedToken,"ILLEGAL"),j(c.charCodeAt(f))&&U({},h.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+E,16),lineNumber:D,lineStart:A,start:_,end:f}}function ze(_){for(var E="0"+c[f++];f<g&&x(c[f]);)E+=c[f++];return(j(c.charCodeAt(f))||C(c.charCodeAt(f)))&&U({},h.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(E,8),octal:!0,lineNumber:D,lineStart:A,start:_,end:f}}function at(){var _,E;for(_=f+1;_<g;++_){if(E=c[_],E==="8"||E==="9")return!1;if(!x(E))return!0}return!0}function ct(){var _,E,N;if(N=c[f],B(C(N.charCodeAt(0))||N===".","Numeric literal must start with a decimal digit or a decimal point"),E=f,_="",N!=="."){if(_=c[f++],N=c[f],_==="0"){if(N==="x"||N==="X")return++f,$e(E);if(x(N)&&at())return ze(E)}for(;C(c.charCodeAt(f));)_+=c[f++];N=c[f]}if(N==="."){for(_+=c[f++];C(c.charCodeAt(f));)_+=c[f++];N=c[f]}if(N==="e"||N==="E")if(_+=c[f++],N=c[f],(N==="+"||N==="-")&&(_+=c[f++]),C(c.charCodeAt(f)))for(;C(c.charCodeAt(f));)_+=c[f++];else U({},h.UnexpectedToken,"ILLEGAL");return j(c.charCodeAt(f))&&U({},h.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(_),lineNumber:D,lineStart:A,start:E,end:f}}function Qe(){var _="",E,N,Z,fe,we,et,lt=!1,kt,rr;for(kt=D,rr=A,E=c[f],B(E==="'"||E==='"',"String literal must starts with a quote"),N=f,++f;f<g;)if(Z=c[f++],Z===E){E="";break}else if(Z==="\\")if(Z=c[f++],!Z||!I(Z.charCodeAt(0)))switch(Z){case"u":case"x":et=f,we=ye(Z),we?_+=we:(f=et,_+=Z);break;case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;default:x(Z)?(fe="01234567".indexOf(Z),fe!==0&&(lt=!0),f<g&&x(c[f])&&(lt=!0,fe=fe*8+"01234567".indexOf(c[f++]),"0123".indexOf(Z)>=0&&f<g&&x(c[f])&&(fe=fe*8+"01234567".indexOf(c[f++]))),_+=String.fromCharCode(fe)):_+=Z;break}else++D,Z==="\r"&&c[f]===`
`&&++f,A=f;else{if(I(Z.charCodeAt(0)))break;_+=Z}return E!==""&&U({},h.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:_,octal:lt,startLineNumber:kt,startLineStart:rr,lineNumber:D,lineStart:A,start:N,end:f}}function it(_,E){var N;try{N=new RegExp(_,E)}catch{U({},h.InvalidRegExp)}return N}function ht(){var _,E,N,Z,fe;for(_=c[f],B(_==="/","Regular expression literal must start with a slash"),E=c[f++],N=!1,Z=!1;f<g;)if(_=c[f++],E+=_,_==="\\")_=c[f++],I(_.charCodeAt(0))&&U({},h.UnterminatedRegExp),E+=_;else if(I(_.charCodeAt(0)))U({},h.UnterminatedRegExp);else if(N)_==="]"&&(N=!1);else if(_==="/"){Z=!0;break}else _==="["&&(N=!0);return Z||U({},h.UnterminatedRegExp),fe=E.substr(1,E.length-2),{value:fe,literal:E}}function dt(){var _,E,N,Z;for(E="",N="";f<g&&(_=c[f],!!Y(_.charCodeAt(0)));)if(++f,_==="\\"&&f<g)if(_=c[f],_==="u"){if(++f,Z=f,_=ye("u"),_)for(N+=_,E+="\\u";Z<f;++Z)E+=c[Z];else f=Z,N+="u",E+="\\u";K({},h.UnexpectedToken,"ILLEGAL")}else E+="\\",K({},h.UnexpectedToken,"ILLEGAL");else N+=_,E+=_;return{value:N,literal:E}}function rt(){var _,E,N,Z;return y=null,ve(),_=f,E=ht(),N=dt(),Z=it(E.value,N.value),w.tokenize?{type:r.RegularExpression,value:Z,lineNumber:D,lineStart:A,start:_,end:f}:{literal:E.literal+N.literal,value:Z,start:_,end:f}}function Je(){var _,E,N,Z;return ve(),_=f,E={start:{line:D,column:f-A}},N=rt(),E.end={line:D,column:f-A},w.tokenize||(w.tokens.length>0&&(Z=w.tokens[w.tokens.length-1],Z.range[0]===_&&Z.type==="Punctuator"&&(Z.value==="/"||Z.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:N.literal,range:[_,f],loc:E})),N}function At(_){return _.type===r.Identifier||_.type===r.Keyword||_.type===r.BooleanLiteral||_.type===r.NullLiteral}function Ar(){var _,E;if(_=w.tokens[w.tokens.length-1],!_)return Je();if(_.type==="Punctuator"){if(_.value==="]")return Te();if(_.value===")")return E=w.tokens[w.openParenToken-1],E&&E.type==="Keyword"&&(E.value==="if"||E.value==="while"||E.value==="for"||E.value==="with")?Je():Te();if(_.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-4],!E)return Te()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-5],!E)return Je()}else return Te();return u.indexOf(E.value)>=0?Te():Je()}return Je()}return _.type==="Keyword"&&_.value!=="this"?Je():Te()}function wt(){var _;return ve(),f>=g?{type:r.EOF,lineNumber:D,lineStart:A,start:f,end:f}:(_=c.charCodeAt(f),j(_)?Me():_===40||_===41||_===59?Te():_===39||_===34?Qe():_===46?C(c.charCodeAt(f+1))?ct():Te():C(_)?ct():w.tokenize&&_===47?Ar():Te())}function Ae(){var _,E,N;return ve(),_={start:{line:D,column:f-A}},E=wt(),_.end={line:D,column:f-A},E.type!==r.EOF&&(N=c.slice(E.start,E.end),w.tokens.push({type:i[E.type],value:N,range:[E.start,E.end],loc:_})),E}function _e(){var _;return _=y,f=_.end,D=_.lineNumber,A=_.lineStart,y=typeof w.tokens<"u"?Ae():wt(),f=_.end,D=_.lineNumber,A=_.lineStart,_}function pt(){var _,E,N;_=f,E=D,N=A,y=typeof w.tokens<"u"?Ae():wt(),f=_,D=E,A=N}function Nt(_,E){this.line=_,this.column=E}function ur(_,E,N,Z){this.start=new Nt(_,E),this.end=new Nt(N,Z)}p={name:"SyntaxTree",processComment:function(_){var E,N;if(!(_.type===a.Program&&_.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=_.range[1]?(N=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=_.range[1]&&(N=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=_.range[0];)E=w.bottomRightStack.pop();E?E.leadingComments&&E.leadingComments[E.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=E.leadingComments,delete E.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=w.leadingComments,w.leadingComments=[]),N&&(_.trailingComments=N),w.bottomRightStack.push(_)}},markEnd:function(_,E){return w.range&&(_.range=[E.start,f]),w.loc&&(_.loc=new ur(E.startLineNumber===void 0?E.lineNumber:E.startLineNumber,E.start-(E.startLineStart===void 0?E.lineStart:E.startLineStart),D,f-A),this.postProcess(_)),w.attachComment&&this.processComment(_),_},postProcess:function(_){return w.source&&(_.loc.source=w.source),_},createArrayExpression:function(_){return{type:a.ArrayExpression,elements:_}},createAssignmentExpression:function(_,E,N){return{type:a.AssignmentExpression,operator:_,left:E,right:N}},createBinaryExpression:function(_,E,N){var Z=_==="||"||_==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:Z,operator:_,left:E,right:N}},createBlockStatement:function(_){return{type:a.BlockStatement,body:_}},createBreakStatement:function(_){return{type:a.BreakStatement,label:_}},createCallExpression:function(_,E){return{type:a.CallExpression,callee:_,arguments:E}},createCatchClause:function(_,E){return{type:a.CatchClause,param:_,body:E}},createConditionalExpression:function(_,E,N){return{type:a.ConditionalExpression,test:_,consequent:E,alternate:N}},createContinueStatement:function(_){return{type:a.ContinueStatement,label:_}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(_,E){return{type:a.DoWhileStatement,body:_,test:E}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(_){return{type:a.ExpressionStatement,expression:_}},createForStatement:function(_,E,N,Z){return{type:a.ForStatement,init:_,test:E,update:N,body:Z}},createForInStatement:function(_,E,N){return{type:a.ForInStatement,left:_,right:E,body:N,each:!1}},createFunctionDeclaration:function(_,E,N,Z){return{type:a.FunctionDeclaration,id:_,params:E,defaults:N,body:Z,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(_,E,N,Z){return{type:a.FunctionExpression,id:_,params:E,defaults:N,body:Z,rest:null,generator:!1,expression:!1}},createIdentifier:function(_){return{type:a.Identifier,name:_}},createIfStatement:function(_,E,N){return{type:a.IfStatement,test:_,consequent:E,alternate:N}},createLabeledStatement:function(_,E){return{type:a.LabeledStatement,label:_,body:E}},createLiteral:function(_){return{type:a.Literal,value:_.value,raw:c.slice(_.start,_.end)}},createMemberExpression:function(_,E,N){return{type:a.MemberExpression,computed:_==="[",object:E,property:N}},createNewExpression:function(_,E){return{type:a.NewExpression,callee:_,arguments:E}},createObjectExpression:function(_){return{type:a.ObjectExpression,properties:_}},createPostfixExpression:function(_,E){return{type:a.UpdateExpression,operator:_,argument:E,prefix:!1}},createProgram:function(_){return{type:a.Program,body:_}},createProperty:function(_,E,N){return{type:a.Property,key:E,value:N,kind:_}},createReturnStatement:function(_){return{type:a.ReturnStatement,argument:_}},createSequenceExpression:function(_){return{type:a.SequenceExpression,expressions:_}},createSwitchCase:function(_,E){return{type:a.SwitchCase,test:_,consequent:E}},createSwitchStatement:function(_,E){return{type:a.SwitchStatement,discriminant:_,cases:E}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(_){return{type:a.ThrowStatement,argument:_}},createTryStatement:function(_,E,N,Z){return{type:a.TryStatement,block:_,guardedHandlers:E,handlers:N,finalizer:Z}},createUnaryExpression:function(_,E){return _==="++"||_==="--"?{type:a.UpdateExpression,operator:_,argument:E,prefix:!0}:{type:a.UnaryExpression,operator:_,argument:E,prefix:!0}},createVariableDeclaration:function(_,E){return{type:a.VariableDeclaration,declarations:_,kind:E}},createVariableDeclarator:function(_,E){return{type:a.VariableDeclarator,id:_,init:E}},createWhileStatement:function(_,E){return{type:a.WhileStatement,test:_,body:E}},createWithStatement:function(_,E){return{type:a.WithStatement,object:_,body:E}}};function R(){var _,E,N,Z;return _=f,E=D,N=A,ve(),Z=D!==E,f=_,D=E,A=N,Z}function U(_,E){var N,Z=Array.prototype.slice.call(arguments,2),fe=E.replace(/%(\d)/g,function(we,et){return B(et<Z.length,"Message reference must be in range"),Z[et]});throw typeof _.lineNumber=="number"?(N=new Error("Line "+_.lineNumber+": "+fe),N.index=_.start,N.lineNumber=_.lineNumber,N.column=_.start-A+1):(N=new Error("Line "+D+": "+fe),N.index=f,N.lineNumber=D,N.column=f-A+1),N.description=fe,N}function K(){try{U.apply(null,arguments)}catch(_){if(w.errors)w.errors.push(_);else throw _}}function ue(_){if(_.type===r.EOF&&U(_,h.UnexpectedEOS),_.type===r.NumericLiteral&&U(_,h.UnexpectedNumber),_.type===r.StringLiteral&&U(_,h.UnexpectedString),_.type===r.Identifier&&U(_,h.UnexpectedIdentifier),_.type===r.Keyword){if(X(_.value))U(_,h.UnexpectedReserved);else if(l&&G(_.value)){K(_,h.StrictReservedWord);return}U(_,h.UnexpectedToken,_.value)}U(_,h.UnexpectedToken,_.value)}function ee(_){var E=_e();(E.type!==r.Punctuator||E.value!==_)&&ue(E)}function he(_){var E=_e();(E.type!==r.Keyword||E.value!==_)&&ue(E)}function ne(_){return y.type===r.Punctuator&&y.value===_}function ae(_){return y.type===r.Keyword&&y.value===_}function De(){var _;return y.type!==r.Punctuator?!1:(_=y.value,_==="="||_==="*="||_==="/="||_==="%="||_==="+="||_==="-="||_==="<<="||_===">>="||_===">>>="||_==="&="||_==="^="||_==="|=")}function Se(){var _,E=f,N=D,Z=A,fe=y;if(c.charCodeAt(f)===59||ne(";")){_e();return}if(_=D,ve(),D!==_){f=E,D=N,A=Z,y=fe;return}y.type!==r.EOF&&!ne("}")&&ue(y)}function qe(_){return _.type===a.Identifier||_.type===a.MemberExpression}function be(){var _=[],E;for(E=y,ee("[");!ne("]");)ne(",")?(_e(),_.push(null)):(_.push(br()),ne("]")||ee(","));return _e(),m.markEnd(m.createArrayExpression(_),E)}function Lt(_,E){var N,Z,fe;return N=l,fe=y,Z=Ci(),E&&l&&H(_[0].name)&&K(E,h.StrictParamName),l=N,m.markEnd(m.createFunctionExpression(null,_,[],Z),fe)}function Mt(){var _,E;return E=y,_=_e(),_.type===r.StringLiteral||_.type===r.NumericLiteral?(l&&_.octal&&K(_,h.StrictOctalLiteral),m.markEnd(m.createLiteral(_),E)):m.markEnd(m.createIdentifier(_.value),E)}function Jt(){var _,E,N,Z,fe,we;if(_=y,we=y,_.type===r.Identifier)return N=Mt(),_.value==="get"&&!ne(":")?(E=Mt(),ee("("),ee(")"),Z=Lt([]),m.markEnd(m.createProperty("get",E,Z),we)):_.value==="set"&&!ne(":")?(E=Mt(),ee("("),_=y,_.type!==r.Identifier?(ee(")"),K(_,h.UnexpectedToken,_.value),Z=Lt([])):(fe=[Qr()],ee(")"),Z=Lt(fe,_)),m.markEnd(m.createProperty("set",E,Z),we)):(ee(":"),Z=br(),m.markEnd(m.createProperty("init",N,Z),we));if(_.type===r.EOF||_.type===r.Punctuator)ue(_);else return E=Mt(),ee(":"),Z=br(),m.markEnd(m.createProperty("init",E,Z),we)}function Ut(){var _=[],E,N,Z,fe,we={},et=String,lt;for(lt=y,ee("{");!ne("}");)E=Jt(),E.key.type===a.Identifier?N=E.key.name:N=et(E.key.value),fe=E.kind==="init"?o.Data:E.kind==="get"?o.Get:o.Set,Z="$"+N,Object.prototype.hasOwnProperty.call(we,Z)?(we[Z]===o.Data?l&&fe===o.Data?K({},h.StrictDuplicateProperty):fe!==o.Data&&K({},h.AccessorDataProperty):fe===o.Data?K({},h.AccessorDataProperty):we[Z]&fe&&K({},h.AccessorGetSet),we[Z]|=fe):we[Z]=fe,_.push(E),ne("}")||ee(",");return ee("}"),m.markEnd(m.createObjectExpression(_),lt)}function pr(){var _;return ee("("),_=Xt(),ee(")"),_}function jt(){var _,E,N,Z;if(ne("("))return pr();if(ne("["))return be();if(ne("{"))return Ut();if(_=y.type,Z=y,_===r.Identifier)N=m.createIdentifier(_e().value);else if(_===r.StringLiteral||_===r.NumericLiteral)l&&y.octal&&K(y,h.StrictOctalLiteral),N=m.createLiteral(_e());else if(_===r.Keyword){if(ae("function"))return Si();ae("this")?(_e(),N=m.createThisExpression()):ue(_e())}else _===r.BooleanLiteral?(E=_e(),E.value=E.value==="true",N=m.createLiteral(E)):_===r.NullLiteral?(E=_e(),E.value=null,N=m.createLiteral(E)):ne("/")||ne("/=")?(typeof w.tokens<"u"?N=m.createLiteral(Je()):N=m.createLiteral(rt()),pt()):ue(_e());return m.markEnd(N,Z)}function vr(){var _=[];if(ee("("),!ne(")"))for(;f<g&&(_.push(br()),!ne(")"));)ee(",");return ee(")"),_}function ar(){var _,E;return E=y,_=_e(),At(_)||ue(_),m.markEnd(m.createIdentifier(_.value),E)}function sr(){return ee("."),ar()}function Xr(){var _;return ee("["),_=Xt(),ee("]"),_}function fr(){var _,E,N;return N=y,he("new"),_=jn(),E=ne("(")?vr():[],m.markEnd(m.createNewExpression(_,E),N)}function pn(){var _,E,N,Z,fe=F.allowIn;for(Z=y,F.allowIn=!0,_=ae("new")?fr():jt();;){if(ne("."))N=sr(),_=m.createMemberExpression(".",_,N);else if(ne("("))E=vr(),_=m.createCallExpression(_,E);else if(ne("["))N=Xr(),_=m.createMemberExpression("[",_,N);else break;m.markEnd(_,Z)}return F.allowIn=fe,_}function jn(){var _,E,N;for(B(F.allowIn,"callee of new expression always allow in keyword."),N=y,_=ae("new")?fr():jt();ne(".")||ne("[");)ne("[")?(E=Xr(),_=m.createMemberExpression("[",_,E)):(E=sr(),_=m.createMemberExpression(".",_,E)),m.markEnd(_,N);return _}function Sn(){var _,E,N=y;return _=pn(),y.type===r.Punctuator&&(ne("++")||ne("--"))&&!R()&&(l&&_.type===a.Identifier&&H(_.name)&&K({},h.StrictLHSPostfix),qe(_)||K({},h.InvalidLHSInAssignment),E=_e(),_=m.markEnd(m.createPostfixExpression(E.value,_),N)),_}function Bn(){var _,E,N;return y.type!==r.Punctuator&&y.type!==r.Keyword?E=Sn():ne("++")||ne("--")?(N=y,_=_e(),E=Bn(),l&&E.type===a.Identifier&&H(E.name)&&K({},h.StrictLHSPrefix),qe(E)||K({},h.InvalidLHSInAssignment),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,N)):ne("+")||ne("-")||ne("~")||ne("!")?(N=y,_=_e(),E=Bn(),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,N)):ae("delete")||ae("void")||ae("typeof")?(N=y,_=_e(),E=Bn(),E=m.createUnaryExpression(_.value,E),E=m.markEnd(E,N),l&&E.operator==="delete"&&E.argument.type===a.Identifier&&K({},h.StrictDelete)):E=Sn(),E}function Li(_,E){var N=0;if(_.type!==r.Punctuator&&_.type!==r.Keyword)return 0;switch(_.value){case"||":N=1;break;case"&&":N=2;break;case"|":N=3;break;case"^":N=4;break;case"&":N=5;break;case"==":case"!=":case"===":case"!==":N=6;break;case"<":case">":case"<=":case">=":case"instanceof":N=7;break;case"in":N=E?7:0;break;case"<<":case">>":case">>>":N=8;break;case"+":case"-":N=9;break;case"*":case"/":case"%":N=11;break}return N}function Ei(){var _,E,N,Z,fe,we,et,lt,kt,rr;if(_=y,kt=Bn(),Z=y,fe=Li(Z,F.allowIn),fe===0)return kt;for(Z.prec=fe,_e(),E=[_,y],et=Bn(),we=[kt,Z,et];(fe=Li(y,F.allowIn))>0;){for(;we.length>2&&fe<=we[we.length-2].prec;)et=we.pop(),lt=we.pop().value,kt=we.pop(),N=m.createBinaryExpression(lt,kt,et),E.pop(),_=E[E.length-1],m.markEnd(N,_),we.push(N);Z=_e(),Z.prec=fe,we.push(Z),E.push(y),N=Bn(),we.push(N)}for(rr=we.length-1,N=we[rr],E.pop();rr>1;)N=m.createBinaryExpression(we[rr-1].value,we[rr-2],N),rr-=2,_=E.pop(),m.markEnd(N,_);return N}function vu(){var _,E,N,Z,fe;return fe=y,_=Ei(),ne("?")&&(_e(),E=F.allowIn,F.allowIn=!0,N=br(),F.allowIn=E,ee(":"),Z=br(),_=m.createConditionalExpression(_,N,Z),m.markEnd(_,fe)),_}function br(){var _,E,N,Z,fe;return _=y,fe=y,Z=E=vu(),De()&&(qe(E)||K({},h.InvalidLHSInAssignment),l&&E.type===a.Identifier&&H(E.name)&&K(_,h.StrictLHSAssignment),_=_e(),N=br(),Z=m.markEnd(m.createAssignmentExpression(_.value,E,N),fe)),Z}function Xt(){var _,E=y;if(_=br(),ne(",")){for(_=m.createSequenceExpression([_]);f<g&&ne(",");)_e(),_.expressions.push(br());m.markEnd(_,E)}return _}function gu(){for(var _=[],E;f<g&&!(ne("}")||(E=vn(),typeof E>"u"));)_.push(E);return _}function ri(){var _,E;return E=y,ee("{"),_=gu(),ee("}"),m.markEnd(m.createBlockStatement(_),E)}function Qr(){var _,E;return E=y,_=_e(),_.type!==r.Identifier&&ue(_),m.markEnd(m.createIdentifier(_.value),E)}function Vn(_){var E=null,N,Z;return Z=y,N=Qr(),l&&H(N.name)&&K({},h.StrictVarName),_==="const"?(ee("="),E=br()):ne("=")&&(_e(),E=br()),m.markEnd(m.createVariableDeclarator(N,E),Z)}function Fi(_){var E=[];do{if(E.push(Vn(_)),!ne(","))break;_e()}while(f<g);return E}function mu(){var _;return he("var"),_=Fi(),Se(),m.createVariableDeclaration(_,"var")}function Du(_){var E,N;return N=y,he(_),E=Fi(_),Se(),m.markEnd(m.createVariableDeclaration(E,_),N)}function Ui(){return ee(";"),m.createEmptyStatement()}function _u(){var _=Xt();return Se(),m.createExpressionStatement(_)}function yu(){var _,E,N;return he("if"),ee("("),_=Xt(),ee(")"),E=Pr(),ae("else")?(_e(),N=Pr()):N=null,m.createIfStatement(_,E,N)}function Au(){var _,E,N;return he("do"),N=F.inIteration,F.inIteration=!0,_=Pr(),F.inIteration=N,he("while"),ee("("),E=Xt(),ee(")"),ne(";")&&_e(),m.createDoWhileStatement(_,E)}function bu(){var _,E,N;return he("while"),ee("("),_=Xt(),ee(")"),N=F.inIteration,F.inIteration=!0,E=Pr(),F.inIteration=N,m.createWhileStatement(_,E)}function wu(){var _,E,N;return N=y,_=_e(),E=Fi(),m.markEnd(m.createVariableDeclaration(E,_.value),N)}function Eu(){var _,E,N,Z,fe,we,et,lt=F.allowIn;return _=E=N=null,he("for"),ee("("),ne(";")?_e():(ae("var")||ae("let")?(F.allowIn=!1,_=wu(),F.allowIn=lt,_.declarations.length===1&&ae("in")&&(_e(),Z=_,fe=Xt(),_=null)):(F.allowIn=!1,_=Xt(),F.allowIn=lt,ae("in")&&(qe(_)||K({},h.InvalidLHSInForIn),_e(),Z=_,fe=Xt(),_=null)),typeof Z>"u"&&ee(";")),typeof Z>"u"&&(ne(";")||(E=Xt()),ee(";"),ne(")")||(N=Xt())),ee(")"),et=F.inIteration,F.inIteration=!0,we=Pr(),F.inIteration=et,typeof Z>"u"?m.createForStatement(_,E,N,we):m.createForInStatement(Z,fe,we)}function ni(){var _=null,E;return he("continue"),c.charCodeAt(f)===59?(_e(),F.inIteration||U({},h.IllegalContinue),m.createContinueStatement(null)):R()?(F.inIteration||U({},h.IllegalContinue),m.createContinueStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(F.labelSet,E)||U({},h.UnknownLabel,_.name)),Se(),_===null&&!F.inIteration&&U({},h.IllegalContinue),m.createContinueStatement(_))}function Fu(){var _=null,E;return he("break"),c.charCodeAt(f)===59?(_e(),F.inIteration||F.inSwitch||U({},h.IllegalBreak),m.createBreakStatement(null)):R()?(F.inIteration||F.inSwitch||U({},h.IllegalBreak),m.createBreakStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(F.labelSet,E)||U({},h.UnknownLabel,_.name)),Se(),_===null&&!(F.inIteration||F.inSwitch)&&U({},h.IllegalBreak),m.createBreakStatement(_))}function ii(){var _=null;return he("return"),F.inFunctionBody||K({},h.IllegalReturn),c.charCodeAt(f)===32&&j(c.charCodeAt(f+1))?(_=Xt(),Se(),m.createReturnStatement(_)):R()?m.createReturnStatement(null):(ne(";")||!ne("}")&&y.type!==r.EOF&&(_=Xt()),Se(),m.createReturnStatement(_))}function Cu(){var _,E;return l&&(ve(),K({},h.StrictModeWith)),he("with"),ee("("),_=Xt(),ee(")"),E=Pr(),m.createWithStatement(_,E)}function Su(){var _,E=[],N,Z;for(Z=y,ae("default")?(_e(),_=null):(he("case"),_=Xt()),ee(":");f<g&&!(ne("}")||ae("default")||ae("case"));)N=Pr(),E.push(N);return m.markEnd(m.createSwitchCase(_,E),Z)}function Bu(){var _,E,N,Z,fe;if(he("switch"),ee("("),_=Xt(),ee(")"),ee("{"),E=[],ne("}"))return _e(),m.createSwitchStatement(_,E);for(Z=F.inSwitch,F.inSwitch=!0,fe=!1;f<g&&!ne("}");)N=Su(),N.test===null&&(fe&&U({},h.MultipleDefaultsInSwitch),fe=!0),E.push(N);return F.inSwitch=Z,ee("}"),m.createSwitchStatement(_,E)}function ji(){var _;return he("throw"),R()&&U({},h.NewlineAfterThrow),_=Xt(),Se(),m.createThrowStatement(_)}function On(){var _,E,N;return N=y,he("catch"),ee("("),ne(")")&&ue(y),_=Qr(),l&&H(_.name)&&K({},h.StrictCatchVariable),ee(")"),E=ri(),m.markEnd(m.createCatchClause(_,E),N)}function gr(){var _,E=[],N=null;return he("try"),_=ri(),ae("catch")&&E.push(On()),ae("finally")&&(_e(),N=ri()),E.length===0&&!N&&U({},h.NoCatchOrFinally),m.createTryStatement(_,[],E,N)}function tr(){return he("debugger"),Se(),m.createDebuggerStatement()}function Pr(){var _=y.type,E,N,Z,fe;if(_===r.EOF&&ue(y),_===r.Punctuator&&y.value==="{")return ri();if(fe=y,_===r.Punctuator)switch(y.value){case";":return m.markEnd(Ui(),fe);case"(":return m.markEnd(_u(),fe)}if(_===r.Keyword)switch(y.value){case"break":return m.markEnd(Fu(),fe);case"continue":return m.markEnd(ni(),fe);case"debugger":return m.markEnd(tr(),fe);case"do":return m.markEnd(Au(),fe);case"for":return m.markEnd(Eu(),fe);case"function":return m.markEnd(Mn(),fe);case"if":return m.markEnd(yu(),fe);case"return":return m.markEnd(ii(),fe);case"switch":return m.markEnd(Bu(),fe);case"throw":return m.markEnd(ji(),fe);case"try":return m.markEnd(gr(),fe);case"var":return m.markEnd(mu(),fe);case"while":return m.markEnd(bu(),fe);case"with":return m.markEnd(Cu(),fe)}return E=Xt(),E.type===a.Identifier&&ne(":")?(_e(),Z="$"+E.name,Object.prototype.hasOwnProperty.call(F.labelSet,Z)&&U({},h.Redeclaration,"Label",E.name),F.labelSet[Z]=!0,N=Pr(),delete F.labelSet[Z],m.markEnd(m.createLabeledStatement(E,N),fe)):(Se(),m.markEnd(m.createExpressionStatement(E),fe))}function Ci(){var _,E=[],N,Z,fe,we,et,lt,kt,rr;for(rr=y,ee("{");f<g&&!(y.type!==r.StringLiteral||(N=y,_=vn(),E.push(_),_.expression.type!==a.Literal));)Z=c.slice(N.start+1,N.end-1),Z==="use strict"?(l=!0,fe&&K(fe,h.StrictOctalLiteral)):!fe&&N.octal&&(fe=N);for(we=F.labelSet,et=F.inIteration,lt=F.inSwitch,kt=F.inFunctionBody,F.labelSet={},F.inIteration=!1,F.inSwitch=!1,F.inFunctionBody=!0;f<g&&!(ne("}")||(_=vn(),typeof _>"u"));)E.push(_);return ee("}"),F.labelSet=we,F.inIteration=et,F.inSwitch=lt,F.inFunctionBody=kt,m.markEnd(m.createBlockStatement(E),rr)}function qn(_){var E,N=[],Z,fe,we,et,lt;if(ee("("),!ne(")"))for(we={};f<g&&(Z=y,E=Qr(),et="$"+Z.value,l?(H(Z.value)&&(fe=Z,lt=h.StrictParamName),Object.prototype.hasOwnProperty.call(we,et)&&(fe=Z,lt=h.StrictParamDupe)):_||(H(Z.value)?(_=Z,lt=h.StrictParamName):G(Z.value)?(_=Z,lt=h.StrictReservedWord):Object.prototype.hasOwnProperty.call(we,et)&&(_=Z,lt=h.StrictParamDupe)),N.push(E),we[et]=!0,!ne(")"));)ee(",");return ee(")"),{params:N,stricted:fe,firstRestricted:_,message:lt}}function Mn(){var _,E=[],N,Z,fe,we,et,lt,kt,rr;return rr=y,he("function"),Z=y,_=Qr(),l?H(Z.value)&&K(Z,h.StrictFunctionName):H(Z.value)?(et=Z,lt=h.StrictFunctionName):G(Z.value)&&(et=Z,lt=h.StrictReservedWord),we=qn(et),E=we.params,fe=we.stricted,et=we.firstRestricted,we.message&&(lt=we.message),kt=l,N=Ci(),l&&et&&U(et,lt),l&&fe&&K(fe,lt),l=kt,m.markEnd(m.createFunctionDeclaration(_,E,[],N),rr)}function Si(){var _,E=null,N,Z,fe,we,et=[],lt,kt,rr;return rr=y,he("function"),ne("(")||(_=y,E=Qr(),l?H(_.value)&&K(_,h.StrictFunctionName):H(_.value)?(Z=_,fe=h.StrictFunctionName):G(_.value)&&(Z=_,fe=h.StrictReservedWord)),we=qn(Z),et=we.params,N=we.stricted,Z=we.firstRestricted,we.message&&(fe=we.message),kt=l,lt=Ci(),l&&Z&&U(Z,fe),l&&N&&K(N,fe),l=kt,m.markEnd(m.createFunctionExpression(E,et,[],lt),rr)}function vn(){if(y.type===r.Keyword)switch(y.value){case"const":case"let":return Du(y.value);case"function":return Mn();default:return Pr()}if(y.type!==r.EOF)return Pr()}function en(){for(var _,E=[],N,Z,fe;f<g&&(N=y,!(N.type!==r.StringLiteral||(_=vn(),E.push(_),_.expression.type!==a.Literal)));)Z=c.slice(N.start+1,N.end-1),Z==="use strict"?(l=!0,fe&&K(fe,h.StrictOctalLiteral)):!fe&&N.octal&&(fe=N);for(;f<g&&(_=vn(),!(typeof _>"u"));)E.push(_);return E}function Ps(){var _,E;return ve(),pt(),E=y,l=!1,_=en(),m.markEnd(m.createProgram(_),E)}function Ou(){var _,E,N,Z=[];for(_=0;_<w.tokens.length;++_)E=w.tokens[_],N={type:E.type,value:E.value},w.range&&(N.range=E.range),w.loc&&(N.loc=E.loc),Z.push(N);w.tokens=Z}function Vi(_,E){var N,Z,fe;N=String,typeof _!="string"&&!(_ instanceof String)&&(_=N(_)),m=p,c=_,f=0,D=c.length>0?1:0,A=0,g=c.length,y=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},E=E||{},E.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]);try{if(pt(),y.type===r.EOF)return w.tokens;for(Z=_e();y.type!==r.EOF;)try{Z=_e()}catch(we){if(Z=y,w.errors){w.errors.push(we);break}else throw we}Ou(),fe=w.tokens,typeof w.comments<"u"&&(fe.comments=w.comments),typeof w.errors<"u"&&(fe.errors=w.errors)}catch(we){throw we}finally{w={}}return fe}function Ju(_,E){var N,Z;Z=String,typeof _!="string"&&!(_ instanceof String)&&(_=Z(_)),m=p,c=_,f=0,D=c.length>0?1:0,A=0,g=c.length,y=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof E<"u"&&(w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,w.attachComment=typeof E.attachComment=="boolean"&&E.attachComment,w.loc&&E.source!==null&&E.source!==void 0&&(w.source=Z(E.source)),typeof E.tokens=="boolean"&&E.tokens&&(w.tokens=[]),typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{N=Ps(),typeof w.comments<"u"&&(N.comments=w.comments),typeof w.tokens<"u"&&(Ou(),N.tokens=w.tokens),typeof w.errors<"u"&&(N.errors=w.errors)}catch(fe){throw fe}finally{w={}}return N}t.version="1.2.5",t.tokenize=Vi,t.parse=Ju,t.Syntax=function(){var _,E={};typeof Object.create=="function"&&(E=Object.create(null));for(_ in a)a.hasOwnProperty(_)&&(E[_]=a[_]);return typeof Object.freeze=="function"&&Object.freeze(E),E}()})})(Ap);var UF=Ap,Th=Dp,jF=0;function VF(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function qF(e,t,r,i){this.body=e,this.args=t,this.thisVars=r,this.localVars=i}function zF(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof or<"u"?e in or:typeof self<"u"?e in self:!1}function WF(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),i=0;i<t.length;++i)r[i]=t[i].name;return r}function HF(e){for(var t=["(",e,")()"].join(""),r=UF.parse(t,{range:!0}),i="_inline_"+jF+++"_",u=WF(r),a=new Array(u.length),o=0;o<u.length;++o)a[o]=new VF([i,"arg",o,"_"].join(""),!1,!1);for(var h=new Array(t.length),o=0,d=t.length;o<d;++o)h[o]=t.charAt(o);var p=[],c=[];function l(B){var C=i+B.replace(/\_/g,"__");return p.push(C),C}function f(B){var C="this_"+B.replace(/\_/g,"__");return c.push(C),C}function D(B,C){for(var O=B.range[0],x=B.range[1],T=O+1;T<x;++T)h[T]="";h[O]=C}function A(B){return"'"+B.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(B){return h.slice(B.range[0],B.range[1]).join("")}var m=1,y=2;function F(B){return B.parent.type==="AssignmentExpression"&&B.parent.left===B?B.parent.operator==="="?m:m|y:B.parent.type==="UpdateExpression"?m|y:y}(function B(C,O){if(C.parent=O,C.type==="MemberExpression")C.computed?(B(C.object,C),B(C.property,C)):C.object.type==="ThisExpression"?D(C,f(C.property.name)):B(C.object,C);else{if(C.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(C.type==="Identifier"){var x=C.name,T=u.indexOf(x);if(T>=0){var I=a[T],j=F(C);j&m&&(I.lvalue=!0),j&y&&(I.rvalue=!0),++I.count,D(C,I.name)}else zF(x)||D(C,l(x))}else if(C.type==="Literal")typeof C.value=="string"&&D(C,A(C.value));else{if(C.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var Y=Object.keys(C),X=0,G=Y.length;X<G;++X)if(Y[X]!=="parent"){var H=C[Y[X]];if(H)if(H instanceof Array)for(var V=0;V<H.length;++V)H[V]&&typeof H[V].type=="string"&&B(H[V],C);else typeof H.type=="string"&&B(H,C)}}}})(r.body[0].expression.callee.body,void 0),Th(p),Th(c);var w=new qF(g(r.body[0].expression.callee.body),a,c,p);return w}var GF=HF,dl=GF,KF=hf,ja=["args","body"],YF=["pre","post","printCode","funcName","blockSize"];function ZF(e){for(var t in e)ja.indexOf(t)<0&&YF.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<ja.length;++r)if(!e[ja[r]])throw new Error("cwise: Missing argument: "+ja[r]);return KF({args:e.args,pre:dl(e.pre||function(){}),body:dl(e.body),post:dl(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var xs=ZF,$F=LF,JF=xs,XF=JF({args:["array","scalar","index"],body:function(t,r,i){var u=r,a;for(a=0;a<i.length-1;++a)u=u[i[a]];u[i[i.length-1]]=t}}),QF=function(t){var r=$F(t.shape);return XF(t,r),r},os={},eC={get exports(){return os},set exports(e){os=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,h){for(var d=new Float64Array(o*h),p=0;p<d.length;p++)d[p]=a()*1e-4;return(0,i.default)(d,[o,h])};var r=pu,i=u(r);function u(o){return o&&o.__esModule?o:{default:o}}function a(){var o=2*Math.random()-1,h=2*Math.random()-1,d=o*o+h*h;return d==0||d>1?a():o*Math.sqrt(-2*Math.log(d)/d)}e.exports=t.default})(eC,os);var Zu={},tC={get exports(){return Zu},set exports(e){Zu=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l,f){var D=l.shape[0],A=(0,i.default)(new Float64Array(D*D),[D,D]);switch(f){case"euclidean":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=h(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"manhattan":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=d(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"jaccard":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=p(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break;case"dice":for(var g=0;g<D;g++)for(var m=g+1;m<D;m++){var y=c(l.pick(g,null),l.pick(m,null));A.set(g,m,y),A.set(m,g,y)}break}return A};var r=pu,i=o(r),u=xs,a=o(u);function o(l){return l&&l.__esModule?l:{default:l}}var h=(0,a.default)({args:["array","array"],pre:function(f,D){this.sum=0},body:function(f,D){var A=f-D;this.sum+=A*A},post:function(f,D){return Math.sqrt(this.sum)}}),d=(0,a.default)({args:["array","array"],pre:function(f,D){this.sum=0},body:function(f,D){this.sum+=Math.abs(f-D)},post:function(f,D){return this.sum}}),p=(0,a.default)({args:["array","array"],pre:function(f,D){this.tf=0,this.tt=0},body:function(f,D){var A=Math.round(f),g=Math.round(D);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(f,D){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),c=(0,a.default)({args:["array","array"],pre:function(f,D){this.tf=0,this.tt=0},body:function(f,D){var A=Math.round(f),g=Math.round(D);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(f,D){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});e.exports=t.default})(tC,Zu);var ls={},rC={get exports(){return ls},set exports(e){ls=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(c,l){for(var f=100,D=c.shape[0],A=(0,i.default)(new Float64Array(D*D),[D,D]),g=(0,i.default)(new Float64Array(D*D),[D,D]),m=void 0,y=void 0,F=1/0,w=Math.log(l),B=void 0,C=void 0,O=void 0,x=void 0,T=0;T<D;T++){m=1,y=-1/0,F=1/0;for(var I=0;I<f;I++){for(var j=0;j<D;j++)A.set(T,j,Math.exp(-c.get(T,j)*m));A.set(T,T,0),O=0;for(var j=0;j<D;j++)O+=A.get(T,j);O==0&&(O=h),x=0;for(var j=0;j<D;j++)A.set(T,j,A.get(T,j)/O),x+=c.get(T,j)*A.get(T,j);if(C=Math.log(O)+m*x,B=C-w,Math.abs(B)<=p)break;B>0?(y=m,F==1/0?m=m*2:m=(m+F)/2):(F=m,y==-1/0?m=m/2:m=(m+y)/2)}}a.default.add(g,A,A.transpose(1,0));var Y=Math.max(a.default.sum(g),d);return a.default.divseq(g,Y),a.default.maxseq(g,d),g};var r=pu,i=o(r),u=Ms,a=o(u);function o(c){return c&&c.__esModule?c:{default:c}}var h=1e-7,d=Number.EPSILON||2220446049250313e-31,p=1e-5;e.exports=t.default})(rC,ls);var fs={},nC={get exports(){return fs},set exports(e){fs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(D,A,g){var m=D.shape[0],y=D.shape[1],F=(0,i.default)(new Float64Array(m*m),[m,m]),w=(0,p.default)(D,"euclidean");f(w);var B=(g+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(w,1),g),B);for(var C=0;C<m;C++)w.set(C,C,0);var O=Math.max(a.default.sum(w),l);a.default.divs(F,w,O),a.default.maxseq(F,l);var x=(0,i.default)(new Float64Array(m*m),[m,m]),T=(0,i.default)(new Float64Array(m*m),[m,m]);a.default.div(x,A,F),a.default.logeq(x),a.default.assign(T,A);var I=a.default.sum(a.default.muleq(x,T)),j=(0,i.default)(new Float64Array(D.size),D.shape),Y=(0,i.default)(new Float64Array(m*m),[m,m]);a.default.sub(Y,A,F),a.default.muleq(Y,w);for(var C=0;C<m;C++)for(var X=0;X<y;X++){var G=(0,i.default)(new Float64Array(D.shape[0]),[D.shape[0]]);a.default.assign(G,D.pick(null,X)),a.default.addseq(a.default.negeq(G),D.get(C,X)),a.default.muleq(G,Y.pick(C,null)),j.set(C,X,a.default.sum(G))}var H=2*(g+1)/g;return a.default.mulseq(j,H),[I,j]};var r=pu,i=c(r),u=Ms,a=c(u),o=xs,h=c(o),d=Zu,p=c(d);function c(D){return D&&D.__esModule?D:{default:D}}var l=Number.EPSILON||2220446049250313e-31,f=(0,h.default)({args:["array"],body:function(A){}});e.exports=t.default})(nC,fs);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function G(H,V){var W=[],re=!0,ce=!1,ve=void 0;try{for(var ye=H[Symbol.iterator](),Ee;!(re=(Ee=ye.next()).done)&&(W.push(Ee.value),!(V&&W.length===V));re=!0);}catch(Oe){ce=!0,ve=Oe}finally{try{!re&&ye.return&&ye.return()}finally{if(ce)throw ve}}return W}return function(H,V){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return G(H,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function G(H,V){for(var W=0;W<V.length;W++){var re=V[W];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(H,re.key,re)}}return function(H,V,W){return V&&G(H.prototype,V),W&&G(H,W),H}}(),u=as,a=pu,o=x(a),h=Ms,d=x(h),p=NF,c=x(p),l=QF,f=x(l),D=xs,A=x(D),g=os,m=x(g),y=Zu,F=x(y),w=ls,B=x(w),C=fs,O=x(C);function x(G){return G&&G.__esModule?G:{default:G}}function T(G){if(Array.isArray(G)){for(var H=0,V=Array(G.length);H<G.length;H++)V[H]=G[H];return V}else return Array.from(G)}function I(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}function j(G,H){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:G}function Y(G,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(G,H):G.__proto__=H)}var X=function(G){Y(H,G);function H(V){I(this,H);var W=j(this,Object.getPrototypeOf(H).call(this));return V=V||{},W.dim=V.dim||2,W.perplexity=V.perplexity||30,W.earlyExaggeration=V.earlyExaggeration||4,W.learningRate=V.learningRate||1e3,W.nIter=V.nIter||1e3,W.metric=V.metric||"euclidean",W.barneshut=V.barneshut||!1,W.inputData=null,W.outputEmbedding=null,W}return i(H,[{key:"init",value:function(W){W=W||{};var re=W.data||[],ce=W.type||"dense";if(ce==="dense")this.inputData=(0,c.default)(re);else if(ce==="sparse"){for(var ve=[],ye=1,Ee=function(ht){var dt=Math.max.apply(null,re.map(function(rt){return rt[ht]}))+1;ve.push(dt),ye*=dt},Oe=0;Oe<re[0].length;Oe++)Ee(Oe);this.inputData=(0,o.default)(new Float64Array(ye),ve);var Me=!0,Te=!1,$e=void 0;try{for(var ze=re[Symbol.iterator](),at;!(Me=(at=ze.next()).done);Me=!0){var ct,Qe=at.value;(ct=this.inputData).set.apply(ct,T(Qe).concat([1]))}}catch(it){Te=!0,$e=it}finally{try{!Me&&ze.return&&ze.return()}finally{if(Te)throw $e}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,m.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,F.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,B.default)(this.distances,this.perplexity);var W=Number.MAX_VALUE,re=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),d.default.mulseq(this.P,this.earlyExaggeration);var ce=this._gradDesc(re,50,.5,0,0),ve=r(ce,2);W=ve[0],re=ve[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var ye=this._gradDesc(re+1,100,.8,0,0),Ee=r(ye,2);W=Ee[0],re=Ee[1],this.emit("progressStatus","Final optimization with momentum 0.8"),d.default.divseq(this.P,this.earlyExaggeration);var Oe=this._gradDesc(re+1,this.nIter,.8,1e-6,1e-6),Me=r(Oe,2);return W=Me[0],re=Me[1],this.emit("progressStatus","Optimization end"),[W,re]}},{key:"rerun",value:function(){this.outputEmbedding=(0,m.default)(this.inputData.shape[0],this.dim);var W=this.run(),re=r(W,2),ce=re[0],ve=re[1];return[ce,ve]}},{key:"getOutput",value:function(){return(0,f.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var W=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),re=(0,o.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),ce=0;ce<this.outputEmbedding.shape[1];ce++){var ve=d.default.sup(d.default.abs(re,this.outputEmbedding.pick(null,ce)));d.default.divs(W.pick(null,ce),this.outputEmbedding.pick(null,ce),ve)}return(0,f.default)(W)}},{key:"_gradDesc",value:function(W,re,ce){for(var ve=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],ye=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],Ee=30,Oe=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),Me=new Float64Array(this.outputEmbedding.size),Te=0;Te<Me.length;Te++)Me[Te]=1;var $e=(0,o.default)(Me,this.outputEmbedding.shape),ze=Number.MAX_VALUE,at=Number.MAX_VALUE,ct=0,Qe=(0,A.default)({args:["array"],pre:function(pt){this.sum=0},body:function(pt){this.sum+=pt*pt},post:function(pt){return Math.sqrt(this.sum)}}),it=(0,A.default)({args:["array","array","array"],body:function(pt,Nt,ur){}}),ht=void 0;for(ht=W;ht<re;ht++){var dt=(0,O.default)(this.outputEmbedding,this.P,this.alpha),rt=r(dt,2),Je=rt[0],At=rt[1],Ar=Math.abs(Je-ze);ze=Je;var wt=Qe(At);if(this.emit("progressIter",[ht,ze,wt]),ze<at)at=ze,ct=ht;else if(ht-ct>Ee)break;if(ve>=wt||ye>=Ar)break;it($e,Oe,At),d.default.muleq(At,$e);var Ae=(0,o.default)(new Float64Array(At.size),At.shape);d.default.muls(Ae,At,this.learningRate),d.default.mulseq(Oe,ce),d.default.subeq(Oe,Ae),d.default.addeq(this.outputEmbedding,Oe),this.emit("progressData",this.getOutputScaled())}return[ze,ht]}}]),H}(u.EventEmitter);t.default=X,e.exports=t.default})(X2,us);const iC=$l(us);function uC(e){let t,r=e[18].message+"",i;return{c(){t=oe("p"),i=Ye(r),this.h()},l(u){t=le(u,"P",{style:!0});var a=ie(t);i=Ze(a,r),a.forEach(q),this.h()},h(){Wt(t,"color","red")},m(u,a){Ce(u,t,a),Q(t,i)},p(u,a){a&16&&r!==(r=u[18].message+"")&&wn(i,r)},i:Pe,o:Pe,d(u){u&&q(t)}}}function aC(e){let t,r,i,u,a,o,h,d,p,c,l,f,D,A,g,m,y,F,w,B,C,O,x,T,I,j,Y,X;r=new xE({props:{dimensions:e[2],center:e[7]}});let G=e[3].embedExponentialScaling&&Ih(e);return{c(){t=oe("div"),mt(r.$$.fragment),u=Ge(),a=oe("div"),o=oe("div"),h=oe("label"),d=oe("span"),p=Ye("Exponential Scaling"),c=Ge(),l=oe("input"),D=Ge(),G&&G.c(),A=Ge(),g=oe("div"),m=oe("label"),y=oe("span"),F=Ye("# Prompts"),w=Ge(),B=oe("input"),O=Ge(),x=oe("div"),T=oe("button"),I=Ye("Shuffle"),this.h()},l(H){t=le(H,"DIV",{class:!0});var V=ie(t);Dt(r.$$.fragment,V),V.forEach(q),u=Ke(H),a=le(H,"DIV",{class:!0});var W=ie(a);o=le(W,"DIV",{class:!0});var re=ie(o);h=le(re,"LABEL",{class:!0});var ce=ie(h);d=le(ce,"SPAN",{class:!0});var ve=ie(d);p=Ze(ve,"Exponential Scaling"),ve.forEach(q),ce.forEach(q),c=Ke(re),l=le(re,"INPUT",{type:!0,class:!0}),re.forEach(q),D=Ke(W),G&&G.l(W),A=Ke(W),g=le(W,"DIV",{class:!0});var ye=ie(g);m=le(ye,"LABEL",{class:!0});var Ee=ie(m);y=le(Ee,"SPAN",{class:!0});var Oe=ie(y);F=Ze(Oe,"# Prompts"),Oe.forEach(q),Ee.forEach(q),w=Ke(ye),B=le(ye,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ye.forEach(q),O=Ke(W),x=le(W,"DIV",{class:!0});var Me=ie(x);T=le(Me,"BUTTON",{class:!0});var Te=ie(T);I=Ze(Te,"Shuffle"),Te.forEach(q),Me.forEach(q),W.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[13].call(t)),k(d,"class","label-text"),k(h,"class","label"),k(l,"type","checkbox"),k(l,"class","toggle"),l.checked=f=e[3].embedExponentialScaling,k(o,"class","min-w-max px-2"),k(y,"class","label-text"),k(m,"class","label"),B.value=C=e[3].embedPromptLimit,k(B,"type","range"),k(B,"min","1"),k(B,"max",e[6]),k(B,"step","1"),k(B,"class","range"),k(g,"class","w-full px-2"),k(T,"class","btn btn-sm btn-primary"),k(x,"class","w-32 px-2 pb-1 flex flex-col justify-end"),k(a,"class","px-2 py-4 pb-0 flex")},m(H,V){Ce(H,t,V),_t(r,t,null),i=Gl(t,e[13].bind(t)),Ce(H,u,V),Ce(H,a,V),Q(a,o),Q(o,h),Q(h,d),Q(d,p),Q(o,c),Q(o,l),Q(a,D),G&&G.m(a,null),Q(a,A),Q(a,g),Q(g,m),Q(m,y),Q(y,F),Q(g,w),Q(g,B),Q(a,O),Q(a,x),Q(x,T),Q(T,I),j=!0,Y||(X=[ke(l,"change",e[9]),ke(B,"change",e[8]),ke(T,"click",e[11])],Y=!0)},p(H,V){const W={};V&4&&(W.dimensions=H[2]),V&128&&(W.center=H[7]),r.$set(W),(!j||V&8&&f!==(f=H[3].embedExponentialScaling))&&(l.checked=f),H[3].embedExponentialScaling?G?G.p(H,V):(G=Ih(H),G.c(),G.m(a,A)):G&&(G.d(1),G=null),(!j||V&8&&C!==(C=H[3].embedPromptLimit))&&(B.value=C),(!j||V&64)&&k(B,"max",H[6])},i(H){j||(Ne(r.$$.fragment,H),j=!0)},o(H){Ve(r.$$.fragment,H),j=!1},d(H){H&&q(t),yt(r),i(),H&&q(u),H&&q(a),G&&G.d(),Y=!1,Jr(X)}}}function Ih(e){let t,r,i,u,a,o,h,d,p;return{c(){t=oe("div"),r=oe("label"),i=oe("span"),u=Ye("Scaling Power"),a=Ge(),o=oe("input"),this.h()},l(c){t=le(c,"DIV",{class:!0});var l=ie(t);r=le(l,"LABEL",{class:!0});var f=ie(r);i=le(f,"SPAN",{class:!0});var D=ie(i);u=Ze(D,"Scaling Power"),D.forEach(q),f.forEach(q),a=Ke(l),o=le(l,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),l.forEach(q),this.h()},h(){k(i,"class","label-text"),k(r,"class","label"),o.value=h=e[3].embedWeightScaling,k(o,"type","range"),k(o,"min","0.5"),k(o,"max","3"),k(o,"step","0.1"),k(o,"class","range"),k(t,"class","w-full px-2")},m(c,l){Ce(c,t,l),Q(t,r),Q(r,i),Q(i,u),Q(t,a),Q(t,o),d||(p=ke(o,"change",e[10]),d=!0)},p(c,l){l&8&&h!==(h=c[3].embedWeightScaling)&&(o.value=h)},d(c){c&&q(t),d=!1,p()}}}function sC(e){let t,r,i,u,a,o;return{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("progress"),this.h()},l(h){t=le(h,"DIV",{class:!0});var d=ie(t);r=le(d,"DIV",{class:!0});var p=ie(r);i=le(p,"DIV",{class:!0});var c=ie(i);u=le(c,"PROGRESS",{class:!0,max:!0}),ie(u).forEach(q),c.forEach(q),p.forEach(q),d.forEach(q),this.h()},h(){k(u,"class","progress progress-primary w-56"),u.value=a=Object.keys(e[5]).length,k(u,"max",o=Object.keys(e[3].weightedPrompts).length),k(i,"class","h-20 w-52"),k(r,"class","flex flex-col justify-center"),k(t,"class","w-full h-full flex justify-center")},m(h,d){Ce(h,t,d),Q(t,r),Q(r,i),Q(i,u)},p(h,d){d&32&&a!==(a=Object.keys(h[5]).length)&&(u.value=a),d&8&&o!==(o=Object.keys(h[3].weightedPrompts).length)&&k(u,"max",o)},i:Pe,o:Pe,d(h){h&&q(t)}}}function oC(e){let t,r,i,u={ctx:e,current:null,token:null,hasCatch:!0,pending:sC,then:aC,catch:uC,value:17,error:18,blocks:[,,,]};return Di(r=e[4],u),{c(){t=lr(),u.block.c()},l(a){t=lr(),u.block.l(a)},m(a,o){Ce(a,t,o),u.block.m(a,u.anchor=o),u.mount=()=>t.parentNode,u.anchor=t,i=!0},p(a,[o]){e=a,u.ctx=e,o&16&&r!==(r=e[4])&&Di(r,u)||ps(u,e,o)},i(a){i||(Ne(u.block),i=!0)},o(a){for(let o=0;o<3;o+=1){const h=u.blocks[o];Ve(h)}i=!1},d(a){a&&q(t),u.block.d(a),u.token=null,u=null}}}function Nh(e){return!e.embeddings||Object.entries(e.embeddings).length!==Object.entries(e.weightedPrompts).length||(e.lastPromptChange||0)>(e.lastEmbeddingChange||0)}function lC(e,t,r){let i,u,a,o,h,d;Bt(e,Cn,B=>r(3,o=B)),Bt(e,Bs,B=>r(12,h=B)),Bt(e,op,B=>r(14,d=B));let p=0,c=0,l=null,f={};function D(B){B.target.value>0&&B.target.value<=i&&It.updateActivePrompt({...o,embedPromptLimit:B.target.value})}function A(B){It.updateActivePrompt({...o,embedExponentialScaling:!o.embedExponentialScaling})}function g(B){It.updateActivePrompt({...o,embedWeightScaling:B.target.value})}function m(B){let C=new iC({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:5e3,metric:"euclidean"});const O=Object.keys(B),x=Object.values(B);C.init({data:x,type:"dense"}),C.run();let I=C.getOutputScaled().map(([Y,X])=>[(Y+1)/2,(X+1)/2]);return O.reduce((Y,X,G)=>(Y[X]=I[G],Y),{})}async function y(){It.updateActivePrompt({...o,scaledEmbedMappings:m(o.embeddings)})}async function F(){if(!h||!o.weightedPrompts)return;const B=Object.entries(o.weightedPrompts).map(([O,x])=>[O,x.text]),C=cf(h);r(5,f={});for(let O of B){const x=await Y2(C,O[1],d);r(5,f[O[0]]=x.data.data[0].embedding,f)}It.updateActivePrompt({...o,embeddings:f,lastEmbeddingChange:Date.now(),scaledEmbedMappings:m(f)})}Sy(()=>{h&&Nh(o)&&r(4,l=F())});function w(){p=this.clientWidth,c=this.clientHeight,r(0,p),r(1,c)}return e.$$.update=()=>{e.$$.dirty&8&&r(6,i=Object.keys(o.weightedPrompts||{}).length),e.$$.dirty&3&&r(2,u=[p||250,c||250]),e.$$.dirty&4&&r(7,a=nf(u)),e.$$.dirty&4104&&h&&Nh(o)&&r(4,l=F())},[p,c,u,o,l,f,i,a,D,A,g,y,h,w]}class fC extends Yt{constructor(t){super(),Zt(this,t,lC,oC,$t,{})}}const Va="zeroPromptHandlingStore";function cC(){const e=Fn(!1),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[Va]?JSON.parse(localStorage[Va]):!1),{subscribe:t,update:a=>{u&&(localStorage[Va]=JSON.stringify(!!a),r(!!a))},get:()=>Pt(e),delete:()=>{u&&(delete localStorage[Va],r(!1))}}}const Ul=cC(),bp=En(Ul,e=>Pt(Ul));function kh(e,t,r){const i=e.slice();return i[8]=t[r][0],i[9]=t[r][1],i}function Rh(e,t){let r,i=t[9].text+"",u,a,o,h=ti(t[9],t[1].weightMode)+"",d,p,c;return{key:e,first:null,c(){r=oe("span"),u=Ye(i),a=Ye("::"),o=oe("b"),d=Ye(h),p=Ge(),this.h()},l(l){r=le(l,"SPAN",{style:!0});var f=ie(r);u=Ze(f,i),a=Ze(f,"::"),o=le(f,"B",{});var D=ie(o);d=Ze(D,h),p=Ke(D),D.forEach(q),f.forEach(q),this.h()},h(){k(r,"style",c=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`),this.first=r},m(l,f){Ce(l,r,f),Q(r,u),Q(r,a),Q(r,o),Q(o,d),Q(o,p)},p(l,f){t=l,f&6&&i!==(i=t[9].text+"")&&wn(u,i),f&6&&h!==(h=ti(t[9],t[1].weightMode)+"")&&wn(d,h),f&7&&c!==(c=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`)&&k(r,"style",c)},d(l){l&&q(r)}}}function hC(e){let t,r,i=[],u=new Map,a,o,h=Object.entries(e[1].weightedPrompts).filter(e[6]);const d=p=>p[8];for(let p=0;p<h.length;p+=1){let c=kh(e,h,p),l=d(c);u.set(l,i[p]=Rh(l,c))}return{c(){t=oe("div"),r=oe("p");for(let p=0;p<i.length;p+=1)i[p].c();this.h()},l(p){t=le(p,"DIV",{class:!0});var c=ie(t);r=le(c,"P",{class:!0});var l=ie(r);for(let f=0;f<i.length;f+=1)i[f].l(l);l.forEach(q),c.forEach(q),this.h()},h(){k(r,"class","text-sm select-none"),k(t,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-md p-4 w-full h-32 overflow-y-auto hover:bg-slate-800 active:bg-slate-950")},m(p,c){Ce(p,t,c),Q(t,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,null);a||(o=ke(t,"click",e[4]),a=!0)},p(p,[c]){c&15&&(h=Object.entries(p[1].weightedPrompts).filter(p[6]),i=Ai(i,c,d,1,p,h,u,r,du,Rh,null,kh))},i:Pe,o:Pe,d(p){p&&q(t);for(let c=0;c<i.length;c+=1)i[c].d();a=!1,o()}}}function dC(e,t,r){let i,u,a,o;Bt(e,Cn,l=>r(1,a=l)),Bt(e,bp,l=>r(2,o=l));let h="parsedWeight";function d(l){return((l/i/u+.75)/2).toFixed(2)}function p(){const l=Object.entries(a.weightedPrompts).filter(f=>o||ti(f[1],a.weightMode)).map(([f,D])=>`${D.text}::${ti(D,a.weightMode)}`).join(" ");navigator.clipboard.writeText(l)}const c=l=>o||ti(l[1],a.weightMode);return e.$$.update=()=>{if(e.$$.dirty&2)switch(a.weightMode){case"circle":r(0,h="circleWeight");break;case"bars":r(0,h="barWeight");break;case"embed":r(0,h="embedWeight");break}e.$$.dirty&3&&r(5,i=Object.values(a.weightedPrompts).reduce((l,f)=>f[h]+l,0)),e.$$.dirty&35&&(u=Math.max(...Object.values(a.weightedPrompts).map(l=>l[h]/i)))},[h,a,o,d,p,i,c]}class pC extends Yt{constructor(t){super(),Zt(this,t,dC,hC,$t,{})}}function vC(e){let t,r,i,u;return{c(){t=Gt("svg"),r=Gt("rect"),i=Gt("rect"),u=Gt("rect"),this.h()},l(a){t=Kt(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var o=ie(t);r=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(r).forEach(q),i=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(i).forEach(q),u=Kt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(u).forEach(q),o.forEach(q),this.h()},h(){k(r,"x","5"),k(r,"y","12"),k(r,"width","40"),k(r,"height","4"),k(r,"fill","rgba(255,255,255, 0.7)"),k(i,"x","5"),k(i,"y","23"),k(i,"width","30"),k(i,"height","4"),k(i,"fill","rgba(255,255,255, 0.7)"),k(u,"x","5"),k(u,"y","34"),k(u,"width","35"),k(u,"height","4"),k(u,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 50 50")},m(a,o){Ce(a,t,o),Q(t,r),Q(t,i),Q(t,u)},p:Pe,i:Pe,o:Pe,d(a){a&&q(t)}}}class gC extends Yt{constructor(t){super(),Zt(this,t,null,vC,$t,{})}}function mC(e){let t,r,i;return{c(){t=Gt("svg"),r=Gt("circle"),i=Gt("circle"),this.h()},l(u){t=Kt(u,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var a=ie(t);r=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ie(r).forEach(q),i=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ie(i).forEach(q),a.forEach(q),this.h()},h(){k(r,"cx","25"),k(r,"cy","25"),k(r,"r","20"),k(r,"stroke","rgba(255,255,255, 0.7)"),k(r,"stroke-width","2"),k(r,"fill","none"),k(i,"cx","25"),k(i,"cy","25"),k(i,"r","2"),k(i,"stroke","rgba(255,255,255, 0.7)"),k(i,"stroke-width","1"),k(i,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 50 50")},m(u,a){Ce(u,t,a),Q(t,r),Q(t,i)},p:Pe,i:Pe,o:Pe,d(u){u&&q(t)}}}class DC extends Yt{constructor(t){super(),Zt(this,t,null,mC,$t,{})}}function _C(e){let t,r,i,u,a,o;return{c(){t=Gt("svg"),r=Gt("circle"),i=Gt("circle"),u=Gt("circle"),a=Gt("circle"),o=Gt("circle"),this.h()},l(h){t=Kt(h,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var d=ie(t);r=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(r).forEach(q),i=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(i).forEach(q),u=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(u).forEach(q),a=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(a).forEach(q),o=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(o).forEach(q),d.forEach(q),this.h()},h(){k(r,"cx","20"),k(r,"cy","80"),k(r,"r","5"),k(r,"fill","rgba(255,255,255, 0.7)"),k(i,"cx","40"),k(i,"cy","40"),k(i,"r","5"),k(i,"fill","rgba(255,255,255, 0.7)"),k(u,"cx","70"),k(u,"cy","20"),k(u,"r","5"),k(u,"fill","rgba(255,255,255, 0.7)"),k(a,"cx","80"),k(a,"cy","60"),k(a,"r","5"),k(a,"fill","rgba(255,255,255, 0.7)"),k(o,"cx","60"),k(o,"cy","75"),k(o,"r","5"),k(o,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 100 100")},m(h,d){Ce(h,t,d),Q(t,r),Q(t,i),Q(t,u),Q(t,a),Q(t,o)},p:Pe,i:Pe,o:Pe,d(h){h&&q(t)}}}class yC extends Yt{constructor(t){super(),Zt(this,t,null,_C,$t,{})}}function Lh(e){let t,r,i,u,a,o;return r=new yC({}),{c(){t=oe("button"),mt(r.$$.fragment),this.h()},l(h){t=le(h,"BUTTON",{class:!0});var d=ie(t);Dt(r.$$.fragment,d),d.forEach(q),this.h()},h(){k(t,"class",i=e[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm")},m(h,d){Ce(h,t,d),_t(r,t,null),u=!0,a||(o=ke(t,"click",e[5]),a=!0)},p(h,d){(!u||d&1&&i!==(i=h[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"))&&k(t,"class",i)},i(h){u||(Ne(r.$$.fragment,h),u=!0)},o(h){Ve(r.$$.fragment,h),u=!1},d(h){h&&q(t),yt(r),a=!1,o()}}}function AC(e){let t,r;return t=new fC({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function bC(e){let t,r;return t=new yE({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function wC(e){let t,r;return t=new BE({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function EC(e){let t,r,i,u,a,o,h,d,p,c,l,f,D,A,g,m,y,F,w,B;a=new gC({}),p=new DC({});let C=e[1]&&Lh(e);const O=[wC,bC,AC],x=[];function T(I,j){return I[0].weightMode==="bars"?0:I[0].weightMode==="circle"?1:I[0].weightMode==="embed"?2:-1}return~(D=T(e))&&(A=x[D]=O[D](e)),y=new pC({}),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("button"),mt(a.$$.fragment),h=Ge(),d=oe("button"),mt(p.$$.fragment),l=Ge(),C&&C.c(),f=Ge(),A&&A.c(),g=Ge(),m=oe("div"),mt(y.$$.fragment),this.h()},l(I){t=le(I,"DIV",{class:!0});var j=ie(t);r=le(j,"DIV",{class:!0});var Y=ie(r);i=le(Y,"DIV",{class:!0});var X=ie(i);u=le(X,"BUTTON",{class:!0});var G=ie(u);Dt(a.$$.fragment,G),G.forEach(q),h=Ke(X),d=le(X,"BUTTON",{class:!0});var H=ie(d);Dt(p.$$.fragment,H),H.forEach(q),l=Ke(X),C&&C.l(X),X.forEach(q),f=Ke(Y),A&&A.l(Y),g=Ke(Y),m=le(Y,"DIV",{class:!0});var V=ie(m);Dt(y.$$.fragment,V),V.forEach(q),Y.forEach(q),j.forEach(q),this.h()},h(){k(u,"class",o=e[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"),k(d,"class",c=e[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"),k(i,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),k(m,"class","h-48 w-full p-4 flex flex-col"),k(r,"class","flex flex-col h-full place-content-between"),k(t,"class","w-full h-full flex flex-col")},m(I,j){Ce(I,t,j),Q(t,r),Q(r,i),Q(i,u),_t(a,u,null),Q(i,h),Q(i,d),_t(p,d,null),Q(i,l),C&&C.m(i,null),Q(r,f),~D&&x[D].m(r,null),Q(r,g),Q(r,m),_t(y,m,null),F=!0,w||(B=[ke(u,"click",e[3]),ke(d,"click",e[4])],w=!0)},p(I,[j]){(!F||j&1&&o!==(o=I[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"))&&k(u,"class",o),(!F||j&1&&c!==(c=I[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"))&&k(d,"class",c),I[1]?C?(C.p(I,j),j&2&&Ne(C,1)):(C=Lh(I),C.c(),Ne(C,1),C.m(i,null)):C&&(Nn(),Ve(C,1,1,()=>{C=null}),kn());let Y=D;D=T(I),D!==Y&&(A&&(Nn(),Ve(x[Y],1,1,()=>{x[Y]=null}),kn()),~D?(A=x[D],A||(A=x[D]=O[D](I),A.c()),Ne(A,1),A.m(r,g)):A=null)},i(I){F||(Ne(a.$$.fragment,I),Ne(p.$$.fragment,I),Ne(C),Ne(A),Ne(y.$$.fragment,I),F=!0)},o(I){Ve(a.$$.fragment,I),Ve(p.$$.fragment,I),Ve(C),Ve(A),Ve(y.$$.fragment,I),F=!1},d(I){I&&q(t),yt(a),yt(p),C&&C.d(),~D&&x[D].d(),yt(y),w=!1,Jr(B)}}}function FC(e,t,r){let i,u;Bt(e,Cn,p=>r(0,i=p)),Bt(e,Bs,p=>r(1,u=p));function a(p){const c={...i,weightMode:p};It.updateActivePrompt(c)}return[i,u,a,()=>a("bars"),()=>a("circle"),()=>a("embed")]}class CC extends Yt{constructor(t){super(),Zt(this,t,FC,EC,$t,{})}}function SC(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("prompt")){const h=o.split("_")[1];a[h]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:t,updatePrompt:(a,o)=>{const h=Pt(e),p={...h[a]||{},...o};u&&(localStorage[`prompt_${a}`]=JSON.stringify(p));const c={...h,[a]:p};r(c)},getPrompt:a=>Pt(e)[a],deletePrompt:a=>{u&&delete localStorage[`prompt_${a}`];const o={...Pt(e)};delete o[a],r(o)}}}const cs=SC(),BC=En(cs,e=>Object.entries(Pt(cs)));var hs={},OC={get exports(){return hs},set exports(e){hs=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",h="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,c="__lodash_placeholder__",l=1,f=2,D=4,A=1,g=2,m=1,y=2,F=4,w=8,B=16,C=32,O=64,x=128,T=256,I=512,j=30,Y="...",X=800,G=16,H=1,V=2,W=3,re=1/0,ce=9007199254740991,ve=17976931348623157e292,ye=0/0,Ee=4294967295,Oe=Ee-1,Me=Ee>>>1,Te=[["ary",x],["bind",m],["bindKey",y],["curry",w],["curryRight",B],["flip",I],["partial",C],["partialRight",O],["rearg",T]],$e="[object Arguments]",ze="[object Array]",at="[object AsyncFunction]",ct="[object Boolean]",Qe="[object Date]",it="[object DOMException]",ht="[object Error]",dt="[object Function]",rt="[object GeneratorFunction]",Je="[object Map]",At="[object Number]",Ar="[object Null]",wt="[object Object]",Ae="[object Promise]",_e="[object Proxy]",pt="[object RegExp]",Nt="[object Set]",ur="[object String]",R="[object Symbol]",U="[object Undefined]",K="[object WeakMap]",ue="[object WeakSet]",ee="[object ArrayBuffer]",he="[object DataView]",ne="[object Float32Array]",ae="[object Float64Array]",De="[object Int8Array]",Se="[object Int16Array]",qe="[object Int32Array]",be="[object Uint8Array]",Lt="[object Uint8ClampedArray]",Mt="[object Uint16Array]",Jt="[object Uint32Array]",Ut=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,sr=RegExp(vr.source),Xr=RegExp(ar.source),fr=/<%-([\s\S]+?)%>/g,pn=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bn=/^\w*$/,Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ei=/[\\^$.*+?()[\]{}|]/g,vu=RegExp(Ei.source),br=/^\s+/,Xt=/\s/,gu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ri=/\{\n\/\* \[wrapped with (.+)\] \*/,Qr=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fi=/[()=,{}\[\]\/\s]/,mu=/\\(\\)?/g,Du=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ui=/\w*$/,_u=/^[-+]0x[0-9a-f]+$/i,yu=/^0b[01]+$/i,Au=/^\[object .+?Constructor\]$/,bu=/^0o[0-7]+$/i,wu=/^(?:0|[1-9]\d*)$/,Eu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ni=/($^)/,Fu=/['\n\r\u2028\u2029\\]/g,ii="\\ud800-\\udfff",Cu="\\u0300-\\u036f",Su="\\ufe20-\\ufe2f",Bu="\\u20d0-\\u20ff",ji=Cu+Su+Bu,On="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",tr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ci="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mn="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",vn=tr+Pr+Ci+qn,en="['’]",Ps="["+ii+"]",Ou="["+vn+"]",Vi="["+ji+"]",Ju="\\d+",_="["+On+"]",E="["+gr+"]",N="[^"+ii+vn+Ju+On+gr+Mn+"]",Z="\\ud83c[\\udffb-\\udfff]",fe="(?:"+Vi+"|"+Z+")",we="[^"+ii+"]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+Mn+"]",rr="\\u200d",df="(?:"+E+"|"+N+")",Op="(?:"+kt+"|"+N+")",pf="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",vf="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",gf=fe+"?",mf="["+Si+"]?",Mp="(?:"+rr+"(?:"+[we,et,lt].join("|")+")"+mf+gf+")*",xp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Df=mf+gf+Mp,Tp="(?:"+[_,et,lt].join("|")+")"+Df,Ip="(?:"+[we+Vi+"?",Vi,et,lt,Ps].join("|")+")",Np=RegExp(en,"g"),kp=RegExp(Vi,"g"),Ts=RegExp(Z+"(?="+Z+")|"+Ip+Df,"g"),Rp=RegExp([kt+"?"+E+"+"+pf+"(?="+[Ou,kt,"$"].join("|")+")",Op+"+"+vf+"(?="+[Ou,kt+df,"$"].join("|")+")",kt+"?"+df+"+"+pf,kt+"+"+vf,Pp,xp,Ju,Tp].join("|"),"g"),Lp=RegExp("["+rr+ii+ji+Si+"]"),Up=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vp=-1,Tt={};Tt[ne]=Tt[ae]=Tt[De]=Tt[Se]=Tt[qe]=Tt[be]=Tt[Lt]=Tt[Mt]=Tt[Jt]=!0,Tt[$e]=Tt[ze]=Tt[ee]=Tt[ct]=Tt[he]=Tt[Qe]=Tt[ht]=Tt[dt]=Tt[Je]=Tt[At]=Tt[wt]=Tt[pt]=Tt[Nt]=Tt[ur]=Tt[K]=!1;var xt={};xt[$e]=xt[ze]=xt[ee]=xt[he]=xt[ct]=xt[Qe]=xt[ne]=xt[ae]=xt[De]=xt[Se]=xt[qe]=xt[Je]=xt[At]=xt[wt]=xt[pt]=xt[Nt]=xt[ur]=xt[R]=xt[be]=xt[Lt]=xt[Mt]=xt[Jt]=!0,xt[ht]=xt[dt]=xt[K]=!1;var qp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gp=parseFloat,Kp=parseInt,_f=typeof or=="object"&&or&&or.Object===Object&&or,Yp=typeof self=="object"&&self&&self.Object===Object&&self,wr=_f||Yp||Function("return this")(),Is=t&&!t.nodeType&&t,Bi=Is&&!0&&e&&!e.nodeType&&e,yf=Bi&&Bi.exports===Is,Ns=yf&&_f.process,tn=function(){try{var $=Bi&&Bi.require&&Bi.require("util").types;return $||Ns&&Ns.binding&&Ns.binding("util")}catch{}}(),Af=tn&&tn.isArrayBuffer,bf=tn&&tn.isDate,wf=tn&&tn.isMap,Ef=tn&&tn.isRegExp,Ff=tn&&tn.isSet,Cf=tn&&tn.isTypedArray;function Wr($,se,te){switch(te.length){case 0:return $.call(se);case 1:return $.call(se,te[0]);case 2:return $.call(se,te[0],te[1]);case 3:return $.call(se,te[0],te[1],te[2])}return $.apply(se,te)}function Zp($,se,te,Be){for(var He=-1,vt=$==null?0:$.length;++He<vt;){var cr=$[He];se(Be,cr,te(cr),$)}return Be}function rn($,se){for(var te=-1,Be=$==null?0:$.length;++te<Be&&se($[te],te,$)!==!1;);return $}function $p($,se){for(var te=$==null?0:$.length;te--&&se($[te],te,$)!==!1;);return $}function Sf($,se){for(var te=-1,Be=$==null?0:$.length;++te<Be;)if(!se($[te],te,$))return!1;return!0}function ui($,se){for(var te=-1,Be=$==null?0:$.length,He=0,vt=[];++te<Be;){var cr=$[te];se(cr,te,$)&&(vt[He++]=cr)}return vt}function Xu($,se){var te=$==null?0:$.length;return!!te&&qi($,se,0)>-1}function ks($,se,te){for(var Be=-1,He=$==null?0:$.length;++Be<He;)if(te(se,$[Be]))return!0;return!1}function Rt($,se){for(var te=-1,Be=$==null?0:$.length,He=Array(Be);++te<Be;)He[te]=se($[te],te,$);return He}function ai($,se){for(var te=-1,Be=se.length,He=$.length;++te<Be;)$[He+te]=se[te];return $}function Rs($,se,te,Be){var He=-1,vt=$==null?0:$.length;for(Be&&vt&&(te=$[++He]);++He<vt;)te=se(te,$[He],He,$);return te}function Jp($,se,te,Be){var He=$==null?0:$.length;for(Be&&He&&(te=$[--He]);He--;)te=se(te,$[He],He,$);return te}function Ls($,se){for(var te=-1,Be=$==null?0:$.length;++te<Be;)if(se($[te],te,$))return!0;return!1}var Xp=Us("length");function Qp($){return $.split("")}function e1($){return $.match(Vn)||[]}function Bf($,se,te){var Be;return te($,function(He,vt,cr){if(se(He,vt,cr))return Be=vt,!1}),Be}function Qu($,se,te,Be){for(var He=$.length,vt=te+(Be?1:-1);Be?vt--:++vt<He;)if(se($[vt],vt,$))return vt;return-1}function qi($,se,te){return se===se?h1($,se,te):Qu($,Of,te)}function t1($,se,te,Be){for(var He=te-1,vt=$.length;++He<vt;)if(Be($[He],se))return He;return-1}function Of($){return $!==$}function Mf($,se){var te=$==null?0:$.length;return te?Vs($,se)/te:ye}function Us($){return function(se){return se==null?r:se[$]}}function js($){return function(se){return $==null?r:$[se]}}function xf($,se,te,Be,He){return He($,function(vt,cr,St){te=Be?(Be=!1,vt):se(te,vt,cr,St)}),te}function r1($,se){var te=$.length;for($.sort(se);te--;)$[te]=$[te].value;return $}function Vs($,se){for(var te,Be=-1,He=$.length;++Be<He;){var vt=se($[Be]);vt!==r&&(te=te===r?vt:te+vt)}return te}function qs($,se){for(var te=-1,Be=Array($);++te<$;)Be[te]=se(te);return Be}function n1($,se){return Rt(se,function(te){return[te,$[te]]})}function Pf($){return $&&$.slice(0,kf($)+1).replace(br,"")}function Hr($){return function(se){return $(se)}}function zs($,se){return Rt(se,function(te){return $[te]})}function Mu($,se){return $.has(se)}function Tf($,se){for(var te=-1,Be=$.length;++te<Be&&qi(se,$[te],0)>-1;);return te}function If($,se){for(var te=$.length;te--&&qi(se,$[te],0)>-1;);return te}function i1($,se){for(var te=$.length,Be=0;te--;)$[te]===se&&++Be;return Be}var u1=js(qp),a1=js(zp);function s1($){return"\\"+Hp[$]}function o1($,se){return $==null?r:$[se]}function zi($){return Lp.test($)}function l1($){return Up.test($)}function f1($){for(var se,te=[];!(se=$.next()).done;)te.push(se.value);return te}function Ws($){var se=-1,te=Array($.size);return $.forEach(function(Be,He){te[++se]=[He,Be]}),te}function Nf($,se){return function(te){return $(se(te))}}function si($,se){for(var te=-1,Be=$.length,He=0,vt=[];++te<Be;){var cr=$[te];(cr===se||cr===c)&&($[te]=c,vt[He++]=te)}return vt}function ea($){var se=-1,te=Array($.size);return $.forEach(function(Be){te[++se]=Be}),te}function c1($){var se=-1,te=Array($.size);return $.forEach(function(Be){te[++se]=[Be,Be]}),te}function h1($,se,te){for(var Be=te-1,He=$.length;++Be<He;)if($[Be]===se)return Be;return-1}function d1($,se,te){for(var Be=te+1;Be--;)if($[Be]===se)return Be;return Be}function Wi($){return zi($)?v1($):Xp($)}function gn($){return zi($)?g1($):Qp($)}function kf($){for(var se=$.length;se--&&Xt.test($.charAt(se)););return se}var p1=js(Wp);function v1($){for(var se=Ts.lastIndex=0;Ts.test($);)++se;return se}function g1($){return $.match(Ts)||[]}function m1($){return $.match(Rp)||[]}var D1=function $(se){se=se==null?wr:Hi.defaults(wr.Object(),se,Hi.pick(wr,jp));var te=se.Array,Be=se.Date,He=se.Error,vt=se.Function,cr=se.Math,St=se.Object,Hs=se.RegExp,_1=se.String,nn=se.TypeError,ta=te.prototype,y1=vt.prototype,Gi=St.prototype,ra=se["__core-js_shared__"],na=y1.toString,bt=Gi.hasOwnProperty,A1=0,Rf=function(){var n=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ia=Gi.toString,b1=na.call(St),w1=wr._,E1=Hs("^"+na.call(bt).replace(Ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=yf?se.Buffer:r,oi=se.Symbol,aa=se.Uint8Array,Lf=ua?ua.allocUnsafe:r,sa=Nf(St.getPrototypeOf,St),Uf=St.create,jf=Gi.propertyIsEnumerable,oa=ta.splice,Vf=oi?oi.isConcatSpreadable:r,xu=oi?oi.iterator:r,Oi=oi?oi.toStringTag:r,la=function(){try{var n=Ii(St,"defineProperty");return n({},"",{}),n}catch{}}(),F1=se.clearTimeout!==wr.clearTimeout&&se.clearTimeout,C1=Be&&Be.now!==wr.Date.now&&Be.now,S1=se.setTimeout!==wr.setTimeout&&se.setTimeout,fa=cr.ceil,ca=cr.floor,Gs=St.getOwnPropertySymbols,B1=ua?ua.isBuffer:r,qf=se.isFinite,O1=ta.join,M1=Nf(St.keys,St),hr=cr.max,Or=cr.min,x1=Be.now,P1=se.parseInt,zf=cr.random,T1=ta.reverse,Ks=Ii(se,"DataView"),Pu=Ii(se,"Map"),Ys=Ii(se,"Promise"),Ki=Ii(se,"Set"),Tu=Ii(se,"WeakMap"),Iu=Ii(St,"create"),ha=Tu&&new Tu,Yi={},I1=Ni(Ks),N1=Ni(Pu),k1=Ni(Ys),R1=Ni(Ki),L1=Ni(Tu),da=oi?oi.prototype:r,Nu=da?da.valueOf:r,Wf=da?da.toString:r;function M(n){if(Qt(n)&&!Xe(n)&&!(n instanceof ot)){if(n instanceof un)return n;if(bt.call(n,"__wrapped__"))return Hc(n)}return new un(n)}var Zi=function(){function n(){}return function(s){if(!Vt(s))return{};if(Uf)return Uf(s);n.prototype=s;var v=new n;return n.prototype=r,v}}();function pa(){}function un(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:fr,evaluate:pn,interpolate:jn,variable:"",imports:{_:M}},M.prototype=pa.prototype,M.prototype.constructor=M,un.prototype=Zi(pa.prototype),un.prototype.constructor=un;function ot(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function U1(){var n=new ot(this.__wrapped__);return n.__actions__=Rr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Rr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Rr(this.__views__),n}function j1(){if(this.__filtered__){var n=new ot(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function V1(){var n=this.__wrapped__.value(),s=this.__dir__,v=Xe(n),b=s<0,S=v?n.length:0,P=Qv(0,S,this.__views__),L=P.start,z=P.end,J=z-L,de=b?z:L-1,pe=this.__iteratees__,me=pe.length,Fe=0,xe=Or(J,this.__takeCount__);if(!v||!b&&S==J&&xe==J)return pc(n,this.__actions__);var Ue=[];e:for(;J--&&Fe<xe;){de+=s;for(var nt=-1,je=n[de];++nt<me;){var st=pe[nt],ft=st.iteratee,Yr=st.type,Nr=ft(je);if(Yr==V)je=Nr;else if(!Nr){if(Yr==H)continue e;break e}}Ue[Fe++]=je}return Ue}ot.prototype=Zi(pa.prototype),ot.prototype.constructor=ot;function Mi(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function q1(){this.__data__=Iu?Iu(null):{},this.size=0}function z1(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function W1(n){var s=this.__data__;if(Iu){var v=s[n];return v===d?r:v}return bt.call(s,n)?s[n]:r}function H1(n){var s=this.__data__;return Iu?s[n]!==r:bt.call(s,n)}function G1(n,s){var v=this.__data__;return this.size+=this.has(n)?0:1,v[n]=Iu&&s===r?d:s,this}Mi.prototype.clear=q1,Mi.prototype.delete=z1,Mi.prototype.get=W1,Mi.prototype.has=H1,Mi.prototype.set=G1;function zn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function K1(){this.__data__=[],this.size=0}function Y1(n){var s=this.__data__,v=va(s,n);if(v<0)return!1;var b=s.length-1;return v==b?s.pop():oa.call(s,v,1),--this.size,!0}function Z1(n){var s=this.__data__,v=va(s,n);return v<0?r:s[v][1]}function $1(n){return va(this.__data__,n)>-1}function J1(n,s){var v=this.__data__,b=va(v,n);return b<0?(++this.size,v.push([n,s])):v[b][1]=s,this}zn.prototype.clear=K1,zn.prototype.delete=Y1,zn.prototype.get=Z1,zn.prototype.has=$1,zn.prototype.set=J1;function Wn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function X1(){this.size=0,this.__data__={hash:new Mi,map:new(Pu||zn),string:new Mi}}function Q1(n){var s=Sa(this,n).delete(n);return this.size-=s?1:0,s}function ev(n){return Sa(this,n).get(n)}function tv(n){return Sa(this,n).has(n)}function rv(n,s){var v=Sa(this,n),b=v.size;return v.set(n,s),this.size+=v.size==b?0:1,this}Wn.prototype.clear=X1,Wn.prototype.delete=Q1,Wn.prototype.get=ev,Wn.prototype.has=tv,Wn.prototype.set=rv;function xi(n){var s=-1,v=n==null?0:n.length;for(this.__data__=new Wn;++s<v;)this.add(n[s])}function nv(n){return this.__data__.set(n,d),this}function iv(n){return this.__data__.has(n)}xi.prototype.add=xi.prototype.push=nv,xi.prototype.has=iv;function mn(n){var s=this.__data__=new zn(n);this.size=s.size}function uv(){this.__data__=new zn,this.size=0}function av(n){var s=this.__data__,v=s.delete(n);return this.size=s.size,v}function sv(n){return this.__data__.get(n)}function ov(n){return this.__data__.has(n)}function lv(n,s){var v=this.__data__;if(v instanceof zn){var b=v.__data__;if(!Pu||b.length<u-1)return b.push([n,s]),this.size=++v.size,this;v=this.__data__=new Wn(b)}return v.set(n,s),this.size=v.size,this}mn.prototype.clear=uv,mn.prototype.delete=av,mn.prototype.get=sv,mn.prototype.has=ov,mn.prototype.set=lv;function Hf(n,s){var v=Xe(n),b=!v&&ki(n),S=!v&&!b&&di(n),P=!v&&!b&&!S&&Qi(n),L=v||b||S||P,z=L?qs(n.length,_1):[],J=z.length;for(var de in n)(s||bt.call(n,de))&&!(L&&(de=="length"||S&&(de=="offset"||de=="parent")||P&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Yn(de,J)))&&z.push(de);return z}function Gf(n){var s=n.length;return s?n[uo(0,s-1)]:r}function fv(n,s){return Ba(Rr(n),Pi(s,0,n.length))}function cv(n){return Ba(Rr(n))}function Zs(n,s,v){(v!==r&&!Dn(n[s],v)||v===r&&!(s in n))&&Hn(n,s,v)}function ku(n,s,v){var b=n[s];(!(bt.call(n,s)&&Dn(b,v))||v===r&&!(s in n))&&Hn(n,s,v)}function va(n,s){for(var v=n.length;v--;)if(Dn(n[v][0],s))return v;return-1}function hv(n,s,v,b){return li(n,function(S,P,L){s(b,S,v(S),L)}),b}function Kf(n,s){return n&&Pn(s,mr(s),n)}function dv(n,s){return n&&Pn(s,Ur(s),n)}function Hn(n,s,v){s=="__proto__"&&la?la(n,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):n[s]=v}function $s(n,s){for(var v=-1,b=s.length,S=te(b),P=n==null;++v<b;)S[v]=P?r:xo(n,s[v]);return S}function Pi(n,s,v){return n===n&&(v!==r&&(n=n<=v?n:v),s!==r&&(n=n>=s?n:s)),n}function an(n,s,v,b,S,P){var L,z=s&l,J=s&f,de=s&D;if(v&&(L=S?v(n,b,S,P):v(n)),L!==r)return L;if(!Vt(n))return n;var pe=Xe(n);if(pe){if(L=tg(n),!z)return Rr(n,L)}else{var me=Mr(n),Fe=me==dt||me==rt;if(di(n))return mc(n,z);if(me==wt||me==$e||Fe&&!S){if(L=J||Fe?{}:kc(n),!z)return J?Wv(n,dv(L,n)):zv(n,Kf(L,n))}else{if(!xt[me])return S?n:{};L=rg(n,me,z)}}P||(P=new mn);var xe=P.get(n);if(xe)return xe;P.set(n,L),c0(n)?n.forEach(function(je){L.add(an(je,s,v,je,n,P))}):l0(n)&&n.forEach(function(je,st){L.set(st,an(je,s,v,st,n,P))});var Ue=de?J?mo:go:J?Ur:mr,nt=pe?r:Ue(n);return rn(nt||n,function(je,st){nt&&(st=je,je=n[st]),ku(L,st,an(je,s,v,st,n,P))}),L}function pv(n){var s=mr(n);return function(v){return Yf(v,n,s)}}function Yf(n,s,v){var b=v.length;if(n==null)return!b;for(n=St(n);b--;){var S=v[b],P=s[S],L=n[S];if(L===r&&!(S in n)||!P(L))return!1}return!0}function Zf(n,s,v){if(typeof n!="function")throw new nn(o);return zu(function(){n.apply(r,v)},s)}function Ru(n,s,v,b){var S=-1,P=Xu,L=!0,z=n.length,J=[],de=s.length;if(!z)return J;v&&(s=Rt(s,Hr(v))),b?(P=ks,L=!1):s.length>=u&&(P=Mu,L=!1,s=new xi(s));e:for(;++S<z;){var pe=n[S],me=v==null?pe:v(pe);if(pe=b||pe!==0?pe:0,L&&me===me){for(var Fe=de;Fe--;)if(s[Fe]===me)continue e;J.push(pe)}else P(s,me,b)||J.push(pe)}return J}var li=bc(xn),$f=bc(Xs,!0);function vv(n,s){var v=!0;return li(n,function(b,S,P){return v=!!s(b,S,P),v}),v}function ga(n,s,v){for(var b=-1,S=n.length;++b<S;){var P=n[b],L=s(P);if(L!=null&&(z===r?L===L&&!Kr(L):v(L,z)))var z=L,J=P}return J}function gv(n,s,v,b){var S=n.length;for(v=tt(v),v<0&&(v=-v>S?0:S+v),b=b===r||b>S?S:tt(b),b<0&&(b+=S),b=v>b?0:d0(b);v<b;)n[v++]=s;return n}function Jf(n,s){var v=[];return li(n,function(b,S,P){s(b,S,P)&&v.push(b)}),v}function Er(n,s,v,b,S){var P=-1,L=n.length;for(v||(v=ig),S||(S=[]);++P<L;){var z=n[P];s>0&&v(z)?s>1?Er(z,s-1,v,b,S):ai(S,z):b||(S[S.length]=z)}return S}var Js=wc(),Xf=wc(!0);function xn(n,s){return n&&Js(n,s,mr)}function Xs(n,s){return n&&Xf(n,s,mr)}function ma(n,s){return ui(s,function(v){return Zn(n[v])})}function Ti(n,s){s=ci(s,n);for(var v=0,b=s.length;n!=null&&v<b;)n=n[Tn(s[v++])];return v&&v==b?n:r}function Qf(n,s,v){var b=s(n);return Xe(n)?b:ai(b,v(n))}function Tr(n){return n==null?n===r?U:Ar:Oi&&Oi in St(n)?Xv(n):cg(n)}function Qs(n,s){return n>s}function mv(n,s){return n!=null&&bt.call(n,s)}function Dv(n,s){return n!=null&&s in St(n)}function _v(n,s,v){return n>=Or(s,v)&&n<hr(s,v)}function eo(n,s,v){for(var b=v?ks:Xu,S=n[0].length,P=n.length,L=P,z=te(P),J=1/0,de=[];L--;){var pe=n[L];L&&s&&(pe=Rt(pe,Hr(s))),J=Or(pe.length,J),z[L]=!v&&(s||S>=120&&pe.length>=120)?new xi(L&&pe):r}pe=n[0];var me=-1,Fe=z[0];e:for(;++me<S&&de.length<J;){var xe=pe[me],Ue=s?s(xe):xe;if(xe=v||xe!==0?xe:0,!(Fe?Mu(Fe,Ue):b(de,Ue,v))){for(L=P;--L;){var nt=z[L];if(!(nt?Mu(nt,Ue):b(n[L],Ue,v)))continue e}Fe&&Fe.push(Ue),de.push(xe)}}return de}function yv(n,s,v,b){return xn(n,function(S,P,L){s(b,v(S),P,L)}),b}function Lu(n,s,v){s=ci(s,n),n=jc(n,s);var b=n==null?n:n[Tn(on(s))];return b==null?r:Wr(b,n,v)}function ec(n){return Qt(n)&&Tr(n)==$e}function Av(n){return Qt(n)&&Tr(n)==ee}function bv(n){return Qt(n)&&Tr(n)==Qe}function Uu(n,s,v,b,S){return n===s?!0:n==null||s==null||!Qt(n)&&!Qt(s)?n!==n&&s!==s:wv(n,s,v,b,Uu,S)}function wv(n,s,v,b,S,P){var L=Xe(n),z=Xe(s),J=L?ze:Mr(n),de=z?ze:Mr(s);J=J==$e?wt:J,de=de==$e?wt:de;var pe=J==wt,me=de==wt,Fe=J==de;if(Fe&&di(n)){if(!di(s))return!1;L=!0,pe=!1}if(Fe&&!pe)return P||(P=new mn),L||Qi(n)?Tc(n,s,v,b,S,P):$v(n,s,J,v,b,S,P);if(!(v&A)){var xe=pe&&bt.call(n,"__wrapped__"),Ue=me&&bt.call(s,"__wrapped__");if(xe||Ue){var nt=xe?n.value():n,je=Ue?s.value():s;return P||(P=new mn),S(nt,je,v,b,P)}}return Fe?(P||(P=new mn),Jv(n,s,v,b,S,P)):!1}function Ev(n){return Qt(n)&&Mr(n)==Je}function to(n,s,v,b){var S=v.length,P=S,L=!b;if(n==null)return!P;for(n=St(n);S--;){var z=v[S];if(L&&z[2]?z[1]!==n[z[0]]:!(z[0]in n))return!1}for(;++S<P;){z=v[S];var J=z[0],de=n[J],pe=z[1];if(L&&z[2]){if(de===r&&!(J in n))return!1}else{var me=new mn;if(b)var Fe=b(de,pe,J,n,s,me);if(!(Fe===r?Uu(pe,de,A|g,b,me):Fe))return!1}}return!0}function tc(n){if(!Vt(n)||ag(n))return!1;var s=Zn(n)?E1:Au;return s.test(Ni(n))}function Fv(n){return Qt(n)&&Tr(n)==pt}function Cv(n){return Qt(n)&&Mr(n)==Nt}function Sv(n){return Qt(n)&&Ia(n.length)&&!!Tt[Tr(n)]}function rc(n){return typeof n=="function"?n:n==null?jr:typeof n=="object"?Xe(n)?uc(n[0],n[1]):ic(n):E0(n)}function ro(n){if(!qu(n))return M1(n);var s=[];for(var v in St(n))bt.call(n,v)&&v!="constructor"&&s.push(v);return s}function Bv(n){if(!Vt(n))return fg(n);var s=qu(n),v=[];for(var b in n)b=="constructor"&&(s||!bt.call(n,b))||v.push(b);return v}function no(n,s){return n<s}function nc(n,s){var v=-1,b=Lr(n)?te(n.length):[];return li(n,function(S,P,L){b[++v]=s(S,P,L)}),b}function ic(n){var s=_o(n);return s.length==1&&s[0][2]?Lc(s[0][0],s[0][1]):function(v){return v===n||to(v,n,s)}}function uc(n,s){return Ao(n)&&Rc(s)?Lc(Tn(n),s):function(v){var b=xo(v,n);return b===r&&b===s?Po(v,n):Uu(s,b,A|g)}}function Da(n,s,v,b,S){n!==s&&Js(s,function(P,L){if(S||(S=new mn),Vt(P))Ov(n,s,L,v,Da,b,S);else{var z=b?b(wo(n,L),P,L+"",n,s,S):r;z===r&&(z=P),Zs(n,L,z)}},Ur)}function Ov(n,s,v,b,S,P,L){var z=wo(n,v),J=wo(s,v),de=L.get(J);if(de){Zs(n,v,de);return}var pe=P?P(z,J,v+"",n,s,L):r,me=pe===r;if(me){var Fe=Xe(J),xe=!Fe&&di(J),Ue=!Fe&&!xe&&Qi(J);pe=J,Fe||xe||Ue?Xe(z)?pe=z:nr(z)?pe=Rr(z):xe?(me=!1,pe=mc(J,!0)):Ue?(me=!1,pe=Dc(J,!0)):pe=[]:Wu(J)||ki(J)?(pe=z,ki(z)?pe=p0(z):(!Vt(z)||Zn(z))&&(pe=kc(J))):me=!1}me&&(L.set(J,pe),S(pe,J,b,P,L),L.delete(J)),Zs(n,v,pe)}function ac(n,s){var v=n.length;if(v)return s+=s<0?v:0,Yn(s,v)?n[s]:r}function sc(n,s,v){s.length?s=Rt(s,function(P){return Xe(P)?function(L){return Ti(L,P.length===1?P[0]:P)}:P}):s=[jr];var b=-1;s=Rt(s,Hr(Re()));var S=nc(n,function(P,L,z){var J=Rt(s,function(de){return de(P)});return{criteria:J,index:++b,value:P}});return r1(S,function(P,L){return qv(P,L,v)})}function Mv(n,s){return oc(n,s,function(v,b){return Po(n,b)})}function oc(n,s,v){for(var b=-1,S=s.length,P={};++b<S;){var L=s[b],z=Ti(n,L);v(z,L)&&ju(P,ci(L,n),z)}return P}function xv(n){return function(s){return Ti(s,n)}}function io(n,s,v,b){var S=b?t1:qi,P=-1,L=s.length,z=n;for(n===s&&(s=Rr(s)),v&&(z=Rt(n,Hr(v)));++P<L;)for(var J=0,de=s[P],pe=v?v(de):de;(J=S(z,pe,J,b))>-1;)z!==n&&oa.call(z,J,1),oa.call(n,J,1);return n}function lc(n,s){for(var v=n?s.length:0,b=v-1;v--;){var S=s[v];if(v==b||S!==P){var P=S;Yn(S)?oa.call(n,S,1):oo(n,S)}}return n}function uo(n,s){return n+ca(zf()*(s-n+1))}function Pv(n,s,v,b){for(var S=-1,P=hr(fa((s-n)/(v||1)),0),L=te(P);P--;)L[b?P:++S]=n,n+=v;return L}function ao(n,s){var v="";if(!n||s<1||s>ce)return v;do s%2&&(v+=n),s=ca(s/2),s&&(n+=n);while(s);return v}function ut(n,s){return Eo(Uc(n,s,jr),n+"")}function Tv(n){return Gf(eu(n))}function Iv(n,s){var v=eu(n);return Ba(v,Pi(s,0,v.length))}function ju(n,s,v,b){if(!Vt(n))return n;s=ci(s,n);for(var S=-1,P=s.length,L=P-1,z=n;z!=null&&++S<P;){var J=Tn(s[S]),de=v;if(J==="__proto__"||J==="constructor"||J==="prototype")return n;if(S!=L){var pe=z[J];de=b?b(pe,J,z):r,de===r&&(de=Vt(pe)?pe:Yn(s[S+1])?[]:{})}ku(z,J,de),z=z[J]}return n}var fc=ha?function(n,s){return ha.set(n,s),n}:jr,Nv=la?function(n,s){return la(n,"toString",{configurable:!0,enumerable:!1,value:Io(s),writable:!0})}:jr;function kv(n){return Ba(eu(n))}function sn(n,s,v){var b=-1,S=n.length;s<0&&(s=-s>S?0:S+s),v=v>S?S:v,v<0&&(v+=S),S=s>v?0:v-s>>>0,s>>>=0;for(var P=te(S);++b<S;)P[b]=n[b+s];return P}function Rv(n,s){var v;return li(n,function(b,S,P){return v=s(b,S,P),!v}),!!v}function _a(n,s,v){var b=0,S=n==null?b:n.length;if(typeof s=="number"&&s===s&&S<=Me){for(;b<S;){var P=b+S>>>1,L=n[P];L!==null&&!Kr(L)&&(v?L<=s:L<s)?b=P+1:S=P}return S}return so(n,s,jr,v)}function so(n,s,v,b){var S=0,P=n==null?0:n.length;if(P===0)return 0;s=v(s);for(var L=s!==s,z=s===null,J=Kr(s),de=s===r;S<P;){var pe=ca((S+P)/2),me=v(n[pe]),Fe=me!==r,xe=me===null,Ue=me===me,nt=Kr(me);if(L)var je=b||Ue;else de?je=Ue&&(b||Fe):z?je=Ue&&Fe&&(b||!xe):J?je=Ue&&Fe&&!xe&&(b||!nt):xe||nt?je=!1:je=b?me<=s:me<s;je?S=pe+1:P=pe}return Or(P,Oe)}function cc(n,s){for(var v=-1,b=n.length,S=0,P=[];++v<b;){var L=n[v],z=s?s(L):L;if(!v||!Dn(z,J)){var J=z;P[S++]=L===0?0:L}}return P}function hc(n){return typeof n=="number"?n:Kr(n)?ye:+n}function Gr(n){if(typeof n=="string")return n;if(Xe(n))return Rt(n,Gr)+"";if(Kr(n))return Wf?Wf.call(n):"";var s=n+"";return s=="0"&&1/n==-re?"-0":s}function fi(n,s,v){var b=-1,S=Xu,P=n.length,L=!0,z=[],J=z;if(v)L=!1,S=ks;else if(P>=u){var de=s?null:Yv(n);if(de)return ea(de);L=!1,S=Mu,J=new xi}else J=s?[]:z;e:for(;++b<P;){var pe=n[b],me=s?s(pe):pe;if(pe=v||pe!==0?pe:0,L&&me===me){for(var Fe=J.length;Fe--;)if(J[Fe]===me)continue e;s&&J.push(me),z.push(pe)}else S(J,me,v)||(J!==z&&J.push(me),z.push(pe))}return z}function oo(n,s){return s=ci(s,n),n=jc(n,s),n==null||delete n[Tn(on(s))]}function dc(n,s,v,b){return ju(n,s,v(Ti(n,s)),b)}function ya(n,s,v,b){for(var S=n.length,P=b?S:-1;(b?P--:++P<S)&&s(n[P],P,n););return v?sn(n,b?0:P,b?P+1:S):sn(n,b?P+1:0,b?S:P)}function pc(n,s){var v=n;return v instanceof ot&&(v=v.value()),Rs(s,function(b,S){return S.func.apply(S.thisArg,ai([b],S.args))},v)}function lo(n,s,v){var b=n.length;if(b<2)return b?fi(n[0]):[];for(var S=-1,P=te(b);++S<b;)for(var L=n[S],z=-1;++z<b;)z!=S&&(P[S]=Ru(P[S]||L,n[z],s,v));return fi(Er(P,1),s,v)}function vc(n,s,v){for(var b=-1,S=n.length,P=s.length,L={};++b<S;){var z=b<P?s[b]:r;v(L,n[b],z)}return L}function fo(n){return nr(n)?n:[]}function co(n){return typeof n=="function"?n:jr}function ci(n,s){return Xe(n)?n:Ao(n,s)?[n]:Wc(gt(n))}var Lv=ut;function hi(n,s,v){var b=n.length;return v=v===r?b:v,!s&&v>=b?n:sn(n,s,v)}var gc=F1||function(n){return wr.clearTimeout(n)};function mc(n,s){if(s)return n.slice();var v=n.length,b=Lf?Lf(v):new n.constructor(v);return n.copy(b),b}function ho(n){var s=new n.constructor(n.byteLength);return new aa(s).set(new aa(n)),s}function Uv(n,s){var v=s?ho(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.byteLength)}function jv(n){var s=new n.constructor(n.source,Ui.exec(n));return s.lastIndex=n.lastIndex,s}function Vv(n){return Nu?St(Nu.call(n)):{}}function Dc(n,s){var v=s?ho(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.length)}function _c(n,s){if(n!==s){var v=n!==r,b=n===null,S=n===n,P=Kr(n),L=s!==r,z=s===null,J=s===s,de=Kr(s);if(!z&&!de&&!P&&n>s||P&&L&&J&&!z&&!de||b&&L&&J||!v&&J||!S)return 1;if(!b&&!P&&!de&&n<s||de&&v&&S&&!b&&!P||z&&v&&S||!L&&S||!J)return-1}return 0}function qv(n,s,v){for(var b=-1,S=n.criteria,P=s.criteria,L=S.length,z=v.length;++b<L;){var J=_c(S[b],P[b]);if(J){if(b>=z)return J;var de=v[b];return J*(de=="desc"?-1:1)}}return n.index-s.index}function yc(n,s,v,b){for(var S=-1,P=n.length,L=v.length,z=-1,J=s.length,de=hr(P-L,0),pe=te(J+de),me=!b;++z<J;)pe[z]=s[z];for(;++S<L;)(me||S<P)&&(pe[v[S]]=n[S]);for(;de--;)pe[z++]=n[S++];return pe}function Ac(n,s,v,b){for(var S=-1,P=n.length,L=-1,z=v.length,J=-1,de=s.length,pe=hr(P-z,0),me=te(pe+de),Fe=!b;++S<pe;)me[S]=n[S];for(var xe=S;++J<de;)me[xe+J]=s[J];for(;++L<z;)(Fe||S<P)&&(me[xe+v[L]]=n[S++]);return me}function Rr(n,s){var v=-1,b=n.length;for(s||(s=te(b));++v<b;)s[v]=n[v];return s}function Pn(n,s,v,b){var S=!v;v||(v={});for(var P=-1,L=s.length;++P<L;){var z=s[P],J=b?b(v[z],n[z],z,v,n):r;J===r&&(J=n[z]),S?Hn(v,z,J):ku(v,z,J)}return v}function zv(n,s){return Pn(n,yo(n),s)}function Wv(n,s){return Pn(n,Ic(n),s)}function Aa(n,s){return function(v,b){var S=Xe(v)?Zp:hv,P=s?s():{};return S(v,n,Re(b,2),P)}}function $i(n){return ut(function(s,v){var b=-1,S=v.length,P=S>1?v[S-1]:r,L=S>2?v[2]:r;for(P=n.length>3&&typeof P=="function"?(S--,P):r,L&&Ir(v[0],v[1],L)&&(P=S<3?r:P,S=1),s=St(s);++b<S;){var z=v[b];z&&n(s,z,b,P)}return s})}function bc(n,s){return function(v,b){if(v==null)return v;if(!Lr(v))return n(v,b);for(var S=v.length,P=s?S:-1,L=St(v);(s?P--:++P<S)&&b(L[P],P,L)!==!1;);return v}}function wc(n){return function(s,v,b){for(var S=-1,P=St(s),L=b(s),z=L.length;z--;){var J=L[n?z:++S];if(v(P[J],J,P)===!1)break}return s}}function Hv(n,s,v){var b=s&m,S=Vu(n);function P(){var L=this&&this!==wr&&this instanceof P?S:n;return L.apply(b?v:this,arguments)}return P}function Ec(n){return function(s){s=gt(s);var v=zi(s)?gn(s):r,b=v?v[0]:s.charAt(0),S=v?hi(v,1).join(""):s.slice(1);return b[n]()+S}}function Ji(n){return function(s){return Rs(b0(A0(s).replace(Np,"")),n,"")}}function Vu(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=Zi(n.prototype),b=n.apply(v,s);return Vt(b)?b:v}}function Gv(n,s,v){var b=Vu(n);function S(){for(var P=arguments.length,L=te(P),z=P,J=Xi(S);z--;)L[z]=arguments[z];var de=P<3&&L[0]!==J&&L[P-1]!==J?[]:si(L,J);if(P-=de.length,P<v)return Oc(n,s,ba,S.placeholder,r,L,de,r,r,v-P);var pe=this&&this!==wr&&this instanceof S?b:n;return Wr(pe,this,L)}return S}function Fc(n){return function(s,v,b){var S=St(s);if(!Lr(s)){var P=Re(v,3);s=mr(s),v=function(z){return P(S[z],z,S)}}var L=n(s,v,b);return L>-1?S[P?s[L]:L]:r}}function Cc(n){return Kn(function(s){var v=s.length,b=v,S=un.prototype.thru;for(n&&s.reverse();b--;){var P=s[b];if(typeof P!="function")throw new nn(o);if(S&&!L&&Ca(P)=="wrapper")var L=new un([],!0)}for(b=L?b:v;++b<v;){P=s[b];var z=Ca(P),J=z=="wrapper"?Do(P):r;J&&bo(J[0])&&J[1]==(x|w|C|T)&&!J[4].length&&J[9]==1?L=L[Ca(J[0])].apply(L,J[3]):L=P.length==1&&bo(P)?L[z]():L.thru(P)}return function(){var de=arguments,pe=de[0];if(L&&de.length==1&&Xe(pe))return L.plant(pe).value();for(var me=0,Fe=v?s[me].apply(this,de):pe;++me<v;)Fe=s[me].call(this,Fe);return Fe}})}function ba(n,s,v,b,S,P,L,z,J,de){var pe=s&x,me=s&m,Fe=s&y,xe=s&(w|B),Ue=s&I,nt=Fe?r:Vu(n);function je(){for(var st=arguments.length,ft=te(st),Yr=st;Yr--;)ft[Yr]=arguments[Yr];if(xe)var Nr=Xi(je),Zr=i1(ft,Nr);if(b&&(ft=yc(ft,b,S,xe)),P&&(ft=Ac(ft,P,L,xe)),st-=Zr,xe&&st<de){var ir=si(ft,Nr);return Oc(n,s,ba,je.placeholder,v,ft,ir,z,J,de-st)}var _n=me?v:this,Jn=Fe?_n[n]:n;return st=ft.length,z?ft=hg(ft,z):Ue&&st>1&&ft.reverse(),pe&&J<st&&(ft.length=J),this&&this!==wr&&this instanceof je&&(Jn=nt||Vu(Jn)),Jn.apply(_n,ft)}return je}function Sc(n,s){return function(v,b){return yv(v,n,s(b),{})}}function wa(n,s){return function(v,b){var S;if(v===r&&b===r)return s;if(v!==r&&(S=v),b!==r){if(S===r)return b;typeof v=="string"||typeof b=="string"?(v=Gr(v),b=Gr(b)):(v=hc(v),b=hc(b)),S=n(v,b)}return S}}function po(n){return Kn(function(s){return s=Rt(s,Hr(Re())),ut(function(v){var b=this;return n(s,function(S){return Wr(S,b,v)})})})}function Ea(n,s){s=s===r?" ":Gr(s);var v=s.length;if(v<2)return v?ao(s,n):s;var b=ao(s,fa(n/Wi(s)));return zi(s)?hi(gn(b),0,n).join(""):b.slice(0,n)}function Kv(n,s,v,b){var S=s&m,P=Vu(n);function L(){for(var z=-1,J=arguments.length,de=-1,pe=b.length,me=te(pe+J),Fe=this&&this!==wr&&this instanceof L?P:n;++de<pe;)me[de]=b[de];for(;J--;)me[de++]=arguments[++z];return Wr(Fe,S?v:this,me)}return L}function Bc(n){return function(s,v,b){return b&&typeof b!="number"&&Ir(s,v,b)&&(v=b=r),s=$n(s),v===r?(v=s,s=0):v=$n(v),b=b===r?s<v?1:-1:$n(b),Pv(s,v,b,n)}}function Fa(n){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=ln(s),v=ln(v)),n(s,v)}}function Oc(n,s,v,b,S,P,L,z,J,de){var pe=s&w,me=pe?L:r,Fe=pe?r:L,xe=pe?P:r,Ue=pe?r:P;s|=pe?C:O,s&=~(pe?O:C),s&F||(s&=~(m|y));var nt=[n,s,S,xe,me,Ue,Fe,z,J,de],je=v.apply(r,nt);return bo(n)&&Vc(je,nt),je.placeholder=b,qc(je,n,s)}function vo(n){var s=cr[n];return function(v,b){if(v=ln(v),b=b==null?0:Or(tt(b),292),b&&qf(v)){var S=(gt(v)+"e").split("e"),P=s(S[0]+"e"+(+S[1]+b));return S=(gt(P)+"e").split("e"),+(S[0]+"e"+(+S[1]-b))}return s(v)}}var Yv=Ki&&1/ea(new Ki([,-0]))[1]==re?function(n){return new Ki(n)}:Ro;function Mc(n){return function(s){var v=Mr(s);return v==Je?Ws(s):v==Nt?c1(s):n1(s,n(s))}}function Gn(n,s,v,b,S,P,L,z){var J=s&y;if(!J&&typeof n!="function")throw new nn(o);var de=b?b.length:0;if(de||(s&=~(C|O),b=S=r),L=L===r?L:hr(tt(L),0),z=z===r?z:tt(z),de-=S?S.length:0,s&O){var pe=b,me=S;b=S=r}var Fe=J?r:Do(n),xe=[n,s,v,b,S,pe,me,P,L,z];if(Fe&&lg(xe,Fe),n=xe[0],s=xe[1],v=xe[2],b=xe[3],S=xe[4],z=xe[9]=xe[9]===r?J?0:n.length:hr(xe[9]-de,0),!z&&s&(w|B)&&(s&=~(w|B)),!s||s==m)var Ue=Hv(n,s,v);else s==w||s==B?Ue=Gv(n,s,z):(s==C||s==(m|C))&&!S.length?Ue=Kv(n,s,v,b):Ue=ba.apply(r,xe);var nt=Fe?fc:Vc;return qc(nt(Ue,xe),n,s)}function xc(n,s,v,b){return n===r||Dn(n,Gi[v])&&!bt.call(b,v)?s:n}function Pc(n,s,v,b,S,P){return Vt(n)&&Vt(s)&&(P.set(s,n),Da(n,s,r,Pc,P),P.delete(s)),n}function Zv(n){return Wu(n)?r:n}function Tc(n,s,v,b,S,P){var L=v&A,z=n.length,J=s.length;if(z!=J&&!(L&&J>z))return!1;var de=P.get(n),pe=P.get(s);if(de&&pe)return de==s&&pe==n;var me=-1,Fe=!0,xe=v&g?new xi:r;for(P.set(n,s),P.set(s,n);++me<z;){var Ue=n[me],nt=s[me];if(b)var je=L?b(nt,Ue,me,s,n,P):b(Ue,nt,me,n,s,P);if(je!==r){if(je)continue;Fe=!1;break}if(xe){if(!Ls(s,function(st,ft){if(!Mu(xe,ft)&&(Ue===st||S(Ue,st,v,b,P)))return xe.push(ft)})){Fe=!1;break}}else if(!(Ue===nt||S(Ue,nt,v,b,P))){Fe=!1;break}}return P.delete(n),P.delete(s),Fe}function $v(n,s,v,b,S,P,L){switch(v){case he:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case ee:return!(n.byteLength!=s.byteLength||!P(new aa(n),new aa(s)));case ct:case Qe:case At:return Dn(+n,+s);case ht:return n.name==s.name&&n.message==s.message;case pt:case ur:return n==s+"";case Je:var z=Ws;case Nt:var J=b&A;if(z||(z=ea),n.size!=s.size&&!J)return!1;var de=L.get(n);if(de)return de==s;b|=g,L.set(n,s);var pe=Tc(z(n),z(s),b,S,P,L);return L.delete(n),pe;case R:if(Nu)return Nu.call(n)==Nu.call(s)}return!1}function Jv(n,s,v,b,S,P){var L=v&A,z=go(n),J=z.length,de=go(s),pe=de.length;if(J!=pe&&!L)return!1;for(var me=J;me--;){var Fe=z[me];if(!(L?Fe in s:bt.call(s,Fe)))return!1}var xe=P.get(n),Ue=P.get(s);if(xe&&Ue)return xe==s&&Ue==n;var nt=!0;P.set(n,s),P.set(s,n);for(var je=L;++me<J;){Fe=z[me];var st=n[Fe],ft=s[Fe];if(b)var Yr=L?b(ft,st,Fe,s,n,P):b(st,ft,Fe,n,s,P);if(!(Yr===r?st===ft||S(st,ft,v,b,P):Yr)){nt=!1;break}je||(je=Fe=="constructor")}if(nt&&!je){var Nr=n.constructor,Zr=s.constructor;Nr!=Zr&&"constructor"in n&&"constructor"in s&&!(typeof Nr=="function"&&Nr instanceof Nr&&typeof Zr=="function"&&Zr instanceof Zr)&&(nt=!1)}return P.delete(n),P.delete(s),nt}function Kn(n){return Eo(Uc(n,r,Yc),n+"")}function go(n){return Qf(n,mr,yo)}function mo(n){return Qf(n,Ur,Ic)}var Do=ha?function(n){return ha.get(n)}:Ro;function Ca(n){for(var s=n.name+"",v=Yi[s],b=bt.call(Yi,s)?v.length:0;b--;){var S=v[b],P=S.func;if(P==null||P==n)return S.name}return s}function Xi(n){var s=bt.call(M,"placeholder")?M:n;return s.placeholder}function Re(){var n=M.iteratee||No;return n=n===No?rc:n,arguments.length?n(arguments[0],arguments[1]):n}function Sa(n,s){var v=n.__data__;return ug(s)?v[typeof s=="string"?"string":"hash"]:v.map}function _o(n){for(var s=mr(n),v=s.length;v--;){var b=s[v],S=n[b];s[v]=[b,S,Rc(S)]}return s}function Ii(n,s){var v=o1(n,s);return tc(v)?v:r}function Xv(n){var s=bt.call(n,Oi),v=n[Oi];try{n[Oi]=r;var b=!0}catch{}var S=ia.call(n);return b&&(s?n[Oi]=v:delete n[Oi]),S}var yo=Gs?function(n){return n==null?[]:(n=St(n),ui(Gs(n),function(s){return jf.call(n,s)}))}:Lo,Ic=Gs?function(n){for(var s=[];n;)ai(s,yo(n)),n=sa(n);return s}:Lo,Mr=Tr;(Ks&&Mr(new Ks(new ArrayBuffer(1)))!=he||Pu&&Mr(new Pu)!=Je||Ys&&Mr(Ys.resolve())!=Ae||Ki&&Mr(new Ki)!=Nt||Tu&&Mr(new Tu)!=K)&&(Mr=function(n){var s=Tr(n),v=s==wt?n.constructor:r,b=v?Ni(v):"";if(b)switch(b){case I1:return he;case N1:return Je;case k1:return Ae;case R1:return Nt;case L1:return K}return s});function Qv(n,s,v){for(var b=-1,S=v.length;++b<S;){var P=v[b],L=P.size;switch(P.type){case"drop":n+=L;break;case"dropRight":s-=L;break;case"take":s=Or(s,n+L);break;case"takeRight":n=hr(n,s-L);break}}return{start:n,end:s}}function eg(n){var s=n.match(ri);return s?s[1].split(Qr):[]}function Nc(n,s,v){s=ci(s,n);for(var b=-1,S=s.length,P=!1;++b<S;){var L=Tn(s[b]);if(!(P=n!=null&&v(n,L)))break;n=n[L]}return P||++b!=S?P:(S=n==null?0:n.length,!!S&&Ia(S)&&Yn(L,S)&&(Xe(n)||ki(n)))}function tg(n){var s=n.length,v=new n.constructor(s);return s&&typeof n[0]=="string"&&bt.call(n,"index")&&(v.index=n.index,v.input=n.input),v}function kc(n){return typeof n.constructor=="function"&&!qu(n)?Zi(sa(n)):{}}function rg(n,s,v){var b=n.constructor;switch(s){case ee:return ho(n);case ct:case Qe:return new b(+n);case he:return Uv(n,v);case ne:case ae:case De:case Se:case qe:case be:case Lt:case Mt:case Jt:return Dc(n,v);case Je:return new b;case At:case ur:return new b(n);case pt:return jv(n);case Nt:return new b;case R:return Vv(n)}}function ng(n,s){var v=s.length;if(!v)return n;var b=v-1;return s[b]=(v>1?"& ":"")+s[b],s=s.join(v>2?", ":" "),n.replace(gu,`{
/* [wrapped with `+s+`] */
`)}function ig(n){return Xe(n)||ki(n)||!!(Vf&&n&&n[Vf])}function Yn(n,s){var v=typeof n;return s=s??ce,!!s&&(v=="number"||v!="symbol"&&wu.test(n))&&n>-1&&n%1==0&&n<s}function Ir(n,s,v){if(!Vt(v))return!1;var b=typeof s;return(b=="number"?Lr(v)&&Yn(s,v.length):b=="string"&&s in v)?Dn(v[s],n):!1}function Ao(n,s){if(Xe(n))return!1;var v=typeof n;return v=="number"||v=="symbol"||v=="boolean"||n==null||Kr(n)?!0:Bn.test(n)||!Sn.test(n)||s!=null&&n in St(s)}function ug(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function bo(n){var s=Ca(n),v=M[s];if(typeof v!="function"||!(s in ot.prototype))return!1;if(n===v)return!0;var b=Do(v);return!!b&&n===b[0]}function ag(n){return!!Rf&&Rf in n}var sg=ra?Zn:Uo;function qu(n){var s=n&&n.constructor,v=typeof s=="function"&&s.prototype||Gi;return n===v}function Rc(n){return n===n&&!Vt(n)}function Lc(n,s){return function(v){return v==null?!1:v[n]===s&&(s!==r||n in St(v))}}function og(n){var s=Pa(n,function(b){return v.size===p&&v.clear(),b}),v=s.cache;return s}function lg(n,s){var v=n[1],b=s[1],S=v|b,P=S<(m|y|x),L=b==x&&v==w||b==x&&v==T&&n[7].length<=s[8]||b==(x|T)&&s[7].length<=s[8]&&v==w;if(!(P||L))return n;b&m&&(n[2]=s[2],S|=v&m?0:F);var z=s[3];if(z){var J=n[3];n[3]=J?yc(J,z,s[4]):z,n[4]=J?si(n[3],c):s[4]}return z=s[5],z&&(J=n[5],n[5]=J?Ac(J,z,s[6]):z,n[6]=J?si(n[5],c):s[6]),z=s[7],z&&(n[7]=z),b&x&&(n[8]=n[8]==null?s[8]:Or(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=S,n}function fg(n){var s=[];if(n!=null)for(var v in St(n))s.push(v);return s}function cg(n){return ia.call(n)}function Uc(n,s,v){return s=hr(s===r?n.length-1:s,0),function(){for(var b=arguments,S=-1,P=hr(b.length-s,0),L=te(P);++S<P;)L[S]=b[s+S];S=-1;for(var z=te(s+1);++S<s;)z[S]=b[S];return z[s]=v(L),Wr(n,this,z)}}function jc(n,s){return s.length<2?n:Ti(n,sn(s,0,-1))}function hg(n,s){for(var v=n.length,b=Or(s.length,v),S=Rr(n);b--;){var P=s[b];n[b]=Yn(P,v)?S[P]:r}return n}function wo(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var Vc=zc(fc),zu=S1||function(n,s){return wr.setTimeout(n,s)},Eo=zc(Nv);function qc(n,s,v){var b=s+"";return Eo(n,ng(b,dg(eg(b),v)))}function zc(n){var s=0,v=0;return function(){var b=x1(),S=G-(b-v);if(v=b,S>0){if(++s>=X)return arguments[0]}else s=0;return n.apply(r,arguments)}}function Ba(n,s){var v=-1,b=n.length,S=b-1;for(s=s===r?b:s;++v<s;){var P=uo(v,S),L=n[P];n[P]=n[v],n[v]=L}return n.length=s,n}var Wc=og(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(Li,function(v,b,S,P){s.push(S?P.replace(mu,"$1"):b||v)}),s});function Tn(n){if(typeof n=="string"||Kr(n))return n;var s=n+"";return s=="0"&&1/n==-re?"-0":s}function Ni(n){if(n!=null){try{return na.call(n)}catch{}try{return n+""}catch{}}return""}function dg(n,s){return rn(Te,function(v){var b="_."+v[0];s&v[1]&&!Xu(n,b)&&n.push(b)}),n.sort()}function Hc(n){if(n instanceof ot)return n.clone();var s=new un(n.__wrapped__,n.__chain__);return s.__actions__=Rr(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function pg(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=hr(tt(s),0);var b=n==null?0:n.length;if(!b||s<1)return[];for(var S=0,P=0,L=te(fa(b/s));S<b;)L[P++]=sn(n,S,S+=s);return L}function vg(n){for(var s=-1,v=n==null?0:n.length,b=0,S=[];++s<v;){var P=n[s];P&&(S[b++]=P)}return S}function gg(){var n=arguments.length;if(!n)return[];for(var s=te(n-1),v=arguments[0],b=n;b--;)s[b-1]=arguments[b];return ai(Xe(v)?Rr(v):[v],Er(s,1))}var mg=ut(function(n,s){return nr(n)?Ru(n,Er(s,1,nr,!0)):[]}),Dg=ut(function(n,s){var v=on(s);return nr(v)&&(v=r),nr(n)?Ru(n,Er(s,1,nr,!0),Re(v,2)):[]}),_g=ut(function(n,s){var v=on(s);return nr(v)&&(v=r),nr(n)?Ru(n,Er(s,1,nr,!0),r,v):[]});function yg(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),sn(n,s<0?0:s,b)):[]}function Ag(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,0,s<0?0:s)):[]}function bg(n,s){return n&&n.length?ya(n,Re(s,3),!0,!0):[]}function wg(n,s){return n&&n.length?ya(n,Re(s,3),!0):[]}function Eg(n,s,v,b){var S=n==null?0:n.length;return S?(v&&typeof v!="number"&&Ir(n,s,v)&&(v=0,b=S),gv(n,s,v,b)):[]}function Gc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),Qu(n,Re(s,3),S)}function Kc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b-1;return v!==r&&(S=tt(v),S=v<0?hr(b+S,0):Or(S,b-1)),Qu(n,Re(s,3),S,!0)}function Yc(n){var s=n==null?0:n.length;return s?Er(n,1):[]}function Fg(n){var s=n==null?0:n.length;return s?Er(n,re):[]}function Cg(n,s){var v=n==null?0:n.length;return v?(s=s===r?1:tt(s),Er(n,s)):[]}function Sg(n){for(var s=-1,v=n==null?0:n.length,b={};++s<v;){var S=n[s];b[S[0]]=S[1]}return b}function Zc(n){return n&&n.length?n[0]:r}function Bg(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),qi(n,s,S)}function Og(n){var s=n==null?0:n.length;return s?sn(n,0,-1):[]}var Mg=ut(function(n){var s=Rt(n,fo);return s.length&&s[0]===n[0]?eo(s):[]}),xg=ut(function(n){var s=on(n),v=Rt(n,fo);return s===on(v)?s=r:v.pop(),v.length&&v[0]===n[0]?eo(v,Re(s,2)):[]}),Pg=ut(function(n){var s=on(n),v=Rt(n,fo);return s=typeof s=="function"?s:r,s&&v.pop(),v.length&&v[0]===n[0]?eo(v,r,s):[]});function Tg(n,s){return n==null?"":O1.call(n,s)}function on(n){var s=n==null?0:n.length;return s?n[s-1]:r}function Ig(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b;return v!==r&&(S=tt(v),S=S<0?hr(b+S,0):Or(S,b-1)),s===s?d1(n,s,S):Qu(n,Of,S,!0)}function Ng(n,s){return n&&n.length?ac(n,tt(s)):r}var kg=ut($c);function $c(n,s){return n&&n.length&&s&&s.length?io(n,s):n}function Rg(n,s,v){return n&&n.length&&s&&s.length?io(n,s,Re(v,2)):n}function Lg(n,s,v){return n&&n.length&&s&&s.length?io(n,s,r,v):n}var Ug=Kn(function(n,s){var v=n==null?0:n.length,b=$s(n,s);return lc(n,Rt(s,function(S){return Yn(S,v)?+S:S}).sort(_c)),b});function jg(n,s){var v=[];if(!(n&&n.length))return v;var b=-1,S=[],P=n.length;for(s=Re(s,3);++b<P;){var L=n[b];s(L,b,n)&&(v.push(L),S.push(b))}return lc(n,S),v}function Fo(n){return n==null?n:T1.call(n)}function Vg(n,s,v){var b=n==null?0:n.length;return b?(v&&typeof v!="number"&&Ir(n,s,v)?(s=0,v=b):(s=s==null?0:tt(s),v=v===r?b:tt(v)),sn(n,s,v)):[]}function qg(n,s){return _a(n,s)}function zg(n,s,v){return so(n,s,Re(v,2))}function Wg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s);if(b<v&&Dn(n[b],s))return b}return-1}function Hg(n,s){return _a(n,s,!0)}function Gg(n,s,v){return so(n,s,Re(v,2),!0)}function Kg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s,!0)-1;if(Dn(n[b],s))return b}return-1}function Yg(n){return n&&n.length?cc(n):[]}function Zg(n,s){return n&&n.length?cc(n,Re(s,2)):[]}function $g(n){var s=n==null?0:n.length;return s?sn(n,1,s):[]}function Jg(n,s,v){return n&&n.length?(s=v||s===r?1:tt(s),sn(n,0,s<0?0:s)):[]}function Xg(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,s<0?0:s,b)):[]}function Qg(n,s){return n&&n.length?ya(n,Re(s,3),!1,!0):[]}function em(n,s){return n&&n.length?ya(n,Re(s,3)):[]}var tm=ut(function(n){return fi(Er(n,1,nr,!0))}),rm=ut(function(n){var s=on(n);return nr(s)&&(s=r),fi(Er(n,1,nr,!0),Re(s,2))}),nm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,fi(Er(n,1,nr,!0),r,s)});function im(n){return n&&n.length?fi(n):[]}function um(n,s){return n&&n.length?fi(n,Re(s,2)):[]}function am(n,s){return s=typeof s=="function"?s:r,n&&n.length?fi(n,r,s):[]}function Co(n){if(!(n&&n.length))return[];var s=0;return n=ui(n,function(v){if(nr(v))return s=hr(v.length,s),!0}),qs(s,function(v){return Rt(n,Us(v))})}function Jc(n,s){if(!(n&&n.length))return[];var v=Co(n);return s==null?v:Rt(v,function(b){return Wr(s,r,b)})}var sm=ut(function(n,s){return nr(n)?Ru(n,s):[]}),om=ut(function(n){return lo(ui(n,nr))}),lm=ut(function(n){var s=on(n);return nr(s)&&(s=r),lo(ui(n,nr),Re(s,2))}),fm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,lo(ui(n,nr),r,s)}),cm=ut(Co);function hm(n,s){return vc(n||[],s||[],ku)}function dm(n,s){return vc(n||[],s||[],ju)}var pm=ut(function(n){var s=n.length,v=s>1?n[s-1]:r;return v=typeof v=="function"?(n.pop(),v):r,Jc(n,v)});function Xc(n){var s=M(n);return s.__chain__=!0,s}function vm(n,s){return s(n),n}function Oa(n,s){return s(n)}var gm=Kn(function(n){var s=n.length,v=s?n[0]:0,b=this.__wrapped__,S=function(P){return $s(P,n)};return s>1||this.__actions__.length||!(b instanceof ot)||!Yn(v)?this.thru(S):(b=b.slice(v,+v+(s?1:0)),b.__actions__.push({func:Oa,args:[S],thisArg:r}),new un(b,this.__chain__).thru(function(P){return s&&!P.length&&P.push(r),P}))});function mm(){return Xc(this)}function Dm(){return new un(this.value(),this.__chain__)}function _m(){this.__values__===r&&(this.__values__=h0(this.value()));var n=this.__index__>=this.__values__.length,s=n?r:this.__values__[this.__index__++];return{done:n,value:s}}function ym(){return this}function Am(n){for(var s,v=this;v instanceof pa;){var b=Hc(v);b.__index__=0,b.__values__=r,s?S.__wrapped__=b:s=b;var S=b;v=v.__wrapped__}return S.__wrapped__=n,s}function bm(){var n=this.__wrapped__;if(n instanceof ot){var s=n;return this.__actions__.length&&(s=new ot(this)),s=s.reverse(),s.__actions__.push({func:Oa,args:[Fo],thisArg:r}),new un(s,this.__chain__)}return this.thru(Fo)}function wm(){return pc(this.__wrapped__,this.__actions__)}var Em=Aa(function(n,s,v){bt.call(n,v)?++n[v]:Hn(n,v,1)});function Fm(n,s,v){var b=Xe(n)?Sf:vv;return v&&Ir(n,s,v)&&(s=r),b(n,Re(s,3))}function Cm(n,s){var v=Xe(n)?ui:Jf;return v(n,Re(s,3))}var Sm=Fc(Gc),Bm=Fc(Kc);function Om(n,s){return Er(Ma(n,s),1)}function Mm(n,s){return Er(Ma(n,s),re)}function xm(n,s,v){return v=v===r?1:tt(v),Er(Ma(n,s),v)}function Qc(n,s){var v=Xe(n)?rn:li;return v(n,Re(s,3))}function e0(n,s){var v=Xe(n)?$p:$f;return v(n,Re(s,3))}var Pm=Aa(function(n,s,v){bt.call(n,v)?n[v].push(s):Hn(n,v,[s])});function Tm(n,s,v,b){n=Lr(n)?n:eu(n),v=v&&!b?tt(v):0;var S=n.length;return v<0&&(v=hr(S+v,0)),Na(n)?v<=S&&n.indexOf(s,v)>-1:!!S&&qi(n,s,v)>-1}var Im=ut(function(n,s,v){var b=-1,S=typeof s=="function",P=Lr(n)?te(n.length):[];return li(n,function(L){P[++b]=S?Wr(s,L,v):Lu(L,s,v)}),P}),Nm=Aa(function(n,s,v){Hn(n,v,s)});function Ma(n,s){var v=Xe(n)?Rt:nc;return v(n,Re(s,3))}function km(n,s,v,b){return n==null?[]:(Xe(s)||(s=s==null?[]:[s]),v=b?r:v,Xe(v)||(v=v==null?[]:[v]),sc(n,s,v))}var Rm=Aa(function(n,s,v){n[v?0:1].push(s)},function(){return[[],[]]});function Lm(n,s,v){var b=Xe(n)?Rs:xf,S=arguments.length<3;return b(n,Re(s,4),v,S,li)}function Um(n,s,v){var b=Xe(n)?Jp:xf,S=arguments.length<3;return b(n,Re(s,4),v,S,$f)}function jm(n,s){var v=Xe(n)?ui:Jf;return v(n,Ta(Re(s,3)))}function Vm(n){var s=Xe(n)?Gf:Tv;return s(n)}function qm(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=tt(s);var b=Xe(n)?fv:Iv;return b(n,s)}function zm(n){var s=Xe(n)?cv:kv;return s(n)}function Wm(n){if(n==null)return 0;if(Lr(n))return Na(n)?Wi(n):n.length;var s=Mr(n);return s==Je||s==Nt?n.size:ro(n).length}function Hm(n,s,v){var b=Xe(n)?Ls:Rv;return v&&Ir(n,s,v)&&(s=r),b(n,Re(s,3))}var Gm=ut(function(n,s){if(n==null)return[];var v=s.length;return v>1&&Ir(n,s[0],s[1])?s=[]:v>2&&Ir(s[0],s[1],s[2])&&(s=[s[0]]),sc(n,Er(s,1),[])}),xa=C1||function(){return wr.Date.now()};function Km(n,s){if(typeof s!="function")throw new nn(o);return n=tt(n),function(){if(--n<1)return s.apply(this,arguments)}}function t0(n,s,v){return s=v?r:s,s=n&&s==null?n.length:s,Gn(n,x,r,r,r,r,s)}function r0(n,s){var v;if(typeof s!="function")throw new nn(o);return n=tt(n),function(){return--n>0&&(v=s.apply(this,arguments)),n<=1&&(s=r),v}}var So=ut(function(n,s,v){var b=m;if(v.length){var S=si(v,Xi(So));b|=C}return Gn(n,b,s,v,S)}),n0=ut(function(n,s,v){var b=m|y;if(v.length){var S=si(v,Xi(n0));b|=C}return Gn(s,b,n,v,S)});function i0(n,s,v){s=v?r:s;var b=Gn(n,w,r,r,r,r,r,s);return b.placeholder=i0.placeholder,b}function u0(n,s,v){s=v?r:s;var b=Gn(n,B,r,r,r,r,r,s);return b.placeholder=u0.placeholder,b}function a0(n,s,v){var b,S,P,L,z,J,de=0,pe=!1,me=!1,Fe=!0;if(typeof n!="function")throw new nn(o);s=ln(s)||0,Vt(v)&&(pe=!!v.leading,me="maxWait"in v,P=me?hr(ln(v.maxWait)||0,s):P,Fe="trailing"in v?!!v.trailing:Fe);function xe(ir){var _n=b,Jn=S;return b=S=r,de=ir,L=n.apply(Jn,_n),L}function Ue(ir){return de=ir,z=zu(st,s),pe?xe(ir):L}function nt(ir){var _n=ir-J,Jn=ir-de,F0=s-_n;return me?Or(F0,P-Jn):F0}function je(ir){var _n=ir-J,Jn=ir-de;return J===r||_n>=s||_n<0||me&&Jn>=P}function st(){var ir=xa();if(je(ir))return ft(ir);z=zu(st,nt(ir))}function ft(ir){return z=r,Fe&&b?xe(ir):(b=S=r,L)}function Yr(){z!==r&&gc(z),de=0,b=J=S=z=r}function Nr(){return z===r?L:ft(xa())}function Zr(){var ir=xa(),_n=je(ir);if(b=arguments,S=this,J=ir,_n){if(z===r)return Ue(J);if(me)return gc(z),z=zu(st,s),xe(J)}return z===r&&(z=zu(st,s)),L}return Zr.cancel=Yr,Zr.flush=Nr,Zr}var Ym=ut(function(n,s){return Zf(n,1,s)}),Zm=ut(function(n,s,v){return Zf(n,ln(s)||0,v)});function $m(n){return Gn(n,I)}function Pa(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new nn(o);var v=function(){var b=arguments,S=s?s.apply(this,b):b[0],P=v.cache;if(P.has(S))return P.get(S);var L=n.apply(this,b);return v.cache=P.set(S,L)||P,L};return v.cache=new(Pa.Cache||Wn),v}Pa.Cache=Wn;function Ta(n){if(typeof n!="function")throw new nn(o);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function Jm(n){return r0(2,n)}var Xm=Lv(function(n,s){s=s.length==1&&Xe(s[0])?Rt(s[0],Hr(Re())):Rt(Er(s,1),Hr(Re()));var v=s.length;return ut(function(b){for(var S=-1,P=Or(b.length,v);++S<P;)b[S]=s[S].call(this,b[S]);return Wr(n,this,b)})}),Bo=ut(function(n,s){var v=si(s,Xi(Bo));return Gn(n,C,r,s,v)}),s0=ut(function(n,s){var v=si(s,Xi(s0));return Gn(n,O,r,s,v)}),Qm=Kn(function(n,s){return Gn(n,T,r,r,r,s)});function eD(n,s){if(typeof n!="function")throw new nn(o);return s=s===r?s:tt(s),ut(n,s)}function tD(n,s){if(typeof n!="function")throw new nn(o);return s=s==null?0:hr(tt(s),0),ut(function(v){var b=v[s],S=hi(v,0,s);return b&&ai(S,b),Wr(n,this,S)})}function rD(n,s,v){var b=!0,S=!0;if(typeof n!="function")throw new nn(o);return Vt(v)&&(b="leading"in v?!!v.leading:b,S="trailing"in v?!!v.trailing:S),a0(n,s,{leading:b,maxWait:s,trailing:S})}function nD(n){return t0(n,1)}function iD(n,s){return Bo(co(s),n)}function uD(){if(!arguments.length)return[];var n=arguments[0];return Xe(n)?n:[n]}function aD(n){return an(n,D)}function sD(n,s){return s=typeof s=="function"?s:r,an(n,D,s)}function oD(n){return an(n,l|D)}function lD(n,s){return s=typeof s=="function"?s:r,an(n,l|D,s)}function fD(n,s){return s==null||Yf(n,s,mr(s))}function Dn(n,s){return n===s||n!==n&&s!==s}var cD=Fa(Qs),hD=Fa(function(n,s){return n>=s}),ki=ec(function(){return arguments}())?ec:function(n){return Qt(n)&&bt.call(n,"callee")&&!jf.call(n,"callee")},Xe=te.isArray,dD=Af?Hr(Af):Av;function Lr(n){return n!=null&&Ia(n.length)&&!Zn(n)}function nr(n){return Qt(n)&&Lr(n)}function pD(n){return n===!0||n===!1||Qt(n)&&Tr(n)==ct}var di=B1||Uo,vD=bf?Hr(bf):bv;function gD(n){return Qt(n)&&n.nodeType===1&&!Wu(n)}function mD(n){if(n==null)return!0;if(Lr(n)&&(Xe(n)||typeof n=="string"||typeof n.splice=="function"||di(n)||Qi(n)||ki(n)))return!n.length;var s=Mr(n);if(s==Je||s==Nt)return!n.size;if(qu(n))return!ro(n).length;for(var v in n)if(bt.call(n,v))return!1;return!0}function DD(n,s){return Uu(n,s)}function _D(n,s,v){v=typeof v=="function"?v:r;var b=v?v(n,s):r;return b===r?Uu(n,s,r,v):!!b}function Oo(n){if(!Qt(n))return!1;var s=Tr(n);return s==ht||s==it||typeof n.message=="string"&&typeof n.name=="string"&&!Wu(n)}function yD(n){return typeof n=="number"&&qf(n)}function Zn(n){if(!Vt(n))return!1;var s=Tr(n);return s==dt||s==rt||s==at||s==_e}function o0(n){return typeof n=="number"&&n==tt(n)}function Ia(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ce}function Vt(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Qt(n){return n!=null&&typeof n=="object"}var l0=wf?Hr(wf):Ev;function AD(n,s){return n===s||to(n,s,_o(s))}function bD(n,s,v){return v=typeof v=="function"?v:r,to(n,s,_o(s),v)}function wD(n){return f0(n)&&n!=+n}function ED(n){if(sg(n))throw new He(a);return tc(n)}function FD(n){return n===null}function CD(n){return n==null}function f0(n){return typeof n=="number"||Qt(n)&&Tr(n)==At}function Wu(n){if(!Qt(n)||Tr(n)!=wt)return!1;var s=sa(n);if(s===null)return!0;var v=bt.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&na.call(v)==b1}var Mo=Ef?Hr(Ef):Fv;function SD(n){return o0(n)&&n>=-ce&&n<=ce}var c0=Ff?Hr(Ff):Cv;function Na(n){return typeof n=="string"||!Xe(n)&&Qt(n)&&Tr(n)==ur}function Kr(n){return typeof n=="symbol"||Qt(n)&&Tr(n)==R}var Qi=Cf?Hr(Cf):Sv;function BD(n){return n===r}function OD(n){return Qt(n)&&Mr(n)==K}function MD(n){return Qt(n)&&Tr(n)==ue}var xD=Fa(no),PD=Fa(function(n,s){return n<=s});function h0(n){if(!n)return[];if(Lr(n))return Na(n)?gn(n):Rr(n);if(xu&&n[xu])return f1(n[xu]());var s=Mr(n),v=s==Je?Ws:s==Nt?ea:eu;return v(n)}function $n(n){if(!n)return n===0?n:0;if(n=ln(n),n===re||n===-re){var s=n<0?-1:1;return s*ve}return n===n?n:0}function tt(n){var s=$n(n),v=s%1;return s===s?v?s-v:s:0}function d0(n){return n?Pi(tt(n),0,Ee):0}function ln(n){if(typeof n=="number")return n;if(Kr(n))return ye;if(Vt(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=Vt(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=Pf(n);var v=yu.test(n);return v||bu.test(n)?Kp(n.slice(2),v?2:8):_u.test(n)?ye:+n}function p0(n){return Pn(n,Ur(n))}function TD(n){return n?Pi(tt(n),-ce,ce):n===0?n:0}function gt(n){return n==null?"":Gr(n)}var ID=$i(function(n,s){if(qu(s)||Lr(s)){Pn(s,mr(s),n);return}for(var v in s)bt.call(s,v)&&ku(n,v,s[v])}),v0=$i(function(n,s){Pn(s,Ur(s),n)}),ka=$i(function(n,s,v,b){Pn(s,Ur(s),n,b)}),ND=$i(function(n,s,v,b){Pn(s,mr(s),n,b)}),kD=Kn($s);function RD(n,s){var v=Zi(n);return s==null?v:Kf(v,s)}var LD=ut(function(n,s){n=St(n);var v=-1,b=s.length,S=b>2?s[2]:r;for(S&&Ir(s[0],s[1],S)&&(b=1);++v<b;)for(var P=s[v],L=Ur(P),z=-1,J=L.length;++z<J;){var de=L[z],pe=n[de];(pe===r||Dn(pe,Gi[de])&&!bt.call(n,de))&&(n[de]=P[de])}return n}),UD=ut(function(n){return n.push(r,Pc),Wr(g0,r,n)});function jD(n,s){return Bf(n,Re(s,3),xn)}function VD(n,s){return Bf(n,Re(s,3),Xs)}function qD(n,s){return n==null?n:Js(n,Re(s,3),Ur)}function zD(n,s){return n==null?n:Xf(n,Re(s,3),Ur)}function WD(n,s){return n&&xn(n,Re(s,3))}function HD(n,s){return n&&Xs(n,Re(s,3))}function GD(n){return n==null?[]:ma(n,mr(n))}function KD(n){return n==null?[]:ma(n,Ur(n))}function xo(n,s,v){var b=n==null?r:Ti(n,s);return b===r?v:b}function YD(n,s){return n!=null&&Nc(n,s,mv)}function Po(n,s){return n!=null&&Nc(n,s,Dv)}var ZD=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),n[s]=v},Io(jr)),$D=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),bt.call(n,s)?n[s].push(v):n[s]=[v]},Re),JD=ut(Lu);function mr(n){return Lr(n)?Hf(n):ro(n)}function Ur(n){return Lr(n)?Hf(n,!0):Bv(n)}function XD(n,s){var v={};return s=Re(s,3),xn(n,function(b,S,P){Hn(v,s(b,S,P),b)}),v}function QD(n,s){var v={};return s=Re(s,3),xn(n,function(b,S,P){Hn(v,S,s(b,S,P))}),v}var e_=$i(function(n,s,v){Da(n,s,v)}),g0=$i(function(n,s,v,b){Da(n,s,v,b)}),t_=Kn(function(n,s){var v={};if(n==null)return v;var b=!1;s=Rt(s,function(P){return P=ci(P,n),b||(b=P.length>1),P}),Pn(n,mo(n),v),b&&(v=an(v,l|f|D,Zv));for(var S=s.length;S--;)oo(v,s[S]);return v});function r_(n,s){return m0(n,Ta(Re(s)))}var n_=Kn(function(n,s){return n==null?{}:Mv(n,s)});function m0(n,s){if(n==null)return{};var v=Rt(mo(n),function(b){return[b]});return s=Re(s),oc(n,v,function(b,S){return s(b,S[0])})}function i_(n,s,v){s=ci(s,n);var b=-1,S=s.length;for(S||(S=1,n=r);++b<S;){var P=n==null?r:n[Tn(s[b])];P===r&&(b=S,P=v),n=Zn(P)?P.call(n):P}return n}function u_(n,s,v){return n==null?n:ju(n,s,v)}function a_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:ju(n,s,v,b)}var D0=Mc(mr),_0=Mc(Ur);function s_(n,s,v){var b=Xe(n),S=b||di(n)||Qi(n);if(s=Re(s,4),v==null){var P=n&&n.constructor;S?v=b?new P:[]:Vt(n)?v=Zn(P)?Zi(sa(n)):{}:v={}}return(S?rn:xn)(n,function(L,z,J){return s(v,L,z,J)}),v}function o_(n,s){return n==null?!0:oo(n,s)}function l_(n,s,v){return n==null?n:dc(n,s,co(v))}function f_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:dc(n,s,co(v),b)}function eu(n){return n==null?[]:zs(n,mr(n))}function c_(n){return n==null?[]:zs(n,Ur(n))}function h_(n,s,v){return v===r&&(v=s,s=r),v!==r&&(v=ln(v),v=v===v?v:0),s!==r&&(s=ln(s),s=s===s?s:0),Pi(ln(n),s,v)}function d_(n,s,v){return s=$n(s),v===r?(v=s,s=0):v=$n(v),n=ln(n),_v(n,s,v)}function p_(n,s,v){if(v&&typeof v!="boolean"&&Ir(n,s,v)&&(s=v=r),v===r&&(typeof s=="boolean"?(v=s,s=r):typeof n=="boolean"&&(v=n,n=r)),n===r&&s===r?(n=0,s=1):(n=$n(n),s===r?(s=n,n=0):s=$n(s)),n>s){var b=n;n=s,s=b}if(v||n%1||s%1){var S=zf();return Or(n+S*(s-n+Gp("1e-"+((S+"").length-1))),s)}return uo(n,s)}var v_=Ji(function(n,s,v){return s=s.toLowerCase(),n+(v?y0(s):s)});function y0(n){return To(gt(n).toLowerCase())}function A0(n){return n=gt(n),n&&n.replace(Eu,u1).replace(kp,"")}function g_(n,s,v){n=gt(n),s=Gr(s);var b=n.length;v=v===r?b:Pi(tt(v),0,b);var S=v;return v-=s.length,v>=0&&n.slice(v,S)==s}function m_(n){return n=gt(n),n&&Xr.test(n)?n.replace(ar,a1):n}function D_(n){return n=gt(n),n&&vu.test(n)?n.replace(Ei,"\\$&"):n}var __=Ji(function(n,s,v){return n+(v?"-":"")+s.toLowerCase()}),y_=Ji(function(n,s,v){return n+(v?" ":"")+s.toLowerCase()}),A_=Ec("toLowerCase");function b_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;if(!s||b>=s)return n;var S=(s-b)/2;return Ea(ca(S),v)+n+Ea(fa(S),v)}function w_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?n+Ea(s-b,v):n}function E_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?Ea(s-b,v)+n:n}function F_(n,s,v){return v||s==null?s=0:s&&(s=+s),P1(gt(n).replace(br,""),s||0)}function C_(n,s,v){return(v?Ir(n,s,v):s===r)?s=1:s=tt(s),ao(gt(n),s)}function S_(){var n=arguments,s=gt(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var B_=Ji(function(n,s,v){return n+(v?"_":"")+s.toLowerCase()});function O_(n,s,v){return v&&typeof v!="number"&&Ir(n,s,v)&&(s=v=r),v=v===r?Ee:v>>>0,v?(n=gt(n),n&&(typeof s=="string"||s!=null&&!Mo(s))&&(s=Gr(s),!s&&zi(n))?hi(gn(n),0,v):n.split(s,v)):[]}var M_=Ji(function(n,s,v){return n+(v?" ":"")+To(s)});function x_(n,s,v){return n=gt(n),v=v==null?0:Pi(tt(v),0,n.length),s=Gr(s),n.slice(v,v+s.length)==s}function P_(n,s,v){var b=M.templateSettings;v&&Ir(n,s,v)&&(s=r),n=gt(n),s=ka({},s,b,xc);var S=ka({},s.imports,b.imports,xc),P=mr(S),L=zs(S,P),z,J,de=0,pe=s.interpolate||ni,me="__p += '",Fe=Hs((s.escape||ni).source+"|"+pe.source+"|"+(pe===jn?Du:ni).source+"|"+(s.evaluate||ni).source+"|$","g"),xe="//# sourceURL="+(bt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vp+"]")+`
`;n.replace(Fe,function(je,st,ft,Yr,Nr,Zr){return ft||(ft=Yr),me+=n.slice(de,Zr).replace(Fu,s1),st&&(z=!0,me+=`' +
__e(`+st+`) +
'`),Nr&&(J=!0,me+=`';
`+Nr+`;
__p += '`),ft&&(me+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),de=Zr+je.length,je}),me+=`';
`;var Ue=bt.call(s,"variable")&&s.variable;if(!Ue)me=`with (obj) {
`+me+`
}
`;else if(Fi.test(Ue))throw new He(h);me=(J?me.replace(Ut,""):me).replace(pr,"$1").replace(jt,"$1;"),me="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var nt=w0(function(){return vt(P,xe+"return "+me).apply(r,L)});if(nt.source=me,Oo(nt))throw nt;return nt}function T_(n){return gt(n).toLowerCase()}function I_(n){return gt(n).toUpperCase()}function N_(n,s,v){if(n=gt(n),n&&(v||s===r))return Pf(n);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=gn(s),P=Tf(b,S),L=If(b,S)+1;return hi(b,P,L).join("")}function k_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.slice(0,kf(n)+1);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=If(b,gn(s))+1;return hi(b,0,S).join("")}function R_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.replace(br,"");if(!n||!(s=Gr(s)))return n;var b=gn(n),S=Tf(b,gn(s));return hi(b,S).join("")}function L_(n,s){var v=j,b=Y;if(Vt(s)){var S="separator"in s?s.separator:S;v="length"in s?tt(s.length):v,b="omission"in s?Gr(s.omission):b}n=gt(n);var P=n.length;if(zi(n)){var L=gn(n);P=L.length}if(v>=P)return n;var z=v-Wi(b);if(z<1)return b;var J=L?hi(L,0,z).join(""):n.slice(0,z);if(S===r)return J+b;if(L&&(z+=J.length-z),Mo(S)){if(n.slice(z).search(S)){var de,pe=J;for(S.global||(S=Hs(S.source,gt(Ui.exec(S))+"g")),S.lastIndex=0;de=S.exec(pe);)var me=de.index;J=J.slice(0,me===r?z:me)}}else if(n.indexOf(Gr(S),z)!=z){var Fe=J.lastIndexOf(S);Fe>-1&&(J=J.slice(0,Fe))}return J+b}function U_(n){return n=gt(n),n&&sr.test(n)?n.replace(vr,p1):n}var j_=Ji(function(n,s,v){return n+(v?" ":"")+s.toUpperCase()}),To=Ec("toUpperCase");function b0(n,s,v){return n=gt(n),s=v?r:s,s===r?l1(n)?m1(n):e1(n):n.match(s)||[]}var w0=ut(function(n,s){try{return Wr(n,r,s)}catch(v){return Oo(v)?v:new He(v)}}),V_=Kn(function(n,s){return rn(s,function(v){v=Tn(v),Hn(n,v,So(n[v],n))}),n});function q_(n){var s=n==null?0:n.length,v=Re();return n=s?Rt(n,function(b){if(typeof b[1]!="function")throw new nn(o);return[v(b[0]),b[1]]}):[],ut(function(b){for(var S=-1;++S<s;){var P=n[S];if(Wr(P[0],this,b))return Wr(P[1],this,b)}})}function z_(n){return pv(an(n,l))}function Io(n){return function(){return n}}function W_(n,s){return n==null||n!==n?s:n}var H_=Cc(),G_=Cc(!0);function jr(n){return n}function No(n){return rc(typeof n=="function"?n:an(n,l))}function K_(n){return ic(an(n,l))}function Y_(n,s){return uc(n,an(s,l))}var Z_=ut(function(n,s){return function(v){return Lu(v,n,s)}}),$_=ut(function(n,s){return function(v){return Lu(n,v,s)}});function ko(n,s,v){var b=mr(s),S=ma(s,b);v==null&&!(Vt(s)&&(S.length||!b.length))&&(v=s,s=n,n=this,S=ma(s,mr(s)));var P=!(Vt(v)&&"chain"in v)||!!v.chain,L=Zn(n);return rn(S,function(z){var J=s[z];n[z]=J,L&&(n.prototype[z]=function(){var de=this.__chain__;if(P||de){var pe=n(this.__wrapped__),me=pe.__actions__=Rr(this.__actions__);return me.push({func:J,args:arguments,thisArg:n}),pe.__chain__=de,pe}return J.apply(n,ai([this.value()],arguments))})}),n}function J_(){return wr._===this&&(wr._=w1),this}function Ro(){}function X_(n){return n=tt(n),ut(function(s){return ac(s,n)})}var Q_=po(Rt),ey=po(Sf),ty=po(Ls);function E0(n){return Ao(n)?Us(Tn(n)):xv(n)}function ry(n){return function(s){return n==null?r:Ti(n,s)}}var ny=Bc(),iy=Bc(!0);function Lo(){return[]}function Uo(){return!1}function uy(){return{}}function ay(){return""}function sy(){return!0}function oy(n,s){if(n=tt(n),n<1||n>ce)return[];var v=Ee,b=Or(n,Ee);s=Re(s),n-=Ee;for(var S=qs(b,s);++v<n;)s(v);return S}function ly(n){return Xe(n)?Rt(n,Tn):Kr(n)?[n]:Rr(Wc(gt(n)))}function fy(n){var s=++A1;return gt(n)+s}var cy=wa(function(n,s){return n+s},0),hy=vo("ceil"),dy=wa(function(n,s){return n/s},1),py=vo("floor");function vy(n){return n&&n.length?ga(n,jr,Qs):r}function gy(n,s){return n&&n.length?ga(n,Re(s,2),Qs):r}function my(n){return Mf(n,jr)}function Dy(n,s){return Mf(n,Re(s,2))}function _y(n){return n&&n.length?ga(n,jr,no):r}function yy(n,s){return n&&n.length?ga(n,Re(s,2),no):r}var Ay=wa(function(n,s){return n*s},1),by=vo("round"),wy=wa(function(n,s){return n-s},0);function Ey(n){return n&&n.length?Vs(n,jr):0}function Fy(n,s){return n&&n.length?Vs(n,Re(s,2)):0}return M.after=Km,M.ary=t0,M.assign=ID,M.assignIn=v0,M.assignInWith=ka,M.assignWith=ND,M.at=kD,M.before=r0,M.bind=So,M.bindAll=V_,M.bindKey=n0,M.castArray=uD,M.chain=Xc,M.chunk=pg,M.compact=vg,M.concat=gg,M.cond=q_,M.conforms=z_,M.constant=Io,M.countBy=Em,M.create=RD,M.curry=i0,M.curryRight=u0,M.debounce=a0,M.defaults=LD,M.defaultsDeep=UD,M.defer=Ym,M.delay=Zm,M.difference=mg,M.differenceBy=Dg,M.differenceWith=_g,M.drop=yg,M.dropRight=Ag,M.dropRightWhile=bg,M.dropWhile=wg,M.fill=Eg,M.filter=Cm,M.flatMap=Om,M.flatMapDeep=Mm,M.flatMapDepth=xm,M.flatten=Yc,M.flattenDeep=Fg,M.flattenDepth=Cg,M.flip=$m,M.flow=H_,M.flowRight=G_,M.fromPairs=Sg,M.functions=GD,M.functionsIn=KD,M.groupBy=Pm,M.initial=Og,M.intersection=Mg,M.intersectionBy=xg,M.intersectionWith=Pg,M.invert=ZD,M.invertBy=$D,M.invokeMap=Im,M.iteratee=No,M.keyBy=Nm,M.keys=mr,M.keysIn=Ur,M.map=Ma,M.mapKeys=XD,M.mapValues=QD,M.matches=K_,M.matchesProperty=Y_,M.memoize=Pa,M.merge=e_,M.mergeWith=g0,M.method=Z_,M.methodOf=$_,M.mixin=ko,M.negate=Ta,M.nthArg=X_,M.omit=t_,M.omitBy=r_,M.once=Jm,M.orderBy=km,M.over=Q_,M.overArgs=Xm,M.overEvery=ey,M.overSome=ty,M.partial=Bo,M.partialRight=s0,M.partition=Rm,M.pick=n_,M.pickBy=m0,M.property=E0,M.propertyOf=ry,M.pull=kg,M.pullAll=$c,M.pullAllBy=Rg,M.pullAllWith=Lg,M.pullAt=Ug,M.range=ny,M.rangeRight=iy,M.rearg=Qm,M.reject=jm,M.remove=jg,M.rest=eD,M.reverse=Fo,M.sampleSize=qm,M.set=u_,M.setWith=a_,M.shuffle=zm,M.slice=Vg,M.sortBy=Gm,M.sortedUniq=Yg,M.sortedUniqBy=Zg,M.split=O_,M.spread=tD,M.tail=$g,M.take=Jg,M.takeRight=Xg,M.takeRightWhile=Qg,M.takeWhile=em,M.tap=vm,M.throttle=rD,M.thru=Oa,M.toArray=h0,M.toPairs=D0,M.toPairsIn=_0,M.toPath=ly,M.toPlainObject=p0,M.transform=s_,M.unary=nD,M.union=tm,M.unionBy=rm,M.unionWith=nm,M.uniq=im,M.uniqBy=um,M.uniqWith=am,M.unset=o_,M.unzip=Co,M.unzipWith=Jc,M.update=l_,M.updateWith=f_,M.values=eu,M.valuesIn=c_,M.without=sm,M.words=b0,M.wrap=iD,M.xor=om,M.xorBy=lm,M.xorWith=fm,M.zip=cm,M.zipObject=hm,M.zipObjectDeep=dm,M.zipWith=pm,M.entries=D0,M.entriesIn=_0,M.extend=v0,M.extendWith=ka,ko(M,M),M.add=cy,M.attempt=w0,M.camelCase=v_,M.capitalize=y0,M.ceil=hy,M.clamp=h_,M.clone=aD,M.cloneDeep=oD,M.cloneDeepWith=lD,M.cloneWith=sD,M.conformsTo=fD,M.deburr=A0,M.defaultTo=W_,M.divide=dy,M.endsWith=g_,M.eq=Dn,M.escape=m_,M.escapeRegExp=D_,M.every=Fm,M.find=Sm,M.findIndex=Gc,M.findKey=jD,M.findLast=Bm,M.findLastIndex=Kc,M.findLastKey=VD,M.floor=py,M.forEach=Qc,M.forEachRight=e0,M.forIn=qD,M.forInRight=zD,M.forOwn=WD,M.forOwnRight=HD,M.get=xo,M.gt=cD,M.gte=hD,M.has=YD,M.hasIn=Po,M.head=Zc,M.identity=jr,M.includes=Tm,M.indexOf=Bg,M.inRange=d_,M.invoke=JD,M.isArguments=ki,M.isArray=Xe,M.isArrayBuffer=dD,M.isArrayLike=Lr,M.isArrayLikeObject=nr,M.isBoolean=pD,M.isBuffer=di,M.isDate=vD,M.isElement=gD,M.isEmpty=mD,M.isEqual=DD,M.isEqualWith=_D,M.isError=Oo,M.isFinite=yD,M.isFunction=Zn,M.isInteger=o0,M.isLength=Ia,M.isMap=l0,M.isMatch=AD,M.isMatchWith=bD,M.isNaN=wD,M.isNative=ED,M.isNil=CD,M.isNull=FD,M.isNumber=f0,M.isObject=Vt,M.isObjectLike=Qt,M.isPlainObject=Wu,M.isRegExp=Mo,M.isSafeInteger=SD,M.isSet=c0,M.isString=Na,M.isSymbol=Kr,M.isTypedArray=Qi,M.isUndefined=BD,M.isWeakMap=OD,M.isWeakSet=MD,M.join=Tg,M.kebabCase=__,M.last=on,M.lastIndexOf=Ig,M.lowerCase=y_,M.lowerFirst=A_,M.lt=xD,M.lte=PD,M.max=vy,M.maxBy=gy,M.mean=my,M.meanBy=Dy,M.min=_y,M.minBy=yy,M.stubArray=Lo,M.stubFalse=Uo,M.stubObject=uy,M.stubString=ay,M.stubTrue=sy,M.multiply=Ay,M.nth=Ng,M.noConflict=J_,M.noop=Ro,M.now=xa,M.pad=b_,M.padEnd=w_,M.padStart=E_,M.parseInt=F_,M.random=p_,M.reduce=Lm,M.reduceRight=Um,M.repeat=C_,M.replace=S_,M.result=i_,M.round=by,M.runInContext=$,M.sample=Vm,M.size=Wm,M.snakeCase=B_,M.some=Hm,M.sortedIndex=qg,M.sortedIndexBy=zg,M.sortedIndexOf=Wg,M.sortedLastIndex=Hg,M.sortedLastIndexBy=Gg,M.sortedLastIndexOf=Kg,M.startCase=M_,M.startsWith=x_,M.subtract=wy,M.sum=Ey,M.sumBy=Fy,M.template=P_,M.times=oy,M.toFinite=$n,M.toInteger=tt,M.toLength=d0,M.toLower=T_,M.toNumber=ln,M.toSafeInteger=TD,M.toString=gt,M.toUpper=I_,M.trim=N_,M.trimEnd=k_,M.trimStart=R_,M.truncate=L_,M.unescape=U_,M.uniqueId=fy,M.upperCase=j_,M.upperFirst=To,M.each=Qc,M.eachRight=e0,M.first=Zc,ko(M,function(){var n={};return xn(M,function(s,v){bt.call(M.prototype,v)||(n[v]=s)}),n}(),{chain:!1}),M.VERSION=i,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){M[n].placeholder=M}),rn(["drop","take"],function(n,s){ot.prototype[n]=function(v){v=v===r?1:hr(tt(v),0);var b=this.__filtered__&&!s?new ot(this):this.clone();return b.__filtered__?b.__takeCount__=Or(v,b.__takeCount__):b.__views__.push({size:Or(v,Ee),type:n+(b.__dir__<0?"Right":"")}),b},ot.prototype[n+"Right"]=function(v){return this.reverse()[n](v).reverse()}}),rn(["filter","map","takeWhile"],function(n,s){var v=s+1,b=v==H||v==W;ot.prototype[n]=function(S){var P=this.clone();return P.__iteratees__.push({iteratee:Re(S,3),type:v}),P.__filtered__=P.__filtered__||b,P}}),rn(["head","last"],function(n,s){var v="take"+(s?"Right":"");ot.prototype[n]=function(){return this[v](1).value()[0]}}),rn(["initial","tail"],function(n,s){var v="drop"+(s?"":"Right");ot.prototype[n]=function(){return this.__filtered__?new ot(this):this[v](1)}}),ot.prototype.compact=function(){return this.filter(jr)},ot.prototype.find=function(n){return this.filter(n).head()},ot.prototype.findLast=function(n){return this.reverse().find(n)},ot.prototype.invokeMap=ut(function(n,s){return typeof n=="function"?new ot(this):this.map(function(v){return Lu(v,n,s)})}),ot.prototype.reject=function(n){return this.filter(Ta(Re(n)))},ot.prototype.slice=function(n,s){n=tt(n);var v=this;return v.__filtered__&&(n>0||s<0)?new ot(v):(n<0?v=v.takeRight(-n):n&&(v=v.drop(n)),s!==r&&(s=tt(s),v=s<0?v.dropRight(-s):v.take(s-n)),v)},ot.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ot.prototype.toArray=function(){return this.take(Ee)},xn(ot.prototype,function(n,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),S=M[b?"take"+(s=="last"?"Right":""):s],P=b||/^find/.test(s);S&&(M.prototype[s]=function(){var L=this.__wrapped__,z=b?[1]:arguments,J=L instanceof ot,de=z[0],pe=J||Xe(L),me=function(st){var ft=S.apply(M,ai([st],z));return b&&Fe?ft[0]:ft};pe&&v&&typeof de=="function"&&de.length!=1&&(J=pe=!1);var Fe=this.__chain__,xe=!!this.__actions__.length,Ue=P&&!Fe,nt=J&&!xe;if(!P&&pe){L=nt?L:new ot(this);var je=n.apply(L,z);return je.__actions__.push({func:Oa,args:[me],thisArg:r}),new un(je,Fe)}return Ue&&nt?n.apply(this,z):(je=this.thru(me),Ue?b?je.value()[0]:je.value():je)})}),rn(["pop","push","shift","sort","splice","unshift"],function(n){var s=ta[n],v=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",b=/^(?:pop|shift)$/.test(n);M.prototype[n]=function(){var S=arguments;if(b&&!this.__chain__){var P=this.value();return s.apply(Xe(P)?P:[],S)}return this[v](function(L){return s.apply(Xe(L)?L:[],S)})}}),xn(ot.prototype,function(n,s){var v=M[s];if(v){var b=v.name+"";bt.call(Yi,b)||(Yi[b]=[]),Yi[b].push({name:s,func:v})}}),Yi[ba(r,y).name]=[{name:"wrapper",func:r}],ot.prototype.clone=U1,ot.prototype.reverse=j1,ot.prototype.value=V1,M.prototype.at=gm,M.prototype.chain=mm,M.prototype.commit=Dm,M.prototype.next=_m,M.prototype.plant=Am,M.prototype.reverse=bm,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=wm,M.prototype.first=M.prototype.head,xu&&(M.prototype[xu]=ym),M},Hi=D1();Bi?((Bi.exports=Hi)._=Hi,Is._=Hi):wr._=Hi}).call(or)})(OC,hs);const MC=hs,pl="panelModeStore";function xC(){const e=Fn("select"),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[pl]||""),{subscribe:t,updateMode:a=>{!a||!u||(localStorage[pl]=a,r(a))},getMode:()=>Pt(e),resetMode:()=>{u&&(delete localStorage[pl],r("select"))}}}const Ln=xC(),PC=En(Ln,e=>Pt(Ln)),vl="selectedPromptStore";function TC(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[vl]||""),{subscribe:t,updateId:a=>{!a||!u||(localStorage[vl]=a,r(a))},getId:()=>Pt(e),clearId:()=>{u&&(delete localStorage[vl],r(""))}}}const jl=TC(),IC=En(jl,e=>Pt(jl));function Uh(e,t,r){const i=e.slice();return i[6]=t[r][0],i[7]=t[r][1],i}function jh(e,t,r){const i=e.slice();return i[10]=t[r][0],i[11]=t[r][1],i}function Vh(e){let t=e[11].text+"",r,i,u,a=ti(e[11],e[7].weightMode)+"",o,h;return{c(){r=Ye(t),i=Ye("::"),u=oe("b"),o=Ye(a),h=Ge()},l(d){r=Ze(d,t),i=Ze(d,"::"),u=le(d,"B",{});var p=ie(u);o=Ze(p,a),p.forEach(q),h=Ke(d)},m(d,p){Ce(d,r,p),Ce(d,i,p),Ce(d,u,p),Q(u,o),Ce(d,h,p)},p(d,p){p&1&&t!==(t=d[11].text+"")&&wn(r,t),p&1&&a!==(a=ti(d[11],d[7].weightMode)+"")&&wn(o,a)},d(d){d&&q(r),d&&q(i),d&&q(u),d&&q(h)}}}function qh(e,t){let r,i,u,a,o,h=Object.entries(t[7].weightedPrompts),d=[];for(let c=0;c<h.length;c+=1)d[c]=Vh(jh(t,h,c));function p(){return t[4](t[6],t[7])}return{key:e,first:null,c(){r=oe("li"),i=oe("a");for(let c=0;c<d.length;c+=1)d[c].c();u=Ge(),this.h()},l(c){r=le(c,"LI",{});var l=ie(r);i=le(l,"A",{class:!0});var f=ie(i);for(let D=0;D<d.length;D+=1)d[D].l(f);f.forEach(q),u=Ke(l),l.forEach(q),this.h()},h(){k(i,"class","text-xs inline-block"),this.first=r},m(c,l){Ce(c,r,l),Q(r,i);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(i,null);Q(r,u),a||(o=ke(i,"click",p),a=!0)},p(c,l){if(t=c,l&3){h=Object.entries(t[7].weightedPrompts);let f;for(f=0;f<h.length;f+=1){const D=jh(t,h,f);d[f]?d[f].p(D,l):(d[f]=Vh(D),d[f].c(),d[f].m(i,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=h.length}},d(c){c&&q(r),fd(d,c),a=!1,o()}}}function NC(e){let t,r,i,u,a,o=[],h=new Map,d,p,c=e[1](e[0],zh,"desc");const l=f=>f[6];for(let f=0;f<c.length;f+=1){let D=Uh(e,c,f),A=l(D);h.set(A,o[f]=qh(A,D))}return{c(){t=oe("ul"),r=oe("li"),i=oe("a"),u=Ye("New +"),a=Ge();for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=le(f,"UL",{class:!0});var D=ie(t);r=le(D,"LI",{});var A=ie(r);i=le(A,"A",{class:!0});var g=ie(i);u=Ze(g,"New +"),g.forEach(q),A.forEach(q),a=Ke(D);for(let m=0;m<o.length;m+=1)o[m].l(D);D.forEach(q),this.h()},h(){k(i,"class","text-xs inline-block"),k(t,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(f,D){Ce(f,t,D),Q(t,r),Q(r,i),Q(i,u),Q(t,a);for(let A=0;A<o.length;A+=1)o[A]&&o[A].m(t,null);d||(p=ke(i,"click",e[2]),d=!0)},p(f,[D]){D&11&&(c=f[1](f[0],zh,"desc"),o=Ai(o,D,l,1,f,c,h,t,du,qh,null,Uh))},i:Pe,o:Pe,d(f){f&&q(t);for(let D=0;D<o.length;D+=1)o[D].d();d=!1,p()}}}const zh=e=>e[1].date;function kC(e,t,r){let i,u;Bt(e,Cn,p=>r(5,i=p)),Bt(e,BC,p=>r(0,u=p));const{orderBy:a}=MC;function o(){It.updateActivePrompt(cu({},i.weightMode)),Ln.updateMode("edit")}function h(p,c){jl.updateId(p),It.updateActivePrompt({...c}),Ln.updateMode("edit")}return[u,a,o,h,(p,c)=>h(p,c)]}class RC extends Yt{constructor(t){super(),Zt(this,t,kC,NC,$t,{})}}let qa;const LC=new Uint8Array(16);function UC(){if(!qa&&(qa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qa(LC)}const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function jC(e,t=0){return(Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]).toLowerCase()}const VC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wh={randomUUID:VC};function wp(e,t,r){if(Wh.randomUUID&&!t&&!e)return Wh.randomUUID();e=e||{};const i=e.random||(e.rng||UC)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(let u=0;u<16;++u)t[r+u]=i[u];return t}return jC(i)}function qC(e){const t=[],r=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let i;for(;(i=r.exec(e))!==null;){const u=i[1].trim(),a=i[2]?parseFloat(i[2]):1;u&&t.push([u,a])}return t}function gl(e){if(typeof e!="string")throw new Error("Input must be a string");const t=e.length-1;let r=e;for(;r[t]===",";)r=r.slice(0,t);return r}function ml(e){if(typeof e!="string")throw new Error("Input must be a string");const t=["-","#","*","•","◦",">","<","+","^","~","(",")","[","]","{","}"];let r=e.trim();for(;t.includes(r[0]);)r=r.slice(1).trim();return/^\d+(\.|\))\s/.test(r)&&(r=r.replace(/^\d+(\.|\))\s/,"")),r}function Vl(e){if(e=e.replace(/^\n+|\n+$/g,""),e.includes("::"))return qC(e);if(e.includes(`
`))return e.split(`
`).map(a=>ml(gl(a))).filter(a=>a.length>0).map(a=>[a,1]);const t=e.match(/[^.!?]+[.!?]+/g)||[],r=t.length,i=e.split(",").map(a=>ml(gl(a))).filter(a=>a.length>0),u=i.length-1;return r>u?t.map(a=>ml(gl(a))).filter(a=>a.length>0).map(a=>[a,1]):i.map(a=>[a,1])}function zC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ep=zC,WC=typeof or=="object"&&or&&or.Object===Object&&or,HC=WC,GC=HC,KC=typeof self=="object"&&self&&self.Object===Object&&self,YC=GC||KC||Function("return this")(),Fp=YC,ZC=Fp,$C=function(){return ZC.Date.now()},JC=$C,XC=/\s/;function QC(e){for(var t=e.length;t--&&XC.test(e.charAt(t)););return t}var e3=QC,t3=e3,r3=/^\s+/;function n3(e){return e&&e.slice(0,t3(e)+1).replace(r3,"")}var i3=n3,u3=Fp,a3=u3.Symbol,Cp=a3,Hh=Cp,Sp=Object.prototype,s3=Sp.hasOwnProperty,o3=Sp.toString,Hu=Hh?Hh.toStringTag:void 0;function l3(e){var t=s3.call(e,Hu),r=e[Hu];try{e[Hu]=void 0;var i=!0}catch{}var u=o3.call(e);return i&&(t?e[Hu]=r:delete e[Hu]),u}var f3=l3,c3=Object.prototype,h3=c3.toString;function d3(e){return h3.call(e)}var p3=d3,Gh=Cp,v3=f3,g3=p3,m3="[object Null]",D3="[object Undefined]",Kh=Gh?Gh.toStringTag:void 0;function _3(e){return e==null?e===void 0?D3:m3:Kh&&Kh in Object(e)?v3(e):g3(e)}var y3=_3;function A3(e){return e!=null&&typeof e=="object"}var b3=A3,w3=y3,E3=b3,F3="[object Symbol]";function C3(e){return typeof e=="symbol"||E3(e)&&w3(e)==F3}var S3=C3,B3=i3,Yh=Ep,O3=S3,Zh=0/0,M3=/^[-+]0x[0-9a-f]+$/i,x3=/^0b[01]+$/i,P3=/^0o[0-7]+$/i,T3=parseInt;function I3(e){if(typeof e=="number")return e;if(O3(e))return Zh;if(Yh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=B3(e);var r=x3.test(e);return r||P3.test(e)?T3(e.slice(2),r?2:8):M3.test(e)?Zh:+e}var N3=I3,k3=Ep,Dl=JC,$h=N3,R3="Expected a function",L3=Math.max,U3=Math.min;function j3(e,t,r){var i,u,a,o,h,d,p=0,c=!1,l=!1,f=!0;if(typeof e!="function")throw new TypeError(R3);t=$h(t)||0,k3(r)&&(c=!!r.leading,l="maxWait"in r,a=l?L3($h(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function D(O){var x=i,T=u;return i=u=void 0,p=O,o=e.apply(T,x),o}function A(O){return p=O,h=setTimeout(y,t),c?D(O):o}function g(O){var x=O-d,T=O-p,I=t-x;return l?U3(I,a-T):I}function m(O){var x=O-d,T=O-p;return d===void 0||x>=t||x<0||l&&T>=a}function y(){var O=Dl();if(m(O))return F(O);h=setTimeout(y,g(O))}function F(O){return h=void 0,f&&i?D(O):(i=u=void 0,o)}function w(){h!==void 0&&clearTimeout(h),p=0,i=d=u=h=void 0}function B(){return h===void 0?o:F(Dl())}function C(){var O=Dl(),x=m(O);if(i=arguments,u=this,d=O,x){if(h===void 0)return A(d);if(l)return clearTimeout(h),h=setTimeout(y,t),D(d)}return h===void 0&&(h=setTimeout(y,t)),o}return C.cancel=w,C.flush=B,C}var Jh=j3;function Xh(e,t,r){const i=e.slice();return i[13]=t[r].id,i[14]=t[r].text,i}function Qh(e,t){let r,i,u,a,o;function h(...d){return t[9](t[13],...d)}return{key:e,first:null,c(){r=oe("li"),i=oe("input"),this.h()},l(d){r=le(d,"LI",{class:!0});var p=ie(r);i=le(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(q),this.h()},h(){i.value=u=t[14],k(i,"type","text"),k(i,"placeholder",""),k(i,"class","input input-bordered input-sm w-full"),k(r,"class","p-1"),this.first=r},m(d,p){Ce(d,r,p),Q(r,i),a||(o=ke(i,"input",h),a=!0)},p(d,p){t=d,p&2&&u!==(u=t[14])&&i.value!==u&&(i.value=u)},d(d){d&&q(r),a=!1,o()}}}function V3(e){let t,r,i,u,a,o,h,d,p,c,l,f=[],D=new Map,A,g,m,y,F,w=e[1];const B=C=>C[13];for(let C=0;C<w.length;C+=1){let O=Xh(e,w,C),x=B(O);D.set(x,f[C]=Qh(x,O))}return{c(){t=oe("div"),r=oe("button"),i=Ye("Paste"),u=Ge(),a=oe("button"),o=Ye("Save"),h=Ge(),d=oe("button"),p=Ye("Delete"),c=Ge(),l=oe("ul");for(let C=0;C<f.length;C+=1)f[C].c();A=Ge(),g=oe("li"),m=oe("input"),this.h()},l(C){t=le(C,"DIV",{class:!0});var O=ie(t);r=le(O,"BUTTON",{class:!0});var x=ie(r);i=Ze(x,"Paste"),x.forEach(q),u=Ke(O),a=le(O,"BUTTON",{class:!0});var T=ie(a);o=Ze(T,"Save"),T.forEach(q),h=Ke(O),d=le(O,"BUTTON",{class:!0});var I=ie(d);p=Ze(I,"Delete"),I.forEach(q),O.forEach(q),c=Ke(C),l=le(C,"UL",{class:!0});var j=ie(l);for(let X=0;X<f.length;X+=1)f[X].l(j);A=Ke(j),g=le(j,"LI",{class:!0});var Y=ie(g);m=le(Y,"INPUT",{type:!0,placeholder:!0,class:!0}),Y.forEach(q),j.forEach(q),this.h()},h(){k(r,"class","btn btn-sm btn-info mx-2"),k(a,"class","btn btn-sm btn-success mx-2"),k(d,"class","btn btn-sm btn-error mx-2"),k(t,"class","flex px-8 py-2 justify-center bg-base-100"),k(m,"type","text"),k(m,"placeholder","Add prompt"),k(m,"class","input input-bordered input-sm w-full italic"),k(g,"class","p-1"),k(l,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(C,O){Ce(C,t,O),Q(t,r),Q(r,i),Q(t,u),Q(t,a),Q(a,o),Q(t,h),Q(t,d),Q(d,p),Ce(C,c,O),Ce(C,l,O);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(l,null);Q(l,A),Q(l,g),Q(g,m),mi(m,e[0]),y||(F=[ke(r,"click",e[3]),ke(a,"click",e[2]),ke(d,"click",e[4]),ke(m,"input",e[10]),ke(m,"input",e[11])],y=!0)},p(C,[O]){O&34&&(w=C[1],f=Ai(f,O,B,1,C,w,D,l,du,Qh,A,Xh)),O&1&&m.value!==C[0]&&mi(m,C[0])},i:Pe,o:Pe,d(C){C&&q(t),C&&q(c),C&&q(l);for(let O=0;O<f.length;O+=1)f[O].d();y=!1,Jr(F)}}}function q3(e,t,r){let i,u,a;Bt(e,Cn,m=>r(8,u=m)),Bt(e,IC,m=>r(12,a=m));let o="",h=Object.keys(u.weightedPrompts).length;function d(){cs.updatePrompt(wp(),{...u,date:Date.now()}),Ln.updateMode("select")}function p(){navigator.clipboard.readText().then(m=>{const y=Vl(m),F=Math.max(...y.map(([B,C])=>C)),w=y.reduce((B,[C,O],x)=>(B[x]=Dr(x,C,O,O/F),B),{});It.updateActivePrompt(cu(w,u.weightMode))})}function c(){a&&cs.deletePrompt(a),Ln.updateMode("select"),It.deleteActivePrompt()}const l=Jh((m,y)=>{const F={...u.weightedPrompts},w={...F[m],text:y};F[m]=w,It.updateActivePrompt({...u,weightedPrompts:F})},500),f=Jh(m=>{const y=Object.keys(u.weightedPrompts).length,F={...u.weightedPrompts},w=Dr(y,m,1);F[y]=w,It.updateActivePrompt({...u,weightedPrompts:F})},500),D=(m,y)=>l(m,y.target.value);function A(){o=this.value,r(0,o),r(8,u),r(7,h)}const g=m=>f(m.target.value);return e.$$.update=()=>{if(e.$$.dirty&384){const m=Object.keys(u.weightedPrompts).length;m>h&&(r(7,h=m),r(0,o=""))}e.$$.dirty&256&&r(1,i=Object.entries(u.weightedPrompts).map(([m,y])=>({id:m,text:y.text})))},[o,i,d,p,c,l,f,h,u,D,A,g]}class z3 extends Yt{constructor(t){super(),Zt(this,t,q3,V3,$t,{})}}const W3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,H3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,G3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,K3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
3. Do not use hyphens to mark list items.
4. Do not title the list.
`,Y3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function Z3(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("directive")){const h=o.split("_")[1];a[h]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:t,updateDirective:(a,o)=>{const h=Pt(e),p={...h[a]||{},...o};u&&(localStorage[`directive_${a}`]=JSON.stringify(p));const c={...h,[a]:p};r(c)},getDirective:a=>Pt(e)[a],deleteDirective:a=>{u&&delete localStorage[`directive_${a}`];const o={...Pt(e)};delete o[a],r(o)}}}const ds=Z3(),$3=En(ds,e=>Object.entries(Pt(ds))),_l="preferredModelStore";function J3(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[_l]||""),{subscribe:t,updateModel:a=>{!a||!u||(localStorage[_l]=a,r(a))},getModel:()=>Pt(e),deleteModel:()=>{u&&(delete localStorage[_l],r(""))}}}const ql=J3(),Bp=En(ql,e=>Pt(ql)),yl="preferredDirectiveStore";function X3(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[yl]||""),{subscribe:t,updateDirectiveKey:a=>{!a||!u||(localStorage[yl]=a,r(a))},getDirectiveKey:()=>Pt(e),deleteDirectiveKey:()=>{u&&(delete localStorage[yl],r(""))}}}const zl=X3(),Q3=En(zl,e=>Pt(zl)),Al="metaPromptStore";function eS(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[Al]||""),{subscribe:t,updateMetaPrompt:a=>{!a||!u||(localStorage[Al]=a,r(a))},getMetaPrompt:()=>Pt(e),deleteMetaPrompt:()=>{u&&(delete localStorage[Al],r(""))}}}const Wl=eS(),tS=En(Wl,e=>Pt(Wl));function ed(e,t,r){const i=e.slice();return i[30]=t[r][0],i[31]=t[r][1],i}function rS(e){let t,r,i;return{c(){t=oe("div"),r=oe("p"),i=Ye("Open AI Key must be provided in settings."),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);r=le(a,"P",{});var o=ie(r);i=Ze(o,"Open AI Key must be provided in settings."),o.forEach(q),a.forEach(q),this.h()},h(){k(t,"class","w-full p-2 flex justify-center")},m(u,a){Ce(u,t,a),Q(t,r),Q(r,i)},p:Pe,d(u){u&&q(t)}}}function nS(e){let t,r,i,u,a,o,h,d,p,c,l=[],f=new Map,D,A,g,m,y,F,w,B=Object.entries(e[1]);const C=x=>x[30];for(let x=0;x<B.length;x+=1){let T=ed(e,B,x),I=C(T);f.set(I,l[x]=td(I,T))}let O=e[0]&&rd(e);return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ye("Pick a directive for prompt creation"),o=Ge(),h=oe("select"),d=oe("option"),p=Ye("Pick one");for(let x=0;x<l.length;x+=1)l[x].c();D=oe("option"),A=Ye("New"),m=Ge(),O&&O.c(),y=lr(),this.h()},l(x){t=le(x,"DIV",{class:!0});var T=ie(t);r=le(T,"DIV",{class:!0});var I=ie(r);i=le(I,"LABEL",{class:!0});var j=ie(i);u=le(j,"SPAN",{class:!0});var Y=ie(u);a=Ze(Y,"Pick a directive for prompt creation"),Y.forEach(q),j.forEach(q),o=Ke(I),h=le(I,"SELECT",{class:!0});var X=ie(h);d=le(X,"OPTION",{});var G=ie(d);p=Ze(G,"Pick one"),G.forEach(q);for(let V=0;V<l.length;V+=1)l[V].l(X);D=le(X,"OPTION",{});var H=ie(D);A=Ze(H,"New"),H.forEach(q),X.forEach(q),I.forEach(q),T.forEach(q),m=Ke(x),O&&O.l(x),y=lr(),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=c=e[0]===null,d.__value="Pick one",d.value=d.__value,D.__value="new",D.value=D.__value,D.selected=g=e[0]==="new",k(h,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(x,T){Ce(x,t,T),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,h),Q(h,d),Q(d,p);for(let I=0;I<l.length;I+=1)l[I]&&l[I].m(h,null);Q(h,D),Q(D,A),ou(h,e[0]),Ce(x,m,T),O&&O.m(x,T),Ce(x,y,T),F||(w=ke(h,"change",e[11]),F=!0)},p(x,T){T[0]&3&&c!==(c=x[0]===null)&&(d.selected=c),T[0]&3&&(B=Object.entries(x[1]),l=Ai(l,T,C,1,x,B,f,h,du,td,D,ed)),T[0]&3&&g!==(g=x[0]==="new")&&(D.selected=g),T[0]&3&&ou(h,x[0]),x[0]?O?O.p(x,T):(O=rd(x),O.c(),O.m(y.parentNode,y)):O&&(O.d(1),O=null)},d(x){x&&q(t);for(let T=0;T<l.length;T+=1)l[T].d();x&&q(m),O&&O.d(x),x&&q(y),F=!1,w()}}}function td(e,t){let r,i=t[31].name+"",u,a=t[31].builtIn?" (Built-In)":" (User)",o,h,d;return{key:e,first:null,c(){r=oe("option"),u=Ye(i),o=Ye(a),this.h()},l(p){r=le(p,"OPTION",{});var c=ie(r);u=Ze(c,i),o=Ze(c,a),c.forEach(q),this.h()},h(){r.__value=h=t[30],r.value=r.__value,r.selected=d=t[0]===t[30],this.first=r},m(p,c){Ce(p,r,c),Q(r,u),Q(r,o)},p(p,c){t=p,c[0]&2&&i!==(i=t[31].name+"")&&wn(u,i),c[0]&2&&a!==(a=t[31].builtIn?" (Built-In)":" (User)")&&wn(o,a),c[0]&2&&h!==(h=t[30])&&(r.__value=h,r.value=r.__value),c[0]&3&&d!==(d=t[0]===t[30])&&(r.selected=d)},d(p){p&&q(r)}}}function rd(e){let t,r,i,u,a,o,h,d,p,c,l=!e[6]&&nd(e);function f(g,m){return g[5]?uS:iS}let D=f(e),A=D(e);return{c(){l&&l.c(),t=Ge(),r=oe("div"),i=oe("textarea"),u=Ge(),a=oe("div"),o=oe("textarea"),h=Ge(),A.c(),d=lr(),this.h()},l(g){l&&l.l(g),t=Ke(g),r=le(g,"DIV",{class:!0});var m=ie(r);i=le(m,"TEXTAREA",{class:!0,placeholder:!0}),ie(i).forEach(q),m.forEach(q),u=Ke(g),a=le(g,"DIV",{class:!0});var y=ie(a);o=le(y,"TEXTAREA",{class:!0,placeholder:!0}),ie(o).forEach(q),y.forEach(q),h=Ke(g),A.l(g),d=lr(),this.h()},h(){k(i,"class","textarea textarea-bordered w-full h-full"),k(i,"placeholder","GPT Directives"),k(r,"class","w-full p-2 h-1/2"),o.value=e[7],k(o,"class","textarea textarea-bordered w-full h-full"),k(o,"placeholder","Describe the prompt to generate."),k(a,"class","w-full p-2 h-1/5")},m(g,m){l&&l.m(g,m),Ce(g,t,m),Ce(g,r,m),Q(r,i),mi(i,e[4]),Ce(g,u,m),Ce(g,a,m),Q(a,o),Ce(g,h,m),A.m(g,m),Ce(g,d,m),p||(c=[ke(i,"input",e[17]),ke(o,"input",e[18])],p=!0)},p(g,m){g[6]?l&&(l.d(1),l=null):l?l.p(g,m):(l=nd(g),l.c(),l.m(t.parentNode,t)),m[0]&16&&mi(i,g[4]),m[0]&128&&(o.value=g[7]),D===(D=f(g))&&A?A.p(g,m):(A.d(1),A=D(g),A&&(A.c(),A.m(d.parentNode,d)))},d(g){l&&l.d(g),g&&q(t),g&&q(r),g&&q(u),g&&q(a),g&&q(h),A.d(g),g&&q(d),p=!1,Jr(c)}}}function nd(e){let t,r,i,u,a,o,h;return{c(){t=oe("div"),r=oe("input"),i=Ge(),u=oe("button"),a=Ye("Save"),this.h()},l(d){t=le(d,"DIV",{class:!0});var p=ie(t);r=le(p,"INPUT",{type:!0,placeholder:!0,class:!0}),i=Ke(p),u=le(p,"BUTTON",{class:!0});var c=ie(u);a=Ze(c,"Save"),c.forEach(q),p.forEach(q),this.h()},h(){k(r,"type","text"),k(r,"placeholder","Name"),k(r,"class","input input-bordered input-sm w-full max-w-xs"),k(u,"class","btn btn-sm btn-primary ml-4"),k(t,"class","w-full p-2 h-12 flex justify-between")},m(d,p){Ce(d,t,p),Q(t,r),mi(r,e[3]),Q(t,i),Q(t,u),Q(u,a),o||(h=[ke(r,"input",e[16]),ke(u,"click",e[9])],o=!0)},p(d,p){p[0]&8&&r.value!==d[3]&&mi(r,d[3])},d(d){d&&q(t),o=!1,Jr(h)}}}function iS(e){let t,r,i={ctx:e,current:null,token:null,hasCatch:!1,pending:oS,then:sS,catch:aS,value:29};return Di(r=e[2],i),{c(){t=oe("div"),i.block.c(),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);i.block.l(a),a.forEach(q),this.h()},h(){k(t,"class","w-full p-2 h-12 flex justify-end")},m(u,a){Ce(u,t,a),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null},p(u,a){e=u,i.ctx=e,a[0]&4&&r!==(r=e[2])&&Di(r,i)||ps(i,e,a)},d(u){u&&q(t),i.block.d(),i.token=null,i=null}}}function uS(e){let t,r,i,u,a,o,h,d={ctx:e,current:null,token:null,hasCatch:!1,pending:cS,then:fS,catch:lS,value:29};return Di(a=e[2],d),{c(){t=oe("div"),r=oe("button"),i=Ye("Delete"),u=Ge(),d.block.c(),this.h()},l(p){t=le(p,"DIV",{class:!0});var c=ie(t);r=le(c,"BUTTON",{class:!0});var l=ie(r);i=Ze(l,"Delete"),l.forEach(q),u=Ke(c),d.block.l(c),c.forEach(q),this.h()},h(){k(r,"class","btn btn-sm btn-error ml-4"),k(t,"class","w-full p-2 h-12 flex justify-between")},m(p,c){Ce(p,t,c),Q(t,r),Q(r,i),Q(t,u),d.block.m(t,d.anchor=null),d.mount=()=>t,d.anchor=null,o||(h=ke(r,"click",e[10]),o=!0)},p(p,c){e=p,d.ctx=e,c[0]&4&&a!==(a=e[2])&&Di(a,d)||ps(d,e,c)},d(p){p&&q(t),d.block.d(),d.token=null,d=null,o=!1,h()}}}function aS(e){return{c:Pe,l:Pe,m:Pe,p:Pe,d:Pe}}function sS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ye("Generate"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var o=ie(t);r=Ze(o,"Generate"),o.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ce(a,t,o),Q(t,r),i||(u=ke(t,"click",e[12]),i=!0)},p:Pe,d(a){a&&q(t),i=!1,u()}}}function oS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ye("Generating"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var o=ie(t);r=Ze(o,"Generating"),o.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ce(a,t,o),Q(t,r),i||(u=ke(t,"click",e[12]),i=!0)},p:Pe,d(a){a&&q(t),i=!1,u()}}}function lS(e){return{c:Pe,l:Pe,m:Pe,p:Pe,d:Pe}}function fS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ye("Generate"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var o=ie(t);r=Ze(o,"Generate"),o.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ce(a,t,o),Q(t,r),i||(u=ke(t,"click",e[12]),i=!0)},p:Pe,d(a){a&&q(t),i=!1,u()}}}function cS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ye("Generating"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var o=ie(t);r=Ze(o,"Generating"),o.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ce(a,t,o),Q(t,r),i||(u=ke(t,"click",e[12]),i=!0)},p:Pe,d(a){a&&q(t),i=!1,u()}}}function hS(e){let t;function r(a,o){return a[8]?nS:rS}let u=r(e)(e);return{c(){t=oe("div"),u.c(),this.h()},l(a){t=le(a,"DIV",{class:!0});var o=ie(t);u.l(o),o.forEach(q),this.h()},h(){k(t,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(a,o){Ce(a,t,o),u.m(t,null)},p(a,o){u.p(a,o)},i:Pe,o:Pe,d(a){a&&q(t),u.d()}}}function dS(e,t,r){let i,u,a,o,h,d,p,c,l,f;Bt(e,tS,V=>r(7,h=V)),Bt(e,Cn,V=>r(19,d=V)),Bt(e,Q3,V=>r(14,p=V)),Bt(e,$3,V=>r(15,c=V)),Bt(e,Bp,V=>r(20,l=V)),Bt(e,Bs,V=>r(21,f=V));let D=f,A=l,g=null;const m=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let y={C:{name:"Five Sentences",text:W3,builtIn:!0},D:{name:"Ten Sentences",text:H3,builtIn:!0},E:{name:"Fragments",text:G3,builtIn:!0},F:{name:"Concept Shotgun",text:K3,builtIn:!0},G:{name:"Poetic Accents",text:Y3,builtIn:!0}},F=null,w="",B="";function C(){const V=F==="new"?wp():F;ds.updateDirective(V,{name:w,text:B,builtIn:!1}),F==="new"&&r(0,F=V)}function O(){ds.deleteDirective(F),r(0,F=null)}function x(V){r(0,F=V),zl.updateDirectiveKey(V),V&&V!=="new"?(r(3,w=u[V].name),r(4,B=u[V].text)):V==="new"&&(r(3,w=""),r(4,B=""))}function T(V){r(0,F=V.target.value),x(F)}function I(V,W){r(2,g=K2(V,W,A||"gpt-3.5-turbo")),g.then(ce=>{console.log(ce),ce.data.choices.forEach((ve,ye)=>{const Ee=Vl(ve.message.content);console.log(Ee);const Oe=Ee.reduce((Me,[Te,$e],ze)=>(Me[ze]=Dr(ze,Te,$e),Me),{});It.updateActivePrompt(cu(Oe,d.weightMode)),Ln.updateMode("edit")})})}function j(V,W){r(2,g=G2(V,W,A||"text-davinci-003")),g.then(ce=>{console.log(ce),ce.data.choices.forEach((ve,ye)=>{const Ee=Vl(ve.text);console.log(Ee);const Oe=Ee.reduce((Me,[Te,$e],ze)=>(Me[ze]=Dr(ze,Te,$e),Me),{});It.updateActivePrompt(cu(Oe,d.weightMode)),Ln.updateMode("edit")})})}function Y(){if(!D||!B||!h)return;const V=cf(D),W=`${B}

        Using the above rules create a prompt from:
        ${h}
        `;m.includes(A)?j(V,W):I(V,W)}function X(){w=this.value,r(3,w)}function G(){B=this.value,r(4,B)}const H=V=>Wl.updateMetaPrompt(V.target.value);return e.$$.update=()=>{e.$$.dirty[0]&32768&&r(13,i=c.reduce((V,[W,re])=>(V[W]={name:re.name,text:re.text,builtIn:!1},V),{})),e.$$.dirty[0]&8192&&r(1,u=Object.entries({...y,...i}).reduce((V,[W,re])=>(V[W]=re,V),{})),e.$$.dirty[0]&16385&&(F===null&&r(0,F=p),x(F)),e.$$.dirty[0]&3&&r(6,a=F&&F!=="new"&&u[F].builtIn),e.$$.dirty[0]&3&&r(5,o=F&&F!=="new"&&!u[F].builtIn)},[F,u,g,w,B,o,a,h,D,C,O,T,Y,i,p,c,X,G,H]}class pS extends Yt{constructor(t){super(),Zt(this,t,dS,hS,$t,{},null,[-1,-1])}}function id(e,t,r){const i=e.slice();return i[20]=t[r],i}function ud(e,t,r){const i=e.slice();return i[20]=t[r],i}function vS(e){return{c:Pe,l:Pe,m:Pe,p:Pe,d:Pe}}function gS(e){let t,r,i=e[0].length>0&&ad(e),u=e[1].length>0&&od(e);return{c(){i&&i.c(),t=Ge(),u&&u.c(),r=lr()},l(a){i&&i.l(a),t=Ke(a),u&&u.l(a),r=lr()},m(a,o){i&&i.m(a,o),Ce(a,t,o),u&&u.m(a,o),Ce(a,r,o)},p(a,o){a[0].length>0?i?i.p(a,o):(i=ad(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[1].length>0?u?u.p(a,o):(u=od(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){i&&i.d(a),a&&q(t),u&&u.d(a),a&&q(r)}}}function ad(e){let t,r,i,u,a,o,h,d,p,c,l=[],f=new Map,D,A,g=e[0];const m=y=>y[20];for(let y=0;y<g.length;y+=1){let F=ud(e,g,y),w=m(F);f.set(w,l[y]=sd(w,F))}return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ye("Pick a model to use for model generation"),o=Ge(),h=oe("select"),d=oe("option"),p=Ye("Pick one");for(let y=0;y<l.length;y+=1)l[y].c();this.h()},l(y){t=le(y,"DIV",{class:!0});var F=ie(t);r=le(F,"DIV",{class:!0});var w=ie(r);i=le(w,"LABEL",{class:!0});var B=ie(i);u=le(B,"SPAN",{class:!0});var C=ie(u);a=Ze(C,"Pick a model to use for model generation"),C.forEach(q),B.forEach(q),o=Ke(w),h=le(w,"SELECT",{class:!0});var O=ie(h);d=le(O,"OPTION",{});var x=ie(d);p=Ze(x,"Pick one"),x.forEach(q);for(let T=0;T<l.length;T+=1)l[T].l(O);O.forEach(q),w.forEach(q),F.forEach(q),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=c=e[2]===null,d.__value="Pick one",d.value=d.__value,k(h,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(y,F){Ce(y,t,F),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,h),Q(h,d),Q(d,p);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(h,null);ou(h,e[2]),D||(A=ke(h,"change",e[7]),D=!0)},p(y,F){F&5&&c!==(c=y[2]===null)&&(d.selected=c),F&5&&(g=y[0],l=Ai(l,F,m,1,y,g,f,h,du,sd,null,ud)),F&5&&ou(h,y[2])},d(y){y&&q(t);for(let F=0;F<l.length;F+=1)l[F].d();D=!1,A()}}}function sd(e,t){let r,i=t[20]+"",u,a,o;return{key:e,first:null,c(){r=oe("option"),u=Ye(i),this.h()},l(h){r=le(h,"OPTION",{});var d=ie(r);u=Ze(d,i),d.forEach(q),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=o=t[2]===t[20],this.first=r},m(h,d){Ce(h,r,d),Q(r,u)},p(h,d){t=h,d&1&&i!==(i=t[20]+"")&&wn(u,i),d&1&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&5&&o!==(o=t[2]===t[20])&&(r.selected=o)},d(h){h&&q(r)}}}function od(e){let t,r,i,u,a,o,h,d,p,c,l=[],f=new Map,D,A,g=e[1];const m=y=>y[20];for(let y=0;y<g.length;y+=1){let F=id(e,g,y),w=m(F);f.set(w,l[y]=ld(w,F))}return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ye("Pick a model to use for prompt embedding"),o=Ge(),h=oe("select"),d=oe("option"),p=Ye("Pick one");for(let y=0;y<l.length;y+=1)l[y].c();this.h()},l(y){t=le(y,"DIV",{class:!0});var F=ie(t);r=le(F,"DIV",{class:!0});var w=ie(r);i=le(w,"LABEL",{class:!0});var B=ie(i);u=le(B,"SPAN",{class:!0});var C=ie(u);a=Ze(C,"Pick a model to use for prompt embedding"),C.forEach(q),B.forEach(q),o=Ke(w),h=le(w,"SELECT",{class:!0});var O=ie(h);d=le(O,"OPTION",{});var x=ie(d);p=Ze(x,"Pick one"),x.forEach(q);for(let T=0;T<l.length;T+=1)l[T].l(O);O.forEach(q),w.forEach(q),F.forEach(q),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=c=e[3]===null,d.__value="Pick one",d.value=d.__value,k(h,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(y,F){Ce(y,t,F),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,o),Q(r,h),Q(h,d),Q(d,p);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(h,null);ou(h,e[3]),D||(A=ke(h,"change",e[8]),D=!0)},p(y,F){F&10&&c!==(c=y[3]===null)&&(d.selected=c),F&10&&(g=y[1],l=Ai(l,F,m,1,y,g,f,h,du,ld,null,id)),F&10&&ou(h,y[3])},d(y){y&&q(t);for(let F=0;F<l.length;F+=1)l[F].d();D=!1,A()}}}function ld(e,t){let r,i=t[20]+"",u,a,o;return{key:e,first:null,c(){r=oe("option"),u=Ye(i),this.h()},l(h){r=le(h,"OPTION",{});var d=ie(r);u=Ze(d,i),d.forEach(q),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=o=t[3]===t[20],this.first=r},m(h,d){Ce(h,r,d),Q(r,u)},p(h,d){t=h,d&2&&i!==(i=t[20]+"")&&wn(u,i),d&2&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&10&&o!==(o=t[3]===t[20])&&(r.selected=o)},d(h){h&&q(r)}}}function mS(e){let t,r,i;return{c(){t=oe("div"),r=oe("div"),i=oe("progress"),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);r=le(a,"DIV",{class:!0});var o=ie(r);i=le(o,"PROGRESS",{class:!0}),ie(i).forEach(q),o.forEach(q),a.forEach(q),this.h()},h(){k(i,"class","progress progress-primary w-56"),k(r,"class","form-control w-full flex flex-col max-w-xs"),k(t,"class","py-10 flex justify-center")},m(u,a){Ce(u,t,a),Q(t,r),Q(r,i)},p:Pe,d(u){u&&q(t)}}}function DS(e){let t,r,i,u,a,o,h,d,p,c,l,f,D,A,g,m,y,F,w,B,C,O,x,T,I={ctx:e,current:null,token:null,hasCatch:!1,pending:mS,then:gS,catch:vS,value:19};return Di(O=e[4],I),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("label"),a=oe("span"),o=Ye("Include Prompts With Zero Weight"),h=Ge(),d=oe("input"),p=Ge(),c=oe("div"),l=oe("div"),f=oe("label"),D=oe("span"),A=Ye("Open AI Key"),g=Ge(),m=oe("input"),y=Ge(),F=oe("label"),w=oe("button"),B=Ye("Clear"),C=Ge(),I.block.c(),this.h()},l(j){t=le(j,"DIV",{class:!0});var Y=ie(t);r=le(Y,"DIV",{class:!0});var X=ie(r);i=le(X,"DIV",{class:!0});var G=ie(i);u=le(G,"LABEL",{class:!0});var H=ie(u);a=le(H,"SPAN",{class:!0});var V=ie(a);o=Ze(V,"Include Prompts With Zero Weight"),V.forEach(q),H.forEach(q),h=Ke(G),d=le(G,"INPUT",{type:!0,class:!0}),G.forEach(q),X.forEach(q),p=Ke(Y),c=le(Y,"DIV",{class:!0});var W=ie(c);l=le(W,"DIV",{class:!0});var re=ie(l);f=le(re,"LABEL",{class:!0});var ce=ie(f);D=le(ce,"SPAN",{class:!0});var ve=ie(D);A=Ze(ve,"Open AI Key"),ve.forEach(q),ce.forEach(q),g=Ke(re),m=le(re,"INPUT",{type:!0,placeholder:!0,class:!0}),y=Ke(re),F=le(re,"LABEL",{class:!0});var ye=ie(F);w=le(ye,"BUTTON",{class:!0});var Ee=ie(w);B=Ze(Ee,"Clear"),Ee.forEach(q),ye.forEach(q),re.forEach(q),W.forEach(q),C=Ke(Y),I.block.l(Y),Y.forEach(q),this.h()},h(){k(a,"class","label-text-alt"),k(u,"class","label"),k(d,"type","checkbox"),k(d,"class","toggle"),d.checked=e[5],k(i,"class","form-control w-full max-w-xs"),k(r,"class","flex justify-center"),k(D,"class","label-text-alt"),k(f,"class","label"),m.value=e[6],k(m,"type","password"),k(m,"placeholder","Open AI Key"),k(m,"class","input input-bordered w-full max-w-xs"),k(w,"class","btn btn-xs btn-error"),k(F,"class","label"),k(l,"class","form-control w-full max-w-xs"),k(c,"class","flex justify-center"),k(t,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(j,Y){Ce(j,t,Y),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(a,o),Q(i,h),Q(i,d),Q(t,p),Q(t,c),Q(c,l),Q(l,f),Q(f,D),Q(D,A),Q(l,g),Q(l,m),Q(l,y),Q(l,F),Q(F,w),Q(w,B),Q(t,C),I.block.m(t,I.anchor=null),I.mount=()=>t,I.anchor=null,x||(T=[ke(d,"change",e[11]),ke(m,"input",e[9]),ke(w,"click",e[10])],x=!0)},p(j,[Y]){e=j,Y&32&&(d.checked=e[5]),Y&64&&m.value!==e[6]&&(m.value=e[6]),I.ctx=e,Y&16&&O!==(O=e[4])&&Di(O,I)||ps(I,e,Y)},i:Pe,o:Pe,d(j){j&&q(t),I.block.d(),I.token=null,I=null,x=!1,Jr(T)}}}function _S(e,t,r){let i,u,a,o,h;Bt(e,bp,O=>r(5,i=O)),Bt(e,Cn,O=>r(13,u=O)),Bt(e,op,O=>r(14,a=O)),Bt(e,Bp,O=>r(15,o=O)),Bt(e,Bs,O=>r(6,h=O));const d=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"],p=["text-embedding-ada-002"];let c=h,l=[],f=[],D=o,A=a,g=null;async function m(O){if(!O||l.length&&f.length)return;const x=cf(O);r(4,g=Z2(x));const T=await g;T.data&&r(0,l=T.data.data.map(({id:I})=>I).filter(I=>d.includes(I))),r(1,f=T.data.data.map(({id:I})=>I).filter(I=>p.includes(I)))}function y(O){r(2,D=O.target.value),ql.updateModel(D)}function F(O){r(3,A=O.target.value),Ll.updateEmbeddingModel(A)}function w(O){const x=O.target.value;is.updateKey(x),x.length===51&&m(x),x.length===0&&B()}function B(){is.deleteKey(),r(12,c=""),r(0,l=[]),r(1,f=[]),u.weightMode==="embed"&&It.updateActivePrompt({...u,weightMode:"circle"})}function C(){Ul.update(!i)}return e.$$.update=()=>{e.$$.dirty&4096&&m(c)},[l,f,D,A,g,i,h,y,F,w,B,C,c]}class yS extends Yt{constructor(t){super(),Zt(this,t,_S,DS,$t,{})}}function AS(e){let t,r;return t=new yS({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function bS(e){let t,r;return t=new pS({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function wS(e){let t,r;return t=new z3({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function ES(e){let t,r;return t=new RC({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(Ne(t.$$.fragment,i),r=!0)},o(i){Ve(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function FS(e){let t,r,i,u,a,o,h,d,p,c,l,f,D,A,g,m,y,F,w,B,C,O,x,T;const I=[ES,wS,bS,AS],j=[];function Y(X,G){return X[0]==="select"?0:X[0]==="edit"?1:X[0]==="generate"?2:X[0]==="settings"?3:-1}return~(B=Y(e))&&(C=j[B]=I[B](e)),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("button"),a=Ye("Select"),h=Ge(),d=oe("button"),p=Ye("Edit"),l=Ge(),f=oe("button"),D=Ye("Generate"),g=Ge(),m=oe("button"),y=Ye("Settings"),w=Ge(),C&&C.c(),this.h()},l(X){t=le(X,"DIV",{class:!0});var G=ie(t);r=le(G,"DIV",{class:!0});var H=ie(r);i=le(H,"DIV",{class:!0});var V=ie(i);u=le(V,"BUTTON",{class:!0});var W=ie(u);a=Ze(W,"Select"),W.forEach(q),h=Ke(V),d=le(V,"BUTTON",{class:!0});var re=ie(d);p=Ze(re,"Edit"),re.forEach(q),l=Ke(V),f=le(V,"BUTTON",{class:!0});var ce=ie(f);D=Ze(ce,"Generate"),ce.forEach(q),g=Ke(V),m=le(V,"BUTTON",{class:!0});var ve=ie(m);y=Ze(ve,"Settings"),ve.forEach(q),V.forEach(q),w=Ke(H),C&&C.l(H),H.forEach(q),G.forEach(q),this.h()},h(){k(u,"class",o=e[0]==="select"?"btn btn-active":"btn"),k(d,"class",c=e[0]==="edit"?"btn btn-active":"btn"),k(f,"class",A=e[0]==="generate"?"btn btn-active":"btn"),k(m,"class",F=e[0]==="settings"?"btn btn-active":"btn"),k(i,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),k(r,"class","h-screen overflow-y-auto flex flex-col"),k(t,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(X,G){Ce(X,t,G),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(i,h),Q(i,d),Q(d,p),Q(i,l),Q(i,f),Q(f,D),Q(i,g),Q(i,m),Q(m,y),Q(r,w),~B&&j[B].m(r,null),O=!0,x||(T=[ke(u,"click",e[2]),ke(d,"click",e[3]),ke(f,"click",e[4]),ke(m,"click",e[5])],x=!0)},p(X,[G]){(!O||G&1&&o!==(o=X[0]==="select"?"btn btn-active":"btn"))&&k(u,"class",o),(!O||G&1&&c!==(c=X[0]==="edit"?"btn btn-active":"btn"))&&k(d,"class",c),(!O||G&1&&A!==(A=X[0]==="generate"?"btn btn-active":"btn"))&&k(f,"class",A),(!O||G&1&&F!==(F=X[0]==="settings"?"btn btn-active":"btn"))&&k(m,"class",F);let H=B;B=Y(X),B!==H&&(C&&(Nn(),Ve(j[H],1,1,()=>{j[H]=null}),kn()),~B?(C=j[B],C||(C=j[B]=I[B](X),C.c()),Ne(C,1),C.m(r,null)):C=null)},i(X){O||(Ne(C),O=!0)},o(X){Ve(C),O=!1},d(X){X&&q(t),~B&&j[B].d(),x=!1,Jr(T)}}}function CS(e,t,r){let i;Bt(e,PC,p=>r(0,i=p));function u(p){Ln.updateMode(p)}const a=()=>u("select"),o=()=>u("edit"),h=()=>u("generate"),d=()=>u("settings");return e.$$.update=()=>{e.$$.dirty&1&&(i||Ln.updateMode("select"))},[i,u,a,o,h,d]}class SS extends Yt{constructor(t){super(),Zt(this,t,CS,FS,$t,{})}}function BS(e){let t,r,i,u;return t=new SS({}),i=new CC({}),{c(){mt(t.$$.fragment),r=Ge(),mt(i.$$.fragment)},l(a){Dt(t.$$.fragment,a),r=Ke(a),Dt(i.$$.fragment,a)},m(a,o){_t(t,a,o),Ce(a,r,o),_t(i,a,o),u=!0},p:Pe,i(a){u||(Ne(t.$$.fragment,a),Ne(i.$$.fragment,a),u=!0)},o(a){Ve(t.$$.fragment,a),Ve(i.$$.fragment,a),u=!1},d(a){yt(t,a),a&&q(r),yt(i,a)}}}class xS extends Yt{constructor(t){super(),Zt(this,t,null,BS,$t,{})}}export{xS as default};
