import{J as Lt,S as It,i as Tt,s as Nt,K as bt,L as At,m as re,h as V,n as T,p as $t,b as Ae,H as Ie,M as Re,N as Lr,k as se,q as Ke,l as oe,r as Ze,G as J,u as Bn,a as Ge,c as Ye,g as Pe,v as vn,d as Ne,f as gn,I as Mt,y as ot,e as zt,z as lt,A as ft,B as ct,O as $l,P as Ds,Q as _s,R as yi,T as Iy,U as Go,V as Ei,W as gd,o as Ty,X as bi,Y as ys,Z as vu,_ as hu}from"../chunks/index.4b6ced97.js";import{d as On,w as Mn}from"../chunks/index.99b0775d.js";function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}var md={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Xt(e){return typeof e=="number"}function pn(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Dd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function _d(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function yd(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Ln(e){return typeof e=="string"}var Kt=Array.isArray;function Rr(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function $a(e){return Array.isArray(e)||Rr(e)}function Ny(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ky(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ry(e){return e&&e.constructor.prototype.isRange===!0||!1}function Xl(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ly(e){return typeof e=="boolean"}function Uy(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function jy(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Vy(e){return typeof e=="function"}function qy(e){return e instanceof Date}function zy(e){return e instanceof RegExp}function Wy(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Dd(e)&&!_d(e))}function Hy(e){return e===null}function bd(e){return e===void 0}function Gy(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yy(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ky(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zy(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function $y(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xy(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jy(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qy(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function eb(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function tb(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function rb(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function nb(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ib(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ub(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ab(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function sb(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function ob(e){return e&&e.constructor.prototype.isChain===!0||!1}function Ku(e){var t=typeof e;return t==="object"?e===null?"null":pn(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function _r(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return _r(r)});if(e instanceof Date)return new Date(e.valueOf());if(pn(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return lb(e,_r)}function lb(e,t){var r={};for(var n in e)Zu(e,n)&&(r[n]=t(e[n]));return r}function fb(e,t){for(var r in t)Zu(t,r)&&(e[r]=t[r]);return e}function Xa(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!Xa(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Xa(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Zu(e,t){return e&&Object.hasOwnProperty.call(e,t)}function cb(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],a=e[u];a!==void 0&&(r[u]=a)}return r}var hb=["Matrix","Array"],db=["number","BigNumber","Fraction"],bs=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(md)};Bl(bs,md,{MATRIX_OPTIONS:hb,NUMBER_OPTIONS:db});function Fn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=pb(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=r.call(e)},n:function(){var p=r.next();return a=p.done,p},e:function(p){o=!0,l=p},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}function pb(e,t){if(e){if(typeof e=="string")return O0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O0(e,t)}}function O0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ou(e){return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function M0(){return!0}function dn(){return!1}function uu(){}var P0="Argument is not a typed-function.";function Ad(){function e(L){return ou(L)==="object"&&L!==null&&L.constructor===Object}var t=[{name:"number",test:function(j){return typeof j=="number"}},{name:"string",test:function(j){return typeof j=="string"}},{name:"boolean",test:function(j){return typeof j=="boolean"}},{name:"Function",test:function(j){return typeof j=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(j){return j instanceof Date}},{name:"RegExp",test:function(j){return j instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(j){return j===null}},{name:"undefined",test:function(j){return j===void 0}}],r={name:"any",test:M0,isAny:!0},n,u,a=0,o={createCount:0};function l(L){var j=n.get(L);if(j)return j;var Z='Unknown type "'+L+'"',ae=L.toLowerCase(),te,de=Fn(u),ie;try{for(de.s();!(ie=de.n()).done;)if(te=ie.value,te.toLowerCase()===ae){Z+='. Did you mean "'+te+'" ?';break}}catch(le){de.e(le)}finally{de.f()}throw new TypeError(Z)}function d(L){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",Z=j?l(j).index:u.length,ae=[],te=0;te<L.length;++te){if(!L[te]||typeof L[te].name!="string"||typeof L[te].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var de=L[te].name;if(n.has(de))throw new TypeError('Duplicate type name "'+de+'"');ae.push(de),n.set(de,{name:de,test:L[te].test,isAny:L[te].isAny,index:Z+te,conversionsTo:[]})}var ie=u.slice(Z);u=u.slice(0,Z).concat(ae).concat(ie);for(var le=Z+ae.length;le<u.length;++le)n.get(u[le]).index=le}function p(){n=new Map,u=[],a=0,d([r],!1)}p(),d(t);function h(){var L,j=Fn(u),Z;try{for(j.s();!(Z=j.n()).done;)L=Z.value,n.get(L).conversionsTo=[]}catch(ae){j.e(ae)}finally{j.f()}a=0}function f(L){var j=u.filter(function(Z){var ae=n.get(Z);return!ae.isAny&&ae.test(L)});return j.length?j:["any"]}function c(L){return L&&typeof L=="function"&&"_typedFunctionData"in L}function m(L,j,Z){if(!c(L))throw new TypeError(P0);var ae=Z&&Z.exact,te=Array.isArray(j)?j.join(","):j,de=B(te),ie=D(de);if(!ae||ie in L.signatures){var le=L._typedFunctionData.signatureMap.get(ie);if(le)return le}var _e=de.length,Oe;if(ae){Oe=[];var We;for(We in L.signatures)Oe.push(L._typedFunctionData.signatureMap.get(We))}else Oe=L._typedFunctionData.signatures;for(var Fe=0;Fe<_e;++Fe){var Wt=de[Fe],kt=[],Jt=void 0,Ht=Fn(Oe),pr;try{for(Ht.s();!(pr=Ht.n()).done;){Jt=pr.value;var Gt=I(Jt.params,Fe);if(!(!Gt||Wt.restParam&&!Gt.restParam)){if(!Gt.hasAny){var vr=function(){var fr=w(Gt);if(Wt.types.some(function(_n){return!fr.has(_n.name)}))return"continue"}();if(vr==="continue")continue}kt.push(Jt)}}}catch(fr){Ht.e(fr)}finally{Ht.f()}if(Oe=kt,Oe.length===0)break}var sr,or=Fn(Oe),tn;try{for(or.s();!(tn=or.n()).done;)if(sr=tn.value,sr.params.length<=_e)return sr}catch(fr){or.e(fr)}finally{or.f()}throw new TypeError("Signature not found (signature: "+(L.name||"unnamed")+"("+D(de,", ")+"))")}function b(L,j,Z){return m(L,j,Z).implementation}function g(L,j){var Z=l(j);if(Z.test(L))return L;var ae=Z.conversionsTo;if(ae.length===0)throw new Error("There are no conversions to "+j+" defined.");for(var te=0;te<ae.length;te++){var de=l(ae[te].from);if(de.test(L))return ae[te].convert(L)}throw new Error("Cannot convert "+L+" to "+j)}function D(L){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return L.map(function(Z){return Z.name}).join(j)}function y(L){var j=L.indexOf("...")===0,Z=j?L.length>3?L.slice(3):"any":L,ae=Z.split("|").map(function(le){return l(le.trim())}),te=!1,de=j?"...":"",ie=ae.map(function(le){return te=le.isAny||te,de+=le.name+"|",{name:le.name,typeIndex:le.index,test:le.test,isAny:le.isAny,conversion:null,conversionIndex:-1}});return{types:ie,name:de.slice(0,-1),hasAny:te,hasConversion:!1,restParam:j}}function C(L){var j=L.types.map(function(ie){return ie.name}),Z=ee(j),ae=L.hasAny,te=L.name,de=Z.map(function(ie){var le=l(ie.from);return ae=le.isAny||ae,te+="|"+ie.from,{name:ie.from,typeIndex:le.index,test:le.test,isAny:le.isAny,conversion:ie,conversionIndex:ie.index}});return{types:L.types.concat(de),name:te,hasAny:ae,hasConversion:de.length>0,restParam:L.restParam}}function w(L){return L.typeSet||(L.typeSet=new Set,L.types.forEach(function(j){return L.typeSet.add(j.name)})),L.typeSet}function B(L){var j=[];if(typeof L!="string")throw new TypeError("Signatures must be strings");var Z=L.trim();if(Z==="")return j;for(var ae=Z.split(","),te=0;te<ae.length;++te){var de=y(ae[te].trim());if(de.restParam&&te!==ae.length-1)throw new SyntaxError('Unexpected rest parameter "'+ae[te]+'": only allowed for the last parameter');if(de.types.length===0)return null;j.push(de)}return j}function F(L){var j=Qe(L);return j?j.restParam:!1}function O(L){if(!L||L.types.length===0)return M0;if(L.types.length===1)return l(L.types[0].name).test;if(L.types.length===2){var j=l(L.types[0].name).test,Z=l(L.types[1].name).test;return function(de){return j(de)||Z(de)}}else{var ae=L.types.map(function(te){return l(te.name).test});return function(de){for(var ie=0;ie<ae.length;ie++)if(ae[ie](de))return!0;return!1}}}function P(L){var j,Z,ae;if(F(L)){j=vt(L).map(O);var te=j.length,de=O(Qe(L)),ie=function(_e){for(var Oe=te;Oe<_e.length;Oe++)if(!de(_e[Oe]))return!1;return!0};return function(_e){for(var Oe=0;Oe<j.length;Oe++)if(!j[Oe](_e[Oe]))return!1;return ie(_e)&&_e.length>=te+1}}else return L.length===0?function(_e){return _e.length===0}:L.length===1?(Z=O(L[0]),function(_e){return Z(_e[0])&&_e.length===1}):L.length===2?(Z=O(L[0]),ae=O(L[1]),function(_e){return Z(_e[0])&&ae(_e[1])&&_e.length===2}):(j=L.map(O),function(_e){for(var Oe=0;Oe<j.length;Oe++)if(!j[Oe](_e[Oe]))return!1;return _e.length===j.length})}function I(L,j){return j<L.length?L[j]:F(L)?Qe(L):null}function N(L,j){var Z=I(L,j);return Z?w(Z):new Set}function G(L){return L.conversion===null||L.conversion===void 0}function H(L,j){var Z=new Set;return L.forEach(function(ae){var te=N(ae.params,j),de,ie=Fn(te),le;try{for(ie.s();!(le=ie.n()).done;)de=le.value,Z.add(de)}catch(_e){ie.e(_e)}finally{ie.f()}}),Z.has("any")?["any"]:Array.from(Z)}function Y(L,j,Z){var ae,te,de=L||"unnamed",ie=Z,le,_e=function(){var Ht=[];if(ie.forEach(function(Gt){var vr=I(Gt.params,le),sr=O(vr);(le<Gt.params.length||F(Gt.params))&&sr(j[le])&&Ht.push(Gt)}),Ht.length===0){if(te=H(ie,le),te.length>0){var pr=f(j[le]);return ae=new TypeError("Unexpected type of argument in function "+de+" (expected: "+te.join(" or ")+", actual: "+pr.join(" | ")+", index: "+le+")"),ae.data={category:"wrongType",fn:de,index:le,actual:pr,expected:te},{v:ae}}}else ie=Ht};for(le=0;le<j.length;le++){var Oe=_e();if(ou(Oe)==="object")return Oe.v}var We=ie.map(function(Jt){return F(Jt.params)?1/0:Jt.params.length});if(j.length<Math.min.apply(null,We))return te=H(ie,le),ae=new TypeError("Too few arguments in function "+de+" (expected: "+te.join(" or ")+", index: "+j.length+")"),ae.data={category:"tooFewArgs",fn:de,index:j.length,expected:te},ae;var Fe=Math.max.apply(null,We);if(j.length>Fe)return ae=new TypeError("Too many arguments in function "+de+" (expected: "+Fe+", actual: "+j.length+")"),ae.data={category:"tooManyArgs",fn:de,index:j.length,expectedLength:Fe},ae;for(var Wt=[],kt=0;kt<j.length;++kt)Wt.push(f(j[kt]).join("|"));return ae=new TypeError('Arguments of type "'+Wt.join(", ")+'" do not match any of the defined signatures of function '+de+"."),ae.data={category:"mismatch",actual:Wt},ae}function q(L){for(var j=u.length+1,Z=0;Z<L.types.length;Z++)G(L.types[Z])&&(j=Math.min(j,L.types[Z].typeIndex));return j}function W(L){for(var j=a+1,Z=0;Z<L.types.length;Z++)G(L.types[Z])||(j=Math.min(j,L.types[Z].conversionIndex));return j}function R(L,j){if(L.hasAny){if(!j.hasAny)return 1}else if(j.hasAny)return-1;if(L.restParam){if(!j.restParam)return 1}else if(j.restParam)return-1;if(L.hasConversion){if(!j.hasConversion)return 1}else if(j.hasConversion)return-1;var Z=q(L)-q(j);if(Z<0)return-1;if(Z>0)return 1;var ae=W(L)-W(j);return ae<0?-1:ae>0?1:0}function z(L,j){var Z=L.params,ae=j.params,te=Qe(Z),de=Qe(ae),ie=F(Z),le=F(ae);if(ie&&te.hasAny){if(!le||!de.hasAny)return 1}else if(le&&de.hasAny)return-1;var _e=0,Oe=0,We,Fe=Fn(Z),Wt;try{for(Fe.s();!(Wt=Fe.n()).done;)We=Wt.value,We.hasAny&&++_e,We.hasConversion&&++Oe}catch(Pn){Fe.e(Pn)}finally{Fe.f()}var kt=0,Jt=0,Ht=Fn(ae),pr;try{for(Ht.s();!(pr=Ht.n()).done;)We=pr.value,We.hasAny&&++kt,We.hasConversion&&++Jt}catch(Pn){Ht.e(Pn)}finally{Ht.f()}if(_e!==kt)return _e-kt;if(ie&&te.hasConversion){if(!le||!de.hasConversion)return 1}else if(le&&de.hasConversion)return-1;if(Oe!==Jt)return Oe-Jt;if(ie){if(!le)return 1}else if(le)return-1;var Gt=(Z.length-ae.length)*(ie?-1:1);if(Gt!==0)return Gt;for(var vr=[],sr=0,or=0;or<Z.length;++or){var tn=R(Z[or],ae[or]);vr.push(tn),sr+=tn}if(sr!==0)return sr;for(var fr,_n=0,zn=vr;_n<zn.length;_n++)if(fr=zn[_n],fr!==0)return fr;return 0}function ee(L){if(L.length===0)return[];var j=L.map(l);L.length>1&&j.sort(function(_e,Oe){return _e.index-Oe.index});var Z=j[0].conversionsTo;if(L.length===1)return Z;Z=Z.concat([]);for(var ae=new Set(L),te=1;te<j.length;++te){var de=void 0,ie=Fn(j[te].conversionsTo),le;try{for(ie.s();!(le=ie.n()).done;)de=le.value,ae.has(de.from)||(Z.push(de),ae.add(de.from))}catch(_e){ie.e(_e)}finally{ie.f()}}return Z}function ue(L,j){var Z=j;if(L.some(function(le){return le.hasConversion})){var ae=F(L),te=L.map(he);Z=function(){for(var _e=[],Oe=ae?arguments.length-1:arguments.length,We=0;We<Oe;We++)_e[We]=te[We](arguments[We]);return ae&&(_e[Oe]=arguments[Oe].map(te[Oe])),j.apply(this,_e)}}var de=Z;if(F(L)){var ie=L.length-1;de=function(){return Z.apply(this,it(arguments,0,ie).concat([it(arguments,ie)]))}}return de}function he(L){var j,Z,ae,te,de=[],ie=[];switch(L.types.forEach(function(le){le.conversion&&(de.push(l(le.conversion.from).test),ie.push(le.conversion.convert))}),ie.length){case 0:return function(_e){return _e};case 1:return j=de[0],ae=ie[0],function(_e){return j(_e)?ae(_e):_e};case 2:return j=de[0],Z=de[1],ae=ie[0],te=ie[1],function(_e){return j(_e)?ae(_e):Z(_e)?te(_e):_e};default:return function(_e){for(var Oe=0;Oe<ie.length;Oe++)if(de[Oe](_e))return ie[Oe](_e);return _e}}}function De(L){function j(Z,ae,te){if(ae<Z.length){var de=Z[ae],ie=[];if(de.restParam){var le=de.types.filter(G);le.length<de.types.length&&ie.push({types:le,name:"..."+le.map(function(_e){return _e.name}).join("|"),hasAny:le.some(function(_e){return _e.isAny}),hasConversion:!1,restParam:!0}),ie.push(de)}else ie=de.types.map(function(_e){return{types:[_e],name:_e.name,hasAny:_e.isAny,hasConversion:_e.conversion,restParam:!1}});return mt(ie,function(_e){return j(Z,ae+1,te.concat([_e]))})}else return[te]}return j(L,0,[])}function be(L,j){for(var Z=Math.max(L.length,j.length),ae=0;ae<Z;ae++){var te=N(L,ae),de=N(j,ae),ie=!1,le=void 0,_e=Fn(de),Oe;try{for(_e.s();!(Oe=_e.n()).done;)if(le=Oe.value,te.has(le)){ie=!0;break}}catch(Jt){_e.e(Jt)}finally{_e.f()}if(!ie)return!1}var We=L.length,Fe=j.length,Wt=F(L),kt=F(j);return Wt?kt?We===Fe:Fe>=We:kt?We>=Fe:We===Fe}function Be(L){return L.map(function(j){return Ft(j)?wt(j.referToSelf.callback):br(j)?Xe(j.referTo.references,j.referTo.callback):j})}function ye(L,j,Z){var ae=[],te,de=Fn(L),ie;try{for(de.s();!(ie=de.n()).done;){te=ie.value;var le=Z[te];if(typeof le!="number")throw new TypeError('No definition for referenced signature "'+te+'"');if(le=j[le],typeof le!="function")return!1;ae.push(le)}}catch(_e){de.e(_e)}finally{de.f()}return ae}function xe(L,j,Z){for(var ae=Be(L),te=new Array(ae.length).fill(!1),de=!0;de;){de=!1;for(var ie=!0,le=0;le<ae.length;++le)if(!te[le]){var _e=ae[le];if(Ft(_e))ae[le]=_e.referToSelf.callback(Z),ae[le].referToSelf=_e.referToSelf,te[le]=!0,ie=!1;else if(br(_e)){var Oe=ye(_e.referTo.references,ae,j);Oe?(ae[le]=_e.referTo.callback.apply(this,Oe),ae[le].referTo=_e.referTo,te[le]=!0,ie=!1):de=!0}}if(ie&&de)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ae}function ke(L){var j=/\bthis(\(|\.signatures\b)/;Object.keys(L).forEach(function(Z){var ae=L[Z];if(j.test(ae.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ue(L,j){if(o.createCount++,Object.keys(j).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ke(j);var Z=[],ae=[],te={},de=[],ie,le=function(){if(!Object.prototype.hasOwnProperty.call(j,ie))return"continue";var rr=B(ie);if(!rr)return"continue";Z.forEach(function(nn){if(be(nn,rr))throw new TypeError('Conflicting signatures "'+D(nn)+'" and "'+D(rr)+'".')}),Z.push(rr);var Ir=ae.length;ae.push(j[ie]);var Oi=rr.map(C),Hn=void 0,Tn=Fn(De(Oi)),Mi;try{for(Tn.s();!(Mi=Tn.n()).done;){Hn=Mi.value;var yn=D(Hn);de.push({params:Hn,name:yn,fn:Ir}),Hn.every(function(nn){return!nn.hasConversion})&&(te[yn]=Ir)}}catch(nn){Tn.e(nn)}finally{Tn.f()}};for(ie in j)var _e=le();de.sort(z);var Oe=xe(ae,te,In),We;for(We in te)Object.prototype.hasOwnProperty.call(te,We)&&(te[We]=Oe[te[We]]);for(var Fe=[],Wt=new Map,kt=0,Jt=de;kt<Jt.length;kt++)We=Jt[kt],Wt.has(We.name)||(We.fn=Oe[We.fn],Fe.push(We),Wt.set(We.name,We));for(var Ht=Fe[0]&&Fe[0].params.length<=2&&!F(Fe[0].params),pr=Fe[1]&&Fe[1].params.length<=2&&!F(Fe[1].params),Gt=Fe[2]&&Fe[2].params.length<=2&&!F(Fe[2].params),vr=Fe[3]&&Fe[3].params.length<=2&&!F(Fe[3].params),sr=Fe[4]&&Fe[4].params.length<=2&&!F(Fe[4].params),or=Fe[5]&&Fe[5].params.length<=2&&!F(Fe[5].params),tn=Ht&&pr&&Gt&&vr&&sr&&or,fr=0;fr<Fe.length;++fr)Fe[fr].test=P(Fe[fr].params);for(var _n=Ht?O(Fe[0].params[0]):dn,zn=pr?O(Fe[1].params[0]):dn,Pn=Gt?O(Fe[2].params[0]):dn,xn=vr?O(Fe[3].params[0]):dn,qi=sr?O(Fe[4].params[0]):dn,Si=or?O(Fe[5].params[0]):dn,mu=Ht?O(Fe[0].params[1]):dn,Ar=pr?O(Fe[1].params[1]):dn,Qt=Gt?O(Fe[2].params[1]):dn,Du=vr?O(Fe[3].params[1]):dn,ii=sr?O(Fe[4].params[1]):dn,rn=or?O(Fe[5].params[1]):dn,Wn=0;Wn<Fe.length;++Wn)Fe[Wn].implementation=ue(Fe[Wn].params,Fe[Wn].fn);var Bi=Ht?Fe[0].implementation:uu,_u=pr?Fe[1].implementation:uu,yu=Gt?Fe[2].implementation:uu,zi=vr?Fe[3].implementation:uu,bu=sr?Fe[4].implementation:uu,Au=or?Fe[5].implementation:uu,wu=Ht?Fe[0].params.length:-1,Eu=pr?Fe[1].params.length:-1,Fu=Gt?Fe[2].params.length:-1,Cu=vr?Fe[3].params.length:-1,ui=sr?Fe[4].params.length:-1,Su=or?Fe[5].params.length:-1,ai=tn?6:0,Bu=Fe.length,Ou=Fe.map(function(gr){return gr.test}),Mu=Fe.map(function(gr){return gr.implementation}),Wi=function(){for(var rr=ai;rr<Bu;rr++)if(Ou[rr](arguments))return Mu[rr].apply(this,arguments);return o.onMismatch(L,arguments,Fe)};function In(gr,rr){return arguments.length===wu&&_n(gr)&&mu(rr)?Bi.apply(this,arguments):arguments.length===Eu&&zn(gr)&&Ar(rr)?_u.apply(this,arguments):arguments.length===Fu&&Pn(gr)&&Qt(rr)?yu.apply(this,arguments):arguments.length===Cu&&xn(gr)&&Du(rr)?zi.apply(this,arguments):arguments.length===ui&&qi(gr)&&ii(rr)?bu.apply(this,arguments):arguments.length===Su&&Si(gr)&&rn(rr)?Au.apply(this,arguments):Wi.apply(this,arguments)}try{Object.defineProperty(In,"name",{value:L})}catch{}return In.signatures=te,In._typedFunctionData={signatures:Fe,signatureMap:Wt},In}function at(L,j,Z){throw Y(L,j,Z)}function vt(L){return it(L,0,L.length-1)}function Qe(L){return L[L.length-1]}function it(L,j,Z){return Array.prototype.slice.call(L,j,Z)}function gt(L,j){for(var Z=0;Z<L.length;Z++)if(j(L[Z]))return L[Z]}function mt(L,j){return Array.prototype.concat.apply([],L.map(j))}function rt(){var L=vt(arguments).map(function(Z){return D(B(Z))}),j=Qe(arguments);if(typeof j!="function")throw new TypeError("Callback function expected as last argument");return Xe(L,j)}function Xe(L,j){return{referTo:{references:L,callback:j}}}function wt(L){if(typeof L!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:L}}}function br(L){return L&&ou(L.referTo)==="object"&&Array.isArray(L.referTo.references)&&typeof L.referTo.callback=="function"}function Ft(L){return L&&ou(L.referToSelf)==="object"&&typeof L.referToSelf.callback=="function"}function Ee(L,j){if(!L)return j;if(j&&j!==L){var Z=new Error("Function names do not match (expected: "+L+", actual: "+j+")");throw Z.data={actual:j,expected:L},Z}return L}function we(L){var j;for(var Z in L)Object.prototype.hasOwnProperty.call(L,Z)&&(c(L[Z])||typeof L[Z].signature=="string")&&(j=Ee(j,L[Z].name));return j}function Dt(L,j){var Z;for(Z in j)if(Object.prototype.hasOwnProperty.call(j,Z)){if(Z in L&&j[Z]!==L[Z]){var ae=new Error('Signature "'+Z+'" is defined twice');throw ae.data={signature:Z,sourceFunction:j[Z],destFunction:L[Z]},ae}L[Z]=j[Z]}}var jt=o;o=function(j){for(var Z=typeof j=="string",ae=Z?1:0,te=Z?j:"",de={},ie=ae;ie<arguments.length;++ie){var le=arguments[ie],_e={},Oe=void 0;if(typeof le=="function"?(Oe=le.name,typeof le.signature=="string"?_e[le.signature]=le:c(le)&&(_e=le.signatures)):e(le)&&(_e=le,Z||(Oe=we(le))),Object.keys(_e).length===0){var We=new TypeError("Argument to 'typed' at index "+ie+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw We.data={index:ie,argument:le},We}Z||(te=Ee(te,Oe)),Dt(de,_e)}return Ue(te||"",de)},o.create=Ad,o.createCount=jt.createCount,o.onMismatch=at,o.throwMismatchError=at,o.createError=Y,o.clear=p,o.clearConversions=h,o.addTypes=d,o._findType=l,o.referTo=rt,o.referToSelf=wt,o.convert=g,o.findSignature=m,o.find=b,o.isTypedFunction=c,o.warnAgainstDeprecatedThis=!0,o.addType=function(L,j){var Z="any";j!==!1&&n.has("Object")&&(Z="Object"),o.addTypes([L],Z)};function ar(L){if(!L||typeof L.from!="string"||typeof L.to!="string"||typeof L.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(L.to===L.from)throw new SyntaxError('Illegal to define conversion from "'+L.from+'" to itself.')}return o.addConversion=function(L){ar(L);var j=l(L.to);if(j.conversionsTo.every(function(Z){return Z.from!==L.from}))j.conversionsTo.push({from:L.from,convert:L.convert,index:a++});else throw new Error('There is already a conversion from "'+L.from+'" to "'+j.name+'"')},o.addConversions=function(L){L.forEach(o.addConversion)},o.removeConversion=function(L){ar(L);var j=l(L.to),Z=gt(j.conversionsTo,function(te){return te.from===L.from});if(!Z)throw new Error("Attempt to remove nonexistent conversion from "+L.from+" to "+L.to);if(Z.convert!==L.convert)throw new Error("Conversion to remove does not match existing conversion");var ae=j.conversionsTo.indexOf(Z);j.conversionsTo.splice(ae,1)},o.resolve=function(L,j){if(!c(L))throw new TypeError(P0);for(var Z=L._typedFunctionData.signatures,ae=0;ae<Z.length;++ae)if(Z[ae].test(j))return Z[ae];return null},o}const x0=Ad();function yr(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Yo(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!yr(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(a)}function Ol(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",n,u;if(t&&(t.notation&&(r=t.notation),Xt(t)?n=t:Xt(t.precision)&&(n=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return gb(e,n);case"exponential":return wd(e,n);case"engineering":return vb(e,n);case"bin":return Yo(e,2,u);case"oct":return Yo(e,8,u);case"hex":return Yo(e,16,u);case"auto":return mb(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function As(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),a=n.indexOf(".");u+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(l){return u-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function vb(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=As(e),n=ws(r,t),u=n.exponent,a=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(Xt(t))for(;t>a.length||u-o+1>a.length;)a.push(0);else for(var l=Math.abs(u-o)-(a.length-1),d=0;d<l;d++)a.push(0);for(var p=Math.abs(u-o),h=1;p>0;)h++,p--;var f=a.slice(h).join(""),c=Xt(t)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,h).join("")+c+"e"+(u>=0?"+":"")+o.toString();return n.sign+m}function gb(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=As(e),n=typeof t=="number"?ws(r,r.exponent+1+t):r,u=n.coefficients,a=n.exponent+1,o=a+(t||0);return u.length<o&&(u=u.concat(fu(o-u.length))),a<0&&(u=fu(-a+1).concat(u),a=1),a<u.length&&u.splice(a,0,a===0?"0.":"."),n.sign+u.join("")}function wd(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=As(e),n=t?ws(r,t):r,u=n.coefficients,a=n.exponent;u.length<t&&(u=u.concat(fu(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(a>=0?"+":"")+a}function mb(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5,a=As(e),o=t?ws(a,t):a;if(o.exponent<n||o.exponent>=u)return wd(e,t);var l=o.coefficients,d=o.exponent;l.length<t&&(l=l.concat(fu(t-l.length))),l=l.concat(fu(d-l.length+1+(l.length<t?t-l.length:0))),l=fu(-d).concat(l);var p=d>0?d:0;return p<l.length-1&&l.splice(p+1,0,"."),o.sign+l.join("")}function ws(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function fu(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Db(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var _b=Number.EPSILON||2220446049250313e-31;function Ja(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<_b?!0:n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function Ko(e,t,r){var n=e.constructor,u=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function yb(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",n,u;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?n=t:t.precision&&(n=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Ab(e,n);case"exponential":return I0(e,n);case"engineering":return bb(e,n);case"bin":return Ko(e,2,u);case"oct":return Ko(e,8,u);case"hex":return Ko(e,16,u);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,o=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var l,d=e.toSignificantDigits(n),p=d.e;return p>=a&&p<o?l=d.toFixed():l=I0(e,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],f=arguments[4];return h!=="."?h+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bb(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),a=u.toPrecision(t);return a.indexOf("e")!==-1&&(a=u.toString()),a+"e"+(r>=0?"+":"")+n.toString()}function I0(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Ab(e,t){return e.toFixed(t)}function zr(e,t){var r=wb(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function wb(e,t){if(typeof e=="number")return Ol(e,t);if(pn(e))return yb(e,t);if(Eb(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Ed(e,t);if(Ln(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>'"'+n+'": '+zr(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Ed(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=Ed(e[u],t);return r+="]",r}else return zr(e,t)}function Eb(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Ct(e,t,r){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ct.prototype=new RangeError;Ct.prototype.constructor=RangeError;Ct.prototype.name="DimensionError";Ct.prototype.isDimensionError=!0;function Vi(e,t,r){if(!(this instanceof Vi))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Vi.prototype=new RangeError;Vi.prototype.constructor=RangeError;Vi.prototype.name="IndexError";Vi.prototype.isIndexError=!0;function Ai(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Fd(e,t,r){var n,u=e.length;if(u!==t[r])throw new Ct(u,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new Ct(t.length-1,t.length,"<");Fd(e[n],t,a)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new Ct(t.length+1,t.length,">")}function T0(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Ct(e.length,0)}else Fd(e,t,0)}function Zt(e,t){if(!Xt(e)||!yr(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Vi(e,t)}function N0(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!Xt(u)||!yr(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+zr(t)+")")});var n=r!==void 0?r:0;return Ml(e,t,0,n),e}function Ml(e,t,r,n){var u,a,o=e.length,l=t[r],d=Math.min(o,l);if(e.length=l,r<t.length-1){var p=r+1;for(u=0;u<d;u++)a=e[u],Array.isArray(a)||(a=[a],e[u]=a),Ml(a,t,p,n);for(u=d;u<l;u++)a=[],e[u]=a,Ml(a,t,p,n)}else{for(u=0;u<d;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=d;u<l;u++)e[u]=n}}function Fb(e,t){var r=Sb(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ct(0,n,"!=");t=Jl(t,n);var u=Cd(t);if(n!==u)throw new Ct(u,n,"!=");try{return Cb(r,t)}catch(a){throw a instanceof Ct?new Ct(u,n,"!="):a}}function Jl(e,t){var r=Cd(e),n=e.slice(),u=-1,a=e.indexOf(u),o=e.indexOf(u,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,d=t%r===0;if(l)if(d)n[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Cd(e){return e.reduce((t,r)=>t*r,1)}function Cb(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var a=t[u];n=[];for(var o=r.length/a,l=0;l<o;l++)n.push(r.slice(l*a,(l+1)*a));r=n}return r}function Sd(e,t,r,n){var u=n||Ai(e);if(r)for(var a=0;a<r;a++)e=[e],u.unshift(1);for(e=Bd(e,t,0);u.length<t;)u.push(1);return e}function Bd(e,t,r){var n,u;if(Array.isArray(e)){var a=r+1;for(n=0,u=e.length;n<u;n++)e[n]=Bd(e[n],t,a)}else for(var o=r;o<t;o++)e=[e];return e}function Sb(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Qa(e,t){for(var r,n=0,u=0;u<e.length;u++){var a=e[u],o=Array.isArray(a);if(u===0&&o&&(n=a.length),o&&a.length!==n)return;var l=o?Qa(a,t):t(a);if(r===void 0)r=l;else if(r!==l)return"mixed"}return r}function Bt(e,t,r,n){function u(a){var o=cb(a,t.map(Mb));return Bb(e,t,a),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function Bb(e,t,r){var n=t.filter(a=>!Ob(a)).every(a=>r[a]!==void 0);if(!n){var u=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Ob(e){return e&&e[0]==="?"}function Mb(e){return e&&e[0]==="?"?e.slice(1):e}function Pb(e,t){if(Md(e)&&Od(e,t))return e[t];throw typeof e[t]=="function"&&Tb(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function xb(e,t,r){if(Md(e)&&Od(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Ib(e,t){return t in e}function Od(e,t){return!e||typeof e!="object"?!1:Zu(Nb,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Tb(e,t){return e==null||typeof e[t]!="function"||Zu(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Zu(kb,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Md(e){return typeof e=="object"&&e&&e.constructor===Object}var Nb={length:!0,name:!0},kb={toString:!0,valueOf:!0,toLocaleString:!0};class Rb{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Pb(this.wrappedObject,t)}set(t,r){return xb(this.wrappedObject,t,r),this}has(t){return Ib(this.wrappedObject,t)}}function Lb(e){return e?e instanceof Map||e instanceof Rb||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Pd=function(){return Pd=x0.create,x0},Ub=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],jb=Bt("typed",Ub,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:a}=t,o=Pd();return o.clear(),o.addTypes([{name:"number",test:Xt},{name:"Complex",test:Dd},{name:"BigNumber",test:pn},{name:"Fraction",test:_d},{name:"Unit",test:yd},{name:"identifier",test:l=>Ln&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(l)},{name:"string",test:Ln},{name:"Chain",test:ob},{name:"Array",test:Kt},{name:"Matrix",test:Rr},{name:"DenseMatrix",test:Ny},{name:"SparseMatrix",test:ky},{name:"Range",test:Ry},{name:"Index",test:Xl},{name:"boolean",test:Ly},{name:"ResultSet",test:Uy},{name:"Help",test:jy},{name:"function",test:Vy},{name:"Date",test:qy},{name:"RegExp",test:zy},{name:"null",test:Hy},{name:"undefined",test:bd},{name:"AccessorNode",test:Gy},{name:"ArrayNode",test:Yy},{name:"AssignmentNode",test:Ky},{name:"BlockNode",test:Zy},{name:"ConditionalNode",test:$y},{name:"ConstantNode",test:Xy},{name:"FunctionNode",test:Qy},{name:"FunctionAssignmentNode",test:Jy},{name:"IndexNode",test:eb},{name:"Node",test:tb},{name:"ObjectNode",test:rb},{name:"OperatorNode",test:nb},{name:"ParenthesisNode",test:ib},{name:"RangeNode",test:ub},{name:"RelationalNode",test:ab},{name:"SymbolNode",test:sb},{name:"Map",test:Lb},{name:"Object",test:Wy}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(d){if(r||Zo(d),Db(d)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+d+"). Use function bignumber(x) to convert to BigNumber.");return new r(d)}},{from:"number",to:"Complex",convert:function(d){return n||Va(d),new n(d,0)}},{from:"BigNumber",to:"Complex",convert:function(d){return n||Va(d),new n(d.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(d){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(d){return n||Va(d),new n(d.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(d){a||$o(d);var p=new a(d);if(p.valueOf()!==d)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+d+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(d){var p=Number(d);if(isNaN(p))throw new Error('Cannot convert "'+d+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(d){r||Zo(d);try{return new r(d)}catch{throw new Error('Cannot convert "'+d+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(d){a||$o(d);try{return new a(d)}catch{throw new Error('Cannot convert "'+d+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(d){n||Va(d);try{return new n(d)}catch{throw new Error('Cannot convert "'+d+'" to Complex')}}},{from:"boolean",to:"number",convert:function(d){return+d}},{from:"boolean",to:"BigNumber",convert:function(d){return r||Zo(d),new r(+d)}},{from:"boolean",to:"Fraction",convert:function(d){return a||$o(d),new a(+d)}},{from:"boolean",to:"string",convert:function(d){return String(d)}},{from:"Array",to:"Matrix",convert:function(d){return u||Vb(),new u(d)}},{from:"Matrix",to:"Array",convert:function(d){return d.valueOf()}}]),o.onMismatch=(l,d,p)=>{var h=o.createError(l,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&$a(d[0])&&p.some(c=>!c.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=h.data,f}throw h},o.onMismatch=(l,d,p)=>{var h=o.createError(l,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&$a(d[0])&&p.some(c=>!c.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=h.data,f}throw h},o});function Zo(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Va(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Vb(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function $o(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var lu=9e15,Fi=1e9,Pl="0123456789abcdef",es="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ts="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",xl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-lu,maxE:lu,crypto:!1},xd,ri,He=!0,Es="[DecimalError] ",wi=Es+"Invalid argument: ",Id=Es+"Precision limit exceeded",Td=Es+"crypto unavailable",Nd="[object Decimal]",xr=Math.floor,dr=Math.pow,qb=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,zb=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Wb=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,kd=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn=1e7,Ve=7,Hb=9007199254740991,Gb=es.length-1,Il=ts.length-1,ge={toStringTag:Nd};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Le(e)};ge.ceil=function(){return Le(new this.constructor(this),this.e+1,2)};ge.clampedTo=ge.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(wi+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};ge.comparedTo=ge.cmp=function(e){var t,r,n,u,a=this,o=a.d,l=(e=new a.constructor(e)).d,d=a.s,p=e.s;if(!o||!l)return!d||!p?NaN:d!==p?d:o===l?0:!o^d<0?1:-1;if(!o[0]||!l[0])return o[0]?d:l[0]?-p:0;if(d!==p)return d;if(a.e!==e.e)return a.e>e.e^d<0?1:-1;for(n=o.length,u=l.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==l[t])return o[t]>l[t]^d<0?1:-1;return n===u?0:n>u^d<0?1:-1};ge.cosine=ge.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ve,n.rounding=1,r=Yb(n,Vd(n,r)),n.precision=e,n.rounding=t,Le(ri==2||ri==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};ge.cubeRoot=ge.cbrt=function(){var e,t,r,n,u,a,o,l,d,p,h=this,f=h.constructor;if(!h.isFinite()||h.isZero())return new f(h);for(He=!1,a=h.s*dr(h.s*h,1/3),!a||Math.abs(a)==1/0?(r=Br(h.d),e=h.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=dr(r,1/3),e=xr((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new f(r),n.s=h.s):n=new f(a.toString()),o=(e=f.precision)+3;;)if(l=n,d=l.times(l).times(l),p=d.plus(h),n=xt(p.plus(h).times(l),p.plus(d),o+2,1),Br(l.d).slice(0,o)===(r=Br(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(Le(l,e+1,0),l.times(l).times(l).eq(h))){n=l;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Le(n,e+1,1),t=!n.times(n).times(n).eq(h));break}return He=!0,Le(n,e,f.rounding,t)};ge.decimalPlaces=ge.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-xr(this.e/Ve))*Ve,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};ge.dividedBy=ge.div=function(e){return xt(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.divToInt=function(e){var t=this,r=t.constructor;return Le(xt(t,new r(e),0,1,1),r.precision,r.rounding)};ge.equals=ge.eq=function(e){return this.cmp(e)===0};ge.floor=function(){return Le(new this.constructor(this),this.e+1,3)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){var t=this.cmp(e);return t==1||t===0};ge.hyperbolicCosine=ge.cosh=function(){var e,t,r,n,u,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,u=a.d.length,u<32?(e=Math.ceil(u/3),t=(1/Cs(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=du(o,1,a.times(t),new o(1),!0);for(var d,p=e,h=new o(8);p--;)d=a.times(a),a=l.minus(d.times(h.minus(d.times(h))));return Le(a,o.precision=r,o.rounding=n,!0)};ge.hyperbolicSine=ge.sinh=function(){var e,t,r,n,u=this,a=u.constructor;if(!u.isFinite()||u.isZero())return new a(u);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(u.e,u.sd())+4,a.rounding=1,n=u.d.length,n<3)u=du(a,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/Cs(5,e)),u=du(a,2,u,u,!0);for(var o,l=new a(5),d=new a(16),p=new a(20);e--;)o=u.times(u),u=u.times(l.plus(o.times(d.times(o).plus(p))))}return a.precision=t,a.rounding=r,Le(u,t,r,!0)};ge.hyperbolicTangent=ge.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,xt(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};ge.inverseCosine=ge.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),u=r.precision,a=r.rounding;return n!==-1?n===0?t.isNeg()?Cn(r,u,a):new r(0):new r(NaN):t.isZero()?Cn(r,u+4,a).times(.5):(r.precision=u+6,r.rounding=1,t=t.asin(),e=Cn(r,u+4,a).times(.5),r.precision=u,r.rounding=a,e.minus(t))};ge.inverseHyperbolicCosine=ge.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,He=!1,r=r.times(r).minus(1).sqrt().plus(r),He=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};ge.inverseHyperbolicSine=ge.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,He=!1,r=r.times(r).plus(1).sqrt().plus(r),He=!0,n.precision=e,n.rounding=t,r.ln())};ge.inverseHyperbolicTangent=ge.atanh=function(){var e,t,r,n,u=this,a=u.constructor;return u.isFinite()?u.e>=0?new a(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=a.precision,t=a.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?Le(new a(u),e,t,!0):(a.precision=r=n-u.e,u=xt(u.plus(1),new a(1).minus(u),r+e,1),a.precision=e+4,a.rounding=1,u=u.ln(),a.precision=e,a.rounding=t,u.times(.5))):new a(NaN)};ge.inverseSine=ge.asin=function(){var e,t,r,n,u=this,a=u.constructor;return u.isZero()?new a(u):(t=u.abs().cmp(1),r=a.precision,n=a.rounding,t!==-1?t===0?(e=Cn(a,r+4,n).times(.5),e.s=u.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,u=u.div(new a(1).minus(u.times(u)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,u.times(2)))};ge.inverseTangent=ge.atan=function(){var e,t,r,n,u,a,o,l,d,p=this,h=p.constructor,f=h.precision,c=h.rounding;if(p.isFinite()){if(p.isZero())return new h(p);if(p.abs().eq(1)&&f+4<=Il)return o=Cn(h,f+4,c).times(.25),o.s=p.s,o}else{if(!p.s)return new h(NaN);if(f+4<=Il)return o=Cn(h,f+4,c).times(.5),o.s=p.s,o}for(h.precision=l=f+10,h.rounding=1,r=Math.min(28,l/Ve+2|0),e=r;e;--e)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(He=!1,t=Math.ceil(l/Ve),n=1,d=p.times(p),o=new h(p),u=p;e!==-1;)if(u=u.times(d),a=o.minus(u.div(n+=2)),u=u.times(d),o=a.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),He=!0,Le(o,h.precision=f,h.rounding=c,!0)};ge.isFinite=function(){return!!this.d};ge.isInteger=ge.isInt=function(){return!!this.d&&xr(this.e/Ve)>this.d.length-2};ge.isNaN=function(){return!this.s};ge.isNegative=ge.isNeg=function(){return this.s<0};ge.isPositive=ge.isPos=function(){return this.s>0};ge.isZero=function(){return!!this.d&&this.d[0]===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r,n,u,a,o,l,d,p=this,h=p.constructor,f=h.precision,c=h.rounding,m=5;if(e==null)e=new h(10),t=!0;else{if(e=new h(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new h(NaN);t=e.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new h(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(u=r[0];u%10===0;)u/=10;a=u!==1}if(He=!1,l=f+m,o=mi(p,l),n=t?rs(h,l+10):mi(e,l),d=xt(o,n,l,1),$u(d.d,u=f,c))do if(l+=10,o=mi(p,l),n=t?rs(h,l+10):mi(e,l),d=xt(o,n,l,1),!a){+Br(d.d).slice(u+1,u+15)+1==1e14&&(d=Le(d,f+1,0));break}while($u(d.d,u+=10,c));return He=!0,Le(d,f,c)};ge.minus=ge.sub=function(e){var t,r,n,u,a,o,l,d,p,h,f,c,m=this,b=m.constructor;if(e=new b(e),!m.d||!e.d)return!m.s||!e.s?e=new b(NaN):m.d?e.s=-e.s:e=new b(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(p=m.d,c=e.d,l=b.precision,d=b.rounding,!p[0]||!c[0]){if(c[0])e.s=-e.s;else if(p[0])e=new b(m);else return new b(d===3?-0:0);return He?Le(e,l,d):e}if(r=xr(e.e/Ve),h=xr(m.e/Ve),p=p.slice(),a=h-r,a){for(f=a<0,f?(t=p,a=-a,o=c.length):(t=c,r=h,o=p.length),n=Math.max(Math.ceil(l/Ve),o)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=p.length,o=c.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(p[n]!=c[n]){f=p[n]<c[n];break}a=0}for(f&&(t=p,p=c,c=t,e.s=-e.s),o=p.length,n=c.length-o;n>0;--n)p[o++]=0;for(n=c.length;n>a;){if(p[--n]<c[n]){for(u=n;u&&p[--u]===0;)p[u]=Sn-1;--p[u],p[n]+=Sn}p[n]-=c[n]}for(;p[--o]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(e.d=p,e.e=Fs(p,r),He?Le(e,l,d):e):new b(d===3?-0:0)};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Le(new n(r),n.precision,n.rounding):(He=!1,n.modulo==9?(t=xt(r,e.abs(),0,3,1),t.s*=e.s):t=xt(r,e,0,n.modulo,1),t=t.times(e),He=!0,r.minus(t))};ge.naturalExponential=ge.exp=function(){return Tl(this)};ge.naturalLogarithm=ge.ln=function(){return mi(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Le(e)};ge.plus=ge.add=function(e){var t,r,n,u,a,o,l,d,p,h,f=this,c=f.constructor;if(e=new c(e),!f.d||!e.d)return!f.s||!e.s?e=new c(NaN):f.d||(e=new c(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(p=f.d,h=e.d,l=c.precision,d=c.rounding,!p[0]||!h[0])return h[0]||(e=new c(f)),He?Le(e,l,d):e;if(a=xr(f.e/Ve),n=xr(e.e/Ve),p=p.slice(),u=a-n,u){for(u<0?(r=p,u=-u,o=h.length):(r=h,n=a,o=p.length),a=Math.ceil(l/Ve),o=a>o?a+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=p.length,u=h.length,o-u<0&&(u=o,r=h,h=p,p=r),t=0;u;)t=(p[--u]=p[u]+h[u]+t)/Sn|0,p[u]%=Sn;for(t&&(p.unshift(t),++n),o=p.length;p[--o]==0;)p.pop();return e.d=p,e.e=Fs(p,n),He?Le(e,l,d):e};ge.precision=ge.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wi+e);return r.d?(t=Rd(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};ge.round=function(){var e=this,t=e.constructor;return Le(new t(e),e.e+1,t.rounding)};ge.sine=ge.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ve,n.rounding=1,r=Zb(n,Vd(n,r)),n.precision=e,n.rounding=t,Le(ri>2?r.neg():r,e,t,!0)):new n(NaN)};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,u,a,o=this,l=o.d,d=o.e,p=o.s,h=o.constructor;if(p!==1||!l||!l[0])return new h(!p||p<0&&(!l||l[0])?NaN:l?o:1/0);for(He=!1,p=Math.sqrt(+o),p==0||p==1/0?(t=Br(l),(t.length+d)%2==0&&(t+="0"),p=Math.sqrt(t),d=xr((d+1)/2)-(d<0||d%2),p==1/0?t="5e"+d:(t=p.toExponential(),t=t.slice(0,t.indexOf("e")+1)+d),n=new h(t)):n=new h(p.toString()),r=(d=h.precision)+3;;)if(a=n,n=a.plus(xt(o,a,r+2,1)).times(.5),Br(a.d).slice(0,r)===(t=Br(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(Le(a,d+1,0),a.times(a).eq(o))){n=a;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Le(n,d+1,1),e=!n.times(n).eq(o));break}return He=!0,Le(n,d,h.rounding,e)};ge.tangent=ge.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=xt(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Le(ri==2||ri==4?r.neg():r,e,t,!0)):new n(NaN)};ge.times=ge.mul=function(e){var t,r,n,u,a,o,l,d,p,h=this,f=h.constructor,c=h.d,m=(e=new f(e)).d;if(e.s*=h.s,!c||!c[0]||!m||!m[0])return new f(!e.s||c&&!c[0]&&!m||m&&!m[0]&&!c?NaN:!c||!m?e.s/0:e.s*0);for(r=xr(h.e/Ve)+xr(e.e/Ve),d=c.length,p=m.length,d<p&&(a=c,c=m,m=a,o=d,d=p,p=o),a=[],o=d+p,n=o;n--;)a.push(0);for(n=p;--n>=0;){for(t=0,u=d+n;u>n;)l=a[u]+m[n]*c[u-n-1]+t,a[u--]=l%Sn|0,t=l/Sn|0;a[u]=(a[u]+t)%Sn|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=Fs(a,r),He?Le(e,f.precision,f.rounding):e};ge.toBinary=function(e,t){return Ql(this,2,e,t)};ge.toDecimalPlaces=ge.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Wr(e,0,Fi),t===void 0?t=n.rounding:Wr(t,0,8),Le(r,e+r.e+1,t))};ge.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=jn(n,!0):(Wr(e,0,Fi),t===void 0?t=u.rounding:Wr(t,0,8),n=Le(new u(n),e+1,t),r=jn(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};ge.toFixed=function(e,t){var r,n,u=this,a=u.constructor;return e===void 0?r=jn(u):(Wr(e,0,Fi),t===void 0?t=a.rounding:Wr(t,0,8),n=Le(new a(u),e+u.e+1,t),r=jn(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};ge.toFraction=function(e){var t,r,n,u,a,o,l,d,p,h,f,c,m=this,b=m.d,g=m.constructor;if(!b)return new g(m);if(p=r=new g(1),n=d=new g(0),t=new g(n),a=t.e=Rd(b)-m.e-1,o=a%Ve,t.d[0]=dr(10,o<0?Ve+o:o),e==null)e=a>0?t:p;else{if(l=new g(e),!l.isInt()||l.lt(p))throw Error(wi+l);e=l.gt(t)?a>0?t:p:l}for(He=!1,l=new g(Br(b)),h=g.precision,g.precision=a=b.length*Ve*2;f=xt(l,t,0,1,1),u=r.plus(f.times(n)),u.cmp(e)!=1;)r=n,n=u,u=p,p=d.plus(f.times(u)),d=u,u=t,t=l.minus(f.times(u)),l=u;return u=xt(e.minus(r),n,0,1,1),d=d.plus(u.times(p)),r=r.plus(u.times(n)),d.s=p.s=m.s,c=xt(p,n,a,1).minus(m).abs().cmp(xt(d,r,a,1).minus(m).abs())<1?[p,n]:[d,r],g.precision=h,He=!0,c};ge.toHexadecimal=ge.toHex=function(e,t){return Ql(this,16,e,t)};ge.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Wr(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(He=!1,r=xt(r,e,0,t,1).times(e),He=!0,Le(r)):(e.s=r.s,r=e),r};ge.toNumber=function(){return+this};ge.toOctal=function(e,t){return Ql(this,8,e,t)};ge.toPower=ge.pow=function(e){var t,r,n,u,a,o,l=this,d=l.constructor,p=+(e=new d(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new d(dr(+l,p));if(l=new d(l),l.eq(1))return l;if(n=d.precision,a=d.rounding,e.eq(1))return Le(l,n,a);if(t=xr(e.e/Ve),t>=e.d.length-1&&(r=p<0?-p:p)<=Hb)return u=Ld(d,l,r,n),e.s<0?new d(1).div(u):Le(u,n,a);if(o=l.s,o<0){if(t<e.d.length-1)return new d(NaN);if(e.d[t]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return r=dr(+l,p),t=r==0||!isFinite(r)?xr(p*(Math.log("0."+Br(l.d))/Math.LN10+l.e+1)):new d(r+"").e,t>d.maxE+1||t<d.minE-1?new d(t>0?o/0:0):(He=!1,d.rounding=l.s=1,r=Math.min(12,(t+"").length),u=Tl(e.times(mi(l,n+r)),n),u.d&&(u=Le(u,n+5,1),$u(u.d,n,a)&&(t=n+10,u=Le(Tl(e.times(mi(l,t+r)),t),t+5,1),+Br(u.d).slice(n+1,n+15)+1==1e14&&(u=Le(u,n+1,0)))),u.s=o,He=!0,d.rounding=a,Le(u,n,a))};ge.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=jn(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Wr(e,1,Fi),t===void 0?t=u.rounding:Wr(t,0,8),n=Le(new u(n),e,t),r=jn(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};ge.toSignificantDigits=ge.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Wr(e,1,Fi),t===void 0?t=n.rounding:Wr(t,0,8)),Le(new n(r),e,t)};ge.toString=function(){var e=this,t=e.constructor,r=jn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};ge.truncated=ge.trunc=function(){return Le(new this.constructor(this),this.e+1,1)};ge.valueOf=ge.toJSON=function(){var e=this,t=e.constructor,r=jn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Br(e){var t,r,n,u=e.length-1,a="",o=e[0];if(u>0){for(a+=o,t=1;t<u;t++)n=e[t]+"",r=Ve-n.length,r&&(a+=gi(r)),a+=n;o=e[t],n=o+"",r=Ve-n.length,r&&(a+=gi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Wr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wi+e)}function $u(e,t,r,n){var u,a,o,l;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Ve,u=0):(u=Math.ceil((t+1)/Ve),t%=Ve),a=dr(10,Ve-t),l=e[u]%a|0,n==null?t<3?(t==0?l=l/100|0:t==1&&(l=l/10|0),o=r<4&&l==99999||r>3&&l==49999||l==5e4||l==0):o=(r<4&&l+1==a||r>3&&l+1==a/2)&&(e[u+1]/a/100|0)==dr(10,t-2)-1||(l==a/2||l==0)&&(e[u+1]/a/100|0)==0:t<4?(t==0?l=l/1e3|0:t==1?l=l/100|0:t==2&&(l=l/10|0),o=(n||r<4)&&l==9999||!n&&r>3&&l==4999):o=((n||r<4)&&l+1==a||!n&&r>3&&l+1==a/2)&&(e[u+1]/a/1e3|0)==dr(10,t-3)-1,o}function Ga(e,t,r){for(var n,u=[0],a,o=0,l=e.length;o<l;){for(a=u.length;a--;)u[a]*=t;for(u[0]+=Pl.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function Yb(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/Cs(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=du(e,1,t.times(u),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var xt=function(){function e(n,u,a){var o,l=0,d=n.length;for(n=n.slice();d--;)o=n[d]*u+l,n[d]=o%a|0,l=o/a|0;return l&&n.unshift(l),n}function t(n,u,a,o){var l,d;if(a!=o)d=a>o?1:-1;else for(l=d=0;l<a;l++)if(n[l]!=u[l]){d=n[l]>u[l]?1:-1;break}return d}function r(n,u,a,o){for(var l=0;a--;)n[a]-=l,l=n[a]<u[a]?1:0,n[a]=l*o+n[a]-u[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,a,o,l,d){var p,h,f,c,m,b,g,D,y,C,w,B,F,O,P,I,N,G,H,Y,q=n.constructor,W=n.s==u.s?1:-1,R=n.d,z=u.d;if(!R||!R[0]||!z||!z[0])return new q(!n.s||!u.s||(R?z&&R[0]==z[0]:!z)?NaN:R&&R[0]==0||!z?W*0:W/0);for(d?(m=1,h=n.e-u.e):(d=Sn,m=Ve,h=xr(n.e/m)-xr(u.e/m)),H=z.length,N=R.length,y=new q(W),C=y.d=[],f=0;z[f]==(R[f]||0);f++);if(z[f]>(R[f]||0)&&h--,a==null?(O=a=q.precision,o=q.rounding):l?O=a+(n.e-u.e)+1:O=a,O<0)C.push(1),b=!0;else{if(O=O/m+2|0,f=0,H==1){for(c=0,z=z[0],O++;(f<N||c)&&O--;f++)P=c*d+(R[f]||0),C[f]=P/z|0,c=P%z|0;b=c||f<N}else{for(c=d/(z[0]+1)|0,c>1&&(z=e(z,c,d),R=e(R,c,d),H=z.length,N=R.length),I=H,w=R.slice(0,H),B=w.length;B<H;)w[B++]=0;Y=z.slice(),Y.unshift(0),G=z[0],z[1]>=d/2&&++G;do c=0,p=t(z,w,H,B),p<0?(F=w[0],H!=B&&(F=F*d+(w[1]||0)),c=F/G|0,c>1?(c>=d&&(c=d-1),g=e(z,c,d),D=g.length,B=w.length,p=t(g,w,D,B),p==1&&(c--,r(g,H<D?Y:z,D,d))):(c==0&&(p=c=1),g=z.slice()),D=g.length,D<B&&g.unshift(0),r(w,g,B,d),p==-1&&(B=w.length,p=t(z,w,H,B),p<1&&(c++,r(w,H<B?Y:z,B,d))),B=w.length):p===0&&(c++,w=[0]),C[f++]=c,p&&w[0]?w[B++]=R[I]||0:(w=[R[I]],B=1);while((I++<N||w[0]!==void 0)&&O--);b=w[0]!==void 0}C[0]||C.shift()}if(m==1)y.e=h,xd=b;else{for(f=1,c=C[0];c>=10;c/=10)f++;y.e=f+h*m-1,Le(y,l?a+y.e+1:a,o,b)}return y}}();function Le(e,t,r,n){var u,a,o,l,d,p,h,f,c,m=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(u=1,l=f[0];l>=10;l/=10)u++;if(a=t-u,a<0)a+=Ve,o=t,h=f[c=0],d=h/dr(10,u-o-1)%10|0;else if(c=Math.ceil((a+1)/Ve),l=f.length,c>=l)if(n){for(;l++<=c;)f.push(0);h=d=0,u=1,a%=Ve,o=a-Ve+1}else break e;else{for(h=l=f[c],u=1;l>=10;l/=10)u++;a%=Ve,o=a-Ve+u,d=o<0?0:h/dr(10,u-o-1)%10|0}if(n=n||t<0||f[c+1]!==void 0||(o<0?h:h%dr(10,u-o-1)),p=r<4?(d||n)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||n||r==6&&(a>0?o>0?h/dr(10,u-o):0:f[c-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,p?(t-=e.e+1,f[0]=dr(10,(Ve-t%Ve)%Ve),e.e=-t||0):f[0]=e.e=0,e;if(a==0?(f.length=c,l=1,c--):(f.length=c+1,l=dr(10,Ve-a),f[c]=o>0?(h/dr(10,u-o)%dr(10,o)|0)*l:0),p)for(;;)if(c==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(e.e++,f[0]==Sn&&(f[0]=1));break}else{if(f[c]+=l,f[c]!=Sn)break;f[c--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return He&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function jn(e,t,r){if(!e.isFinite())return jd(e);var n,u=e.e,a=Br(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+gi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):u<0?(a="0."+gi(-u-1)+a,r&&(n=r-o)>0&&(a+=gi(n))):u>=o?(a+=gi(u+1-o),r&&(n=r-u-1)>0&&(a=a+"."+gi(n))):((n=u+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(a+="."),a+=gi(n))),a}function Fs(e,t){var r=e[0];for(t*=Ve;r>=10;r/=10)t++;return t}function rs(e,t,r){if(t>Gb)throw He=!0,r&&(e.precision=r),Error(Id);return Le(new e(es),t,1,!0)}function Cn(e,t,r){if(t>Il)throw Error(Id);return Le(new e(ts),t,r,!0)}function Rd(e){var t=e.length-1,r=t*Ve+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function gi(e){for(var t="";e--;)t+="0";return t}function Ld(e,t,r,n){var u,a=new e(1),o=Math.ceil(n/Ve+4);for(He=!1;;){if(r%2&&(a=a.times(t),R0(a.d,o)&&(u=!0)),r=xr(r/2),r===0){r=a.d.length-1,u&&a.d[r]===0&&++a.d[r];break}t=t.times(t),R0(t.d,o)}return He=!0,a}function k0(e){return e.d[e.d.length-1]&1}function Ud(e,t,r){for(var n,u=new e(t[0]),a=0;++a<t.length;)if(n=new e(t[a]),n.s)u[r](n)&&(u=n);else{u=n;break}return u}function Tl(e,t){var r,n,u,a,o,l,d,p=0,h=0,f=0,c=e.constructor,m=c.rounding,b=c.precision;if(!e.d||!e.d[0]||e.e>17)return new c(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(He=!1,d=b):d=t,l=new c(.03125);e.e>-2;)e=e.times(l),f+=5;for(n=Math.log(dr(2,f))/Math.LN10*2+5|0,d+=n,r=a=o=new c(1),c.precision=d;;){if(a=Le(a.times(e),d,1),r=r.times(++h),l=o.plus(xt(a,r,d,1)),Br(l.d).slice(0,d)===Br(o.d).slice(0,d)){for(u=f;u--;)o=Le(o.times(o),d,1);if(t==null)if(p<3&&$u(o.d,d-n,m,p))c.precision=d+=10,r=a=l=new c(1),h=0,p++;else return Le(o,c.precision=b,m,He=!0);else return c.precision=b,o}o=l}}function mi(e,t){var r,n,u,a,o,l,d,p,h,f,c,m=1,b=10,g=e,D=g.d,y=g.constructor,C=y.rounding,w=y.precision;if(g.s<0||!D||!D[0]||!g.e&&D[0]==1&&D.length==1)return new y(D&&!D[0]?-1/0:g.s!=1?NaN:D?0:g);if(t==null?(He=!1,h=w):h=t,y.precision=h+=b,r=Br(D),n=r.charAt(0),Math.abs(a=g.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Br(g.d),n=r.charAt(0),m++;a=g.e,n>1?(g=new y("0."+r),a++):g=new y(n+"."+r.slice(1))}else return p=rs(y,h+2,w).times(a+""),g=mi(new y(n+"."+r.slice(1)),h-b).plus(p),y.precision=w,t==null?Le(g,w,C,He=!0):g;for(f=g,d=o=g=xt(g.minus(1),g.plus(1),h,1),c=Le(g.times(g),h,1),u=3;;){if(o=Le(o.times(c),h,1),p=d.plus(xt(o,new y(u),h,1)),Br(p.d).slice(0,h)===Br(d.d).slice(0,h))if(d=d.times(2),a!==0&&(d=d.plus(rs(y,h+2,w).times(a+""))),d=xt(d,new y(m),h,1),t==null)if($u(d.d,h-b,C,l))y.precision=h+=b,p=o=g=xt(f.minus(1),f.plus(1),h,1),c=Le(g.times(g),h,1),u=l=1;else return Le(d,y.precision=w,C,He=!0);else return y.precision=w,d;d=p,u+=2}}function jd(e){return String(e.s*e.s/0)}function Nl(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Ve,r<0&&(n+=Ve),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=Ve;n<u;)e.d.push(+t.slice(n,n+=Ve));t=t.slice(n),n=Ve-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),He&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Kb(e,t){var r,n,u,a,o,l,d,p,h;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),kd.test(t))return Nl(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(zb.test(t))r=16,t=t.toLowerCase();else if(qb.test(t))r=2;else if(Wb.test(t))r=8;else throw Error(wi+t);for(a=t.search(/p/i),a>0?(d=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,n=e.constructor,o&&(t=t.replace(".",""),l=t.length,a=l-a,u=Ld(n,new n(r),a,a*2)),p=Ga(t,r,Sn),h=p.length-1,a=h;p[a]===0;--a)p.pop();return a<0?new n(e.s*0):(e.e=Fs(p,h),e.d=p,He=!1,o&&(e=xt(e,u,l*4)),d&&(e=e.times(Math.abs(d)<54?dr(2,d):pu.pow(2,d))),He=!0,e)}function Zb(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:du(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Cs(5,r)),t=du(e,2,t,t);for(var u,a=new e(5),o=new e(16),l=new e(20);r--;)u=t.times(t),t=t.times(a.plus(u.times(o.times(u).minus(l))));return t}function du(e,t,r,n,u){var a,o,l,d,p=e.precision,h=Math.ceil(p/Ve);for(He=!1,d=r.times(r),l=new e(n);;){if(o=xt(l.times(d),new e(t++*t++),p,1),l=u?n.plus(o):n.minus(o),n=xt(o.times(d),new e(t++*t++),p,1),o=l.plus(n),o.d[h]!==void 0){for(a=h;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=n,n=o,o=a}return He=!0,o.d.length=h+1,o}function Cs(e,t){for(var r=e;--t;)r*=e;return r}function Vd(e,t){var r,n=t.s<0,u=Cn(e,e.precision,1),a=u.times(.5);if(t=t.abs(),t.lte(a))return ri=n?4:1,t;if(r=t.divToInt(u),r.isZero())ri=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(a))return ri=k0(r)?n?2:3:n?4:1,t;ri=k0(r)?n?1:4:n?3:2}return t.minus(u).abs()}function Ql(e,t,r,n){var u,a,o,l,d,p,h,f,c,m=e.constructor,b=r!==void 0;if(b?(Wr(r,1,Fi),n===void 0?n=m.rounding:Wr(n,0,8)):(r=m.precision,n=m.rounding),!e.isFinite())h=jd(e);else{for(h=jn(e),o=h.indexOf("."),b?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(h=h.replace(".",""),c=new m(1),c.e=h.length-o,c.d=Ga(jn(c),10,u),c.e=c.d.length),f=Ga(h,10,u),a=d=f.length;f[--d]==0;)f.pop();if(!f[0])h=b?"0p+0":"0";else{if(o<0?a--:(e=new m(e),e.d=f,e.e=a,e=xt(e,c,r,n,0,u),f=e.d,a=e.e,p=xd),o=f[r],l=u/2,p=p||f[r+1]!==void 0,p=n<4?(o!==void 0||p)&&(n===0||n===(e.s<0?3:2)):o>l||o===l&&(n===4||p||n===6&&f[r-1]&1||n===(e.s<0?8:7)),f.length=r,p)for(;++f[--r]>u-1;)f[r]=0,r||(++a,f.unshift(1));for(d=f.length;!f[d-1];--d);for(o=0,h="";o<d;o++)h+=Pl.charAt(f[o]);if(b){if(d>1)if(t==16||t==8){for(o=t==16?4:3,--d;d%o;d++)h+="0";for(f=Ga(h,u,t),d=f.length;!f[d-1];--d);for(o=1,h="1.";o<d;o++)h+=Pl.charAt(f[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>d)for(a-=d;a--;)h+="0";else a<d&&(h=h.slice(0,a)+"."+h.slice(a))}h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}return e.s<0?"-"+h:h}function R0(e,t){if(e.length>t)return e.length=t,!0}function $b(e){return new this(e).abs()}function Xb(e){return new this(e).acos()}function Jb(e){return new this(e).acosh()}function Qb(e,t){return new this(e).plus(t)}function eA(e){return new this(e).asin()}function tA(e){return new this(e).asinh()}function rA(e){return new this(e).atan()}function nA(e){return new this(e).atanh()}function iA(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,a=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Cn(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Cn(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Cn(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(xt(e,t,a,1)),t=Cn(this,a,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(xt(e,t,a,1)),r}function uA(e){return new this(e).cbrt()}function aA(e){return Le(e=new this(e),e.e+1,2)}function sA(e,t,r){return new this(e).clamp(t,r)}function oA(e){if(!e||typeof e!="object")throw Error(Es+"Object expected");var t,r,n,u=e.defaults===!0,a=["precision",1,Fi,"rounding",0,8,"toExpNeg",-lu,0,"toExpPos",0,lu,"maxE",0,lu,"minE",-lu,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],u&&(this[r]=xl[r]),(n=e[r])!==void 0)if(xr(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(wi+r+": "+n);if(r="crypto",u&&(this[r]=xl[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Td);else this[r]=!1;else throw Error(wi+r+": "+n);return this}function lA(e){return new this(e).cos()}function fA(e){return new this(e).cosh()}function qd(e){var t,r,n;function u(a){var o,l,d,p=this;if(!(p instanceof u))return new u(a);if(p.constructor=u,L0(a)){p.s=a.s,He?!a.d||a.e>u.maxE?(p.e=NaN,p.d=null):a.e<u.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;He?o>u.maxE?(p.e=NaN,p.d=null):o<u.minE?(p.e=0,p.d=[0]):(p.e=o,p.d=[a]):(p.e=o,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return Nl(p,a.toString())}else if(d!=="string")throw Error(wi+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(l===43&&(a=a.slice(1)),p.s=1),kd.test(a)?Nl(p,a):Kb(p,a)}if(u.prototype=ge,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=oA,u.clone=qd,u.isDecimal=L0,u.abs=$b,u.acos=Xb,u.acosh=Jb,u.add=Qb,u.asin=eA,u.asinh=tA,u.atan=rA,u.atanh=nA,u.atan2=iA,u.cbrt=uA,u.ceil=aA,u.clamp=sA,u.cos=lA,u.cosh=fA,u.div=cA,u.exp=hA,u.floor=dA,u.hypot=pA,u.ln=vA,u.log=gA,u.log10=DA,u.log2=mA,u.max=_A,u.min=yA,u.mod=bA,u.mul=AA,u.pow=wA,u.random=EA,u.round=FA,u.sign=CA,u.sin=SA,u.sinh=BA,u.sqrt=OA,u.sub=MA,u.sum=PA,u.tan=xA,u.tanh=IA,u.trunc=TA,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function cA(e,t){return new this(e).div(t)}function hA(e){return new this(e).exp()}function dA(e){return Le(e=new this(e),e.e+1,3)}function pA(){var e,t,r=new this(0);for(He=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return He=!0,new this(1/0);r=t}return He=!0,r.sqrt()}function L0(e){return e instanceof pu||e&&e.toStringTag===Nd||!1}function vA(e){return new this(e).ln()}function gA(e,t){return new this(e).log(t)}function mA(e){return new this(e).log(2)}function DA(e){return new this(e).log(10)}function _A(){return Ud(this,arguments,"lt")}function yA(){return Ud(this,arguments,"gt")}function bA(e,t){return new this(e).mod(t)}function AA(e,t){return new this(e).mul(t)}function wA(e,t){return new this(e).pow(t)}function EA(e){var t,r,n,u,a=0,o=new this(1),l=[];if(e===void 0?e=this.precision:Wr(e,1,Fi),n=Math.ceil(e/Ve),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)u=t[a],u>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)u=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,a):(l.push(u%1e7),a+=4);a=n/4}else throw Error(Td);else for(;a<n;)l[a++]=Math.random()*1e7|0;for(n=l[--a],e%=Ve,n&&e&&(u=dr(10,Ve-e),l[a]=(n/u|0)*u);l[a]===0;a--)l.pop();if(a<0)r=0,l=[0];else{for(r=-1;l[0]===0;r-=Ve)l.shift();for(n=1,u=l[0];u>=10;u/=10)n++;n<Ve&&(r-=Ve-n)}return o.e=r,o.d=l,o}function FA(e){return Le(e=new this(e),e.e+1,this.rounding)}function CA(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function SA(e){return new this(e).sin()}function BA(e){return new this(e).sinh()}function OA(e){return new this(e).sqrt()}function MA(e,t){return new this(e).sub(t)}function PA(){var e=0,t=arguments,r=new this(t[e]);for(He=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return He=!0,Le(r,this.precision,this.rounding)}function xA(e){return new this(e).tan()}function IA(e){return new this(e).tanh()}function TA(e){return Le(e=new this(e),e.e+1,1)}ge[Symbol.for("nodejs.util.inspect.custom")]=ge.toString;ge[Symbol.toStringTag]="Decimal";var pu=ge.constructor=qd(xl);es=new pu(es);ts=new pu(ts);var NA="BigNumber",kA=["?on","config"],RA=Bt(NA,kA,e=>{var{on:t,config:r}=e,n=pu.clone({precision:r.precision,modulo:pu.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,a){u.precision!==a.precision&&n.config({precision:u.precision})}),n},{isClass:!0}),lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kl={},LA={get exports(){return kl},set exports(e){kl=e}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=Math.cosh||function(f){return Math.abs(f)<1e-9?1-f:(Math.exp(f)+Math.exp(-f))*.5},u=Math.sinh||function(f){return Math.abs(f)<1e-9?f:(Math.exp(f)-Math.exp(-f))*.5},a=function(f){var c=Math.PI/4;if(-c>f||f>c)return Math.cos(f)-1;var m=f*f;return m*(m*(m*(m*(m*(m*(m*(m/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(f,c){var m=Math.abs(f),b=Math.abs(c);return m<3e3&&b<3e3?Math.sqrt(m*m+b*b):(m<b?(m=b,b=f/c):b=c/f,m*Math.sqrt(1+b*b))},l=function(){throw SyntaxError("Invalid Param")};function d(f,c){var m=Math.abs(f),b=Math.abs(c);return f===0?Math.log(b):c===0?Math.log(m):m<3e3&&b<3e3?Math.log(f*f+c*c)*.5:(f=f/2,c=c/2,.5*Math.log(f*f+c*c)+Math.LN2)}var p=function(f,c){var m={re:0,im:0};if(f==null)m.re=m.im=0;else if(c!==void 0)m.re=f,m.im=c;else switch(typeof f){case"object":if("im"in f&&"re"in f)m.re=f.re,m.im=f.im;else if("abs"in f&&"arg"in f){if(!Number.isFinite(f.abs)&&Number.isFinite(f.arg))return h.INFINITY;m.re=f.abs*Math.cos(f.arg),m.im=f.abs*Math.sin(f.arg)}else if("r"in f&&"phi"in f){if(!Number.isFinite(f.r)&&Number.isFinite(f.phi))return h.INFINITY;m.re=f.r*Math.cos(f.phi),m.im=f.r*Math.sin(f.phi)}else f.length===2?(m.re=f[0],m.im=f[1]):l();break;case"string":m.im=m.re=0;var b=f.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,D=0;b===null&&l();for(var y=0;y<b.length;y++){var C=b[y];C===" "||C==="	"||C===`
`||(C==="+"?g++:C==="-"?D++:C==="i"||C==="I"?(g+D===0&&l(),b[y+1]!==" "&&!isNaN(b[y+1])?(m.im+=parseFloat((D%2?"-":"")+b[y+1]),y++):m.im+=parseFloat((D%2?"-":"")+"1"),g=D=0):((g+D===0||isNaN(C))&&l(),b[y+1]==="i"||b[y+1]==="I"?(m.im+=parseFloat((D%2?"-":"")+C),y++):m.re+=parseFloat((D%2?"-":"")+C),g=D=0))}g+D>0&&l();break;case"number":m.im=0,m.re=f;break;default:l()}return isNaN(m.re)||isNaN(m.im),m};function h(f,c){if(!(this instanceof h))return new h(f,c);var m=p(f,c);this.re=m.re,this.im=m.im}h.prototype={re:0,im:0,sign:function(){var f=this.abs();return new h(this.re/f,this.im/f)},add:function(f,c){var m=new h(f,c);return this.isInfinite()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:new h(this.re+m.re,this.im+m.im)},sub:function(f,c){var m=new h(f,c);return this.isInfinite()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:new h(this.re-m.re,this.im-m.im)},mul:function(f,c){var m=new h(f,c);return this.isInfinite()&&m.isZero()||this.isZero()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:m.im===0&&this.im===0?new h(this.re*m.re,0):new h(this.re*m.re-this.im*m.im,this.re*m.im+this.im*m.re)},div:function(f,c){var m=new h(f,c);if(this.isZero()&&m.isZero()||this.isInfinite()&&m.isInfinite())return h.NAN;if(this.isInfinite()||m.isZero())return h.INFINITY;if(this.isZero()||m.isInfinite())return h.ZERO;f=this.re,c=this.im;var b=m.re,g=m.im,D,y;return g===0?new h(f/b,c/b):Math.abs(b)<Math.abs(g)?(y=b/g,D=b*y+g,new h((f*y+c)/D,(c*y-f)/D)):(y=g/b,D=g*y+b,new h((f+c*y)/D,(c-f*y)/D))},pow:function(f,c){var m=new h(f,c);if(f=this.re,c=this.im,m.isZero())return h.ONE;if(m.im===0){if(c===0&&f>0)return new h(Math.pow(f,m.re),0);if(f===0)switch((m.re%4+4)%4){case 0:return new h(Math.pow(c,m.re),0);case 1:return new h(0,Math.pow(c,m.re));case 2:return new h(-Math.pow(c,m.re),0);case 3:return new h(0,-Math.pow(c,m.re))}}if(f===0&&c===0&&m.re>0&&m.im>=0)return h.ZERO;var b=Math.atan2(c,f),g=d(f,c);return f=Math.exp(m.re*g-m.im*b),c=m.im*g+m.re*b,new h(f*Math.cos(c),f*Math.sin(c))},sqrt:function(){var f=this.re,c=this.im,m=this.abs(),b,g;if(f>=0){if(c===0)return new h(Math.sqrt(f),0);b=.5*Math.sqrt(2*(m+f))}else b=Math.abs(c)/Math.sqrt(2*(m-f));return f<=0?g=.5*Math.sqrt(2*(m-f)):g=Math.abs(c)/Math.sqrt(2*(m+f)),new h(b,c<0?-g:g)},exp:function(){var f=Math.exp(this.re);return this.im,new h(f*Math.cos(this.im),f*Math.sin(this.im))},expm1:function(){var f=this.re,c=this.im;return new h(Math.expm1(f)*Math.cos(c)+a(c),Math.exp(f)*Math.sin(c))},log:function(){var f=this.re,c=this.im;return new h(d(f,c),Math.atan2(c,f))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var f=this.re,c=this.im;return new h(Math.sin(f)*n(c),Math.cos(f)*u(c))},cos:function(){var f=this.re,c=this.im;return new h(Math.cos(f)*n(c),-Math.sin(f)*u(c))},tan:function(){var f=2*this.re,c=2*this.im,m=Math.cos(f)+n(c);return new h(Math.sin(f)/m,u(c)/m)},cot:function(){var f=2*this.re,c=2*this.im,m=Math.cos(f)-n(c);return new h(-Math.sin(f)/m,u(c)/m)},sec:function(){var f=this.re,c=this.im,m=.5*n(2*c)+.5*Math.cos(2*f);return new h(Math.cos(f)*n(c)/m,Math.sin(f)*u(c)/m)},csc:function(){var f=this.re,c=this.im,m=.5*n(2*c)-.5*Math.cos(2*f);return new h(Math.sin(f)*n(c)/m,-Math.cos(f)*u(c)/m)},asin:function(){var f=this.re,c=this.im,m=new h(c*c-f*f+1,-2*f*c).sqrt(),b=new h(m.re-c,m.im+f).log();return new h(b.im,-b.re)},acos:function(){var f=this.re,c=this.im,m=new h(c*c-f*f+1,-2*f*c).sqrt(),b=new h(m.re-c,m.im+f).log();return new h(Math.PI/2-b.im,b.re)},atan:function(){var f=this.re,c=this.im;if(f===0){if(c===1)return new h(0,1/0);if(c===-1)return new h(0,-1/0)}var m=f*f+(1-c)*(1-c),b=new h((1-c*c-f*f)/m,-2*f/m).log();return new h(-.5*b.im,.5*b.re)},acot:function(){var f=this.re,c=this.im;if(c===0)return new h(Math.atan2(1,f),0);var m=f*f+c*c;return m!==0?new h(f/m,-c/m).atan():new h(f!==0?f/0:0,c!==0?-c/0:0).atan()},asec:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(0,1/0);var m=f*f+c*c;return m!==0?new h(f/m,-c/m).acos():new h(f!==0?f/0:0,c!==0?-c/0:0).acos()},acsc:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(Math.PI/2,1/0);var m=f*f+c*c;return m!==0?new h(f/m,-c/m).asin():new h(f!==0?f/0:0,c!==0?-c/0:0).asin()},sinh:function(){var f=this.re,c=this.im;return new h(u(f)*Math.cos(c),n(f)*Math.sin(c))},cosh:function(){var f=this.re,c=this.im;return new h(n(f)*Math.cos(c),u(f)*Math.sin(c))},tanh:function(){var f=2*this.re,c=2*this.im,m=n(f)+Math.cos(c);return new h(u(f)/m,Math.sin(c)/m)},coth:function(){var f=2*this.re,c=2*this.im,m=n(f)-Math.cos(c);return new h(u(f)/m,-Math.sin(c)/m)},csch:function(){var f=this.re,c=this.im,m=Math.cos(2*c)-n(2*f);return new h(-2*u(f)*Math.cos(c)/m,2*n(f)*Math.sin(c)/m)},sech:function(){var f=this.re,c=this.im,m=Math.cos(2*c)+n(2*f);return new h(2*n(f)*Math.cos(c)/m,-2*u(f)*Math.sin(c)/m)},asinh:function(){var f=this.im;this.im=-this.re,this.re=f;var c=this.asin();return this.re=-this.im,this.im=f,f=c.re,c.re=-c.im,c.im=f,c},acosh:function(){var f=this.acos();if(f.im<=0){var c=f.re;f.re=-f.im,f.im=c}else{var c=f.im;f.im=-f.re,f.re=c}return f},atanh:function(){var f=this.re,c=this.im,m=f>1&&c===0,b=1-f,g=1+f,D=b*b+c*c,y=D!==0?new h((g*b-c*c)/D,(c*b+g*c)/D):new h(f!==-1?f/0:0,c!==0?c/0:0),C=y.re;return y.re=d(y.re,y.im)/2,y.im=Math.atan2(y.im,C)/2,m&&(y.im=-y.im),y},acoth:function(){var f=this.re,c=this.im;if(f===0&&c===0)return new h(0,Math.PI/2);var m=f*f+c*c;return m!==0?new h(f/m,-c/m).atanh():new h(f!==0?f/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var f=this.re,c=this.im;if(c===0)return new h(f!==0?Math.log(f+Math.sqrt(f*f+1)):1/0,0);var m=f*f+c*c;return m!==0?new h(f/m,-c/m).asinh():new h(f!==0?f/0:0,c!==0?-c/0:0).asinh()},asech:function(){var f=this.re,c=this.im;if(this.isZero())return h.INFINITY;var m=f*f+c*c;return m!==0?new h(f/m,-c/m).acosh():new h(f!==0?f/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var f=this.re,c=this.im,m=f*f+c*c;return new h(f/m,-c/m)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(f){return f=Math.pow(10,f||0),new h(Math.ceil(this.re*f)/f,Math.ceil(this.im*f)/f)},floor:function(f){return f=Math.pow(10,f||0),new h(Math.floor(this.re*f)/f,Math.floor(this.im*f)/f)},round:function(f){return f=Math.pow(10,f||0),new h(Math.round(this.re*f)/f,Math.round(this.im*f)/f)},equals:function(f,c){var m=new h(f,c);return Math.abs(m.re-this.re)<=h.EPSILON&&Math.abs(m.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var f=this.re,c=this.im,m="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(f)<h.EPSILON&&(f=0),Math.abs(c)<h.EPSILON&&(c=0),c===0?m+f:(f!==0?(m+=f,m+=" ",c<0?(c=-c,m+="-"):m+="+",m+=" "):c<0&&(c=-c,m+="-"),c!==1&&(m+=c),m+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-15,Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Complex=h,e.exports=h})()})(LA);const Fr=ef(kl);var UA="Complex",jA=[],VA=Bt(UA,jA,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(e){var t="",r=this.im,n=this.re,u=Ol(this.re,e),a=Ol(this.im,e),o=Xt(e)?e:e?e.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(n/r)<l&&(n=0),Math.abs(r/n)<l&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=u+" - i":t=u+" - "+a.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+a+"i",t},Fr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Fr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Xt(r)){if(yd(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Xt(n))return new Fr({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(e){return new Fr(e)},Fr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Fr),{isClass:!0}),Rl={},qA={get exports(){return Rl},set exports(e){Rl=e}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=2e3,u={s:1,n:0,d:1};function a(b,g){if(isNaN(b=parseInt(b,10)))throw m.InvalidParameter;return b*g}function o(b,g){if(g===0)throw m.DivisionByZero;var D=Object.create(m.prototype);D.s=b<0?-1:1,b=b<0?-b:b;var y=c(b,g);return D.n=b/y,D.d=g/y,D}function l(b){for(var g={},D=b,y=2,C=4;C<=D;){for(;D%y===0;)D/=y,g[y]=(g[y]||0)+1;C+=1+2*y++}return D!==b?D>1&&(g[D]=(g[D]||0)+1):g[b]=(g[b]||0)+1,g}var d=function(b,g){var D=0,y=1,C=1,w=0,B=0,F=0,O=1,P=1,I=0,N=1,G=1,H=1,Y=1e7,q;if(b!=null)if(g!==void 0){if(D=b,y=g,C=D*y,D%1!==0||y%1!==0)throw m.NonIntegerParameter}else switch(typeof b){case"object":{if("d"in b&&"n"in b)D=b.n,y=b.d,"s"in b&&(D*=b.s);else if(0 in b)D=b[0],1 in b&&(y=b[1]);else throw m.InvalidParameter;C=D*y;break}case"number":{if(b<0&&(C=b,b=-b),b%1===0)D=b;else if(b>0){for(b>=1&&(P=Math.pow(10,Math.floor(1+Math.log(b)/Math.LN10)),b/=P);N<=Y&&H<=Y;)if(q=(I+G)/(N+H),b===q){N+H<=Y?(D=I+G,y=N+H):H>N?(D=G,y=H):(D=I,y=N);break}else b>q?(I+=G,N+=H):(G+=I,H+=N),N>Y?(D=G,y=H):(D=I,y=N);D*=P}else(isNaN(b)||isNaN(g))&&(y=D=NaN);break}case"string":{if(N=b.match(/\d+|./g),N===null)throw m.InvalidParameter;if(N[I]==="-"?(C=-1,I++):N[I]==="+"&&I++,N.length===I+1?B=a(N[I++],C):N[I+1]==="."||N[I]==="."?(N[I]!=="."&&(w=a(N[I++],C)),I++,(I+1===N.length||N[I+1]==="("&&N[I+3]===")"||N[I+1]==="'"&&N[I+3]==="'")&&(B=a(N[I],C),O=Math.pow(10,N[I].length),I++),(N[I]==="("&&N[I+2]===")"||N[I]==="'"&&N[I+2]==="'")&&(F=a(N[I+1],C),P=Math.pow(10,N[I+1].length)-1,I+=3)):N[I+1]==="/"||N[I+1]===":"?(B=a(N[I],C),O=a(N[I+2],1),I+=3):N[I+3]==="/"&&N[I+1]===" "&&(w=a(N[I],C),B=a(N[I+2],C),O=a(N[I+4],1),I+=5),N.length<=I){y=O*P,C=D=F+y*w+P*B;break}}default:throw m.InvalidParameter}if(y===0)throw m.DivisionByZero;u.s=C<0?-1:1,u.n=Math.abs(D),u.d=Math.abs(y)};function p(b,g,D){for(var y=1;g>0;b=b*b%D,g>>=1)g&1&&(y=y*b%D);return y}function h(b,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var D=10%g,y=1;D!==1;y++)if(D=D*10%g,y>n)return 0;return y}function f(b,g,D){for(var y=1,C=p(10,D,g),w=0;w<300;w++){if(y===C)return w;y=y*10%g,C=C*10%g}return 0}function c(b,g){if(!b)return g;if(!g)return b;for(;;){if(b%=g,!b)return g;if(g%=b,!g)return b}}function m(b,g){if(d(b,g),this instanceof m)b=c(u.d,u.n),this.s=u.s,this.n=u.n/b,this.d=u.d/b;else return o(u.s*u.n,u.d)}m.DivisionByZero=new Error("Division by Zero"),m.InvalidParameter=new Error("Invalid argument"),m.NonIntegerParameter=new Error("Parameters must be integer"),m.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(b,g){return d(b,g),o(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(b,g){return d(b,g),o(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(b,g){return d(b,g),o(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(b,g){return d(b,g),o(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(b,g){if(isNaN(this.n)||isNaN(this.d))return new m(NaN);if(b===void 0)return o(this.s*this.n%this.d,1);if(d(b,g),u.n===0&&this.d===0)throw m.DivisionByZero;return o(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(b,g){return d(b,g),o(c(u.n,this.n)*c(u.d,this.d),u.d*this.d)},lcm:function(b,g){return d(b,g),u.n===0&&this.n===0?o(0,1):o(u.n*this.n,c(u.n,this.n)*c(u.d,this.d))},ceil:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):o(Math.ceil(b*this.s*this.n/this.d),b)},floor:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):o(Math.floor(b*this.s*this.n/this.d),b)},round:function(b){return b=Math.pow(10,b||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):o(Math.round(b*this.s*this.n/this.d),b)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(b,g){if(d(b,g),u.d===1)return u.s<0?o(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):o(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var D=l(this.n),y=l(this.d),C=1,w=1;for(var B in D)if(B!=="1"){if(B==="0"){C=0;break}if(D[B]*=u.n,D[B]%u.d===0)D[B]/=u.d;else return null;C*=Math.pow(B,D[B])}for(var B in y)if(B!=="1"){if(y[B]*=u.n,y[B]%u.d===0)y[B]/=u.d;else return null;w*=Math.pow(B,y[B])}return u.s<0?o(w,C):o(C,w)},equals:function(b,g){return d(b,g),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(b,g){d(b,g);var D=this.s*this.n*u.d-u.s*u.n*this.d;return(0<D)-(D<0)},simplify:function(b){if(isNaN(this.n)||isNaN(this.d))return this;b=b||.001;for(var g=this.abs(),D=g.toContinued(),y=1;y<D.length;y++){for(var C=o(D[y-1],1),w=y-2;w>=0;w--)C=C.inverse().add(D[w]);if(C.sub(g).abs().valueOf()<b)return C.mul(this.s)}return this},divisible:function(b,g){return d(b,g),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(b){var g,D="",y=this.n,C=this.d;return this.s<0&&(D+="-"),C===1?D+=y:(b&&(g=Math.floor(y/C))>0&&(D+=g,D+=" ",y%=C),D+=y,D+="/",D+=C),D},toLatex:function(b){var g,D="",y=this.n,C=this.d;return this.s<0&&(D+="-"),C===1?D+=y:(b&&(g=Math.floor(y/C))>0&&(D+=g,y%=C),D+="\\frac{",D+=y,D+="}{",D+=C,D+="}"),D},toContinued:function(){var b,g=this.n,D=this.d,y=[];if(isNaN(g)||isNaN(D))return y;do y.push(Math.floor(g/D)),b=g%D,g=D,D=b;while(g!==1);return y},toString:function(b){var g=this.n,D=this.d;if(isNaN(g)||isNaN(D))return"NaN";b=b||15;var y=h(g,D),C=f(g,D,y),w=this.s<0?"-":"";if(w+=g/D|0,g%=D,g*=10,g&&(w+="."),y){for(var B=C;B--;)w+=g/D|0,g%=D,g*=10;w+="(";for(var B=y;B--;)w+=g/D|0,g%=D,g*=10;w+=")"}else for(var B=b;g&&B--;)w+=g/D|0,g%=D,g*=10;return w}},Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,e.exports=m})()})(qA);const ti=ef(Rl);var zA="Fraction",WA=[],HA=Bt(zA,WA,()=>(Object.defineProperty(ti,"name",{value:"Fraction"}),ti.prototype.constructor=ti,ti.prototype.type="Fraction",ti.prototype.isFraction=!0,ti.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ti.fromJSON=function(e){return new ti(e)},ti),{isClass:!0}),GA="Matrix",YA=[],KA=Bt(GA,YA,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function zd(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var ZA="DenseMatrix",$A=["Matrix"],XA=Bt(ZA,$A,e=>{var{Matrix:t}=e;function r(h,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Ln(f))throw new Error("Invalid datatype: "+f);if(Rr(h))h.type==="DenseMatrix"?(this._data=_r(h._data),this._size=_r(h._size),this._datatype=f||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=f||h._datatype);else if(h&&Kt(h.data)&&Kt(h.size))this._data=h.data,this._size=h.size,T0(this._data,this._size),this._datatype=f||h.datatype;else if(Kt(h))this._data=p(h),this._size=Ai(this._data),T0(this._data,this._size),this._datatype=f;else{if(h)throw new TypeError("Unsupported type of data ("+Ku(h)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new t,r.prototype.createDenseMatrix=function(h,f){return new r(h,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Qa(this._data,Ku)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(h,f){return new r(h,f)},r.prototype.subset=function(h,f,c){switch(arguments.length){case 1:return n(this,h);case 2:case 3:return a(this,h,f,c);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(h){if(!Kt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Ct(h.length,this._size.length);for(var f=0;f<h.length;f++)Zt(h[f],this._size[f]);for(var c=this._data,m=0,b=h.length;m<b;m++){var g=h[m];Zt(g,c.length),c=c[g]}return c},r.prototype.set=function(h,f,c){if(!Kt(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new Ct(h.length,this._size.length,"<");var m,b,g,D=h.map(function(C){return C+1});d(this,D,c);var y=this._data;for(m=0,b=h.length-1;m<b;m++)g=h[m],Zt(g,y.length),y=y[g];return g=h[h.length-1],Zt(g,y.length),y[g]=f,this};function n(h,f){if(!Xl(f))throw new TypeError("Invalid index");var c=f.isScalar();if(c)return h.get(f.min());var m=f.size();if(m.length!==h._size.length)throw new Ct(m.length,h._size.length);for(var b=f.min(),g=f.max(),D=0,y=h._size.length;D<y;D++)Zt(b[D],h._size[D]),Zt(g[D],h._size[D]);return new r(u(h._data,f,m.length,0),h._datatype)}function u(h,f,c,m){var b=m===c-1,g=f.dimension(m);return b?g.map(function(D){return Zt(D,h.length),h[D]}).valueOf():g.map(function(D){Zt(D,h.length);var y=h[D];return u(y,f,c,m+1)}).valueOf()}function a(h,f,c,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var b=f.size(),g=f.isScalar(),D;if(Rr(c)?(D=c.size(),c=c.valueOf()):D=Ai(c),g){if(D.length!==0)throw new TypeError("Scalar expected");h.set(f.min(),c,m)}else{if(b.length<h._size.length)throw new Ct(b.length,h._size.length,"<");if(D.length<b.length){for(var y=0,C=0;b[y]===1&&D[y]===1;)y++;for(;b[y]===1;)C++,y++;c=Sd(c,b.length,C,D)}if(!Xa(b,D))throw new Ct(b,D,">");var w=f.max().map(function(O){return O+1});d(h,w,m);var B=b.length,F=0;o(h._data,f,c,B,F)}return h}function o(h,f,c,m,b){var g=b===m-1,D=f.dimension(b);g?D.forEach(function(y,C){Zt(y),h[y]=c[C[0]]}):D.forEach(function(y,C){Zt(y),o(h[y],f,c[C[0]],m,b+1)})}r.prototype.resize=function(h,f,c){if(!$a(h))throw new TypeError("Array or Matrix expected");var m=h.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),b=c?this.clone():this;return l(b,m,f)};function l(h,f,c){if(f.length===0){for(var m=h._data;Kt(m);)m=m[0];return m}return h._size=f.slice(0),h._data=N0(h._data,h._size,c),h}r.prototype.reshape=function(h,f){var c=f?this.clone():this;c._data=Fb(c._data,h);var m=c._size.reduce((b,g)=>b*g);return c._size=Jl(h,m),c};function d(h,f,c){for(var m=h._size.slice(0),b=!1;m.length<f.length;)m.push(0),b=!0;for(var g=0,D=f.length;g<D;g++)f[g]>m[g]&&(m[g]=f[g],b=!0);b&&l(h,m,c)}r.prototype.clone=function(){var h=new r({data:_r(this._data),size:_r(this._size),datatype:this._datatype});return h},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(h){var f=this,c=zd(h),m=function D(y,C){return Kt(y)?y.map(function(w,B){return D(w,C.concat(B))}):c===1?h(y):c===2?h(y,C):h(y,C,f)},b=m(this._data,[]),g=this._datatype!==void 0?Qa(b,Ku):void 0;return new r(b,g)},r.prototype.forEach=function(h){var f=this,c=function m(b,g){Kt(b)?b.forEach(function(D,y){m(D,g.concat(y))}):h(b,g,f)};c(this._data,[])},r.prototype[Symbol.iterator]=function*(){var h=function*f(c,m){if(Kt(c))for(var b=0;b<c.length;b++)yield*f(c[b],m.concat(b));else yield{value:c,index:m}};yield*h(this._data,[])},r.prototype.rows=function(){var h=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var m of c)h.push(new r([m],this._datatype));return h},r.prototype.columns=function(){var h=this,f=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,b=function(y){var C=m.map(w=>[w[y]]);f.push(new r(C,h._datatype))},g=0;g<c[1];g++)b(g);return f},r.prototype.toArray=function(){return _r(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(h){return zr(this._data,h)},r.prototype.toString=function(){return zr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(h){if(h){if(pn(h)&&(h=h.toNumber()),!Xt(h)||!yr(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var f=h>0?h:0,c=h<0?-h:0,m=this._size[0],b=this._size[1],g=Math.min(m-c,b-f),D=[],y=0;y<g;y++)D[y]=this._data[y+c][y+f];return new r({data:D,size:[g],datatype:this._datatype})},r.diagonal=function(h,f,c,m){if(!Kt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(P){if(pn(P)&&(P=P.toNumber()),!Xt(P)||!yr(P)||P<1)throw new Error("Size values must be positive integers");return P}),c){if(pn(c)&&(c=c.toNumber()),!Xt(c)||!yr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var b=c>0?c:0,g=c<0?-c:0,D=h[0],y=h[1],C=Math.min(D-g,y-b),w;if(Kt(f)){if(f.length!==C)throw new Error("Invalid value array length");w=function(I){return f[I]}}else if(Rr(f)){var B=f.size();if(B.length!==1||B[0]!==C)throw new Error("Invalid matrix length");w=function(I){return f.get([I])}}else w=function(){return f};m||(m=pn(w(0))?w(0).mul(0):0);var F=[];if(h.length>0){F=N0(F,h,m);for(var O=0;O<C;O++)F[O+g][O+b]=w(O)}return new r({data:F,size:[D,y]})},r.fromJSON=function(h){return new r(h)},r.prototype.swapRows=function(h,f){if(!Xt(h)||!yr(h)||!Xt(f)||!yr(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Zt(h,this._size[0]),Zt(f,this._size[0]),r._swapRows(h,f,this._data),this},r._swapRows=function(h,f,c){var m=c[h];c[h]=c[f],c[f]=m};function p(h){for(var f=0,c=h.length;f<c;f++){var m=h[f];Kt(m)?h[f]=p(m):m&&m.isMatrix===!0&&(h[f]=p(m.valueOf()))}return h}return r},{isClass:!0});function tf(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return tf(n,t)}):t(e)}var U0="isInteger",JA=["typed"],QA=Bt(U0,JA,e=>{var{typed:t}=e;return t(U0,{number:yr,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":t.referToSelf(r=>n=>tf(n,r))})}),Wd="number, number";function Hd(e,t){return e+t}Hd.signature=Wd;function Gd(e,t){return e*t}Gd.signature=Wd;function ew(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var u=e.constructor.max(e.abs(),t.abs());return n.lte(u.times(r))}return!1}function tw(e,t,r){return Ja(e.re,t.re,r)&&Ja(e.im,t.im,r)}var rw=Bt("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),ns="equalScalar",nw=["typed","config"],iw=Bt(ns,nw,e=>{var{typed:t,config:r}=e,n=rw({typed:t});return t(ns,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Ja(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||ew(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return tw(a,o,r.epsilon)}},n)});Bt(ns,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ns,{"number, number":function(u,a){return Ja(u,a,r.epsilon)}})});var uw="SparseMatrix",aw=["typed","equalScalar","Matrix"],sw=Bt(uw,aw,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(g,D){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!Ln(D))throw new Error("Invalid datatype: "+D);if(Rr(g))a(this,g,D);else if(g&&Kt(g.index)&&Kt(g.ptr)&&Kt(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=D||g.datatype;else if(Kt(g))o(this,g,D);else{if(g)throw new TypeError("Unsupported type of data ("+Ku(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function a(g,D,y){D.type==="SparseMatrix"?(g._values=D._values?_r(D._values):void 0,g._index=_r(D._index),g._ptr=_r(D._ptr),g._size=_r(D._size),g._datatype=y||D._datatype):o(g,D.valueOf(),y||D._datatype)}function o(g,D,y){g._values=[],g._index=[],g._ptr=[],g._datatype=y;var C=D.length,w=0,B=r,F=0;if(Ln(y)&&(B=t.find(r,[y,y])||r,F=t.convert(0,y)),C>0){var O=0;do{g._ptr.push(g._index.length);for(var P=0;P<C;P++){var I=D[P];if(Kt(I)){if(O===0&&w<I.length&&(w=I.length),O<I.length){var N=I[O];B(N,F)||(g._values.push(N),g._index.push(P))}}else O===0&&w<1&&(w=1),B(I,F)||(g._values.push(I),g._index.push(P))}O++}while(O<w)}g._ptr.push(g._index.length),g._size=[C,w]}u.prototype=new n,u.prototype.createSparseMatrix=function(g,D){return new u(g,D)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Qa(this._values,Ku)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(g,D){return new u(g,D)},u.prototype.density=function(){var g=this._size[0],D=this._size[1];return g!==0&&D!==0?this._index.length/(g*D):0},u.prototype.subset=function(g,D,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,g);case 2:case 3:return d(this,g,D,y);default:throw new SyntaxError("Wrong number of arguments")}};function l(g,D){if(!Xl(D))throw new TypeError("Invalid index");var y=D.isScalar();if(y)return g.get(D.min());var C=D.size();if(C.length!==g._size.length)throw new Ct(C.length,g._size.length);var w,B,F,O,P=D.min(),I=D.max();for(w=0,B=g._size.length;w<B;w++)Zt(P[w],g._size[w]),Zt(I[w],g._size[w]);var N=g._values,G=g._index,H=g._ptr,Y=D.dimension(0),q=D.dimension(1),W=[],R=[];Y.forEach(function(he,De){R[he]=De[0],W[he]=!0});var z=N?[]:void 0,ee=[],ue=[];return q.forEach(function(he){for(ue.push(ee.length),F=H[he],O=H[he+1];F<O;F++)w=G[F],W[w]===!0&&(ee.push(R[w]),z&&z.push(N[F]))}),ue.push(ee.length),new u({values:z,index:ee,ptr:ue,size:C,datatype:g._datatype})}function d(g,D,y,C){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var w=D.size(),B=D.isScalar(),F;if(Rr(y)?(F=y.size(),y=y.toArray()):F=Ai(y),B){if(F.length!==0)throw new TypeError("Scalar expected");g.set(D.min(),y,C)}else{if(w.length!==1&&w.length!==2)throw new Ct(w.length,g._size.length,"<");if(F.length<w.length){for(var O=0,P=0;w[O]===1&&F[O]===1;)O++;for(;w[O]===1;)P++,O++;y=Sd(y,w.length,P,F)}if(!Xa(w,F))throw new Ct(w,F,">");if(w.length===1){var I=D.dimension(0);I.forEach(function(H,Y){Zt(H),g.set([H,0],y[Y[0]],C)})}else{var N=D.dimension(0),G=D.dimension(1);N.forEach(function(H,Y){Zt(H),G.forEach(function(q,W){Zt(q),g.set([H,q],y[Y[0]][W[0]],C)})})}}return g}u.prototype.get=function(g){if(!Kt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Ct(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=g[0],y=g[1];Zt(D,this._size[0]),Zt(y,this._size[1]);var C=p(D,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===D?this._values[C]:0},u.prototype.set=function(g,D,y){if(!Kt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Ct(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=g[0],w=g[1],B=this._size[0],F=this._size[1],O=r,P=0;Ln(this._datatype)&&(O=t.find(r,[this._datatype,this._datatype])||r,P=t.convert(0,this._datatype)),(C>B-1||w>F-1)&&(c(this,Math.max(C+1,B),Math.max(w+1,F),y),B=this._size[0],F=this._size[1]),Zt(C,B),Zt(w,F);var I=p(C,this._ptr[w],this._ptr[w+1],this._index);return I<this._ptr[w+1]&&this._index[I]===C?O(D,P)?h(I,w,this._values,this._index,this._ptr):this._values[I]=D:O(D,P)||f(I,C,w,D,this._values,this._index,this._ptr),this};function p(g,D,y,C){if(y-D===0)return y;for(var w=D;w<y;w++)if(C[w]===g)return w;return D}function h(g,D,y,C,w){y.splice(g,1),C.splice(g,1);for(var B=D+1;B<w.length;B++)w[B]--}function f(g,D,y,C,w,B,F){w.splice(g,0,C),B.splice(g,0,D);for(var O=y+1;O<F.length;O++)F[O]++}u.prototype.resize=function(g,D,y){if(!$a(g))throw new TypeError("Array or Matrix expected");var C=g.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(B){if(!Xt(B)||!yr(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+zr(C)+")")});var w=y?this.clone():this;return c(w,C[0],C[1],D)};function c(g,D,y,C){var w=C||0,B=r,F=0;Ln(g._datatype)&&(B=t.find(r,[g._datatype,g._datatype])||r,F=t.convert(0,g._datatype),w=t.convert(w,g._datatype));var O=!B(w,F),P=g._size[0],I=g._size[1],N,G,H;if(y>I){for(G=I;G<y;G++)if(g._ptr[G]=g._values.length,O)for(N=0;N<P;N++)g._values.push(w),g._index.push(N);g._ptr[y]=g._values.length}else y<I&&(g._ptr.splice(y+1,I-y),g._values.splice(g._ptr[y],g._values.length),g._index.splice(g._ptr[y],g._index.length));if(I=y,D>P){if(O){var Y=0;for(G=0;G<I;G++){g._ptr[G]=g._ptr[G]+Y,H=g._ptr[G+1]+Y;var q=0;for(N=P;N<D;N++,q++)g._values.splice(H+q,0,w),g._index.splice(H+q,0,N),Y++}g._ptr[I]=g._values.length}}else if(D<P){var W=0;for(G=0;G<I;G++){g._ptr[G]=g._ptr[G]-W;var R=g._ptr[G],z=g._ptr[G+1]-W;for(H=R;H<z;H++)N=g._index[H],N>D-1&&(g._values.splice(H,1),g._index.splice(H,1),W++)}g._ptr[G]=g._values.length}return g._size[0]=D,g._size[1]=y,g}u.prototype.reshape=function(g,D){if(!Kt(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(he){if(!Xt(he)||!yr(he)||he<=-2||he===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+zr(g)+")")});var y=this._size[0]*this._size[1];g=Jl(g,y);var C=g[0]*g[1];if(y!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=D?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return w;for(var B=[],F=0;F<w._ptr.length;F++)for(var O=0;O<w._ptr[F+1]-w._ptr[F];O++)B.push(F);for(var P=w._values.slice(),I=w._index.slice(),N=0;N<w._index.length;N++){var G=I[N],H=B[N],Y=G*w._size[1]+H;B[N]=Y%g[1],I[N]=Math.floor(Y/g[1])}w._values.length=0,w._index.length=0,w._ptr.length=g[1]+1,w._size=g.slice();for(var q=0;q<w._ptr.length;q++)w._ptr[q]=0;for(var W=0;W<P.length;W++){var R=I[W],z=B[W],ee=P[W],ue=p(R,w._ptr[z],w._ptr[z+1],w._index);f(ue,R,z,ee,w._values,w._index,w._ptr)}return w},u.prototype.clone=function(){var g=new u({values:this._values?_r(this._values):void 0,index:_r(this._index),ptr:_r(this._ptr),size:_r(this._size),datatype:this._datatype});return g},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(g,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,C=this._size[0],w=this._size[1],B=zd(g),F=function(P,I,N){return B===1?g(P):B===2?g(P,[I,N]):g(P,[I,N],y)};return m(this,0,C-1,0,w-1,F,D)};function m(g,D,y,C,w,B,F){var O=[],P=[],I=[],N=r,G=0;Ln(g._datatype)&&(N=t.find(r,[g._datatype,g._datatype])||r,G=t.convert(0,g._datatype));for(var H=function(ye,xe,ke){ye=B(ye,xe,ke),N(ye,G)||(O.push(ye),P.push(xe))},Y=C;Y<=w;Y++){I.push(O.length);var q=g._ptr[Y],W=g._ptr[Y+1];if(F)for(var R=q;R<W;R++){var z=g._index[R];z>=D&&z<=y&&H(g._values[R],z-D,Y-C)}else{for(var ee={},ue=q;ue<W;ue++){var he=g._index[ue];ee[he]=g._values[ue]}for(var De=D;De<=y;De++){var be=De in ee?ee[De]:0;H(be,De-D,Y-C)}}}return I.push(O.length),new u({values:O,index:P,ptr:I,size:[y-D+1,w-C+1]})}u.prototype.forEach=function(g,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,C=this._size[0],w=this._size[1],B=0;B<w;B++){var F=this._ptr[B],O=this._ptr[B+1];if(D)for(var P=F;P<O;P++){var I=this._index[P];g(this._values[P],[I,B],y)}else{for(var N={},G=F;G<O;G++){var H=this._index[G];N[H]=this._values[G]}for(var Y=0;Y<C;Y++){var q=Y in N?N[Y]:0;g(q,[Y,B],y)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],D=0;D<g;D++)for(var y=this._ptr[D],C=this._ptr[D+1],w=y;w<C;w++){var B=this._index[w];yield{value:this._values[w],index:[B,D]}}},u.prototype.toArray=function(){return b(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return b(this._values,this._index,this._ptr,this._size,!1)};function b(g,D,y,C,w){var B=C[0],F=C[1],O=[],P,I;for(P=0;P<B;P++)for(O[P]=[],I=0;I<F;I++)O[P][I]=0;for(I=0;I<F;I++)for(var N=y[I],G=y[I+1],H=N;H<G;H++)P=D[H],O[P][I]=g?w?_r(g[H]):g[H]:1;return O}return u.prototype.format=function(g){for(var D=this._size[0],y=this._size[1],C=this.density(),w="Sparse Matrix ["+zr(D,g)+" x "+zr(y,g)+"] density: "+zr(C,g)+`
`,B=0;B<y;B++)for(var F=this._ptr[B],O=this._ptr[B+1],P=F;P<O;P++){var I=this._index[P];w+=`
    (`+zr(I,g)+", "+zr(B,g)+") ==> "+(this._values?zr(this._values[P],g):"X")}return w},u.prototype.toString=function(){return zr(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(g){if(g){if(pn(g)&&(g=g.toNumber()),!Xt(g)||!yr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var D=g>0?g:0,y=g<0?-g:0,C=this._size[0],w=this._size[1],B=Math.min(C-y,w-D),F=[],O=[],P=[];P[0]=0;for(var I=D;I<w&&F.length<B;I++)for(var N=this._ptr[I],G=this._ptr[I+1],H=N;H<G;H++){var Y=this._index[H];if(Y===I-D+y){F.push(this._values[H]),O[F.length-1]=Y-y;break}}return P.push(F.length),new u({values:F,index:O,ptr:P,size:[B,1]})},u.fromJSON=function(g){return new u(g)},u.diagonal=function(g,D,y,C,w){if(!Kt(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(he){if(pn(he)&&(he=he.toNumber()),!Xt(he)||!yr(he)||he<1)throw new Error("Size values must be positive integers");return he}),y){if(pn(y)&&(y=y.toNumber()),!Xt(y)||!yr(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var B=r,F=0;Ln(w)&&(B=t.find(r,[w,w])||r,F=t.convert(0,w));var O=y>0?y:0,P=y<0?-y:0,I=g[0],N=g[1],G=Math.min(I-P,N-O),H;if(Kt(D)){if(D.length!==G)throw new Error("Invalid value array length");H=function(De){return D[De]}}else if(Rr(D)){var Y=D.size();if(Y.length!==1||Y[0]!==G)throw new Error("Invalid matrix length");H=function(De){return D.get([De])}}else H=function(){return D};for(var q=[],W=[],R=[],z=0;z<N;z++){R.push(q.length);var ee=z-O;if(ee>=0&&ee<G){var ue=H(ee);B(ue,F)||(W.push(ee+P),q.push(ue))}}return R.push(q.length),new u({values:q,index:W,ptr:R,size:[I,N]})},u.prototype.swapRows=function(g,D){if(!Xt(g)||!yr(g)||!Xt(D)||!yr(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Zt(g,this._size[0]),Zt(D,this._size[0]),u._swapRows(g,D,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(g,D,y,C,w){for(var B=C[g],F=C[g+1],O=B;O<F;O++)w(y[O],D[O])},u._swapRows=function(g,D,y,C,w,B){for(var F=0;F<y;F++){var O=B[F],P=B[F+1],I=p(g,O,P,w),N=p(D,O,P,w);if(I<P&&N<P&&w[I]===g&&w[N]===D){if(C){var G=C[I];C[I]=C[N],C[N]=G}continue}if(I<P&&w[I]===g&&(N>=P||w[N]!==D)){var H=C?C[I]:void 0;w.splice(N,0,D),C&&C.splice(N,0,H),w.splice(N<=I?I+1:I,1),C&&C.splice(N<=I?I+1:I,1);continue}if(N<P&&w[N]===D&&(I>=P||w[I]!==g)){var Y=C?C[N]:void 0;w.splice(I,0,g),C&&C.splice(I,0,Y),w.splice(I<=N?N+1:N,1),C&&C.splice(I<=N?N+1:N,1)}}},u},{isClass:!0}),j0="matrix",ow=["typed","Matrix","DenseMatrix","SparseMatrix"],lw=Bt(j0,ow,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(j0,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,d){return a([],l,d)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,d){if(l==="dense"||l==="default"||l===void 0)return new n(o,d);if(l==="sparse")return new u(o,d);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),V0="addScalar",fw=["typed"],cw=Bt(V0,fw,e=>{var{typed:t}=e;return t(V0,{"number, number":Hd,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),u.valueType()])(a.value,u.value),a.fixPrefix=!1,a})})}),hw="matAlgo11xS0s",dw=["typed","equalScalar"],pw=Bt(hw,dw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,o,l){var d=u._values,p=u._index,h=u._ptr,f=u._size,c=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],b=f[1],g,D=r,y=0,C=o;typeof c=="string"&&(g=c,D=t.find(r,[g,g]),y=t.convert(0,g),a=t.convert(a,g),C=t.find(o,[g,g]));for(var w=[],B=[],F=[],O=0;O<b;O++){F[O]=B.length;for(var P=h[O],I=h[O+1],N=P;N<I;N++){var G=p[N],H=l?C(a,d[N]):C(d[N],a);D(H,y)||(B.push(G),w.push(H))}}return F[b]=B.length,u.createSparseMatrix({values:w,index:B,ptr:F,size:[m,b],datatype:g})}}),vw="matAlgo14xDs",gw=["typed"],Yd=Bt(vw,gw,e=>{var{typed:t}=e;return function(u,a,o,l){var d=u._data,p=u._size,h=u._datatype,f,c=o;typeof h=="string"&&(f=h,a=t.convert(a,f),c=t.find(o,[f,f]));var m=p.length>0?r(c,0,p,p[0],d,a,l):[];return u.createDenseMatrix({data:m,size:_r(p),datatype:f})};function r(n,u,a,o,l,d,p){var h=[];if(u===a.length-1)for(var f=0;f<o;f++)h[f]=p?n(d,l[f]):n(l[f],d);else for(var c=0;c<o;c++)h[c]=r(n,u+1,a,a[u+1],l[c],d,p);return h}}),mw="matAlgo01xDSid",Dw=["typed"],_w=Bt(mw,Dw,e=>{var{typed:t}=e;return function(n,u,a,o){var l=n._data,d=n._size,p=n._datatype,h=u._values,f=u._index,c=u._ptr,m=u._size,b=u._datatype;if(d.length!==m.length)throw new Ct(d.length,m.length);if(d[0]!==m[0]||d[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+m+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=d[0],D=d[1],y=typeof p=="string"&&p===b?p:void 0,C=y?t.find(a,[y,y]):a,w,B,F=[];for(w=0;w<g;w++)F[w]=[];var O=[],P=[];for(B=0;B<D;B++){for(var I=B+1,N=c[B],G=c[B+1],H=N;H<G;H++)w=f[H],O[w]=o?C(h[H],l[w][B]):C(l[w][B],h[H]),P[w]=I;for(w=0;w<g;w++)P[w]===I?F[w][B]=O[w]:F[w][B]=l[w][B]}return n.createDenseMatrix({data:F,size:[g,D],datatype:y})}}),yw="matAlgo04xSidSid",bw=["typed","equalScalar"],Aw=Bt(yw,bw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,o){var l=u._values,d=u._index,p=u._ptr,h=u._size,f=u._datatype,c=a._values,m=a._index,b=a._ptr,g=a._size,D=a._datatype;if(h.length!==g.length)throw new Ct(h.length,g.length);if(h[0]!==g[0]||h[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+g+")");var y=h[0],C=h[1],w,B=r,F=0,O=o;typeof f=="string"&&f===D&&(w=f,B=t.find(r,[w,w]),F=t.convert(0,w),O=t.find(o,[w,w]));var P=l&&c?[]:void 0,I=[],N=[],G=l&&c?[]:void 0,H=l&&c?[]:void 0,Y=[],q=[],W,R,z,ee,ue;for(R=0;R<C;R++){N[R]=I.length;var he=R+1;for(ee=p[R],ue=p[R+1],z=ee;z<ue;z++)W=d[z],I.push(W),Y[W]=he,G&&(G[W]=l[z]);for(ee=b[R],ue=b[R+1],z=ee;z<ue;z++)if(W=m[z],Y[W]===he){if(G){var De=O(G[W],c[z]);B(De,F)?Y[W]=null:G[W]=De}}else I.push(W),q[W]=he,H&&(H[W]=c[z]);if(G&&H)for(z=N[R];z<I.length;)W=I[z],Y[W]===he?(P[z]=G[W],z++):q[W]===he?(P[z]=H[W],z++):I.splice(z,1)}return N[C]=I.length,u.createSparseMatrix({values:P,index:I,ptr:N,size:[y,C],datatype:w})}}),ww="matAlgo10xSids",Ew=["typed","DenseMatrix"],Fw=Bt(ww,Ew,e=>{var{typed:t,DenseMatrix:r}=e;return function(u,a,o,l){var d=u._values,p=u._index,h=u._ptr,f=u._size,c=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],b=f[1],g,D=o;typeof c=="string"&&(g=c,a=t.convert(a,g),D=t.find(o,[g,g]));for(var y=[],C=[],w=[],B=0;B<b;B++){for(var F=B+1,O=h[B],P=h[B+1],I=O;I<P;I++){var N=p[I];C[N]=d[I],w[N]=F}for(var G=0;G<m;G++)B===0&&(y[G]=[]),w[G]===F?y[G][B]=l?D(a,C[G]):D(C[G],a):y[G][B]=a}return new r({data:y,size:[m,b],datatype:g})}}),Cw="matAlgo13xDD",Sw=["typed"],Bw=Bt(Cw,Sw,e=>{var{typed:t}=e;return function(u,a,o){var l=u._data,d=u._size,p=u._datatype,h=a._data,f=a._size,c=a._datatype,m=[];if(d.length!==f.length)throw new Ct(d.length,f.length);for(var b=0;b<d.length;b++){if(d[b]!==f[b])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+f+")");m[b]=d[b]}var g,D=o;typeof p=="string"&&p===c&&(g=p,D=t.find(o,[g,g]));var y=m.length>0?r(D,0,m,m[0],l,h):[];return u.createDenseMatrix({data:y,size:m,datatype:g})};function r(n,u,a,o,l,d){var p=[];if(u===a.length-1)for(var h=0;h<o;h++)p[h]=n(l[h],d[h]);else for(var f=0;f<o;f++)p[f]=r(n,u+1,a,a[u+1],l[f],d[f]);return p}}),Ow="broadcast",Mw=["concat"],Pw=Bt(Ow,Mw,e=>{var{concat:t}=e;return function(a,o){var l=Math.max(a._size.length,o._size.length);if(a._size.length===o._size.length&&a._size.every((D,y)=>D===o._size[y]))return[a,o];for(var d=r(a._size,l,0),p=r(o._size,l,0),h=[],f=0;f<l;f++)h[f]=Math.max(d[f],p[f]);for(var c=0;c<l;c++)u(d,h,c),u(p,h,c);var m=a.clone(),b=o.clone();m._size.length<l?m.reshape(r(m._size,l,1)):b._size.length<l&&b.reshape(r(b._size,l,1));for(var g=0;g<l;g++)m._size[g]<h[g]&&(m=n(m,h[g],g)),b._size[g]<h[g]&&(b=n(b,h[g],g));return[m,b]};function r(a,o,l){return[...Array(o-a.length).fill(l),...a]}function n(a,o,l){return t(...Array(o).fill(a),l)}function u(a,o,l){if(a[l]<o[l]&a[l]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(l," with size ").concat(a[l]," to size ").concat(o[l]))}}),xw="matrixAlgorithmSuite",Iw=["typed","matrix","concat"],Tw=Bt(xw,Iw,e=>{var{typed:t,matrix:r,concat:n}=e,u=Bw({typed:t}),a=Yd({typed:t}),o=Pw({concat:n});return function(d){var p=d.elop,h=d.SD||d.DS,f;p?(f={"DenseMatrix, DenseMatrix":(g,D)=>u(...o(g,D),p),"Array, Array":(g,D)=>u(...o(r(g),r(D)),p).valueOf(),"Array, DenseMatrix":(g,D)=>u(...o(r(g),D),p),"DenseMatrix, Array":(g,D)=>u(...o(g,r(D)),p)},d.SS&&(f["SparseMatrix, SparseMatrix"]=(g,D)=>d.SS(...o(g,D),p,!1)),d.DS&&(f["DenseMatrix, SparseMatrix"]=(g,D)=>d.DS(...o(g,D),p,!1),f["Array, SparseMatrix"]=(g,D)=>d.DS(...o(r(g),D),p,!1)),h&&(f["SparseMatrix, DenseMatrix"]=(g,D)=>h(...o(D,g),p,!0),f["SparseMatrix, Array"]=(g,D)=>h(...o(r(D),g),p,!0))):(f={"DenseMatrix, DenseMatrix":t.referToSelf(g=>(D,y)=>u(...o(D,y),g)),"Array, Array":t.referToSelf(g=>(D,y)=>u(...o(r(D),r(y)),g).valueOf()),"Array, DenseMatrix":t.referToSelf(g=>(D,y)=>u(...o(r(D),y),g)),"DenseMatrix, Array":t.referToSelf(g=>(D,y)=>u(...o(D,r(y)),g))},d.SS&&(f["SparseMatrix, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.SS(...o(D,y),g,!1))),d.DS&&(f["DenseMatrix, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.DS(...o(D,y),g,!1)),f["Array, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.DS(...o(r(D),y),g,!1))),h&&(f["SparseMatrix, DenseMatrix"]=t.referToSelf(g=>(D,y)=>h(...o(y,D),g,!0)),f["SparseMatrix, Array"]=t.referToSelf(g=>(D,y)=>h(...o(r(y),D),g,!0))));var c=d.scalar||"any",m=d.Ds||d.Ss;m&&(p?(f["DenseMatrix,"+c]=(g,D)=>a(g,D,p,!1),f[c+", DenseMatrix"]=(g,D)=>a(D,g,p,!0),f["Array,"+c]=(g,D)=>a(r(g),D,p,!1).valueOf(),f[c+", Array"]=(g,D)=>a(r(D),g,p,!0).valueOf()):(f["DenseMatrix,"+c]=t.referToSelf(g=>(D,y)=>a(D,y,g,!1)),f[c+", DenseMatrix"]=t.referToSelf(g=>(D,y)=>a(y,D,g,!0)),f["Array,"+c]=t.referToSelf(g=>(D,y)=>a(r(D),y,g,!1).valueOf()),f[c+", Array"]=t.referToSelf(g=>(D,y)=>a(r(y),D,g,!0).valueOf())));var b=d.sS!==void 0?d.sS:d.Ss;return p?(d.Ss&&(f["SparseMatrix,"+c]=(g,D)=>d.Ss(g,D,p,!1)),b&&(f[c+", SparseMatrix"]=(g,D)=>b(D,g,p,!0))):(d.Ss&&(f["SparseMatrix,"+c]=t.referToSelf(g=>(D,y)=>d.Ss(D,y,g,!1))),b&&(f[c+", SparseMatrix"]=t.referToSelf(g=>(D,y)=>b(y,D,g,!0)))),p&&p.signatures&&fb(f,p.signatures),f}}),Nw="multiplyScalar",kw=["typed"],Rw=Bt(Nw,kw,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Gd,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),q0="multiply",Lw=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Uw=Bt(q0,Lw,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:a,dot:o}=e,l=pw({typed:t,equalScalar:a}),d=Yd({typed:t});function p(F,O){switch(F.length){case 1:switch(O.length){case 1:if(F[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(F[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+O[0]+")");break;case 2:if(F[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function h(F,O,P){if(P===0)throw new Error("Cannot multiply two empty vectors");return o(F,O)}function f(F,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(F,O)}function c(F,O){var P=F._data,I=F._size,N=F._datatype,G=O._data,H=O._size,Y=O._datatype,q=I[0],W=H[1],R,z=n,ee=u;N&&Y&&N===Y&&typeof N=="string"&&(R=N,z=t.find(n,[R,R]),ee=t.find(u,[R,R]));for(var ue=[],he=0;he<W;he++){for(var De=ee(P[0],G[0][he]),be=1;be<q;be++)De=z(De,ee(P[be],G[be][he]));ue[he]=De}return F.createDenseMatrix({data:ue,size:[W],datatype:R})}var m=t("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":C}),b=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":B});function g(F,O){var P=F._data,I=F._size,N=F._datatype,G=O._data,H=O._datatype,Y=I[0],q=I[1],W,R=n,z=u;N&&H&&N===H&&typeof N=="string"&&(W=N,R=t.find(n,[W,W]),z=t.find(u,[W,W]));for(var ee=[],ue=0;ue<Y;ue++){for(var he=P[ue],De=z(he[0],G[0]),be=1;be<q;be++)De=R(De,z(he[be],G[be]));ee[ue]=De}return F.createDenseMatrix({data:ee,size:[Y],datatype:W})}function D(F,O){var P=F._data,I=F._size,N=F._datatype,G=O._data,H=O._size,Y=O._datatype,q=I[0],W=I[1],R=H[1],z,ee=n,ue=u;N&&Y&&N===Y&&typeof N=="string"&&(z=N,ee=t.find(n,[z,z]),ue=t.find(u,[z,z]));for(var he=[],De=0;De<q;De++){var be=P[De];he[De]=[];for(var Be=0;Be<R;Be++){for(var ye=ue(be[0],G[0][Be]),xe=1;xe<W;xe++)ye=ee(ye,ue(be[xe],G[xe][Be]));he[De][Be]=ye}}return F.createDenseMatrix({data:he,size:[q,R],datatype:z})}function y(F,O){var P=F._data,I=F._size,N=F._datatype,G=O._values,H=O._index,Y=O._ptr,q=O._size,W=O._datatype;if(!G)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=I[0],z=q[1],ee,ue=n,he=u,De=a,be=0;N&&W&&N===W&&typeof N=="string"&&(ee=N,ue=t.find(n,[ee,ee]),he=t.find(u,[ee,ee]),De=t.find(a,[ee,ee]),be=t.convert(0,ee));for(var Be=[],ye=[],xe=[],ke=O.createSparseMatrix({values:Be,index:ye,ptr:xe,size:[R,z],datatype:ee}),Ue=0;Ue<z;Ue++){xe[Ue]=ye.length;var at=Y[Ue],vt=Y[Ue+1];if(vt>at)for(var Qe=0,it=0;it<R;it++){for(var gt=it+1,mt=void 0,rt=at;rt<vt;rt++){var Xe=H[rt];Qe!==gt?(mt=he(P[it][Xe],G[rt]),Qe=gt):mt=ue(mt,he(P[it][Xe],G[rt]))}Qe===gt&&!De(mt,be)&&(ye.push(it),Be.push(mt))}}return xe[z]=ye.length,ke}function C(F,O){var P=F._values,I=F._index,N=F._ptr,G=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var H=O._data,Y=O._datatype,q=F._size[0],W=O._size[0],R=[],z=[],ee=[],ue,he=n,De=u,be=a,Be=0;G&&Y&&G===Y&&typeof G=="string"&&(ue=G,he=t.find(n,[ue,ue]),De=t.find(u,[ue,ue]),be=t.find(a,[ue,ue]),Be=t.convert(0,ue));var ye=[],xe=[];ee[0]=0;for(var ke=0;ke<W;ke++){var Ue=H[ke];if(!be(Ue,Be))for(var at=N[ke],vt=N[ke+1],Qe=at;Qe<vt;Qe++){var it=I[Qe];xe[it]?ye[it]=he(ye[it],De(Ue,P[Qe])):(xe[it]=!0,z.push(it),ye[it]=De(Ue,P[Qe]))}}for(var gt=z.length,mt=0;mt<gt;mt++){var rt=z[mt];R[mt]=ye[rt]}return ee[1]=z.length,F.createSparseMatrix({values:R,index:z,ptr:ee,size:[q,1],datatype:ue})}function w(F,O){var P=F._values,I=F._index,N=F._ptr,G=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var H=O._data,Y=O._datatype,q=F._size[0],W=O._size[0],R=O._size[1],z,ee=n,ue=u,he=a,De=0;G&&Y&&G===Y&&typeof G=="string"&&(z=G,ee=t.find(n,[z,z]),ue=t.find(u,[z,z]),he=t.find(a,[z,z]),De=t.convert(0,z));for(var be=[],Be=[],ye=[],xe=F.createSparseMatrix({values:be,index:Be,ptr:ye,size:[q,R],datatype:z}),ke=[],Ue=[],at=0;at<R;at++){ye[at]=Be.length;for(var vt=at+1,Qe=0;Qe<W;Qe++){var it=H[Qe][at];if(!he(it,De))for(var gt=N[Qe],mt=N[Qe+1],rt=gt;rt<mt;rt++){var Xe=I[rt];Ue[Xe]!==vt?(Ue[Xe]=vt,Be.push(Xe),ke[Xe]=ue(it,P[rt])):ke[Xe]=ee(ke[Xe],ue(it,P[rt]))}}for(var wt=ye[at],br=Be.length,Ft=wt;Ft<br;Ft++){var Ee=Be[Ft];be[Ft]=ke[Ee]}}return ye[R]=Be.length,xe}function B(F,O){var P=F._values,I=F._index,N=F._ptr,G=F._datatype,H=O._values,Y=O._index,q=O._ptr,W=O._datatype,R=F._size[0],z=O._size[1],ee=P&&H,ue,he=n,De=u;G&&W&&G===W&&typeof G=="string"&&(ue=G,he=t.find(n,[ue,ue]),De=t.find(u,[ue,ue]));for(var be=ee?[]:void 0,Be=[],ye=[],xe=F.createSparseMatrix({values:be,index:Be,ptr:ye,size:[R,z],datatype:ue}),ke=ee?[]:void 0,Ue=[],at,vt,Qe,it,gt,mt,rt,Xe,wt=0;wt<z;wt++){ye[wt]=Be.length;var br=wt+1;for(gt=q[wt],mt=q[wt+1],it=gt;it<mt;it++)if(Xe=Y[it],ee)for(vt=N[Xe],Qe=N[Xe+1],at=vt;at<Qe;at++)rt=I[at],Ue[rt]!==br?(Ue[rt]=br,Be.push(rt),ke[rt]=De(H[it],P[at])):ke[rt]=he(ke[rt],De(H[it],P[at]));else for(vt=N[Xe],Qe=N[Xe+1],at=vt;at<Qe;at++)rt=I[at],Ue[rt]!==br&&(Ue[rt]=br,Be.push(rt));if(ee)for(var Ft=ye[wt],Ee=Be.length,we=Ft;we<Ee;we++){var Dt=Be[we];be[we]=ke[Dt]}}return ye[z]=Be.length,xe}return t(q0,u,{"Array, Array":t.referTo("Matrix, Matrix",F=>(O,P)=>{p(Ai(O),Ai(P));var I=F(r(O),r(P));return Rr(I)?I.valueOf():I}),"Matrix, Matrix":function(O,P){var I=O.size(),N=P.size();return p(I,N),I.length===1?N.length===1?h(O,P,I[0]):f(O,P):N.length===1?m(O,P):b(O,P)},"Matrix, Array":t.referTo("Matrix,Matrix",F=>(O,P)=>F(O,r(P))),"Array, Matrix":t.referToSelf(F=>(O,P)=>F(r(O,P.storage()),P)),"SparseMatrix, any":function(O,P){return l(O,P,u,!1)},"DenseMatrix, any":function(O,P){return d(O,P,u,!1)},"any, SparseMatrix":function(O,P){return l(P,O,u,!0)},"any, DenseMatrix":function(O,P){return d(P,O,u,!0)},"Array, any":function(O,P){return d(r(O),P,u,!1).valueOf()},"any, Array":function(O,P){return d(r(P),O,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(F=>(O,P,I)=>{for(var N=F(O,P),G=0;G<I.length;G++)N=F(N,I[G]);return N})})}),z0="conj",jw=["typed"],Vw=Bt(z0,jw,e=>{var{typed:t}=e;return t(z0,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>tf(n,r))})}),W0="concat",qw=["typed","matrix","isInteger"],zw=Bt(W0,qw,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(W0,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,d=-1,p,h=!1,f=[];for(o=0;o<l;o++){var c=a[o];if(Rr(c)&&(h=!0),Xt(c)||pn(c)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(p=d,d=c.valueOf(),!n(d))throw new TypeError("Integer number expected for dimension");if(d<0||o>0&&d>p)throw new Vi(d,p+1)}else{var m=_r(c).valueOf(),b=Ai(m);if(f[o]=m,p=d,d=b.length-1,o>0&&d!==p)throw new Ct(p+1,d+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var g=f.shift();f.length;)g=Kd(g,f.shift(),d,0);return h?r(g):g},"...string":function(a){return a.join("")}})});function Kd(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Ct(e.length,t.length);for(var u=[],a=0;a<e.length;a++)u[a]=Kd(e[a],t[a],r,n+1);return u}else return e.concat(t)}function Ww(){throw new Error('No "matrix" implementation available')}var H0="size",Hw=["typed","config","?matrix"],Gw=Bt(H0,Hw,e=>{var{typed:t,config:r,matrix:n}=e;return t(H0,{Matrix:function(a){return a.create(a.size())},Array:Ai,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):Ww()}})}),G0="add",Yw=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Kw=Bt(G0,Yw,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:u,DenseMatrix:a,SparseMatrix:o,concat:l}=e,d=_w({typed:t}),p=Aw({typed:t,equalScalar:u}),h=Fw({typed:t,DenseMatrix:a}),f=Tw({typed:t,matrix:r,concat:l});return t(G0,{"any, any":n,"any, any, ...any":t.referToSelf(c=>(m,b,g)=>{for(var D=c(m,b),y=0;y<g.length;y++)D=c(D,g[y]);return D})},f({elop:n,DS:d,SS:p,Ss:h}))}),Y0="dot",Zw=["typed","addScalar","multiplyScalar","conj","size"],$w=Bt(Y0,Zw,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:a}=e;return t(Y0,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":d});function o(h,f){var c=p(h),m=p(f),b,g;if(c.length===1)b=c[0];else if(c.length===2&&c[1]===1)b=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(m.length===1)g=m[0];else if(m.length===2&&m[1]===1)g=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(b!==g)throw new RangeError("Vectors must have equal length ("+b+" != "+g+")");if(b===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return b}function l(h,f){var c=o(h,f),m=Rr(h)?h._data:h,b=Rr(h)?h._datatype:void 0,g=Rr(f)?f._data:f,D=Rr(f)?f._datatype:void 0,y=p(h).length===2,C=p(f).length===2,w=r,B=n;if(b&&D&&b===D&&typeof b=="string"){var F=b;w=t.find(r,[F,F]),B=t.find(n,[F,F])}if(!y&&!C){for(var O=B(u(m[0]),g[0]),P=1;P<c;P++)O=w(O,B(u(m[P]),g[P]));return O}if(!y&&C){for(var I=B(u(m[0]),g[0][0]),N=1;N<c;N++)I=w(I,B(u(m[N]),g[N][0]));return I}if(y&&!C){for(var G=B(u(m[0][0]),g[0]),H=1;H<c;H++)G=w(G,B(u(m[H][0]),g[H]));return G}if(y&&C){for(var Y=B(u(m[0][0]),g[0][0]),q=1;q<c;q++)Y=w(Y,B(u(m[q][0]),g[q][0]));return Y}}function d(h,f){o(h,f);for(var c=h._index,m=h._values,b=f._index,g=f._values,D=0,y=r,C=n,w=0,B=0;w<c.length&&B<b.length;){var F=c[w],O=b[B];if(F<O){w++;continue}if(F>O){B++;continue}F===O&&(D=y(D,C(m[w],g[B])),w++,B++)}return D}function p(h){return Rr(h)?h.size():a(h)}}),Xw=RA({config:bs}),Jw=VA({}),Qw=HA({}),rf=KA({}),nf=XA({Matrix:rf}),mn=jb({BigNumber:Xw,Complex:Jw,DenseMatrix:nf,Fraction:Qw}),uf=cw({typed:mn}),eE=Vw({typed:mn}),af=iw({config:bs,typed:mn}),tE=QA({typed:mn}),Zd=Rw({typed:mn}),$d=sw({Matrix:rf,equalScalar:af,typed:mn}),Ss=lw({DenseMatrix:nf,Matrix:rf,SparseMatrix:$d,typed:mn}),rE=Gw({matrix:Ss,config:bs,typed:mn}),nE=zw({isInteger:tE,matrix:Ss,typed:mn}),Xu=Kw({DenseMatrix:nf,SparseMatrix:$d,addScalar:uf,concat:nE,equalScalar:af,matrix:Ss,typed:mn}),iE=$w({addScalar:uf,conj:eE,multiplyScalar:Zd,size:rE,typed:mn}),Ll=Uw({addScalar:uf,dot:iE,equalScalar:af,matrix:Ss,multiplyScalar:Zd,typed:mn});const qa="activePromptStore";function Dr(e,t,r,n=1){return{id:e,text:t,barWeight:n,parsedWeight:r}}function K0(){return{0:Dr(0,"Magic potion in a mystical bottle",1),1:Dr(1,"A crystalline decanter",1),2:Dr(2,"An ornate tequila bottle",1),3:Dr(3,"An antique sake bottle",1),4:Dr(4,"A colorful perfume bottle",1),5:Dr(5,"A glass vase full of vibrant flowers",1),6:Dr(6,"A minimalist glass tea kettle",1),7:Dr(7,"Chihuly glass art",1),8:Dr(8,"A fine wine bottle",1),9:Dr(9,"A gourmet vinegar bottle",1),10:Dr(10,"A stunning fishbowl",1),11:Dr(11,"A striking piece of tourmaline",1),12:Dr(12,"A finely cut piece of sapphire",1),13:Dr(13,"Iittala glass art",1)}}function Di(e,t="circle"){return{weightedPrompts:e||{},weightMode:t,pieAngles:{},circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0,embedExponentialScaling:2,embedWeightScaling:!0,embedPromptLimit:Object.keys(e).length}}function uE(){const e=Mn({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u",a=u&&localStorage[qa]?JSON.parse(localStorage[qa]):Di(K0());return r({...Di({}),...a}),{subscribe:t,update:o=>{!o||!u||(localStorage[qa]=JSON.stringify(o),r({...Di({}),...o}))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[qa],r(Di(K0())))}}}const Pt=uE(),Dn=On(Pt,e=>Lt(Pt));function aE(e){let t,r,n;return{c(){t=bt("circle"),this.h()},l(u){t=At(u,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),re(t).forEach(V),this.h()},h(){T(t,"cx",r=e[0][0]),T(t,"cy",n=e[0][1]),T(t,"r",e[1]),T(t,"stroke",e[3]),T(t,"stroke-width",e[2]),$t(t,"fill","rgba(0,0,0,0)")},m(u,a){Ae(u,t,a)},p(u,[a]){a&1&&r!==(r=u[0][0])&&T(t,"cx",r),a&1&&n!==(n=u[0][1])&&T(t,"cy",n),a&2&&T(t,"r",u[1]),a&8&&T(t,"stroke",u[3]),a&4&&T(t,"stroke-width",u[2])},i:Ie,o:Ie,d(u){u&&V(t)}}}function sE(e,t,r){let{xy:n=[500,500]}=t,{radius:u=400}=t,{stroke:a=2}=t,{color:o="rgba(46,67,101, 0.4)"}=t;return e.$$set=l=>{"xy"in l&&r(0,n=l.xy),"radius"in l&&r(1,u=l.radius),"stroke"in l&&r(2,a=l.stroke),"color"in l&&r(3,o=l.color)},[n,u,a,o]}class Xd extends It{constructor(t){super(),Tt(this,t,sE,aE,Nt,{xy:0,radius:1,stroke:2,color:3})}}function oE(e){let t,r,n,u,a;return{c(){t=bt("circle"),this.h()},l(o){t=At(o,"circle",{cx:!0,cy:!0,r:!0}),re(t).forEach(V),this.h()},h(){T(t,"cx",r=e[0][0]),T(t,"cy",n=e[0][1]),T(t,"r",e[1]),$t(t,"fill",e[2])},m(o,l){Ae(o,t,l),u||(a=[Re(t,"mouseover",e[3]),Re(t,"mouseout",e[4]),Re(t,"mousedown",e[5])],u=!0)},p(o,[l]){l&1&&r!==(r=o[0][0])&&T(t,"cx",r),l&1&&n!==(n=o[0][1])&&T(t,"cy",n),l&2&&T(t,"r",o[1]),l&4&&$t(t,"fill",o[2])},i:Ie,o:Ie,d(o){o&&V(t),u=!1,Lr(a)}}}function lE(e,t,r){let{xy:n=[100,100]}=t,{radius:u=5}=t,{color:a="black"}=t,{hoverColor:o="white"}=t,{handleMouseDown:l=c=>{}}=t,d=a;function p(){r(2,d=o)}function h(){r(2,d=a)}function f(c){l(c)}return e.$$set=c=>{"xy"in c&&r(0,n=c.xy),"radius"in c&&r(1,u=c.radius),"color"in c&&r(6,a=c.color),"hoverColor"in c&&r(7,o=c.hoverColor),"handleMouseDown"in c&&r(8,l=c.handleMouseDown)},[n,u,d,p,h,f,a,o,l]}class Qu extends It{constructor(t){super(),Tt(this,t,lE,oE,Nt,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function fE(e){let t,r,n,u,a;return{c(){t=bt("line"),this.h()},l(o){t=At(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),re(t).forEach(V),this.h()},h(){T(t,"x1",r=e[0][0]),T(t,"y1",n=e[0][1]),T(t,"x2",u=e[1][0]),T(t,"y2",a=e[1][1]),T(t,"stroke",e[3]),T(t,"stroke-dasharray","10,10"),T(t,"stroke-width",e[2])},m(o,l){Ae(o,t,l)},p(o,[l]){l&1&&r!==(r=o[0][0])&&T(t,"x1",r),l&1&&n!==(n=o[0][1])&&T(t,"y1",n),l&2&&u!==(u=o[1][0])&&T(t,"x2",u),l&2&&a!==(a=o[1][1])&&T(t,"y2",a),l&8&&T(t,"stroke",o[3]),l&4&&T(t,"stroke-width",o[2])},i:Ie,o:Ie,d(o){o&&V(t)}}}function cE(e,t,r){let{p1:n=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:o="rgba(46,67,101, 0.4)"}=t;return e.$$set=l=>{"p1"in l&&r(0,n=l.p1),"p2"in l&&r(1,u=l.p2),"stroke"in l&&r(2,a=l.stroke),"color"in l&&r(3,o=l.color)},[n,u,a,o]}class Jd extends It{constructor(t){super(),Tt(this,t,cE,fE,Nt,{p1:0,p2:1,stroke:2,color:3})}}function hE(e){let t,r,n,u,a,o,l,d;return{c(){t=bt("foreignObject"),r=se("div"),n=se("p"),u=Ke(e[2]),this.h()},l(p){t=At(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var h=re(t);r=oe(h,"DIV",{class:!0});var f=re(r);n=oe(f,"P",{});var c=re(n);u=Ze(c,e[2]),c.forEach(V),f.forEach(V),h.forEach(V),this.h()},h(){$t(n,"color",e[3]),$t(n,"user-select","none"),$t(n,"margin","0"),$t(n,"pointer-events","none"),$t(n,"text-align",e[4]),$t(n,"font-size",`${e[5]}px`),$t(n,"font-family","sans-serif"),$t(n,"font-style","italic"),T(r,"class","h-full flex flex-col justify-center"),T(t,"x",a=e[0][0]),T(t,"y",o=e[0][1]),T(t,"width",l=e[1][0]),T(t,"height",d=e[1][1])},m(p,h){Ae(p,t,h),J(t,r),J(r,n),J(n,u)},p(p,[h]){h&4&&Bn(u,p[2]),h&8&&$t(n,"color",p[3]),h&16&&$t(n,"text-align",p[4]),h&32&&$t(n,"font-size",`${p[5]}px`),h&1&&a!==(a=p[0][0])&&T(t,"x",a),h&1&&o!==(o=p[0][1])&&T(t,"y",o),h&2&&l!==(l=p[1][0])&&T(t,"width",l),h&2&&d!==(d=p[1][1])&&T(t,"height",d)},i:Ie,o:Ie,d(p){p&&V(t)}}}function dE(e,t,r){let{xy:n=[100,100]}=t,{wh:u=[100,100]}=t,{text:a=""}=t,{color:o="rgba(96,117,151, 1)"}=t,{textAlign:l="center"}=t,{fontSize:d=12}=t;return e.$$set=p=>{"xy"in p&&r(0,n=p.xy),"wh"in p&&r(1,u=p.wh),"text"in p&&r(2,a=p.text),"color"in p&&r(3,o=p.color),"textAlign"in p&&r(4,l=p.textAlign),"fontSize"in p&&r(5,d=p.fontSize)},[n,u,a,o,l,d]}class Bs extends It{constructor(t){super(),Tt(this,t,dE,hE,Nt,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function pE(e){let t,r,n,u,a,o,l,d,p,h,f;return{c(){t=bt("circle"),u=Ge(),a=bt("foreignObject"),o=se("p"),l=Ke(e[4]),this.h()},l(c){t=At(c,"circle",{cx:!0,cy:!0,r:!0}),re(t).forEach(V),u=Ye(c),a=At(c,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var m=re(a);o=oe(m,"P",{style:!0,class:!0});var b=re(o);l=Ze(b,e[4]),b.forEach(V),m.forEach(V),this.h()},h(){T(t,"cx",r=e[0][0]),T(t,"cy",n=e[0][1]),T(t,"r",e[1]),$t(t,"fill",e[3]),$t(o,"color",e[2]),$t(o,"user-select","none"),$t(o,"margin","0"),T(o,"class","heavy svelte-6if1p2"),T(a,"x",d=e[0][0]-e[1]),T(a,"y",p=e[0][1]-e[1]),T(a,"width",h=e[1]*2),T(a,"height",f=e[1]*2)},m(c,m){Ae(c,t,m),Ae(c,u,m),Ae(c,a,m),J(a,o),J(o,l)},p(c,[m]){m&1&&r!==(r=c[0][0])&&T(t,"cx",r),m&1&&n!==(n=c[0][1])&&T(t,"cy",n),m&2&&T(t,"r",c[1]),m&8&&$t(t,"fill",c[3]),m&16&&Bn(l,c[4]),m&4&&$t(o,"color",c[2]),m&3&&d!==(d=c[0][0]-c[1])&&T(a,"x",d),m&3&&p!==(p=c[0][1]-c[1])&&T(a,"y",p),m&2&&h!==(h=c[1]*2)&&T(a,"width",h),m&2&&f!==(f=c[1]*2)&&T(a,"height",f)},i:Ie,o:Ie,d(c){c&&V(t),c&&V(u),c&&V(a)}}}function vE(e,t,r){let{xy:n=[100,100]}=t,{radius:u=25}=t,{textColor:a="rgba(96,117,151, 1)"}=t,{bgColor:o="black"}=t,{weight:l=""}=t;return e.$$set=d=>{"xy"in d&&r(0,n=d.xy),"radius"in d&&r(1,u=d.radius),"textColor"in d&&r(2,a=d.textColor),"bgColor"in d&&r(3,o=d.bgColor),"weight"in d&&r(4,l=d.weight)},[n,u,a,o,l]}class gE extends It{constructor(t){super(),Tt(this,t,vE,pE,Nt,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function _i(e,t,r){const n=e[0]-t[0],u=e[1]-t[1],a=360+Math.atan2(u,n)*180/Math.PI,o=Math.sqrt(n*n+u*u);return[a%360,o/r]}function Un(e,t,r){const n=t[0]%360*Math.PI/180,u=[r*t[1]*Math.cos(n),r*t[1]*Math.sin(n)];return Xu(e,u)}function Ul(e,t,r){const n=e[0]-t[0],u=e[1]-t[1],a=Math.sqrt(n*n+u*u),o=r/a,l=t[0]+n*o,d=t[1]+u*o;return[l,d]}function mE(e,t,r){const n=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(n*n+u*u)<r}function Qd(e,t){const r=t%360*Math.PI/180;let n,u;const a=Math.cos(r),o=Math.sin(r);return n=(e[0]+5)*-1.2*a,u=(e[1]+5)*-1.2*o,n-=e[0],u-=e[1],[n,u]}function DE(e){return Math.round(e*100)}function Pr(e){return Math.max(1-Math.pow(1-e,2),.25).toFixed(2)}function ni(e,t){let r="parsedWeight";switch(t){case"circle":r="circleWeight";break;case"bars":r="barWeight";break;case"embed":r="embedWeight";break;case"pie":r="pieWeight";break}const n=e[r];return DE(n||0)}function _E(e,t,r){const a=r*.6,o=Math.floor(e/a);return Math.ceil(t/o)*r*1.2}function en(e,t,r){const n=_E(e,t,r)+10;return[e,n]}function jl(e,t){const r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function Os(e){return Ll(e,.5)}function ji(e){const t=e.currentTarget;var r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const n=r.matrixTransform(t.getScreenCTM().inverse());return[n.x,n.y]}function Z0(e,t,r){const n=e.slice();return n[18]=t[r][0],n[19]=t[r][1],n}function $0(e){let t,r,n=Object.entries(e[5].weightedPrompts).length>0,u,a;t=new Xd({props:{xy:e[0],radius:e[1]}});let o=Object.entries(e[5].weightedPrompts),l=[];for(let h=0;h<o.length;h+=1)l[h]=X0(Z0(e,o,h));const d=h=>Ne(l[h],1,1,()=>{l[h]=null});let p=n&&J0(e);return{c(){ot(t.$$.fragment);for(let h=0;h<l.length;h+=1)l[h].c();r=zt(),p&&p.c(),u=zt()},l(h){lt(t.$$.fragment,h);for(let f=0;f<l.length;f+=1)l[f].l(h);r=zt(),p&&p.l(h),u=zt()},m(h,f){ft(t,h,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(h,f);Ae(h,r,f),p&&p.m(h,f),Ae(h,u,f),a=!0},p(h,f){const c={};if(f&1&&(c.xy=h[0]),f&2&&(c.radius=h[1]),t.$set(c),f&895){o=Object.entries(h[5].weightedPrompts);let m;for(m=0;m<o.length;m+=1){const b=Z0(h,o,m);l[m]?(l[m].p(b,f),Pe(l[m],1)):(l[m]=X0(b),l[m].c(),Pe(l[m],1),l[m].m(r.parentNode,r))}for(vn(),m=o.length;m<l.length;m+=1)d(m);gn()}f&32&&(n=Object.entries(h[5].weightedPrompts).length>0),n?p?(p.p(h,f),f&32&&Pe(p,1)):(p=J0(h),p.c(),Pe(p,1),p.m(u.parentNode,u)):p&&(vn(),Ne(p,1,1,()=>{p=null}),gn())},i(h){if(!a){Pe(t.$$.fragment,h);for(let f=0;f<o.length;f+=1)Pe(l[f]);Pe(p),a=!0}},o(h){Ne(t.$$.fragment,h),l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)Ne(l[f]);Ne(p),a=!1},d(h){ct(t,h),$l(l,h),h&&V(r),p&&p.d(h),h&&V(u)}}}function X0(e){let t,r,n,u,a;t=new Jd({props:{p1:Un(e[0],e[5].circleMarker,e[1]),p2:e[6][e[18]].xy}});function o(){return e[12](e[18])}return r=new Qu({props:{xy:e[6][e[18]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:o}}),n=new Bs({props:{xy:e[9](e[6][e[18]].xy,en(e[3],e[19].text.length,e[4])),color:`rgba(255,255,255,${Pr(e[6][e[18]].unitWeight)}`,wh:en(e[3],e[19].text.length,e[4]),fontSize:e[4],text:e[19].text}}),u=new gE({props:{xy:Ll(Xu(Un(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5),weight:ni(e[5].weightedPrompts[e[18]],e[5].weightMode),radius:15,textColor:`rgba(255,255,255,${Pr(e[6][e[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){ot(t.$$.fragment),ot(r.$$.fragment),ot(n.$$.fragment),ot(u.$$.fragment)},l(l){lt(t.$$.fragment,l),lt(r.$$.fragment,l),lt(n.$$.fragment,l),lt(u.$$.fragment,l)},m(l,d){ft(t,l,d),ft(r,l,d),ft(n,l,d),ft(u,l,d),a=!0},p(l,d){e=l;const p={};d&35&&(p.p1=Un(e[0],e[5].circleMarker,e[1])),d&96&&(p.p2=e[6][e[18]].xy),t.$set(p);const h={};d&96&&(h.xy=e[6][e[18]].xy),d&4&&(h.radius=e[2]),d&32&&(h.handleMouseDown=o),r.$set(h);const f={};d&120&&(f.xy=e[9](e[6][e[18]].xy,en(e[3],e[19].text.length,e[4]))),d&96&&(f.color=`rgba(255,255,255,${Pr(e[6][e[18]].unitWeight)}`),d&56&&(f.wh=en(e[3],e[19].text.length,e[4])),d&16&&(f.fontSize=e[4]),d&32&&(f.text=e[19].text),n.$set(f);const c={};d&99&&(c.xy=Ll(Xu(Un(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5)),d&32&&(c.weight=ni(e[5].weightedPrompts[e[18]],e[5].weightMode)),d&96&&(c.textColor=`rgba(255,255,255,${Pr(e[6][e[18]].unitWeight)}`),u.$set(c)},i(l){a||(Pe(t.$$.fragment,l),Pe(r.$$.fragment,l),Pe(n.$$.fragment,l),Pe(u.$$.fragment,l),a=!0)},o(l){Ne(t.$$.fragment,l),Ne(r.$$.fragment,l),Ne(n.$$.fragment,l),Ne(u.$$.fragment,l),a=!1},d(l){ct(t,l),ct(r,l),ct(n,l),ct(u,l)}}}function J0(e){let t,r;return t=new Qu({props:{xy:Un(e[0],e[5].circleMarker,e[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:e[13]}}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},p(n,u){const a={};u&35&&(a.xy=Un(n[0],n[5].circleMarker,n[1])),t.$set(a)},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function yE(e){let t,r,n,u,a=e[6]&&e[5].weightedPrompts&&$0(e);return{c(){t=bt("svg"),a&&a.c(),this.h()},l(o){t=At(o,"svg",{id:!0,class:!0});var l=re(t);a&&a.l(l),l.forEach(V),this.h()},h(){T(t,"id","svg"),T(t,"class","w-full h-full")},m(o,l){Ae(o,t,l),a&&a.m(t,null),r=!0,n||(u=[Re(t,"mousemove",e[10]),Re(t,"mouseup",e[7]),Re(t,"dblclick",e[11])],n=!0)},p(o,[l]){o[6]&&o[5].weightedPrompts?a?(a.p(o,l),l&96&&Pe(a,1)):(a=$0(o),a.c(),Pe(a,1),a.m(t,null)):a&&(vn(),Ne(a,1,1,()=>{a=null}),gn())},i(o){r||(Pe(a),r=!0)},o(o){Ne(a),r=!1},d(o){o&&V(t),a&&a.d(),n=!1,Lr(u)}}}function Q0(e,t){return e?Object.entries(e).reduce((r,[n,u],a)=>{const o=r[n]||a*(360/Object.keys(e).length)-90;return r[n]=o,r},t):null}function bE(e,t,r){let n,u;Mt(e,Dn,F=>r(5,u=F));let{center:a=[450,450]}=t,{radius:o=250}=t,{pointRadius:l=10}=t,{textWidth:d=150}=t,{fontSize:p=13}=t,h=[0,0],f=null;function c(F){f=null}function m(F){f=F}function b(F,O){let P=_i(F,a,o)[0]-180;P<0&&(P+=360);const I=Qd(Os(O),P);return Xu(F,I)}function g(F){const O=mE(F,a,o)?_i(F,a,o):_i(Ul(F,a,o),a,o);r(6,n=C(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,O,u.circleAngles))}function D(F){if(h=ji(F),f==="main")g(h);else if(f){const O={...u.weightedPrompts[f]},P=Ul(h,a,o),I=_i(P,a,o)[0],N={...u.circleAngles};N[O.id]=I;const G={...u.weightedPrompts};G[f]=O,r(6,n=C(G,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,N))}}function y(F){h=ji(F),g(h)}function C(F,O,P,I,N,G,H){if(!F||!O||!P||!I||!G)return null;let Y=Object.entries(F).reduce((R,[z,ee])=>(R[z]={xy:Un(O,[H[z],1],P)},R),{});Y=Object.entries(Y).reduce((R,[z,ee])=>(R[z]={...R[z],distance:jl(ee.xy,Un(O,G,P))},R),Y);const q=Object.values(Y).reduce((R,z)=>R+z.distance,0);Y=Object.entries(Y).reduce((R,[z,ee])=>(R[z]={...R[z],unitDistance:Math.round(ee.distance/q*100)/100},R),Y),Y=Object.entries(Y).reduce((R,[z,ee])=>(R[z]={...R[z],invertedUnitDistance:Math.round((1-ee.unitDistance)*100)/100},R),Y),Y=Object.entries(Y).reduce((R,[z,ee])=>(N?R[z]={...R[z],unitWeight:Math.round(Math.pow(1-ee.distance/(2*P),I)*100)/100}:R[z]={...R[z],unitWeight:Math.round((1-ee.distance/(2*P))*100)/100},R),Y);const W={...F};return Object.entries(Y).forEach(([R,z])=>{W[R].circleWeight=z.unitWeight}),Pt.update({...u,circleMarker:G,weightedPrompts:W,circleAngles:H}),Y}const w=F=>m(F),B=()=>m("main");return e.$$set=F=>{"center"in F&&r(0,a=F.center),"radius"in F&&r(1,o=F.radius),"pointRadius"in F&&r(2,l=F.pointRadius),"textWidth"in F&&r(3,d=F.textWidth),"fontSize"in F&&r(4,p=F.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.circleAngles).length!==Object.keys(u.weightedPrompts).length&&Pt.update({...u,circleAngles:Q0(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,n=C(u.weightedPrompts,a,o,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,u.circleAngles||Q0(u.weightedPrompts,{})))},[a,o,l,d,p,u,n,c,m,b,D,y,w,B]}class AE extends It{constructor(t){super(),Tt(this,t,bE,yE,Nt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function eh(e){let t,r,n,u,a,o,l,d;return{c(){t=se("div"),r=se("label"),n=se("span"),u=Ke("Scaling Power"),a=Ge(),o=se("input"),this.h()},l(p){t=oe(p,"DIV",{class:!0});var h=re(t);r=oe(h,"LABEL",{class:!0});var f=re(r);n=oe(f,"SPAN",{class:!0});var c=re(n);u=Ze(c,"Scaling Power"),c.forEach(V),f.forEach(V),a=Ye(h),o=oe(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h.forEach(V),this.h()},h(){T(n,"class","label-text"),T(r,"class","label"),T(o,"type","range"),T(o,"min","0.5"),T(o,"max","3"),T(o,"step","0.1"),T(o,"class","range"),T(t,"class","w-full px-2")},m(p,h){Ae(p,t,h),J(t,r),J(r,n),J(n,u),J(t,a),J(t,o),yi(o,e[0]),l||(d=[Re(o,"change",e[6]),Re(o,"input",e[6])],l=!0)},p(p,h){h&1&&yi(o,p[0])},d(p){p&&V(t),l=!1,Lr(d)}}}function wE(e){let t,r,n,u,a,o,l,d,p,h,f,c,m,b,g;r=new AE({props:{center:[Math.round(e[2]/2),Math.round(e[3]/2)],radius:Math.round(Math.min(e[2],e[3])/2)-150}});let D=e[1]&&eh(e);return{c(){t=se("div"),ot(r.$$.fragment),u=Ge(),a=se("div"),o=se("div"),l=se("label"),d=se("span"),p=Ke("Exponential Scaling"),h=Ge(),f=se("input"),c=Ge(),D&&D.c(),this.h()},l(y){t=oe(y,"DIV",{class:!0});var C=re(t);lt(r.$$.fragment,C),C.forEach(V),u=Ye(y),a=oe(y,"DIV",{class:!0});var w=re(a);o=oe(w,"DIV",{class:!0});var B=re(o);l=oe(B,"LABEL",{class:!0});var F=re(l);d=oe(F,"SPAN",{class:!0});var O=re(d);p=Ze(O,"Exponential Scaling"),O.forEach(V),F.forEach(V),h=Ye(B),f=oe(B,"INPUT",{type:!0,class:!0}),B.forEach(V),c=Ye(w),D&&D.l(w),w.forEach(V),this.h()},h(){T(t,"class","w-full h-full"),Ds(()=>e[4].call(t)),T(d,"class","label-text"),T(l,"class","label"),T(f,"type","checkbox"),T(f,"class","toggle"),T(o,"class","w-52 px-2"),T(a,"class","px-2 py-4 pb-0 flex")},m(y,C){Ae(y,t,C),ft(r,t,null),n=_s(t,e[4].bind(t)),Ae(y,u,C),Ae(y,a,C),J(a,o),J(o,l),J(l,d),J(d,p),J(o,h),J(o,f),f.checked=e[1],J(a,c),D&&D.m(a,null),m=!0,b||(g=Re(f,"change",e[5]),b=!0)},p(y,[C]){const w={};C&12&&(w.center=[Math.round(y[2]/2),Math.round(y[3]/2)]),C&12&&(w.radius=Math.round(Math.min(y[2],y[3])/2)-150),r.$set(w),C&2&&(f.checked=y[1]),y[1]?D?D.p(y,C):(D=eh(y),D.c(),D.m(a,null)):D&&(D.d(1),D=null)},i(y){m||(Pe(r.$$.fragment,y),m=!0)},o(y){Ne(r.$$.fragment,y),m=!1},d(y){y&&V(t),ct(r),n(),y&&V(u),y&&V(a),D&&D.d(),b=!1,g()}}}function EE(e,t,r){let n;Mt(e,Dn,f=>r(7,n=f));let u,a,o=n.circleWeightScaling||2,l=bd(n.circleExponentialScaling)?!0:n.circleExponentialScaling;function d(){u=this.clientWidth,a=this.clientHeight,r(2,u),r(3,a)}function p(){l=this.checked,r(1,l)}function h(){o=Iy(this.value),r(0,o)}return e.$$.update=()=>{e.$$.dirty&3&&Pt.update({...Pt.get(),circleExponentialScaling:l,circleWeightScaling:o})},[o,l,u,a,d,p,h]}class FE extends It{constructor(t){super(),Tt(this,t,EE,wE,Nt,{})}}function CE(e){let t,r,n,u,a,o,l;return{c(){t=bt("rect"),this.h()},l(d){t=At(d,"rect",{x:!0,y:!0,width:!0,height:!0}),re(t).forEach(V),this.h()},h(){T(t,"x",r=e[0][0]),T(t,"y",n=e[0][1]),T(t,"width",u=Math.max(e[1][0],0)),T(t,"height",a=Math.max(e[1][1],0)),$t(t,"fill",e[2])},m(d,p){Ae(d,t,p),o||(l=[Re(t,"mouseover",function(){Go(e[4])&&e[4].apply(this,arguments)}),Re(t,"mouseout",function(){Go(e[5])&&e[5].apply(this,arguments)}),Re(t,"mousedown",function(){Go(e[3])&&e[3].apply(this,arguments)})],o=!0)},p(d,[p]){e=d,p&1&&r!==(r=e[0][0])&&T(t,"x",r),p&1&&n!==(n=e[0][1])&&T(t,"y",n),p&2&&u!==(u=Math.max(e[1][0],0))&&T(t,"width",u),p&2&&a!==(a=Math.max(e[1][1],0))&&T(t,"height",a),p&4&&$t(t,"fill",e[2])},i:Ie,o:Ie,d(d){d&&V(t),o=!1,Lr(l)}}}function SE(e,t,r){let{xy:n=[500,500]}=t,{wh:u=[100,100]}=t,{color:a="rgba(46,67,101, 0.4)"}=t,{handleMouseDown:o=p=>{}}=t,{handleMouseOver:l=p=>{}}=t,{handleMouseOut:d=p=>{}}=t;return e.$$set=p=>{"xy"in p&&r(0,n=p.xy),"wh"in p&&r(1,u=p.wh),"color"in p&&r(2,a=p.color),"handleMouseDown"in p&&r(3,o=p.handleMouseDown),"handleMouseOver"in p&&r(4,l=p.handleMouseOver),"handleMouseOut"in p&&r(5,d=p.handleMouseOut)},[n,u,a,o,l,d]}class Xo extends It{constructor(t){super(),Tt(this,t,SE,CE,Nt,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function th(e,t,r){const n=e.slice();return n[51]=t[r][0],n[52]=t[r][1],n[53]=t[r][2],n}function rh(e,t){let r,n,u,a,o,l;n=new Bs({props:{xy:[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]],color:`rgba(255,255,255,${Pr(t[53].barWeight/t[12]||0)})`,wh:t[5][t[51]],text:t[53].text,textAlign:"right",fontSize:t[1]}});function d(...g){return t[39](t[51],...g)}function p(...g){return t[40](t[51],...g)}u=new Xo({props:{color:t[13](0),handleMouseOver:d,handleMouseOut:p,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[t[11],t[4]-2]}});function h(...g){return t[41](t[51],...g)}function f(...g){return t[42](t[51],...g)}a=new Xo({props:{color:t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](Pr((t[53].barWeight||0)/t[12]+.15)):t[13](Pr(t[53].barWeight||0)),handleMouseOver:h,handleMouseOut:f,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[(t[53].barWeight||0)*t[11],t[4]-2]}});function c(...g){return t[43](t[51],...g)}function m(...g){return t[44](t[51],...g)}function b(...g){return t[45](t[51],...g)}return o=new Xo({props:{color:t[9]===t[51]?t[15]:t[14],handleMouseOver:c,handleMouseOut:m,handleMouseDown:b,xy:[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]],wh:[t[2],t[4]-2]}}),{key:e,first:null,c(){r=zt(),ot(n.$$.fragment),ot(u.$$.fragment),ot(a.$$.fragment),ot(o.$$.fragment),this.h()},l(g){r=zt(),lt(n.$$.fragment,g),lt(u.$$.fragment,g),lt(a.$$.fragment,g),lt(o.$$.fragment,g),this.h()},h(){this.first=r},m(g,D){Ae(g,r,D),ft(n,g,D),ft(u,g,D),ft(a,g,D),ft(o,g,D),l=!0},p(g,D){t=g;const y={};D[0]&89&&(y.xy=[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]]),D[0]&4160&&(y.color=`rgba(255,255,255,${Pr(t[53].barWeight/t[12]||0)})`),D[0]&96&&(y.wh=t[5][t[51]]),D[0]&64&&(y.text=t[53].text),D[0]&2&&(y.fontSize=t[1]),n.$set(y);const C={};D[0]&64&&(C.handleMouseOver=d),D[0]&64&&(C.handleMouseOut=p),D[0]&1112&&(C.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),D[0]&2064&&(C.wh=[t[11],t[4]-2]),u.$set(C);const w={};D[0]&5056&&(w.color=t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](Pr((t[53].barWeight||0)/t[12]+.15)):t[13](Pr(t[53].barWeight||0))),D[0]&64&&(w.handleMouseOver=h),D[0]&64&&(w.handleMouseOut=f),D[0]&1112&&(w.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),D[0]&2128&&(w.wh=[(t[53].barWeight||0)*t[11],t[4]-2]),a.$set(w);const B={};D[0]&576&&(B.color=t[9]===t[51]?t[15]:t[14]),D[0]&64&&(B.handleMouseOver=c),D[0]&64&&(B.handleMouseOut=m),D[0]&64&&(B.handleMouseDown=b),D[0]&3160&&(B.xy=[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]]),D[0]&20&&(B.wh=[t[2],t[4]-2]),o.$set(B)},i(g){l||(Pe(n.$$.fragment,g),Pe(u.$$.fragment,g),Pe(a.$$.fragment,g),Pe(o.$$.fragment,g),l=!0)},o(g){Ne(n.$$.fragment,g),Ne(u.$$.fragment,g),Ne(a.$$.fragment,g),Ne(o.$$.fragment,g),l=!1},d(g){g&&V(r),ct(n,g),ct(u,g),ct(a,g),ct(o,g)}}}function BE(e){let t,r=[],n=new Map,u,a,o,l=e[6];const d=p=>p[51];for(let p=0;p<l.length;p+=1){let h=th(e,l,p),f=d(h);n.set(f,r[p]=rh(f,h))}return{c(){t=bt("svg");for(let p=0;p<r.length;p+=1)r[p].c();this.h()},l(p){t=At(p,"svg",{id:!0,class:!0});var h=re(t);for(let f=0;f<r.length;f+=1)r[f].l(h);h.forEach(V),this.h()},h(){T(t,"id","svg"),T(t,"class","w-full h-full")},m(p,h){Ae(p,t,h);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(t,null);u=!0,a||(o=[Re(t,"mousemove",e[25]),Re(t,"mouseup",e[24]),Re(t,"dblclick",e[23])],a=!0)},p(p,h){h[0]&8388607&&(l=p[6],vn(),r=Ei(r,h,d,1,p,l,n,t,gd,rh,null,th),gn())},i(p){if(!u){for(let h=0;h<l.length;h+=1)Pe(r[h]);u=!0}},o(p){for(let h=0;h<r.length;h+=1)Ne(r[h]);u=!1},d(p){p&&V(t);for(let h=0;h<r.length;h+=1)r[h].d();a=!1,Lr(o)}}}function OE(e,t,r){let n,u,a,o,l,d,p,h,f,c,m,b,g;Mt(e,Dn,Ee=>r(38,g=Ee));let{center:D=[0,0]}=t,{dimensions:y=[100,100]}=t,{maxWidth:C=1e3}=t,{pointRadius:w=10}=t,{textWidth:B=250}=t,{horizontalPad:F=20}=t,{verticalPad:O=2}=t,{textBarPad:P=10}=t,{fontSize:I=13}=t,{handleWidth:N=20}=t,G=Ee=>`rgba(46,67,101, ${Ee})`,H=Ee=>`rgba(76,97,131, ${Ee})`,Y=null,q=null,W=null,R=H(.3),z=H(.8),ee=null,ue=null,he=null;function De(Ee,we){r(8,q=Ee)}function be(Ee,we){r(7,Y=Ee)}function Be(Ee,we){r(9,W=Ee)}function ye(Ee,we){r(8,q=null)}function xe(Ee,we){r(7,Y=null)}function ke(Ee,we){r(9,W=null)}function Ue(Ee,we){ee=Ee}function at(Ee){let we=ee||q||W||Y;if(!we)return;const Dt=ji(Ee);Qe(we,Dt)}function vt(Ee){ee=null,clearInterval(ue),ue=null,he=null}function Qe(Ee,we){let jt=Math.min(c,Math.max(0,we[0]-m))/c,ar={...g.weightedPrompts},L={...ar[Ee]};L.barWeight=jt,ar[Ee]=L,Pt.update({...g,weightedPrompts:ar})}function it(Ee){let we=ee;if(!we)return;const Dt=ji(Ee);if(Qe(we,Dt),ee){let jt=m+c+N,ar=m;Dt[0]>jt&&!ue?(he=Date.now(),ue=setInterval(()=>{if(Date.now()-he<1e3)return;let L={...g.weightedPrompts};const j=Object.entries(L).reduce((Z,[ae,te])=>(ae!==ee?Z[ae]={...te,barWeight:Math.max(0,(te.barWeight||0)-.01)}:Z[ae]={...te,barWeight:Math.min(1,(te.barWeight||0)+.01)},Z),{});Pt.update({...g,weightedPrompts:j})},100)):Dt[0]<ar&&!ue?(he=Date.now(),ue=setInterval(()=>{if(Date.now()-he<1e3)return;let L={...g.weightedPrompts};const j=Object.entries(L).reduce((Z,[ae,te])=>(ae!==ee?Z[ae]={...te,barWeight:Math.min(1,(te.barWeight||0)+.01)}:Z[ae]={...te,barWeight:Math.max(0,(te.barWeight||0)-.01)},Z),{});Pt.update({...g,weightedPrompts:j})},100)):Dt[0]<jt&&Dt[0]>ar&&ue&&(clearInterval(ue),ue=null,he=null)}}const gt=(Ee,we)=>be(Ee),mt=(Ee,we)=>xe(),rt=(Ee,we)=>De(Ee),Xe=(Ee,we)=>ye(),wt=(Ee,we)=>Be(Ee),br=(Ee,we)=>ke(),Ft=(Ee,we)=>Ue(Ee);return e.$$set=Ee=>{"center"in Ee&&r(26,D=Ee.center),"dimensions"in Ee&&r(27,y=Ee.dimensions),"maxWidth"in Ee&&r(28,C=Ee.maxWidth),"pointRadius"in Ee&&r(29,w=Ee.pointRadius),"textWidth"in Ee&&r(30,B=Ee.textWidth),"horizontalPad"in Ee&&r(0,F=Ee.horizontalPad),"verticalPad"in Ee&&r(31,O=Ee.verticalPad),"textBarPad"in Ee&&r(32,P=Ee.textBarPad),"fontSize"in Ee&&r(1,I=Ee.fontSize),"handleWidth"in Ee&&r(2,N=Ee.handleWidth)},e.$$.update=()=>{e.$$.dirty[1]&128&&r(6,n=Object.entries(g.weightedPrompts).map(([Ee,we],Dt)=>[Ee,Dt,we])),e.$$.dirty[1]&128&&r(36,u=Object.keys(g.weightedPrompts).length),e.$$.dirty[0]&134217728&&r(35,a=[y[0]-50,y[1]-50]),e.$$.dirty[0]&1073741890&&r(5,o=n.reduce((Ee,[we,Dt,jt])=>{const[ar,L]=en(B,jt.text.length,I);return Ee[we]=[ar,L],Ee},{})),e.$$.dirty[0]&32&&r(37,l=Math.max(...Object.values(o).map(([Ee,we])=>we))),e.$$.dirty[1]&112&&r(4,d=Math.min(a[1]/u,l)),e.$$.dirty[0]&16|e.$$.dirty[1]&33&&r(34,p=d*u+O*Math.max(u-1,0)),e.$$.dirty[0]&268435456|e.$$.dirty[1]&16&&r(33,h=Math.min(a[0],C)),e.$$.dirty[0]&67108864|e.$$.dirty[1]&12&&r(3,f=[D[0]-h/2,D[1]-p/2]),e.$$.dirty[0]&1073741829|e.$$.dirty[1]&6&&r(11,c=h-P-B-2*F-N),e.$$.dirty[0]&1073741833|e.$$.dirty[1]&2&&r(10,m=f[0]+P+B+F),e.$$.dirty[1]&128&&r(12,b=Math.max(...Object.values(g.weightedPrompts).map(Ee=>Ee.barWeight||0)))},[F,I,N,f,d,o,n,Y,q,W,m,c,b,G,R,z,De,be,Be,ye,xe,ke,Ue,at,vt,it,D,y,C,w,B,O,P,h,p,a,u,l,g,gt,mt,rt,Xe,wt,br,Ft]}class ME extends It{constructor(t){super(),Tt(this,t,OE,BE,Nt,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function PE(e){let t,r,n,u;return r=new ME({props:{dimensions:e[2],center:e[3]}}),{c(){t=se("div"),ot(r.$$.fragment),this.h()},l(a){t=oe(a,"DIV",{class:!0});var o=re(t);lt(r.$$.fragment,o),o.forEach(V),this.h()},h(){T(t,"class","w-full h-full"),Ds(()=>e[4].call(t))},m(a,o){Ae(a,t,o),ft(r,t,null),n=_s(t,e[4].bind(t)),u=!0},p(a,[o]){const l={};o&4&&(l.dimensions=a[2]),o&8&&(l.center=a[3]),r.$set(l)},i(a){u||(Pe(r.$$.fragment,a),u=!0)},o(a){Ne(r.$$.fragment,a),u=!1},d(a){a&&V(t),ct(r),n()}}}function xE(e,t,r){let n,u,a,o;function l(){a=this.clientWidth,o=this.clientHeight,r(0,a),r(1,o)}return e.$$.update=()=>{e.$$.dirty&3&&r(2,n=[a||0,o||0]),e.$$.dirty&4&&r(3,u=Os(n))},[a,o,n,u,l]}class IE extends It{constructor(t){super(),Tt(this,t,xE,PE,Nt,{})}}function TE(e){let t,r,n,u,a;return{c(){t=bt("line"),this.h()},l(o){t=At(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),re(t).forEach(V),this.h()},h(){T(t,"x1",r=e[0][0]),T(t,"y1",n=e[0][1]),T(t,"x2",u=e[1][0]),T(t,"y2",a=e[1][1]),T(t,"stroke",e[3]),T(t,"stroke-width",e[2])},m(o,l){Ae(o,t,l)},p(o,[l]){l&1&&r!==(r=o[0][0])&&T(t,"x1",r),l&1&&n!==(n=o[0][1])&&T(t,"y1",n),l&2&&u!==(u=o[1][0])&&T(t,"x2",u),l&2&&a!==(a=o[1][1])&&T(t,"y2",a),l&8&&T(t,"stroke",o[3]),l&4&&T(t,"stroke-width",o[2])},i:Ie,o:Ie,d(o){o&&V(t)}}}function NE(e,t,r){let{p1:n=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:o="rgba(46,67,101, 0.4)"}=t;return e.$$set=l=>{"p1"in l&&r(0,n=l.p1),"p2"in l&&r(1,u=l.p2),"stroke"in l&&r(2,a=l.stroke),"color"in l&&r(3,o=l.color)},[n,u,a,o]}class kE extends It{constructor(t){super(),Tt(this,t,NE,TE,Nt,{p1:0,p2:1,stroke:2,color:3})}}function nh(e,t,r){const n=e.slice();return n[25]=t[r][0],n[26]=t[r][1],n}function ih(e){let t,r,n;t=new Xd({props:{xy:e[0],radius:e[1]}});let u=Object.entries(e[5].weightedPrompts),a=[];for(let l=0;l<u.length;l+=1)a[l]=uh(nh(e,u,l));const o=l=>Ne(a[l],1,1,()=>{a[l]=null});return{c(){ot(t.$$.fragment);for(let l=0;l<a.length;l+=1)a[l].c();r=zt()},l(l){lt(t.$$.fragment,l);for(let d=0;d<a.length;d+=1)a[d].l(l);r=zt()},m(l,d){ft(t,l,d);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(l,d);Ae(l,r,d),n=!0},p(l,d){const p={};if(d&1&&(p.xy=l[0]),d&2&&(p.radius=l[1]),t.$set(p),d&6015){u=Object.entries(l[5].weightedPrompts);let h;for(h=0;h<u.length;h+=1){const f=nh(l,u,h);a[h]?(a[h].p(f,d),Pe(a[h],1)):(a[h]=uh(f),a[h].c(),Pe(a[h],1),a[h].m(r.parentNode,r))}for(vn(),h=u.length;h<a.length;h+=1)o(h);gn()}},i(l){if(!n){Pe(t.$$.fragment,l);for(let d=0;d<u.length;d+=1)Pe(a[d]);n=!0}},o(l){Ne(t.$$.fragment,l),a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)Ne(a[d]);n=!1},d(l){ct(t,l),$l(a,l),l&&V(r)}}}function uh(e){let t,r,n,u,a,o,l,d,p;t=new kE({props:{p1:e[0],p2:e[6][e[25]].xy}});function h(...m){return e[13](e[25],...m)}function f(...m){return e[14](e[25],...m)}function c(){return e[15](e[25])}return a=new Qu({props:{xy:e[6][e[25]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:c}}),o=new Bs({props:{xy:e[9](e[6][e[25]].textXY,en(e[3],e[26].text.length,e[4])),color:`rgba(255,255,255,${Pr(e[6][e[25]].unitWeight)}`,wh:en(e[3],e[26].text.length,e[4]),fontSize:e[4],text:e[26].text}}),{c(){ot(t.$$.fragment),r=bt("path"),ot(a.$$.fragment),ot(o.$$.fragment),this.h()},l(m){lt(t.$$.fragment,m),r=At(m,"path",{d:!0,fill:!0}),re(r).forEach(V),lt(a.$$.fragment,m),lt(o.$$.fragment,m),this.h()},h(){T(r,"d",n=sh(e[0],e[1],e[6][e[25]].angle,e[6][e[25]].angle+e[6][e[25]].angleDiff)),T(r,"fill",u=`rgba(26,47,91,${Pr(e[6][e[25]].unitWeight)/4}`)},m(m,b){ft(t,m,b),Ae(m,r,b),ft(a,m,b),ft(o,m,b),l=!0,d||(p=[Re(r,"mousewheel",h),Re(r,"mousedown",f)],d=!0)},p(m,b){e=m;const g={};b&1&&(g.p1=e[0]),b&96&&(g.p2=e[6][e[25]].xy),t.$set(g),(!l||b&99&&n!==(n=sh(e[0],e[1],e[6][e[25]].angle,e[6][e[25]].angle+e[6][e[25]].angleDiff)))&&T(r,"d",n),(!l||b&96&&u!==(u=`rgba(26,47,91,${Pr(e[6][e[25]].unitWeight)/4}`))&&T(r,"fill",u);const D={};b&96&&(D.xy=e[6][e[25]].xy),b&4&&(D.radius=e[2]),b&32&&(D.handleMouseDown=c),a.$set(D);const y={};b&120&&(y.xy=e[9](e[6][e[25]].textXY,en(e[3],e[26].text.length,e[4]))),b&96&&(y.color=`rgba(255,255,255,${Pr(e[6][e[25]].unitWeight)}`),b&56&&(y.wh=en(e[3],e[26].text.length,e[4])),b&16&&(y.fontSize=e[4]),b&32&&(y.text=e[26].text),o.$set(y)},i(m){l||(Pe(t.$$.fragment,m),Pe(a.$$.fragment,m),Pe(o.$$.fragment,m),l=!0)},o(m){Ne(t.$$.fragment,m),Ne(a.$$.fragment,m),Ne(o.$$.fragment,m),l=!1},d(m){ct(t,m),m&&V(r),ct(a,m),ct(o,m),d=!1,Lr(p)}}}function RE(e){let t,r,n,u,a=e[6]&&e[5].weightedPrompts&&ih(e);return{c(){t=bt("svg"),a&&a.c(),this.h()},l(o){t=At(o,"svg",{id:!0,class:!0});var l=re(t);a&&a.l(l),l.forEach(V),this.h()},h(){T(t,"id","svg"),T(t,"class","w-full h-full")},m(o,l){Ae(o,t,l),a&&a.m(t,null),r=!0,n||(u=[Re(t,"mousemove",e[11]),Re(t,"mouseup",e[7])],n=!0)},p(o,[l]){o[6]&&o[5].weightedPrompts?a?(a.p(o,l),l&96&&Pe(a,1)):(a=ih(o),a.c(),Pe(a,1),a.m(t,null)):a&&(vn(),Ne(a,1,1,()=>{a=null}),gn())},i(o){r||(Pe(a),r=!0)},o(o){Ne(a),r=!1},d(o){o&&V(t),a&&a.d(),n=!1,Lr(u)}}}function ah(e,t){return e?Object.entries(e).reduce((r,[n,u],a)=>{const o=r[n]||a*(360/Object.keys(e).length)-90;return r[n]=o,r},t):null}function LE(e,t){if(e.length!==t.length)return!1;const r=e.length;let n=-1;for(let u=0;u<r;u++)if(t[u]===e[0]){n=u;break}if(n===-1)return!1;for(let u=0;u<r;u++)if(e[u]!==t[(u+n)%r])return!1;return!0}function Jr(e){return e<0?360+-1*(Math.abs(e)%360):e>360?e%360:e}function sh(e,t,r,n){const u=e[0]+t*Math.cos(r*Math.PI/180),a=e[1]+t*Math.sin(r*Math.PI/180),o=e[0]+t*Math.cos(n*Math.PI/180),l=e[1]+t*Math.sin(n*Math.PI/180),d=n-r<=180?"0":"1";return`M${e[0]},${e[1]} L${u},${a} A${t},${t} 0 ${d} 1 ${o},${l} Z`}function UE(e,t,r){let n,u;Mt(e,Dn,H=>r(5,u=H));let{center:a=[450,450]}=t,{radius:o=250}=t,{pointRadius:l=10}=t,{textWidth:d=150}=t,{fontSize:p=13}=t,h=[0,0],f=null,c={},m=null,b;function g(H){m=null,b=null,f=null,c={}}function D(H){m=H}function y(H,Y){let q=_i(H,a,o)[0]-180;q<0&&(q+=360);const W=Qd(Os(Y),q);return Xu(H,W)}function C(H,Y){b=Y}function w(H){const Y=b,q={...u.pieAngles},W=Object.entries(q).sort((ye,xe)=>Jr(ye[1])-Jr(xe[1])).map(ye=>ye[0]),R=W.indexOf(Y),z=R+1===W.length?0:R+1,ee=W[z];c[Y]||(c[Y]=q[Y]),c[ee]||(c[ee]=q[ee]);const he=_i(H,a,o)[0]-f,De={...q};De[Y]=Jr(he+c[Y]),De[ee]=Jr(he+c[ee]);const be=Object.entries(De).sort((ye,xe)=>Jr(ye[1])-Jr(xe[1])).map(ye=>ye[0]);LE(W,be)&&r(6,n=P(u.weightedPrompts,a,o,De))}function B(H){const Y={...u.weightedPrompts[m]},q=Ul(H,a,o),W=Jr(_i(q,a,o)[0]),R={...u.pieAngles};R[Y.id]=W;const z={...u.weightedPrompts};z[m]=Y,r(6,n=P(z,a,o,R))}function F(H){H.preventDefault(),h=ji(H),m?B(h):b?w(h):f=_i(h,a,o)[0]}function O(H,Y){H.preventDefault();const q={...u.pieAngles},W=Object.entries(q).sort((ue,he)=>Jr(ue[1])-Jr(he[1])).map(ue=>ue[0]),R=W.indexOf(Y),z=R+1===W.length?0:R+1,ee=W[z];q[Y]=Jr(q[Y]-H.deltaY/100),q[ee]=Jr(q[ee]+H.deltaY/100),r(6,n=P(u.weightedPrompts,a,o,q))}function P(H,Y,q,W){if(!H||!Y||!q)return null;const R=Object.entries(H).sort((De,be)=>Jr(W[De[0]])-Jr(W[be[0]])),z=R.map((De,be)=>{const Be=be+1===R.length?0:be+1,ye=W[R[Be][0]]-W[R[be][0]];return ye<0?[De[0],360+ye]:[De[0],ye]}),ee=Math.max(...z.map(De=>De[1])),ue=z.reduce((De,[be,Be])=>{({...H[be]});const ye=W[be],xe=Un(Y,[ye,1],q),ke=Un(Y,[ye+.5*Be,1],q),Ue=Be/ee;return De[be]={xy:xe,textXY:ke,angle:ye,angleDiff:Be,unitWeight:Ue},De},{}),he={...H};return Object.entries(ue).forEach(([De,be])=>{he[De].pieWeight=be.unitWeight}),Pt.update({...u,weightedPrompts:he,pieAngles:W}),ue}const I=(H,Y)=>O(Y,H),N=(H,Y)=>C(Y,H),G=H=>D(H);return e.$$set=H=>{"center"in H&&r(0,a=H.center),"radius"in H&&r(1,o=H.radius),"pointRadius"in H&&r(2,l=H.pointRadius),"textWidth"in H&&r(3,d=H.textWidth),"fontSize"in H&&r(4,p=H.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.pieAngles||{}).length!==Object.keys(u.weightedPrompts).length&&Pt.update({...u,pieAngles:ah(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,n=P(u.weightedPrompts,a,o,u.pieAngles||ah(u.weightedPrompts,{})))},[a,o,l,d,p,u,n,g,D,y,C,F,O,I,N,G]}class jE extends It{constructor(t){super(),Tt(this,t,UE,RE,Nt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function VE(e){let t,r,n,u;return r=new jE({props:{center:[Math.round(e[0]/2),Math.round(e[1]/2)],radius:Math.round(Math.min(e[0],e[1])/2)-150}}),{c(){t=se("div"),ot(r.$$.fragment),this.h()},l(a){t=oe(a,"DIV",{class:!0});var o=re(t);lt(r.$$.fragment,o),o.forEach(V),this.h()},h(){T(t,"class","w-full h-full"),Ds(()=>e[2].call(t))},m(a,o){Ae(a,t,o),ft(r,t,null),n=_s(t,e[2].bind(t)),u=!0},p(a,[o]){const l={};o&3&&(l.center=[Math.round(a[0]/2),Math.round(a[1]/2)]),o&3&&(l.radius=Math.round(Math.min(a[0],a[1])/2)-150),r.$set(l)},i(a){u||(Pe(r.$$.fragment,a),u=!0)},o(a){Ne(r.$$.fragment,a),u=!1},d(a){a&&V(t),ct(r),n()}}}function qE(e,t,r){let n,u;function a(){n=this.clientWidth,u=this.clientHeight,r(0,n),r(1,u)}return[n,u,a]}class zE extends It{constructor(t){super(),Tt(this,t,qE,VE,Nt,{})}}function oh(e,t,r){const n=e.slice();return n[26]=t[r][0],n[27]=t[r][1],n}function lh(e){let t=[],r=new Map,n,u,a,o=Object.entries(e[4].weightedPrompts);const l=d=>d[26];for(let d=0;d<o.length;d+=1){let p=oh(e,o,d),h=l(p);r.set(h,t[d]=ch(h,p))}return u=new Qu({props:{xy:e[7],radius:e[1],color:"rgba(136,157,191, 1)",handleMouseDown:e[19]}}),{c(){for(let d=0;d<t.length;d+=1)t[d].c();n=zt(),ot(u.$$.fragment)},l(d){for(let p=0;p<t.length;p+=1)t[p].l(d);n=zt(),lt(u.$$.fragment,d)},m(d,p){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(d,p);Ae(d,n,p),ft(u,d,p),a=!0},p(d,p){p&221&&(o=Object.entries(d[4].weightedPrompts),vn(),t=Ei(t,p,l,1,d,o,r,n.parentNode,gd,ch,n,oh),gn());const h={};p&128&&(h.xy=d[7]),p&2&&(h.radius=d[1]),p&32&&(h.handleMouseDown=d[19]),u.$set(h)},i(d){if(!a){for(let p=0;p<o.length;p+=1)Pe(t[p]);Pe(u.$$.fragment,d),a=!0}},o(d){for(let p=0;p<t.length;p+=1)Ne(t[p]);Ne(u.$$.fragment,d),a=!1},d(d){for(let p=0;p<t.length;p+=1)t[p].d(d);d&&V(n),ct(u,d)}}}function fh(e){let t,r;return t=new Jd({props:{p1:e[6][e[26]].embedXY,p2:e[7]}}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},p(n,u){const a={};u&80&&(a.p1=n[6][n[26]].embedXY),u&128&&(a.p2=n[7]),t.$set(a)},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function ch(e,t){let r,n,u,a,o,l=t[27].embedActive&&fh(t);return u=new Qu({props:{xy:t[6][t[26]].embedXY,radius:t[0],color:"rgba(136,157,191, 1)"}}),a=new Bs({props:{xy:[t[6][t[26]].embedXY[0]-en(t[2],t[27].text.length,t[3])[0]/2,t[6][t[26]].embedXY[1]+t[0]],color:`rgba(255,255,255,${Pr(t[27].embedWeight)}`,wh:en(t[2],t[27].text.length,t[3]),fontSize:t[3],text:t[27].text}}),{key:e,first:null,c(){r=zt(),l&&l.c(),n=zt(),ot(u.$$.fragment),ot(a.$$.fragment),this.h()},l(d){r=zt(),l&&l.l(d),n=zt(),lt(u.$$.fragment,d),lt(a.$$.fragment,d),this.h()},h(){this.first=r},m(d,p){Ae(d,r,p),l&&l.m(d,p),Ae(d,n,p),ft(u,d,p),ft(a,d,p),o=!0},p(d,p){t=d,t[27].embedActive?l?(l.p(t,p),p&16&&Pe(l,1)):(l=fh(t),l.c(),Pe(l,1),l.m(n.parentNode,n)):l&&(vn(),Ne(l,1,1,()=>{l=null}),gn());const h={};p&80&&(h.xy=t[6][t[26]].embedXY),p&1&&(h.radius=t[0]),u.$set(h);const f={};p&93&&(f.xy=[t[6][t[26]].embedXY[0]-en(t[2],t[27].text.length,t[3])[0]/2,t[6][t[26]].embedXY[1]+t[0]]),p&16&&(f.color=`rgba(255,255,255,${Pr(t[27].embedWeight)}`),p&28&&(f.wh=en(t[2],t[27].text.length,t[3])),p&8&&(f.fontSize=t[3]),p&16&&(f.text=t[27].text),a.$set(f)},i(d){o||(Pe(l),Pe(u.$$.fragment,d),Pe(a.$$.fragment,d),o=!0)},o(d){Ne(l),Ne(u.$$.fragment,d),Ne(a.$$.fragment,d),o=!1},d(d){d&&V(r),l&&l.d(d),d&&V(n),ct(u,d),ct(a,d)}}}function WE(e){let t,r=Object.entries(e[4].weightedPrompts).length>0&&Object.entries(e[6]||{}).length>0,n,u,a,o=r&&lh(e);return{c(){t=bt("svg"),o&&o.c(),this.h()},l(l){t=At(l,"svg",{id:!0,class:!0});var d=re(t);o&&o.l(d),d.forEach(V),this.h()},h(){T(t,"id","svg"),T(t,"class","w-full h-full")},m(l,d){Ae(l,t,d),o&&o.m(t,null),n=!0,u||(a=[Re(t,"mousemove",e[9]),Re(t,"mouseup",e[10]),Re(t,"dblclick",e[8])],u=!0)},p(l,[d]){d&80&&(r=Object.entries(l[4].weightedPrompts).length>0&&Object.entries(l[6]||{}).length>0),r?o?(o.p(l,d),d&80&&Pe(o,1)):(o=lh(l),o.c(),Pe(o,1),o.m(t,null)):o&&(vn(),Ne(o,1,1,()=>{o=null}),gn())},i(l){n||(Pe(o),n=!0)},o(l){Ne(o),n=!1},d(l){l&&V(t),o&&o.d(),u=!1,Lr(a)}}}function HE(e,t,r){let n,u,a,o,l;Mt(e,Dn,q=>r(4,l=q));let{center:d=[100,100]}=t,{dimensions:p=[100,100]}=t,{pointRadius:h=4}=t,{markerRadius:f=10}=t,{textWidth:c=150}=t,{fontSize:m=12}=t,{innerPad:b=100}=t,g=!1,D=null,y=p,C=[0,0];function w(q){l.embeddings&&l.scaledEmbedMappings&&(H(),P(n,u,a,y,q))}function B(q,W){q&&W&&(H(),P(n,u,a,y,o))}function F(q,W){P(n,q,W,y,o)}function O(q){l.embeddings&&l.scaledEmbedMappings&&(H(),P(n,u,a,q,o))}function P(q,W,R,z,ee){if(!D)return;let ue={...l.weightedPrompts},he=0;Object.values(D).forEach(ye=>{Object.values(D).forEach(xe=>{const ke=jl(ye.embedXY,xe.embedXY);ke>he&&(he=ke)})});const De=Object.entries(D).reduce((ye,[xe,ke])=>{const Ue=jl(q,ke.embedXY);return ye[xe]=Ue,ye},{}),be=(ye,xe)=>{const ke=ye?Math.round(Math.pow(1-xe/he,R)*100)/100:0;return ke<0?0:ke},Be=(ye,xe)=>{const ke=ye?Math.round((1-xe/he)*100)/100:0;return ke<0?0:ke};Object.entries(De).sort((ye,xe)=>ye[1]-xe[1]).forEach(([ye,xe],ke)=>{if(!ue[ye])return;const Ue=ke<ee;ue[ye]={...ue[ye],embedWeight:W?be(Ue,xe):Be(Ue,xe),embedActive:Ue}}),Pt.update({...l,embedMarker:n,weightedPrompts:ue})}function I(q){const W=ji(q,svg);r(7,n=W),P(n,u,a,y,o)}function N(q){if(g){const W=ji(q,svg);r(7,n=W),P(n,u,a,y,o)}}function G(q){r(5,g=!1)}function H(){const q=Object.keys(l.scaledEmbedMappings);r(6,D=q.reduce((W,R,z)=>(W[R]={embedXY:[C[0]+y[0]*l.scaledEmbedMappings[z][0],C[1]+y[1]*l.scaledEmbedMappings[z][1]]},W),{}))}const Y=()=>r(5,g=!0);return e.$$set=q=>{"center"in q&&r(11,d=q.center),"dimensions"in q&&r(12,p=q.dimensions),"pointRadius"in q&&r(0,h=q.pointRadius),"markerRadius"in q&&r(1,f=q.markerRadius),"textWidth"in q&&r(2,c=q.textWidth),"fontSize"in q&&r(3,m=q.fontSize),"innerPad"in q&&r(13,b=q.innerPad)},e.$$.update=()=>{if(e.$$.dirty&2064&&r(7,n=l.embedMarker||d),e.$$.dirty&16&&r(18,u=l.embedExponentialScaling),e.$$.dirty&16&&r(17,a=l.embedWeightScaling),e.$$.dirty&16&&r(16,o=l.embedPromptLimit||Object.keys(l.weightedPrompts).length),e.$$.dirty&393216&&F(u,a),e.$$.dirty&16&&B(l.embeddings,l.scaledEmbedMappings),e.$$.dirty&45056){const q=Math.min(...p),W=p[0]===q,R=p[1]===q;r(15,C=[Math.max(W?0:(p[0]-q)/2,b),Math.max(R?0:(p[1]-q)/2,b)]),r(14,y=[p[0]-2*C[0],p[1]-2*C[1]])}e.$$.dirty&16384&&O(y),e.$$.dirty&16384&&O(y),e.$$.dirty&65536&&w(o)},[h,f,c,m,l,g,D,n,I,N,G,d,p,b,y,C,o,a,u,Y]}class GE extends It{constructor(t){super(),Tt(this,t,HE,WE,Nt,{center:11,dimensions:12,pointRadius:0,markerRadius:1,textWidth:2,fontSize:3,innerPad:13})}}var Vl={},ep={},is={},YE={get exports(){return is},set exports(e){is=e}},us={},KE={get exports(){return us},set exports(e){us=e}},tp=function(t,r){return function(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];return t.apply(r,u)}},ZE=tp,Ci=Object.prototype.toString;function sf(e){return Array.isArray(e)}function ql(e){return typeof e>"u"}function $E(e){return e!==null&&!ql(e)&&e.constructor!==null&&!ql(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function rp(e){return Ci.call(e)==="[object ArrayBuffer]"}function XE(e){return Ci.call(e)==="[object FormData]"}function JE(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rp(e.buffer),t}function QE(e){return typeof e=="string"}function e2(e){return typeof e=="number"}function np(e){return e!==null&&typeof e=="object"}function Ya(e){if(Ci.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function t2(e){return Ci.call(e)==="[object Date]"}function r2(e){return Ci.call(e)==="[object File]"}function n2(e){return Ci.call(e)==="[object Blob]"}function ip(e){return Ci.call(e)==="[object Function]"}function i2(e){return np(e)&&ip(e.pipe)}function u2(e){return Ci.call(e)==="[object URLSearchParams]"}function a2(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function s2(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function of(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),sf(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.call(null,e[u],u,e)}function zl(){var e={};function t(u,a){Ya(e[a])&&Ya(u)?e[a]=zl(e[a],u):Ya(u)?e[a]=zl({},u):sf(u)?e[a]=u.slice():e[a]=u}for(var r=0,n=arguments.length;r<n;r++)of(arguments[r],t);return e}function o2(e,t,r){return of(t,function(u,a){r&&typeof u=="function"?e[a]=ZE(u,r):e[a]=u}),e}function l2(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Hr={isArray:sf,isArrayBuffer:rp,isBuffer:$E,isFormData:XE,isArrayBufferView:JE,isString:QE,isNumber:e2,isObject:np,isPlainObject:Ya,isUndefined:ql,isDate:t2,isFile:r2,isBlob:n2,isFunction:ip,isStream:i2,isURLSearchParams:u2,isStandardBrowserEnv:s2,forEach:of,merge:zl,extend:o2,trim:a2,stripBOM:l2},au=Hr;function hh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var up=function(t,r,n){if(!r)return t;var u;if(n)u=n(r);else if(au.isURLSearchParams(r))u=r.toString();else{var a=[];au.forEach(r,function(d,p){d===null||typeof d>"u"||(au.isArray(d)?p=p+"[]":d=[d],au.forEach(d,function(f){au.isDate(f)?f=f.toISOString():au.isObject(f)&&(f=JSON.stringify(f)),a.push(hh(p)+"="+hh(f))}))}),u=a.join("&")}if(u){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t},f2=Hr;function Ms(){this.handlers=[]}Ms.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ms.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ms.prototype.forEach=function(t){f2.forEach(this.handlers,function(n){n!==null&&t(n)})};var c2=Ms,h2=Hr,d2=function(t,r){h2.forEach(t,function(u,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(t[r]=u,delete t[a])})},ap=function(t,r,n,u,a){return t.config=r,n&&(t.code=n),t.request=u,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jo,dh;function op(){if(dh)return Jo;dh=1;var e=ap;return Jo=function(r,n,u,a,o){var l=new Error(r);return e(l,n,u,a,o)},Jo}var Qo,ph;function p2(){if(ph)return Qo;ph=1;var e=op();return Qo=function(r,n,u){var a=u.config.validateStatus;!u.status||!a||a(u.status)?r(u):n(e("Request failed with status code "+u.status,u.config,null,u.request,u))},Qo}var el,vh;function v2(){if(vh)return el;vh=1;var e=Hr;return el=e.isStandardBrowserEnv()?function(){return{write:function(n,u,a,o,l,d){var p=[];p.push(n+"="+encodeURIComponent(u)),e.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),e.isString(o)&&p.push("path="+o),e.isString(l)&&p.push("domain="+l),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(n){var u=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),el}var tl,gh;function g2(){return gh||(gh=1,tl=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),tl}var rl,mh;function m2(){return mh||(mh=1,rl=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),rl}var nl,Dh;function D2(){if(Dh)return nl;Dh=1;var e=g2(),t=m2();return nl=function(n,u){return n&&!e(u)?t(n,u):u},nl}var il,_h;function _2(){if(_h)return il;_h=1;var e=Hr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return il=function(n){var u={},a,o,l;return n&&e.forEach(n.split(`
`),function(p){if(l=p.indexOf(":"),a=e.trim(p.substr(0,l)).toLowerCase(),o=e.trim(p.substr(l+1)),a){if(u[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?u[a]=(u[a]?u[a]:[]).concat([o]):u[a]=u[a]?u[a]+", "+o:o}}),u},il}var ul,yh;function y2(){if(yh)return ul;yh=1;var e=Hr;return ul=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),u;function a(o){var l=o;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return u=a(window.location.href),function(l){var d=e.isString(l)?a(l):l;return d.protocol===u.protocol&&d.host===u.host}}():function(){return function(){return!0}}(),ul}var al,bh;function Ps(){if(bh)return al;bh=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,al=e,al}var sl,Ah;function wh(){if(Ah)return sl;Ah=1;var e=Hr,t=p2(),r=v2(),n=up,u=D2(),a=_2(),o=y2(),l=op(),d=sp,p=Ps();return sl=function(f){return new Promise(function(m,b){var g=f.data,D=f.headers,y=f.responseType,C;function w(){f.cancelToken&&f.cancelToken.unsubscribe(C),f.signal&&f.signal.removeEventListener("abort",C)}e.isFormData(g)&&delete D["Content-Type"];var B=new XMLHttpRequest;if(f.auth){var F=f.auth.username||"",O=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";D.Authorization="Basic "+btoa(F+":"+O)}var P=u(f.baseURL,f.url);B.open(f.method.toUpperCase(),n(P,f.params,f.paramsSerializer),!0),B.timeout=f.timeout;function I(){if(B){var G="getAllResponseHeaders"in B?a(B.getAllResponseHeaders()):null,H=!y||y==="text"||y==="json"?B.responseText:B.response,Y={data:H,status:B.status,statusText:B.statusText,headers:G,config:f,request:B};t(function(W){m(W),w()},function(W){b(W),w()},Y),B=null}}if("onloadend"in B?B.onloadend=I:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(I)},B.onabort=function(){B&&(b(l("Request aborted",f,"ECONNABORTED",B)),B=null)},B.onerror=function(){b(l("Network Error",f,null,B)),B=null},B.ontimeout=function(){var H=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",Y=f.transitional||d;f.timeoutErrorMessage&&(H=f.timeoutErrorMessage),b(l(H,f,Y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",B)),B=null},e.isStandardBrowserEnv()){var N=(f.withCredentials||o(P))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;N&&(D[f.xsrfHeaderName]=N)}"setRequestHeader"in B&&e.forEach(D,function(H,Y){typeof g>"u"&&Y.toLowerCase()==="content-type"?delete D[Y]:B.setRequestHeader(Y,H)}),e.isUndefined(f.withCredentials)||(B.withCredentials=!!f.withCredentials),y&&y!=="json"&&(B.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&B.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&B.upload&&B.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(C=function(G){B&&(b(!G||G&&G.type?new p("canceled"):G),B.abort(),B=null)},f.cancelToken&&f.cancelToken.subscribe(C),f.signal&&(f.signal.aborted?C():f.signal.addEventListener("abort",C))),g||(g=null),B.send(g)})},sl}var Sr=Hr,Eh=d2,b2=ap,A2=sp,w2={"Content-Type":"application/x-www-form-urlencoded"};function Fh(e,t){!Sr.isUndefined(e)&&Sr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function E2(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=wh()),e}function F2(e,t,r){if(Sr.isString(e))try{return(t||JSON.parse)(e),Sr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var xs={transitional:A2,adapter:E2(),transformRequest:[function(t,r){return Eh(r,"Accept"),Eh(r,"Content-Type"),Sr.isFormData(t)||Sr.isArrayBuffer(t)||Sr.isBuffer(t)||Sr.isStream(t)||Sr.isFile(t)||Sr.isBlob(t)?t:Sr.isArrayBufferView(t)?t.buffer:Sr.isURLSearchParams(t)?(Fh(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Sr.isObject(t)||r&&r["Content-Type"]==="application/json"?(Fh(r,"application/json"),F2(t)):t}],transformResponse:[function(t){var r=this.transitional||xs.transitional,n=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||u&&Sr.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?b2(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(t){xs.headers[t]={}});Sr.forEach(["post","put","patch"],function(t){xs.headers[t]=Sr.merge(w2)});var lf=xs,C2=Hr,S2=lf,B2=function(t,r,n){var u=this||S2;return C2.forEach(n,function(o){t=o.call(u,t,r)}),t},ol,Ch;function lp(){return Ch||(Ch=1,ol=function(t){return!!(t&&t.__CANCEL__)}),ol}var Sh=Hr,ll=B2,O2=lp(),M2=lf,P2=Ps();function fl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new P2("canceled")}var x2=function(t){fl(t),t.headers=t.headers||{},t.data=ll.call(t,t.data,t.headers,t.transformRequest),t.headers=Sh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Sh.forEach(["delete","get","head","post","put","patch","common"],function(u){delete t.headers[u]});var r=t.adapter||M2.adapter;return r(t).then(function(u){return fl(t),u.data=ll.call(t,u.data,u.headers,t.transformResponse),u},function(u){return O2(u)||(fl(t),u&&u.response&&(u.response.data=ll.call(t,u.response.data,u.response.headers,t.transformResponse))),Promise.reject(u)})},Qr=Hr,fp=function(t,r){r=r||{};var n={};function u(h,f){return Qr.isPlainObject(h)&&Qr.isPlainObject(f)?Qr.merge(h,f):Qr.isPlainObject(f)?Qr.merge({},f):Qr.isArray(f)?f.slice():f}function a(h){if(Qr.isUndefined(r[h])){if(!Qr.isUndefined(t[h]))return u(void 0,t[h])}else return u(t[h],r[h])}function o(h){if(!Qr.isUndefined(r[h]))return u(void 0,r[h])}function l(h){if(Qr.isUndefined(r[h])){if(!Qr.isUndefined(t[h]))return u(void 0,t[h])}else return u(void 0,r[h])}function d(h){if(h in r)return u(t[h],r[h]);if(h in t)return u(void 0,t[h])}var p={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d};return Qr.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var c=p[f]||a,m=c(f);Qr.isUndefined(m)&&c!==d||(n[f]=m)}),n},cl,Bh;function cp(){return Bh||(Bh=1,cl={version:"0.26.1"}),cl}var I2=cp().version,ff={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ff[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Oh={};ff.transitional=function(t,r,n){function u(a,o){return"[Axios v"+I2+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,l){if(t===!1)throw new Error(u(o," has been removed"+(r?" in "+r:"")));return r&&!Oh[o]&&(Oh[o]=!0,console.warn(u(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};function T2(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),u=n.length;u-- >0;){var a=n[u],o=t[a];if(o){var l=e[a],d=l===void 0||o(l,a,e);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}var N2={assertOptions:T2,validators:ff},hp=Hr,k2=up,Mh=c2,Ph=x2,Is=fp,dp=N2,su=dp.validators;function ea(e){this.defaults=e,this.interceptors={request:new Mh,response:new Mh}}ea.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Is(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&dp.assertOptions(n,{silentJSONParsing:su.transitional(su.boolean),forcedJSONParsing:su.transitional(su.boolean),clarifyTimeoutError:su.transitional(su.boolean)},!1);var u=[],a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(a=a&&m.synchronous,u.unshift(m.fulfilled,m.rejected))});var o=[];this.interceptors.response.forEach(function(m){o.push(m.fulfilled,m.rejected)});var l;if(!a){var d=[Ph,void 0];for(Array.prototype.unshift.apply(d,u),d=d.concat(o),l=Promise.resolve(r);d.length;)l=l.then(d.shift(),d.shift());return l}for(var p=r;u.length;){var h=u.shift(),f=u.shift();try{p=h(p)}catch(c){f(c);break}}try{l=Ph(p)}catch(c){return Promise.reject(c)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};ea.prototype.getUri=function(t){return t=Is(this.defaults,t),k2(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};hp.forEach(["delete","get","head","options"],function(t){ea.prototype[t]=function(r,n){return this.request(Is(n||{},{method:t,url:r,data:(n||{}).data}))}});hp.forEach(["post","put","patch"],function(t){ea.prototype[t]=function(r,n,u){return this.request(Is(u||{},{method:t,url:r,data:n}))}});var R2=ea,hl,xh;function L2(){if(xh)return hl;xh=1;var e=Ps();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var u=this;this.promise.then(function(a){if(u._listeners){var o,l=u._listeners.length;for(o=0;o<l;o++)u._listeners[o](a);u._listeners=null}}),this.promise.then=function(a){var o,l=new Promise(function(d){u.subscribe(d),o=d}).then(a);return l.cancel=function(){u.unsubscribe(o)},l},r(function(o){u.reason||(u.reason=new e(o),n(u.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var u=this._listeners.indexOf(n);u!==-1&&this._listeners.splice(u,1)}},t.source=function(){var n,u=new t(function(o){n=o});return{token:u,cancel:n}},hl=t,hl}var dl,Ih;function U2(){return Ih||(Ih=1,dl=function(t){return function(n){return t.apply(null,n)}}),dl}var pl,Th;function j2(){if(Th)return pl;Th=1;var e=Hr;return pl=function(r){return e.isObject(r)&&r.isAxiosError===!0},pl}var Nh=Hr,V2=tp,Ka=R2,q2=fp,z2=lf;function pp(e){var t=new Ka(e),r=V2(Ka.prototype.request,t);return Nh.extend(r,Ka.prototype,t),Nh.extend(r,t),r.create=function(u){return pp(q2(e,u))},r}var qn=pp(z2);qn.Axios=Ka;qn.Cancel=Ps();qn.CancelToken=L2();qn.isCancel=lp();qn.VERSION=cp().version;qn.all=function(t){return Promise.all(t)};qn.spread=U2();qn.isAxiosError=j2();KE.exports=qn;us.default=qn;(function(e){e.exports=us})(YE);var tr={},cf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=is;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class r{constructor(a,o=e.BASE_PATH,l=t.default){this.basePath=o,this.axios=l,a&&(this.configuration=a,this.basePath=a.basePath||this.basePath)}}e.BaseAPI=r;class n extends Error{constructor(a,o){super(o),this.field=a,this.name="RequiredError"}}e.RequiredError=n})(cf);var hf=lr&&lr.__awaiter||function(e,t,r,n){function u(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{p(n.next(h))}catch(f){o(f)}}function d(h){try{p(n.throw(h))}catch(f){o(f)}}function p(h){h.done?a(h.value):u(h.value).then(l,d)}p((n=n.apply(e,t||[])).next())})};Object.defineProperty(tr,"__esModule",{value:!0});tr.createRequestFunction=tr.toPathString=tr.serializeDataIfNeeded=tr.setSearchParams=tr.setOAuthToObject=tr.setBearerAuthToObject=tr.setBasicAuthToObject=tr.setApiKeyToObject=tr.assertParamExists=tr.DUMMY_BASE_URL=void 0;const W2=cf;tr.DUMMY_BASE_URL="https://example.com";tr.assertParamExists=function(e,t,r){if(r==null)throw new W2.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};tr.setApiKeyToObject=function(e,t,r){return hf(this,void 0,void 0,function*(){if(r&&r.apiKey){const n=typeof r.apiKey=="function"?yield r.apiKey(t):yield r.apiKey;e[t]=n}})};tr.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};tr.setBearerAuthToObject=function(e,t){return hf(this,void 0,void 0,function*(){if(t&&t.accessToken){const r=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+r}})};tr.setOAuthToObject=function(e,t,r,n){return hf(this,void 0,void 0,function*(){if(n&&n.accessToken){const u=typeof n.accessToken=="function"?yield n.accessToken(t,r):yield n.accessToken;e.Authorization="Bearer "+u}})};function Wl(e,t,r=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(n=>Wl(e,n,r)):Object.keys(t).forEach(n=>Wl(e,t[n],`${r}${r!==""?".":""}${n}`)):e.has(r)?e.append(r,t):e.set(r,t))}tr.setSearchParams=function(e,...t){const r=new URLSearchParams(e.search);Wl(r,t),e.search=r.toString()};tr.serializeDataIfNeeded=function(e,t,r){const n=typeof e!="string";return(n&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):n)?JSON.stringify(e!==void 0?e:{}):e||""};tr.toPathString=function(e){return e.pathname+e.search+e.hash};tr.createRequestFunction=function(e,t,r,n){return(u=t,a=r)=>{const o=Object.assign(Object.assign({},e.options),{url:((n==null?void 0:n.basePath)||a)+e.url});return u.request(o)}};(function(e){var t=lr&&lr.__awaiter||function(o,l,d,p){function h(f){return f instanceof d?f:new d(function(c){c(f)})}return new(d||(d=Promise))(function(f,c){function m(D){try{g(p.next(D))}catch(y){c(y)}}function b(D){try{g(p.throw(D))}catch(y){c(y)}}function g(D){D.done?f(D.value):h(D.value).then(m,b)}g((p=p.apply(o,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const r=is,n=tr,u=cf;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(o){return{cancelFineTune:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("cancelFineTune","fineTuneId",l);const p="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),createAnswer:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createAnswer","createAnswerRequest",l);const p="/answers",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createChatCompletion:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createChatCompletion","createChatCompletionRequest",l);const p="/chat/completions",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createClassification:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createClassification","createClassificationRequest",l);const p="/classifications",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createCompletion:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createCompletion","createCompletionRequest",l);const p="/completions",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createEdit:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createEdit","createEditRequest",l);const p="/edits",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createEmbedding:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createEmbedding","createEmbeddingRequest",l);const p="/embeddings",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createFile:(l,d,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createFile","file",l),n.assertParamExists("createFile","purpose",d);const h="/files",f=new URL(h,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},c),p),b={},g={},D=new(o&&o.formDataCtor||FormData);l!==void 0&&D.append("file",l),d!==void 0&&D.append("purpose",d),b["Content-Type"]="multipart/form-data",n.setSearchParams(f,g);let y=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},b),D.getHeaders()),y),p.headers),m.data=D,{url:n.toPathString(f),options:m}}),createFineTune:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createFineTune","createFineTuneRequest",l);const p="/fine-tunes",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createImage:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImage","createImageRequest",l);const p="/images/generations",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createImageEdit:(l,d,p,h,f,c,m,b={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImageEdit","image",l),n.assertParamExists("createImageEdit","prompt",d);const g="/images/edits",D=new URL(g,n.DUMMY_BASE_URL);let y;o&&(y=o.baseOptions);const C=Object.assign(Object.assign({method:"POST"},y),b),w={},B={},F=new(o&&o.formDataCtor||FormData);l!==void 0&&F.append("image",l),p!==void 0&&F.append("mask",p),d!==void 0&&F.append("prompt",d),h!==void 0&&F.append("n",h),f!==void 0&&F.append("size",f),c!==void 0&&F.append("response_format",c),m!==void 0&&F.append("user",m),w["Content-Type"]="multipart/form-data",n.setSearchParams(D,B);let O=y&&y.headers?y.headers:{};return C.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),F.getHeaders()),O),b.headers),C.data=F,{url:n.toPathString(D),options:C}}),createImageVariation:(l,d,p,h,f,c={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImageVariation","image",l);const m="/images/variations",b=new URL(m,n.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},g),c),y={},C={},w=new(o&&o.formDataCtor||FormData);l!==void 0&&w.append("image",l),d!==void 0&&w.append("n",d),p!==void 0&&w.append("size",p),h!==void 0&&w.append("response_format",h),f!==void 0&&w.append("user",f),y["Content-Type"]="multipart/form-data",n.setSearchParams(b,C);let B=g&&g.headers?g.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),B),c.headers),D.data=w,{url:n.toPathString(b),options:D}}),createModeration:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createModeration","createModerationRequest",l);const p="/moderations",h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"POST"},f),d),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=n.serializeDataIfNeeded(l,c,o),{url:n.toPathString(h),options:c}}),createSearch:(l,d,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createSearch","engineId",l),n.assertParamExists("createSearch","createSearchRequest",d);const h="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(l))),f=new URL(h,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},c),p),b={},g={};b["Content-Type"]="application/json",n.setSearchParams(f,g);let D=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},b),D),p.headers),m.data=n.serializeDataIfNeeded(d,m,o),{url:n.toPathString(f),options:m}}),createTranscription:(l,d,p,h,f,c,m={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createTranscription","file",l),n.assertParamExists("createTranscription","model",d);const b="/audio/transcriptions",g=new URL(b,n.DUMMY_BASE_URL);let D;o&&(D=o.baseOptions);const y=Object.assign(Object.assign({method:"POST"},D),m),C={},w={},B=new(o&&o.formDataCtor||FormData);l!==void 0&&B.append("file",l),d!==void 0&&B.append("model",d),p!==void 0&&B.append("prompt",p),h!==void 0&&B.append("response_format",h),f!==void 0&&B.append("temperature",f),c!==void 0&&B.append("language",c),C["Content-Type"]="multipart/form-data",n.setSearchParams(g,w);let F=D&&D.headers?D.headers:{};return y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},C),B.getHeaders()),F),m.headers),y.data=B,{url:n.toPathString(g),options:y}}),createTranslation:(l,d,p,h,f,c={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createTranslation","file",l),n.assertParamExists("createTranslation","model",d);const m="/audio/translations",b=new URL(m,n.DUMMY_BASE_URL);let g;o&&(g=o.baseOptions);const D=Object.assign(Object.assign({method:"POST"},g),c),y={},C={},w=new(o&&o.formDataCtor||FormData);l!==void 0&&w.append("file",l),d!==void 0&&w.append("model",d),p!==void 0&&w.append("prompt",p),h!==void 0&&w.append("response_format",h),f!==void 0&&w.append("temperature",f),y["Content-Type"]="multipart/form-data",n.setSearchParams(b,C);let B=g&&g.headers?g.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),B),c.headers),D.data=w,{url:n.toPathString(b),options:D}}),deleteFile:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("deleteFile","fileId",l);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"DELETE"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),deleteModel:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("deleteModel","model",l);const p="/models/{model}".replace("{model}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"DELETE"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),downloadFile:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("downloadFile","fileId",l);const p="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),listEngines:(l={})=>t(this,void 0,void 0,function*(){const d="/engines",p=new URL(d,n.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},h),l),c={},m={};n.setSearchParams(p,m);let b=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},c),b),l.headers),{url:n.toPathString(p),options:f}}),listFiles:(l={})=>t(this,void 0,void 0,function*(){const d="/files",p=new URL(d,n.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},h),l),c={},m={};n.setSearchParams(p,m);let b=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},c),b),l.headers),{url:n.toPathString(p),options:f}}),listFineTuneEvents:(l,d,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("listFineTuneEvents","fineTuneId",l);const h="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(l))),f=new URL(h,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const m=Object.assign(Object.assign({method:"GET"},c),p),b={},g={};d!==void 0&&(g.stream=d),n.setSearchParams(f,g);let D=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},b),D),p.headers),{url:n.toPathString(f),options:m}}),listFineTunes:(l={})=>t(this,void 0,void 0,function*(){const d="/fine-tunes",p=new URL(d,n.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},h),l),c={},m={};n.setSearchParams(p,m);let b=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},c),b),l.headers),{url:n.toPathString(p),options:f}}),listModels:(l={})=>t(this,void 0,void 0,function*(){const d="/models",p=new URL(d,n.DUMMY_BASE_URL);let h;o&&(h=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},h),l),c={},m={};n.setSearchParams(p,m);let b=h&&h.headers?h.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},c),b),l.headers),{url:n.toPathString(p),options:f}}),retrieveEngine:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveEngine","engineId",l);const p="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),retrieveFile:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveFile","fileId",l);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),retrieveFineTune:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveFineTune","fineTuneId",l);const p="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}}),retrieveModel:(l,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveModel","model",l);const p="/models/{model}".replace("{model}",encodeURIComponent(String(l))),h=new URL(p,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),d),m={},b={};n.setSearchParams(h,b);let g=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:n.toPathString(h),options:c}})}},e.OpenAIApiFp=function(o){const l=e.OpenAIApiAxiosParamCreator(o);return{cancelFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield l.cancelFineTune(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createAnswer(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createAnswer(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createChatCompletion(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createChatCompletion(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createClassification(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createClassification(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createCompletion(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createCompletion(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createEdit(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createEdit(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createEmbedding(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createEmbedding(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createFile(d,p,h){return t(this,void 0,void 0,function*(){const f=yield l.createFile(d,p,h);return n.createRequestFunction(f,r.default,u.BASE_PATH,o)})},createFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createFineTune(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createImage(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createImage(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createImageEdit(d,p,h,f,c,m,b,g){return t(this,void 0,void 0,function*(){const D=yield l.createImageEdit(d,p,h,f,c,m,b,g);return n.createRequestFunction(D,r.default,u.BASE_PATH,o)})},createImageVariation(d,p,h,f,c,m){return t(this,void 0,void 0,function*(){const b=yield l.createImageVariation(d,p,h,f,c,m);return n.createRequestFunction(b,r.default,u.BASE_PATH,o)})},createModeration(d,p){return t(this,void 0,void 0,function*(){const h=yield l.createModeration(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},createSearch(d,p,h){return t(this,void 0,void 0,function*(){const f=yield l.createSearch(d,p,h);return n.createRequestFunction(f,r.default,u.BASE_PATH,o)})},createTranscription(d,p,h,f,c,m,b){return t(this,void 0,void 0,function*(){const g=yield l.createTranscription(d,p,h,f,c,m,b);return n.createRequestFunction(g,r.default,u.BASE_PATH,o)})},createTranslation(d,p,h,f,c,m){return t(this,void 0,void 0,function*(){const b=yield l.createTranslation(d,p,h,f,c,m);return n.createRequestFunction(b,r.default,u.BASE_PATH,o)})},deleteFile(d,p){return t(this,void 0,void 0,function*(){const h=yield l.deleteFile(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},deleteModel(d,p){return t(this,void 0,void 0,function*(){const h=yield l.deleteModel(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},downloadFile(d,p){return t(this,void 0,void 0,function*(){const h=yield l.downloadFile(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},listEngines(d){return t(this,void 0,void 0,function*(){const p=yield l.listEngines(d);return n.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFiles(d){return t(this,void 0,void 0,function*(){const p=yield l.listFiles(d);return n.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listFineTuneEvents(d,p,h){return t(this,void 0,void 0,function*(){const f=yield l.listFineTuneEvents(d,p,h);return n.createRequestFunction(f,r.default,u.BASE_PATH,o)})},listFineTunes(d){return t(this,void 0,void 0,function*(){const p=yield l.listFineTunes(d);return n.createRequestFunction(p,r.default,u.BASE_PATH,o)})},listModels(d){return t(this,void 0,void 0,function*(){const p=yield l.listModels(d);return n.createRequestFunction(p,r.default,u.BASE_PATH,o)})},retrieveEngine(d,p){return t(this,void 0,void 0,function*(){const h=yield l.retrieveEngine(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveFile(d,p){return t(this,void 0,void 0,function*(){const h=yield l.retrieveFile(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield l.retrieveFineTune(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})},retrieveModel(d,p){return t(this,void 0,void 0,function*(){const h=yield l.retrieveModel(d,p);return n.createRequestFunction(h,r.default,u.BASE_PATH,o)})}}},e.OpenAIApiFactory=function(o,l,d){const p=e.OpenAIApiFp(o);return{cancelFineTune(h,f){return p.cancelFineTune(h,f).then(c=>c(d,l))},createAnswer(h,f){return p.createAnswer(h,f).then(c=>c(d,l))},createChatCompletion(h,f){return p.createChatCompletion(h,f).then(c=>c(d,l))},createClassification(h,f){return p.createClassification(h,f).then(c=>c(d,l))},createCompletion(h,f){return p.createCompletion(h,f).then(c=>c(d,l))},createEdit(h,f){return p.createEdit(h,f).then(c=>c(d,l))},createEmbedding(h,f){return p.createEmbedding(h,f).then(c=>c(d,l))},createFile(h,f,c){return p.createFile(h,f,c).then(m=>m(d,l))},createFineTune(h,f){return p.createFineTune(h,f).then(c=>c(d,l))},createImage(h,f){return p.createImage(h,f).then(c=>c(d,l))},createImageEdit(h,f,c,m,b,g,D,y){return p.createImageEdit(h,f,c,m,b,g,D,y).then(C=>C(d,l))},createImageVariation(h,f,c,m,b,g){return p.createImageVariation(h,f,c,m,b,g).then(D=>D(d,l))},createModeration(h,f){return p.createModeration(h,f).then(c=>c(d,l))},createSearch(h,f,c){return p.createSearch(h,f,c).then(m=>m(d,l))},createTranscription(h,f,c,m,b,g,D){return p.createTranscription(h,f,c,m,b,g,D).then(y=>y(d,l))},createTranslation(h,f,c,m,b,g){return p.createTranslation(h,f,c,m,b,g).then(D=>D(d,l))},deleteFile(h,f){return p.deleteFile(h,f).then(c=>c(d,l))},deleteModel(h,f){return p.deleteModel(h,f).then(c=>c(d,l))},downloadFile(h,f){return p.downloadFile(h,f).then(c=>c(d,l))},listEngines(h){return p.listEngines(h).then(f=>f(d,l))},listFiles(h){return p.listFiles(h).then(f=>f(d,l))},listFineTuneEvents(h,f,c){return p.listFineTuneEvents(h,f,c).then(m=>m(d,l))},listFineTunes(h){return p.listFineTunes(h).then(f=>f(d,l))},listModels(h){return p.listModels(h).then(f=>f(d,l))},retrieveEngine(h,f){return p.retrieveEngine(h,f).then(c=>c(d,l))},retrieveFile(h,f){return p.retrieveFile(h,f).then(c=>c(d,l))},retrieveFineTune(h,f){return p.retrieveFineTune(h,f).then(c=>c(d,l))},retrieveModel(h,f){return p.retrieveModel(h,f).then(c=>c(d,l))}}};class a extends u.BaseAPI{cancelFineTune(l,d){return e.OpenAIApiFp(this.configuration).cancelFineTune(l,d).then(p=>p(this.axios,this.basePath))}createAnswer(l,d){return e.OpenAIApiFp(this.configuration).createAnswer(l,d).then(p=>p(this.axios,this.basePath))}createChatCompletion(l,d){return e.OpenAIApiFp(this.configuration).createChatCompletion(l,d).then(p=>p(this.axios,this.basePath))}createClassification(l,d){return e.OpenAIApiFp(this.configuration).createClassification(l,d).then(p=>p(this.axios,this.basePath))}createCompletion(l,d){return e.OpenAIApiFp(this.configuration).createCompletion(l,d).then(p=>p(this.axios,this.basePath))}createEdit(l,d){return e.OpenAIApiFp(this.configuration).createEdit(l,d).then(p=>p(this.axios,this.basePath))}createEmbedding(l,d){return e.OpenAIApiFp(this.configuration).createEmbedding(l,d).then(p=>p(this.axios,this.basePath))}createFile(l,d,p){return e.OpenAIApiFp(this.configuration).createFile(l,d,p).then(h=>h(this.axios,this.basePath))}createFineTune(l,d){return e.OpenAIApiFp(this.configuration).createFineTune(l,d).then(p=>p(this.axios,this.basePath))}createImage(l,d){return e.OpenAIApiFp(this.configuration).createImage(l,d).then(p=>p(this.axios,this.basePath))}createImageEdit(l,d,p,h,f,c,m,b){return e.OpenAIApiFp(this.configuration).createImageEdit(l,d,p,h,f,c,m,b).then(g=>g(this.axios,this.basePath))}createImageVariation(l,d,p,h,f,c){return e.OpenAIApiFp(this.configuration).createImageVariation(l,d,p,h,f,c).then(m=>m(this.axios,this.basePath))}createModeration(l,d){return e.OpenAIApiFp(this.configuration).createModeration(l,d).then(p=>p(this.axios,this.basePath))}createSearch(l,d,p){return e.OpenAIApiFp(this.configuration).createSearch(l,d,p).then(h=>h(this.axios,this.basePath))}createTranscription(l,d,p,h,f,c,m){return e.OpenAIApiFp(this.configuration).createTranscription(l,d,p,h,f,c,m).then(b=>b(this.axios,this.basePath))}createTranslation(l,d,p,h,f,c){return e.OpenAIApiFp(this.configuration).createTranslation(l,d,p,h,f,c).then(m=>m(this.axios,this.basePath))}deleteFile(l,d){return e.OpenAIApiFp(this.configuration).deleteFile(l,d).then(p=>p(this.axios,this.basePath))}deleteModel(l,d){return e.OpenAIApiFp(this.configuration).deleteModel(l,d).then(p=>p(this.axios,this.basePath))}downloadFile(l,d){return e.OpenAIApiFp(this.configuration).downloadFile(l,d).then(p=>p(this.axios,this.basePath))}listEngines(l){return e.OpenAIApiFp(this.configuration).listEngines(l).then(d=>d(this.axios,this.basePath))}listFiles(l){return e.OpenAIApiFp(this.configuration).listFiles(l).then(d=>d(this.axios,this.basePath))}listFineTuneEvents(l,d,p){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(l,d,p).then(h=>h(this.axios,this.basePath))}listFineTunes(l){return e.OpenAIApiFp(this.configuration).listFineTunes(l).then(d=>d(this.axios,this.basePath))}listModels(l){return e.OpenAIApiFp(this.configuration).listModels(l).then(d=>d(this.axios,this.basePath))}retrieveEngine(l,d){return e.OpenAIApiFp(this.configuration).retrieveEngine(l,d).then(p=>p(this.axios,this.basePath))}retrieveFile(l,d){return e.OpenAIApiFp(this.configuration).retrieveFile(l,d).then(p=>p(this.axios,this.basePath))}retrieveFineTune(l,d){return e.OpenAIApiFp(this.configuration).retrieveFineTune(l,d).then(p=>p(this.axios,this.basePath))}retrieveModel(l,d){return e.OpenAIApiFp(this.configuration).retrieveModel(l,d).then(p=>p(this.axios,this.basePath))}}e.OpenAIApi=a})(ep);var Ts={};const H2="openai",G2="3.2.1",Y2="Node.js library for the OpenAI API",K2={type:"git",url:"git@github.com:openai/openai-node.git"},Z2=["openai","open","ai","gpt-3","gpt3"],$2="OpenAI",X2="MIT",J2="./dist/index.js",Q2="./dist/index.d.ts",eF={build:"tsc --outDir dist/"},tF={axios:"^0.26.0","form-data":"^4.0.0"},rF={"@types/node":"^12.11.5",typescript:"^3.6.4"},nF={name:H2,version:G2,description:Y2,repository:K2,keywords:Z2,author:$2,license:X2,main:J2,types:Q2,scripts:eF,dependencies:tF,devDependencies:rF};var vl,kh;function iF(){return kh||(kh=1,vl=typeof self=="object"?self.FormData:window.FormData),vl}Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Configuration=void 0;const uF=nF;class aF{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${uF.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=iF())}isJsonMime(t){const r=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(r.test(t)||t.toLowerCase()==="application/json-patch+json")}}Ts.Configuration=aF;(function(e){var t=lr&&lr.__createBinding||(Object.create?function(n,u,a,o){o===void 0&&(o=a),Object.defineProperty(n,o,{enumerable:!0,get:function(){return u[a]}})}:function(n,u,a,o){o===void 0&&(o=a),n[o]=u[a]}),r=lr&&lr.__exportStar||function(n,u){for(var a in n)a!=="default"&&!u.hasOwnProperty(a)&&t(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ep,e),r(Ts,e)})(Vl);function df(e){const t=new Vl.Configuration({apiKey:e});return new Vl.OpenAIApi(t)}async function sF(e,t,r="text-davinci-003"){return await e.createCompletion({model:r,prompt:t,temperature:.8,max_tokens:250})}async function oF(e,t,r="gpt-3.5-turbo"){return await e.createChatCompletion({model:r,messages:[{role:"user",content:t}],temperature:.8,max_tokens:250})}async function lF(e,t,r="text-embedding-ada-002"){return await e.createEmbedding({model:r,input:t})}async function fF(e){return await e.listModels()}const gl="preferredEmbeddingModelStore";function cF(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[gl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[gl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[gl],r(""))}}}const Hl=cF(),vp=On(Hl,e=>Lt(Hl)),ml="oKeyStore";function hF(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[ml]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[ml]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[ml],r(""))}}}const as=hF(),pf=On(as,e=>Lt(as));var ss={},dF={get exports(){return ss},set exports(e){ss=e}},os={},pF={get exports(){return os},set exports(e){os=e}},cu=typeof Reflect=="object"?Reflect:null,Rh=cu&&typeof cu.apply=="function"?cu.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Za;cu&&typeof cu.ownKeys=="function"?Za=cu.ownKeys:Object.getOwnPropertySymbols?Za=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Za=function(t){return Object.getOwnPropertyNames(t)};function vF(e){console&&console.warn&&console.warn(e)}var gp=Number.isNaN||function(t){return t!==t};function St(){St.init.call(this)}pF.exports=St;os.once=_F;St.EventEmitter=St;St.prototype._events=void 0;St.prototype._eventsCount=0;St.prototype._maxListeners=void 0;var Lh=10;function Ns(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(St,"defaultMaxListeners",{enumerable:!0,get:function(){return Lh},set:function(e){if(typeof e!="number"||e<0||gp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Lh=e}});St.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};St.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||gp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function mp(e){return e._maxListeners===void 0?St.defaultMaxListeners:e._maxListeners}St.prototype.getMaxListeners=function(){return mp(this)};St.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var u=t==="error",a=this._events;if(a!==void 0)u=u&&a.error===void 0;else if(!u)return!1;if(u){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var d=a[t];if(d===void 0)return!1;if(typeof d=="function")Rh(d,this,r);else for(var p=d.length,h=Ap(d,p),n=0;n<p;++n)Rh(h[n],this,r);return!0};function Dp(e,t,r,n){var u,a,o;if(Ns(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),o===void 0)o=a[t]=r,++e._eventsCount;else if(typeof o=="function"?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),u=mp(e),u>0&&o.length>u&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,vF(l)}return e}St.prototype.addListener=function(t,r){return Dp(this,t,r,!1)};St.prototype.on=St.prototype.addListener;St.prototype.prependListener=function(t,r){return Dp(this,t,r,!0)};function gF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=gF.bind(n);return u.listener=r,n.wrapFn=u,u}St.prototype.once=function(t,r){return Ns(r),this.on(t,_p(this,t,r)),this};St.prototype.prependOnceListener=function(t,r){return Ns(r),this.prependListener(t,_p(this,t,r)),this};St.prototype.removeListener=function(t,r){var n,u,a,o,l;if(Ns(r),u=this._events,u===void 0)return this;if(n=u[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,a=o;break}if(a<0)return this;a===0?n.shift():mF(n,a),n.length===1&&(u[t]=n[0]),u.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};St.prototype.off=St.prototype.removeListener;St.prototype.removeAllListeners=function(t){var r,n,u;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),o;for(u=0;u<a.length;++u)o=a[u],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function yp(e,t,r){var n=e._events;if(n===void 0)return[];var u=n[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?DF(u):Ap(u,u.length)}St.prototype.listeners=function(t){return yp(this,t,!0)};St.prototype.rawListeners=function(t){return yp(this,t,!1)};St.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):bp.call(e,t)};St.prototype.listenerCount=bp;function bp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}St.prototype.eventNames=function(){return this._eventsCount>0?Za(this._events):[]};function Ap(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function mF(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function DF(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function _F(e,t){return new Promise(function(r,n){function u(o){e.removeListener(t,a),n(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}wp(e,t,a,{once:!0}),t!=="error"&&yF(e,u,{once:!0})})}function yF(e,t,r){typeof e.on=="function"&&wp(e,"error",t,r)}function wp(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(a){n.once&&e.removeEventListener(t,u),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function bF(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var AF=bF;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var wF=function(e){return e!=null&&(Ep(e)||EF(e)||!!e._isBuffer)};function Ep(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function EF(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Ep(e.slice(0,0))}var FF=AF,CF=wF,SF=typeof Float64Array<"u";function BF(e,t){return e[0]-t[0]}function OF(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(BF);var n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=t[r][1];return n}function MF(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n=e==="generic";if(t===-1){var u="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",g=new Function(u);return g()}else if(t===0){var u="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",g=new Function("TrivialArray",u);return g(ls[e][0])}var u=["'use strict'"],a=FF(t),o=a.map(function(D){return"i"+D}),l="this.offset+"+a.map(function(D){return"this.stride["+D+"]*i"+D}).join("+"),d=a.map(function(D){return"b"+D}).join(","),p=a.map(function(D){return"c"+D}).join(",");u.push("function "+r+"(a,"+d+","+p+",d){this.data=a","this.shape=["+d+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),u.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(D){return"this.shape["+D+"]"}).join("*"),"}})"),t===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),t<4?(u.push("function "+r+"_order(){"),t===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+r+"_set("+o.join(",")+",v){"),n?u.push("return this.data.set("+l+",v)}"):u.push("return this.data["+l+"]=v}"),u.push("proto.get=function "+r+"_get("+o.join(",")+"){"),n?u.push("return this.data.get("+l+")}"):u.push("return this.data["+l+"]}"),u.push("proto.index=function "+r+"_index(",o.join(),"){return "+l+"}"),u.push("proto.hi=function "+r+"_hi("+o.join(",")+"){return new "+r+"(this.data,"+a.map(function(D){return["(typeof i",D,"!=='number'||i",D,"<0)?this.shape[",D,"]:i",D,"|0"].join("")}).join(",")+","+a.map(function(D){return"this.stride["+D+"]"}).join(",")+",this.offset)}");var h=a.map(function(D){return"a"+D+"=this.shape["+D+"]"}),f=a.map(function(D){return"c"+D+"=this.stride["+D+"]"});u.push("proto.lo=function "+r+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+f.join(","));for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'&&i"+c+">=0){d=i"+c+"|0;b+=c"+c+"*d;a"+c+"-=d}");u.push("return new "+r+"(this.data,"+a.map(function(D){return"a"+D}).join(",")+","+a.map(function(D){return"c"+D}).join(",")+",b)}"),u.push("proto.step=function "+r+"_step("+o.join(",")+"){var "+a.map(function(D){return"a"+D+"=this.shape["+D+"]"}).join(",")+","+a.map(function(D){return"b"+D+"=this.stride["+D+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'){d=i"+c+"|0;if(d<0){c+=b"+c+"*(a"+c+"-1);a"+c+"=ceil(-a"+c+"/d)}else{a"+c+"=ceil(a"+c+"/d)}b"+c+"*=d}");u.push("return new "+r+"(this.data,"+a.map(function(D){return"a"+D}).join(",")+","+a.map(function(D){return"b"+D}).join(",")+",c)}");for(var m=new Array(t),b=new Array(t),c=0;c<t;++c)m[c]="a[i"+c+"]",b[c]="b[i"+c+"]";u.push("proto.transpose=function "+r+"_transpose("+o+"){"+o.map(function(D,y){return D+"=("+D+"===undefined?"+y+":"+D+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+m.join(",")+","+b.join(",")+",this.offset)}"),u.push("proto.pick=function "+r+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'&&i"+c+">=0){c=(c+this.stride["+c+"]*i"+c+")|0}else{a.push(this.shape["+c+"]);b.push(this.stride["+c+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(D){return"shape["+D+"]"}).join(",")+","+a.map(function(D){return"stride["+D+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",u.join(`
`));return g(ls[e],OF)}function PF(e){if(CF(e))return"buffer";if(SF)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var ls={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function xF(e,t,r,n){if(e===void 0){var p=ls.array[0];return p([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var u=t.length;if(r===void 0){r=new Array(u);for(var a=u-1,o=1;a>=0;--a)r[a]=o,o*=t[a]}if(n===void 0){n=0;for(var a=0;a<u;++a)r[a]<0&&(n-=(t[a]-1)*r[a])}for(var l=PF(e),d=ls[l];d.length<=u+1;)d.push(MF(l,d.length-1));var p=d[u+1];return p(e,t,r,n)}var gu=xF,ks={};function IF(e,t){for(var r=1,n=e.length,u=e[0],a=e[0],o=1;o<n;++o)if(a=u,u=e[o],t(u,a)){if(o===r){r++;continue}e[r++]=u}return e.length=r,e}function TF(e){for(var t=1,r=e.length,n=e[0],u=e[0],a=1;a<r;++a,u=n)if(u=n,n=e[a],n!==u){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}function NF(e,t,r){return e.length===0?e:t?(r||e.sort(t),IF(e,t)):(r||e.sort(),TF(e))}var Fp=NF,kF=Fp;function Cp(e,t,r){var n=e.length,u=t.arrayArgs.length,a=t.indexArgs.length>0,o=[],l=[],d=0,p=0,h,f;for(h=0;h<n;++h)l.push(["i",h,"=0"].join(""));for(f=0;f<u;++f)for(h=0;h<n;++h)p=d,d=e[h],h===0?l.push(["d",f,"s",h,"=t",f,"p",d].join("")):l.push(["d",f,"s",h,"=(t",f,"p",d,"-s",p,"*t",f,"p",p,")"].join(""));for(l.length>0&&o.push("var "+l.join(",")),h=n-1;h>=0;--h)d=e[h],o.push(["for(i",h,"=0;i",h,"<s",d,";++i",h,"){"].join(""));for(o.push(r),h=0;h<n;++h){for(p=d,d=e[h],f=0;f<u;++f)o.push(["p",f,"+=d",f,"s",h].join(""));a&&(h>0&&o.push(["index[",p,"]-=s",p].join("")),o.push(["++index[",d,"]"].join(""))),o.push("}")}return o.join(`
`)}function RF(e,t,r,n){for(var u=t.length,a=r.arrayArgs.length,o=r.blockSize,l=r.indexArgs.length>0,d=[],p=0;p<a;++p)d.push(["var offset",p,"=p",p].join(""));for(var p=e;p<u;++p)d.push(["for(var j"+p+"=SS[",t[p],"]|0;j",p,">0;){"].join("")),d.push(["if(j",p,"<",o,"){"].join("")),d.push(["s",t[p],"=j",p].join("")),d.push(["j",p,"=0"].join("")),d.push(["}else{s",t[p],"=",o].join("")),d.push(["j",p,"-=",o,"}"].join("")),l&&d.push(["index[",t[p],"]=j",p].join(""));for(var p=0;p<a;++p){for(var h=["offset"+p],f=e;f<u;++f)h.push(["j",f,"*t",p,"p",t[f]].join(""));d.push(["p",p,"=(",h.join("+"),")"].join(""))}d.push(Cp(t,r,n));for(var p=e;p<u;++p)d.push("}");return d.join(`
`)}function LF(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function Dl(e,t,r){for(var n=e.body,u=[],a=[],o=0;o<e.args.length;++o){var l=e.args[o];if(!(l.count<=0)){var d=new RegExp(l.name,"g"),p="",h=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var f=t.offsetArgIndex.indexOf(o),c=t.offsetArgs[f];h=c.array,p="+q"+f;case"array":p="p"+h+p;var m="l"+o,b="a"+h;if(t.arrayBlockIndices[h]===0)l.count===1?r[h]==="generic"?l.lvalue?(u.push(["var ",m,"=",b,".get(",p,")"].join("")),n=n.replace(d,m),a.push([b,".set(",p,",",m,")"].join(""))):n=n.replace(d,[b,".get(",p,")"].join("")):n=n.replace(d,[b,"[",p,"]"].join("")):r[h]==="generic"?(u.push(["var ",m,"=",b,".get(",p,")"].join("")),n=n.replace(d,m),l.lvalue&&a.push([b,".set(",p,",",m,")"].join(""))):(u.push(["var ",m,"=",b,"[",p,"]"].join("")),n=n.replace(d,m),l.lvalue&&a.push([b,"[",p,"]=",m].join("")));else{for(var g=[l.name],D=[p],y=0;y<Math.abs(t.arrayBlockIndices[h]);y++)g.push("\\s*\\[([^\\]]+)\\]"),D.push("$"+(y+1)+"*t"+h+"b"+y);if(d=new RegExp(g.join(""),"g"),p=D.join("+"),r[h]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(d,[b,"[",p,"]"].join(""))}break;case"scalar":n=n.replace(d,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(d,"index");break;case"shape":n=n.replace(d,"shape");break}}}return[u.join(`
`),n,a.join(`
`)].join(`
`).trim()}function UF(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var u=e[n],a=u.match(/\d+/);a?a=a[0]:a="",u.charAt(0)===0?t[n]="u"+u.charAt(1)+a:t[n]=u.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function jF(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,n=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)u[a]=t[2*a],n[a]=t[2*a+1];for(var o=[],l=[],d=[],p=[],h=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(d.push(0),p.push(r),o.push(r),l.push(r+e.arrayBlockIndices[a])):(d.push(e.arrayBlockIndices[a]),p.push(e.arrayBlockIndices[a]+r),o.push(0),l.push(e.arrayBlockIndices[a]));for(var f=[],c=0;c<n[a].length;c++)d[a]<=n[a][c]&&n[a][c]<p[a]&&f.push(n[a][c]-d[a]);h.push(f)}for(var m=["SS"],b=["'use strict'"],g=[],c=0;c<r;++c)g.push(["s",c,"=SS[",c,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){m.push("a"+a),m.push("t"+a),m.push("p"+a);for(var c=0;c<r;++c)g.push(["t",a,"p",c,"=t",a,"[",d[a]+c,"]"].join(""));for(var c=0;c<Math.abs(e.arrayBlockIndices[a]);++c)g.push(["t",a,"b",c,"=t",a,"[",o[a]+c,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)m.push("Y"+a);if(e.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var D=new Array(r),a=0;a<r;++a)D[a]="0";g.push(["index=[",D.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var y=e.offsetArgs[a],C=[],c=0;c<y.offset.length;++c)y.offset[c]!==0&&(y.offset[c]===1?C.push(["t",y.array,"p",c].join("")):C.push([y.offset[c],"*t",y.array,"p",c].join("")));C.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",C.join("+")].join(""))}var w=kF([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));g=g.concat(w),g.length>0&&b.push("var "+g.join(","));for(var a=0;a<e.arrayArgs.length;++a)b.push("p"+a+"|=0");e.pre.body.length>3&&b.push(Dl(e.pre,e,u));var B=Dl(e.body,e,u),F=LF(h);F<r?b.push(RF(F,h[0],e,B)):b.push(Cp(h[0],e,B)),e.post.body.length>3&&b.push(Dl(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+b.join(`
`)+`
----------`);var O=[e.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",F,UF(u)].join(""),P=new Function(["function ",O,"(",m.join(","),"){",b.join(`
`),"} return ",O].join(""));return P()}var VF=jF,qF=VF;function zF(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var u=[],a=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],d=[],p=0;p<e.arrayArgs.length;++p){var h=e.arrayArgs[p];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),u.push("t"+h),u.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),o.push("array"+h+".data"),o.push("array"+h+".stride"),o.push("array"+h+".offset|0"),p>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[p]))),d.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[p])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var p=0;p<e.scalarArgs.length;++p)o.push("scalar"+e.scalarArgs[p]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",u.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var f=new Function("compile",t.join(`
`));return f(qF.bind(void 0,e))}var WF=zF,HF=WF;function GF(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function YF(e){var t=new GF;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var n=0;n<r.length;++n){var u=r[n];if(u==="array"||typeof u=="object"&&u.blockIndices){if(t.argTypes[n]="array",t.arrayArgs.push(n),t.arrayBlockIndices.push(u.blockIndices?u.blockIndices:0),t.shimArgs.push("array"+n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if(u==="scalar")t.scalarArgs.push(n),t.shimArgs.push("scalar"+n);else if(u==="index"){if(t.indexArgs.push(n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if(u==="shape"){if(t.shapeArgs.push(n),n<t.pre.args.length&&t.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<t.post.args.length&&t.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof u=="object"&&u.offset)t.argTypes[n]="offset",t.offsetArgs.push({array:u.array,offset:u.offset}),t.offsetArgIndex.push(n);else throw new Error("cwise: Unknown argument type "+r[n])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,HF(t)}var vf=YF;(function(e){var t=vf,r={body:"",args:[],thisVars:[],localVars:[]};function n(c){if(!c)return r;for(var m=0;m<c.args.length;++m){var b=c.args[m];m===0?c.args[m]={name:b,lvalue:!0,rvalue:!!c.rvalue,count:c.count||1}:c.args[m]={name:b,lvalue:!1,rvalue:!0,count:1}}return c.thisVars||(c.thisVars=[]),c.localVars||(c.localVars=[]),c}function u(c){return t({args:c.args,pre:n(c.pre),body:n(c.body),post:n(c.proc),funcName:c.funcName})}function a(c){for(var m=[],b=0;b<c.args.length;++b)m.push("a"+b);var g=new Function("P",["return function ",c.funcName,"_ndarrayops(",m.join(","),") {P(",m.join(","),");return a0}"].join(""));return g(u(c))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var c in o){var m=o[c];e[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:c}),e[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+m+"=b"},rvalue:!0,funcName:c+"eq"}),e[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:c+"s"}),e[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+m+"=s"},rvalue:!0,funcName:c+"seq"})}})();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var c in l){var m=l[c];e[c]=a({args:["array","array"],body:{args:["a","b"],body:"a="+m+"b"},funcName:c}),e[c+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+m+"a"},rvalue:!0,count:2,funcName:c+"eq"})}})();var d={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var c in d){var m=d[c];e[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:c}),e[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:c+"s"}),e[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+m+"b"},rvalue:!0,count:2,funcName:c+"eq"}),e[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+m+"s"},rvalue:!0,count:2,funcName:c+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var c=0;c<p.length;++c){var m=p[c];e[m]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:m}),e[m+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"})}})();var h=["max","min","atan2","pow"];(function(){for(var c=0;c<h.length;++c){var m=h[c];e[m]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m}),e[m+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m+"s"}),e[m+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"}),e[m+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"seq"})}})();var f=["atan2","pow"];(function(){for(var c=0;c<f.length;++c){var m=f[c];e[m+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"op"}),e[m+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"ops"}),e[m+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opeq"}),e[m+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(ks);var KF=vf({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64}),Uh=gu,ZF=KF,$F=function(t,r){for(var n=[],u=t,a=1;Array.isArray(u);)n.push(u.length),a*=u.length,u=u[0];return n.length===0?Uh():(r||(r=Uh(new Float64Array(a),n)),ZF(r,t),r)};function Sp(e,t,r){var n=e[r]|0;if(n<=0)return[];var u=new Array(n),a;if(r===e.length-1)for(a=0;a<n;++a)u[a]=t;else for(a=0;a<n;++a)u[a]=Sp(e,t,r+1);return u}function XF(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function JF(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return XF(e|0,t);break;case"object":if(typeof e.length=="number")return Sp(e,t,0);break}return[]}var QF=JF,Bp={};(function(e){(function(t,r){r(e)})(lr,function(t){var r,n,u,a,o,l,d,p,h,f,c,m,b,g,D,y,C,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},n={},n[r.BooleanLiteral]="Boolean",n[r.EOF]="<end>",n[r.Identifier]="Identifier",n[r.Keyword]="Keyword",n[r.NullLiteral]="Null",n[r.NumericLiteral]="Numeric",n[r.Punctuator]="Punctuator",n[r.StringLiteral]="String",n[r.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},l={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},d={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")};function B(_,E){if(!_)throw new Error("ASSERT: "+E)}function F(_){return _>=48&&_<=57}function O(_){return"0123456789abcdefABCDEF".indexOf(_)>=0}function P(_){return"01234567".indexOf(_)>=0}function I(_){return _===32||_===9||_===11||_===12||_===160||_>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(_)>=0}function N(_){return _===10||_===13||_===8232||_===8233}function G(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_===92||_>=128&&d.NonAsciiIdentifierStart.test(String.fromCharCode(_))}function H(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_>=48&&_<=57||_===92||_>=128&&d.NonAsciiIdentifierPart.test(String.fromCharCode(_))}function Y(_){switch(_){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function q(_){switch(_){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function W(_){return _==="eval"||_==="arguments"}function R(_){if(f&&q(_))return!0;switch(_.length){case 2:return _==="if"||_==="in"||_==="do";case 3:return _==="var"||_==="for"||_==="new"||_==="try"||_==="let";case 4:return _==="this"||_==="else"||_==="case"||_==="void"||_==="with"||_==="enum";case 5:return _==="while"||_==="break"||_==="catch"||_==="throw"||_==="const"||_==="yield"||_==="class"||_==="super";case 6:return _==="return"||_==="typeof"||_==="delete"||_==="switch"||_==="export"||_==="import";case 7:return _==="default"||_==="finally"||_==="extends";case 8:return _==="function"||_==="continue"||_==="debugger";case 10:return _==="instanceof";default:return!1}}function z(_,E,k,$,ce){var Ce;B(typeof k=="number","Comment must have valid position"),!(C.lastCommentStart>=k)&&(C.lastCommentStart=k,Ce={type:_,value:E},w.range&&(Ce.range=[k,$]),w.loc&&(Ce.loc=ce),w.comments.push(Ce),w.attachComment&&(w.leadingComments.push(Ce),w.trailingComments.push(Ce)))}function ee(_){var E,k,$,ce;for(E=c-_,k={start:{line:m,column:c-b-_}};c<g;)if($=h.charCodeAt(c),++c,N($)){w.comments&&(ce=h.slice(E+_,c-1),k.end={line:m,column:c-b-1},z("Line",ce,E,c-1,k)),$===13&&h.charCodeAt(c)===10&&++c,++m,b=c;return}w.comments&&(ce=h.slice(E+_,c),k.end={line:m,column:c-b},z("Line",ce,E,c,k))}function ue(){var _,E,k,$;for(w.comments&&(_=c-2,E={start:{line:m,column:c-b-2}});c<g;)if(k=h.charCodeAt(c),N(k))k===13&&h.charCodeAt(c+1)===10&&++c,++m,++c,b=c,c>=g&&j({},l.UnexpectedToken,"ILLEGAL");else if(k===42){if(h.charCodeAt(c+1)===47){++c,++c,w.comments&&($=h.slice(_+2,c-2),E.end={line:m,column:c-b},z("Block",$,_,c,E));return}++c}else++c;j({},l.UnexpectedToken,"ILLEGAL")}function he(){var _,E;for(E=c===0;c<g;)if(_=h.charCodeAt(c),I(_))++c;else if(N(_))++c,_===13&&h.charCodeAt(c)===10&&++c,++m,b=c,E=!0;else if(_===47)if(_=h.charCodeAt(c+1),_===47)++c,++c,ee(2),E=!0;else if(_===42)++c,++c,ue();else break;else if(E&&_===45)if(h.charCodeAt(c+1)===45&&h.charCodeAt(c+2)===62)c+=3,ee(3);else break;else if(_===60)if(h.slice(c+1,c+4)==="!--")++c,++c,++c,++c,ee(4);else break;else break}function De(_){var E,k,$,ce=0;for(k=_==="u"?4:2,E=0;E<k;++E)if(c<g&&O(h[c]))$=h[c++],ce=ce*16+"0123456789abcdef".indexOf($.toLowerCase());else return"";return String.fromCharCode(ce)}function be(){var _,E;for(_=h.charCodeAt(c++),E=String.fromCharCode(_),_===92&&(h.charCodeAt(c)!==117&&j({},l.UnexpectedToken,"ILLEGAL"),++c,_=De("u"),(!_||_==="\\"||!G(_.charCodeAt(0)))&&j({},l.UnexpectedToken,"ILLEGAL"),E=_);c<g&&(_=h.charCodeAt(c),!!H(_));)++c,E+=String.fromCharCode(_),_===92&&(E=E.substr(0,E.length-1),h.charCodeAt(c)!==117&&j({},l.UnexpectedToken,"ILLEGAL"),++c,_=De("u"),(!_||_==="\\"||!H(_.charCodeAt(0)))&&j({},l.UnexpectedToken,"ILLEGAL"),E+=_);return E}function Be(){var _,E;for(_=c++;c<g;){if(E=h.charCodeAt(c),E===92)return c=_,be();if(H(E))++c;else break}return h.slice(_,c)}function ye(){var _,E,k;return _=c,E=h.charCodeAt(c)===92?be():Be(),E.length===1?k=r.Identifier:R(E)?k=r.Keyword:E==="null"?k=r.NullLiteral:E==="true"||E==="false"?k=r.BooleanLiteral:k=r.Identifier,{type:k,value:E,lineNumber:m,lineStart:b,start:_,end:c}}function xe(){var _=c,E=h.charCodeAt(c),k,$=h[c],ce,Ce,et;switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++c,w.tokenize&&(E===40?w.openParenToken=w.tokens.length:E===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(E),lineNumber:m,lineStart:b,start:_,end:c};default:if(k=h.charCodeAt(c+1),k===61)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return c+=2,{type:r.Punctuator,value:String.fromCharCode(E)+String.fromCharCode(k),lineNumber:m,lineStart:b,start:_,end:c};case 33:case 61:return c+=2,h.charCodeAt(c)===61&&++c,{type:r.Punctuator,value:h.slice(_,c),lineNumber:m,lineStart:b,start:_,end:c}}}if(et=h.substr(c,4),et===">>>=")return c+=4,{type:r.Punctuator,value:et,lineNumber:m,lineStart:b,start:_,end:c};if(Ce=et.substr(0,3),Ce===">>>"||Ce==="<<="||Ce===">>=")return c+=3,{type:r.Punctuator,value:Ce,lineNumber:m,lineStart:b,start:_,end:c};if(ce=Ce.substr(0,2),$===ce[1]&&"+-<>&|".indexOf($)>=0||ce==="=>")return c+=2,{type:r.Punctuator,value:ce,lineNumber:m,lineStart:b,start:_,end:c};if("<>=!+-*%&|^/".indexOf($)>=0)return++c,{type:r.Punctuator,value:$,lineNumber:m,lineStart:b,start:_,end:c};j({},l.UnexpectedToken,"ILLEGAL")}function ke(_){for(var E="";c<g&&O(h[c]);)E+=h[c++];return E.length===0&&j({},l.UnexpectedToken,"ILLEGAL"),G(h.charCodeAt(c))&&j({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+E,16),lineNumber:m,lineStart:b,start:_,end:c}}function Ue(_){for(var E="0"+h[c++];c<g&&P(h[c]);)E+=h[c++];return(G(h.charCodeAt(c))||F(h.charCodeAt(c)))&&j({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(E,8),octal:!0,lineNumber:m,lineStart:b,start:_,end:c}}function at(){var _,E;for(_=c+1;_<g;++_){if(E=h[_],E==="8"||E==="9")return!1;if(!P(E))return!0}return!0}function vt(){var _,E,k;if(k=h[c],B(F(k.charCodeAt(0))||k===".","Numeric literal must start with a decimal digit or a decimal point"),E=c,_="",k!=="."){if(_=h[c++],k=h[c],_==="0"){if(k==="x"||k==="X")return++c,ke(E);if(P(k)&&at())return Ue(E)}for(;F(h.charCodeAt(c));)_+=h[c++];k=h[c]}if(k==="."){for(_+=h[c++];F(h.charCodeAt(c));)_+=h[c++];k=h[c]}if(k==="e"||k==="E")if(_+=h[c++],k=h[c],(k==="+"||k==="-")&&(_+=h[c++]),F(h.charCodeAt(c)))for(;F(h.charCodeAt(c));)_+=h[c++];else j({},l.UnexpectedToken,"ILLEGAL");return G(h.charCodeAt(c))&&j({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(_),lineNumber:m,lineStart:b,start:E,end:c}}function Qe(){var _="",E,k,$,ce,Ce,et,dt=!1,Vt,nr;for(Vt=m,nr=b,E=h[c],B(E==="'"||E==='"',"String literal must starts with a quote"),k=c,++c;c<g;)if($=h[c++],$===E){E="";break}else if($==="\\")if($=h[c++],!$||!N($.charCodeAt(0)))switch($){case"u":case"x":et=c,Ce=De($),Ce?_+=Ce:(c=et,_+=$);break;case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;default:P($)?(ce="01234567".indexOf($),ce!==0&&(dt=!0),c<g&&P(h[c])&&(dt=!0,ce=ce*8+"01234567".indexOf(h[c++]),"0123".indexOf($)>=0&&c<g&&P(h[c])&&(ce=ce*8+"01234567".indexOf(h[c++]))),_+=String.fromCharCode(ce)):_+=$;break}else++m,$==="\r"&&h[c]===`
`&&++c,b=c;else{if(N($.charCodeAt(0)))break;_+=$}return E!==""&&j({},l.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:_,octal:dt,startLineNumber:Vt,startLineStart:nr,lineNumber:m,lineStart:b,start:k,end:c}}function it(_,E){var k;try{k=new RegExp(_,E)}catch{j({},l.InvalidRegExp)}return k}function gt(){var _,E,k,$,ce;for(_=h[c],B(_==="/","Regular expression literal must start with a slash"),E=h[c++],k=!1,$=!1;c<g;)if(_=h[c++],E+=_,_==="\\")_=h[c++],N(_.charCodeAt(0))&&j({},l.UnterminatedRegExp),E+=_;else if(N(_.charCodeAt(0)))j({},l.UnterminatedRegExp);else if(k)_==="]"&&(k=!1);else if(_==="/"){$=!0;break}else _==="["&&(k=!0);return $||j({},l.UnterminatedRegExp),ce=E.substr(1,E.length-2),{value:ce,literal:E}}function mt(){var _,E,k,$;for(E="",k="";c<g&&(_=h[c],!!H(_.charCodeAt(0)));)if(++c,_==="\\"&&c<g)if(_=h[c],_==="u"){if(++c,$=c,_=De("u"),_)for(k+=_,E+="\\u";$<c;++$)E+=h[$];else c=$,k+="u",E+="\\u";Z({},l.UnexpectedToken,"ILLEGAL")}else E+="\\",Z({},l.UnexpectedToken,"ILLEGAL");else k+=_,E+=_;return{value:k,literal:E}}function rt(){var _,E,k,$;return y=null,he(),_=c,E=gt(),k=mt(),$=it(E.value,k.value),w.tokenize?{type:r.RegularExpression,value:$,lineNumber:m,lineStart:b,start:_,end:c}:{literal:E.literal+k.literal,value:$,start:_,end:c}}function Xe(){var _,E,k,$;return he(),_=c,E={start:{line:m,column:c-b}},k=rt(),E.end={line:m,column:c-b},w.tokenize||(w.tokens.length>0&&($=w.tokens[w.tokens.length-1],$.range[0]===_&&$.type==="Punctuator"&&($.value==="/"||$.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:k.literal,range:[_,c],loc:E})),k}function wt(_){return _.type===r.Identifier||_.type===r.Keyword||_.type===r.BooleanLiteral||_.type===r.NullLiteral}function br(){var _,E;if(_=w.tokens[w.tokens.length-1],!_)return Xe();if(_.type==="Punctuator"){if(_.value==="]")return xe();if(_.value===")")return E=w.tokens[w.openParenToken-1],E&&E.type==="Keyword"&&(E.value==="if"||E.value==="while"||E.value==="for"||E.value==="with")?Xe():xe();if(_.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-4],!E)return xe()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-5],!E)return Xe()}else return xe();return u.indexOf(E.value)>=0?xe():Xe()}return Xe()}return _.type==="Keyword"&&_.value!=="this"?Xe():xe()}function Ft(){var _;return he(),c>=g?{type:r.EOF,lineNumber:m,lineStart:b,start:c,end:c}:(_=h.charCodeAt(c),G(_)?ye():_===40||_===41||_===59?xe():_===39||_===34?Qe():_===46?F(h.charCodeAt(c+1))?vt():xe():F(_)?vt():w.tokenize&&_===47?br():xe())}function Ee(){var _,E,k;return he(),_={start:{line:m,column:c-b}},E=Ft(),_.end={line:m,column:c-b},E.type!==r.EOF&&(k=h.slice(E.start,E.end),w.tokens.push({type:n[E.type],value:k,range:[E.start,E.end],loc:_})),E}function we(){var _;return _=y,c=_.end,m=_.lineNumber,b=_.lineStart,y=typeof w.tokens<"u"?Ee():Ft(),c=_.end,m=_.lineNumber,b=_.lineStart,_}function Dt(){var _,E,k;_=c,E=m,k=b,y=typeof w.tokens<"u"?Ee():Ft(),c=_,m=E,b=k}function jt(_,E){this.line=_,this.column=E}function ar(_,E,k,$){this.start=new jt(_,E),this.end=new jt(k,$)}p={name:"SyntaxTree",processComment:function(_){var E,k;if(!(_.type===a.Program&&_.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=_.range[1]?(k=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=_.range[1]&&(k=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=_.range[0];)E=w.bottomRightStack.pop();E?E.leadingComments&&E.leadingComments[E.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=E.leadingComments,delete E.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=w.leadingComments,w.leadingComments=[]),k&&(_.trailingComments=k),w.bottomRightStack.push(_)}},markEnd:function(_,E){return w.range&&(_.range=[E.start,c]),w.loc&&(_.loc=new ar(E.startLineNumber===void 0?E.lineNumber:E.startLineNumber,E.start-(E.startLineStart===void 0?E.lineStart:E.startLineStart),m,c-b),this.postProcess(_)),w.attachComment&&this.processComment(_),_},postProcess:function(_){return w.source&&(_.loc.source=w.source),_},createArrayExpression:function(_){return{type:a.ArrayExpression,elements:_}},createAssignmentExpression:function(_,E,k){return{type:a.AssignmentExpression,operator:_,left:E,right:k}},createBinaryExpression:function(_,E,k){var $=_==="||"||_==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:$,operator:_,left:E,right:k}},createBlockStatement:function(_){return{type:a.BlockStatement,body:_}},createBreakStatement:function(_){return{type:a.BreakStatement,label:_}},createCallExpression:function(_,E){return{type:a.CallExpression,callee:_,arguments:E}},createCatchClause:function(_,E){return{type:a.CatchClause,param:_,body:E}},createConditionalExpression:function(_,E,k){return{type:a.ConditionalExpression,test:_,consequent:E,alternate:k}},createContinueStatement:function(_){return{type:a.ContinueStatement,label:_}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(_,E){return{type:a.DoWhileStatement,body:_,test:E}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(_){return{type:a.ExpressionStatement,expression:_}},createForStatement:function(_,E,k,$){return{type:a.ForStatement,init:_,test:E,update:k,body:$}},createForInStatement:function(_,E,k){return{type:a.ForInStatement,left:_,right:E,body:k,each:!1}},createFunctionDeclaration:function(_,E,k,$){return{type:a.FunctionDeclaration,id:_,params:E,defaults:k,body:$,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(_,E,k,$){return{type:a.FunctionExpression,id:_,params:E,defaults:k,body:$,rest:null,generator:!1,expression:!1}},createIdentifier:function(_){return{type:a.Identifier,name:_}},createIfStatement:function(_,E,k){return{type:a.IfStatement,test:_,consequent:E,alternate:k}},createLabeledStatement:function(_,E){return{type:a.LabeledStatement,label:_,body:E}},createLiteral:function(_){return{type:a.Literal,value:_.value,raw:h.slice(_.start,_.end)}},createMemberExpression:function(_,E,k){return{type:a.MemberExpression,computed:_==="[",object:E,property:k}},createNewExpression:function(_,E){return{type:a.NewExpression,callee:_,arguments:E}},createObjectExpression:function(_){return{type:a.ObjectExpression,properties:_}},createPostfixExpression:function(_,E){return{type:a.UpdateExpression,operator:_,argument:E,prefix:!1}},createProgram:function(_){return{type:a.Program,body:_}},createProperty:function(_,E,k){return{type:a.Property,key:E,value:k,kind:_}},createReturnStatement:function(_){return{type:a.ReturnStatement,argument:_}},createSequenceExpression:function(_){return{type:a.SequenceExpression,expressions:_}},createSwitchCase:function(_,E){return{type:a.SwitchCase,test:_,consequent:E}},createSwitchStatement:function(_,E){return{type:a.SwitchStatement,discriminant:_,cases:E}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(_){return{type:a.ThrowStatement,argument:_}},createTryStatement:function(_,E,k,$){return{type:a.TryStatement,block:_,guardedHandlers:E,handlers:k,finalizer:$}},createUnaryExpression:function(_,E){return _==="++"||_==="--"?{type:a.UpdateExpression,operator:_,argument:E,prefix:!0}:{type:a.UnaryExpression,operator:_,argument:E,prefix:!0}},createVariableDeclaration:function(_,E){return{type:a.VariableDeclaration,declarations:_,kind:E}},createVariableDeclarator:function(_,E){return{type:a.VariableDeclarator,id:_,init:E}},createWhileStatement:function(_,E){return{type:a.WhileStatement,test:_,body:E}},createWithStatement:function(_,E){return{type:a.WithStatement,object:_,body:E}}};function L(){var _,E,k,$;return _=c,E=m,k=b,he(),$=m!==E,c=_,m=E,b=k,$}function j(_,E){var k,$=Array.prototype.slice.call(arguments,2),ce=E.replace(/%(\d)/g,function(Ce,et){return B(et<$.length,"Message reference must be in range"),$[et]});throw typeof _.lineNumber=="number"?(k=new Error("Line "+_.lineNumber+": "+ce),k.index=_.start,k.lineNumber=_.lineNumber,k.column=_.start-b+1):(k=new Error("Line "+m+": "+ce),k.index=c,k.lineNumber=m,k.column=c-b+1),k.description=ce,k}function Z(){try{j.apply(null,arguments)}catch(_){if(w.errors)w.errors.push(_);else throw _}}function ae(_){if(_.type===r.EOF&&j(_,l.UnexpectedEOS),_.type===r.NumericLiteral&&j(_,l.UnexpectedNumber),_.type===r.StringLiteral&&j(_,l.UnexpectedString),_.type===r.Identifier&&j(_,l.UnexpectedIdentifier),_.type===r.Keyword){if(Y(_.value))j(_,l.UnexpectedReserved);else if(f&&q(_.value)){Z(_,l.StrictReservedWord);return}j(_,l.UnexpectedToken,_.value)}j(_,l.UnexpectedToken,_.value)}function te(_){var E=we();(E.type!==r.Punctuator||E.value!==_)&&ae(E)}function de(_){var E=we();(E.type!==r.Keyword||E.value!==_)&&ae(E)}function ie(_){return y.type===r.Punctuator&&y.value===_}function le(_){return y.type===r.Keyword&&y.value===_}function _e(){var _;return y.type!==r.Punctuator?!1:(_=y.value,_==="="||_==="*="||_==="/="||_==="%="||_==="+="||_==="-="||_==="<<="||_===">>="||_===">>>="||_==="&="||_==="^="||_==="|=")}function Oe(){var _,E=c,k=m,$=b,ce=y;if(h.charCodeAt(c)===59||ie(";")){we();return}if(_=m,he(),m!==_){c=E,m=k,b=$,y=ce;return}y.type!==r.EOF&&!ie("}")&&ae(y)}function We(_){return _.type===a.Identifier||_.type===a.MemberExpression}function Fe(){var _=[],E;for(E=y,te("[");!ie("]");)ie(",")?(we(),_.push(null)):(_.push(Ar()),ie("]")||te(","));return we(),D.markEnd(D.createArrayExpression(_),E)}function Wt(_,E){var k,$,ce;return k=f,ce=y,$=Oi(),E&&f&&W(_[0].name)&&Z(E,l.StrictParamName),f=k,D.markEnd(D.createFunctionExpression(null,_,[],$),ce)}function kt(){var _,E;return E=y,_=we(),_.type===r.StringLiteral||_.type===r.NumericLiteral?(f&&_.octal&&Z(_,l.StrictOctalLiteral),D.markEnd(D.createLiteral(_),E)):D.markEnd(D.createIdentifier(_.value),E)}function Jt(){var _,E,k,$,ce,Ce;if(_=y,Ce=y,_.type===r.Identifier)return k=kt(),_.value==="get"&&!ie(":")?(E=kt(),te("("),te(")"),$=Wt([]),D.markEnd(D.createProperty("get",E,$),Ce)):_.value==="set"&&!ie(":")?(E=kt(),te("("),_=y,_.type!==r.Identifier?(te(")"),Z(_,l.UnexpectedToken,_.value),$=Wt([])):(ce=[rn()],te(")"),$=Wt(ce,_)),D.markEnd(D.createProperty("set",E,$),Ce)):(te(":"),$=Ar(),D.markEnd(D.createProperty("init",k,$),Ce));if(_.type===r.EOF||_.type===r.Punctuator)ae(_);else return E=kt(),te(":"),$=Ar(),D.markEnd(D.createProperty("init",E,$),Ce)}function Ht(){var _=[],E,k,$,ce,Ce={},et=String,dt;for(dt=y,te("{");!ie("}");)E=Jt(),E.key.type===a.Identifier?k=E.key.name:k=et(E.key.value),ce=E.kind==="init"?o.Data:E.kind==="get"?o.Get:o.Set,$="$"+k,Object.prototype.hasOwnProperty.call(Ce,$)?(Ce[$]===o.Data?f&&ce===o.Data?Z({},l.StrictDuplicateProperty):ce!==o.Data&&Z({},l.AccessorDataProperty):ce===o.Data?Z({},l.AccessorDataProperty):Ce[$]&ce&&Z({},l.AccessorGetSet),Ce[$]|=ce):Ce[$]=ce,_.push(E),ie("}")||te(",");return te("}"),D.markEnd(D.createObjectExpression(_),dt)}function pr(){var _;return te("("),_=Qt(),te(")"),_}function Gt(){var _,E,k,$;if(ie("("))return pr();if(ie("["))return Fe();if(ie("{"))return Ht();if(_=y.type,$=y,_===r.Identifier)k=D.createIdentifier(we().value);else if(_===r.StringLiteral||_===r.NumericLiteral)f&&y.octal&&Z(y,l.StrictOctalLiteral),k=D.createLiteral(we());else if(_===r.Keyword){if(le("function"))return Mi();le("this")?(we(),k=D.createThisExpression()):ae(we())}else _===r.BooleanLiteral?(E=we(),E.value=E.value==="true",k=D.createLiteral(E)):_===r.NullLiteral?(E=we(),E.value=null,k=D.createLiteral(E)):ie("/")||ie("/=")?(typeof w.tokens<"u"?k=D.createLiteral(Xe()):k=D.createLiteral(rt()),Dt()):ae(we());return D.markEnd(k,$)}function vr(){var _=[];if(te("("),!ie(")"))for(;c<g&&(_.push(Ar()),!ie(")"));)te(",");return te(")"),_}function sr(){var _,E;return E=y,_=we(),wt(_)||ae(_),D.markEnd(D.createIdentifier(_.value),E)}function or(){return te("."),sr()}function tn(){var _;return te("["),_=Qt(),te("]"),_}function fr(){var _,E,k;return k=y,de("new"),_=zn(),E=ie("(")?vr():[],D.markEnd(D.createNewExpression(_,E),k)}function _n(){var _,E,k,$,ce=C.allowIn;for($=y,C.allowIn=!0,_=le("new")?fr():Gt();;){if(ie("."))k=or(),_=D.createMemberExpression(".",_,k);else if(ie("("))E=vr(),_=D.createCallExpression(_,E);else if(ie("["))k=tn(),_=D.createMemberExpression("[",_,k);else break;D.markEnd(_,$)}return C.allowIn=ce,_}function zn(){var _,E,k;for(B(C.allowIn,"callee of new expression always allow in keyword."),k=y,_=le("new")?fr():Gt();ie(".")||ie("[");)ie("[")?(E=tn(),_=D.createMemberExpression("[",_,E)):(E=or(),_=D.createMemberExpression(".",_,E)),D.markEnd(_,k);return _}function Pn(){var _,E,k=y;return _=_n(),y.type===r.Punctuator&&(ie("++")||ie("--"))&&!L()&&(f&&_.type===a.Identifier&&W(_.name)&&Z({},l.StrictLHSPostfix),We(_)||Z({},l.InvalidLHSInAssignment),E=we(),_=D.markEnd(D.createPostfixExpression(E.value,_),k)),_}function xn(){var _,E,k;return y.type!==r.Punctuator&&y.type!==r.Keyword?E=Pn():ie("++")||ie("--")?(k=y,_=we(),E=xn(),f&&E.type===a.Identifier&&W(E.name)&&Z({},l.StrictLHSPrefix),We(E)||Z({},l.InvalidLHSInAssignment),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,k)):ie("+")||ie("-")||ie("~")||ie("!")?(k=y,_=we(),E=xn(),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,k)):le("delete")||le("void")||le("typeof")?(k=y,_=we(),E=xn(),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,k),f&&E.operator==="delete"&&E.argument.type===a.Identifier&&Z({},l.StrictDelete)):E=Pn(),E}function qi(_,E){var k=0;if(_.type!==r.Punctuator&&_.type!==r.Keyword)return 0;switch(_.value){case"||":k=1;break;case"&&":k=2;break;case"|":k=3;break;case"^":k=4;break;case"&":k=5;break;case"==":case"!=":case"===":case"!==":k=6;break;case"<":case">":case"<=":case">=":case"instanceof":k=7;break;case"in":k=E?7:0;break;case"<<":case">>":case">>>":k=8;break;case"+":case"-":k=9;break;case"*":case"/":case"%":k=11;break}return k}function Si(){var _,E,k,$,ce,Ce,et,dt,Vt,nr;if(_=y,Vt=xn(),$=y,ce=qi($,C.allowIn),ce===0)return Vt;for($.prec=ce,we(),E=[_,y],et=xn(),Ce=[Vt,$,et];(ce=qi(y,C.allowIn))>0;){for(;Ce.length>2&&ce<=Ce[Ce.length-2].prec;)et=Ce.pop(),dt=Ce.pop().value,Vt=Ce.pop(),k=D.createBinaryExpression(dt,Vt,et),E.pop(),_=E[E.length-1],D.markEnd(k,_),Ce.push(k);$=we(),$.prec=ce,Ce.push($),E.push(y),k=xn(),Ce.push(k)}for(nr=Ce.length-1,k=Ce[nr],E.pop();nr>1;)k=D.createBinaryExpression(Ce[nr-1].value,Ce[nr-2],k),nr-=2,_=E.pop(),D.markEnd(k,_);return k}function mu(){var _,E,k,$,ce;return ce=y,_=Si(),ie("?")&&(we(),E=C.allowIn,C.allowIn=!0,k=Ar(),C.allowIn=E,te(":"),$=Ar(),_=D.createConditionalExpression(_,k,$),D.markEnd(_,ce)),_}function Ar(){var _,E,k,$,ce;return _=y,ce=y,$=E=mu(),_e()&&(We(E)||Z({},l.InvalidLHSInAssignment),f&&E.type===a.Identifier&&W(E.name)&&Z(_,l.StrictLHSAssignment),_=we(),k=Ar(),$=D.markEnd(D.createAssignmentExpression(_.value,E,k),ce)),$}function Qt(){var _,E=y;if(_=Ar(),ie(",")){for(_=D.createSequenceExpression([_]);c<g&&ie(",");)we(),_.expressions.push(Ar());D.markEnd(_,E)}return _}function Du(){for(var _=[],E;c<g&&!(ie("}")||(E=yn(),typeof E>"u"));)_.push(E);return _}function ii(){var _,E;return E=y,te("{"),_=Du(),te("}"),D.markEnd(D.createBlockStatement(_),E)}function rn(){var _,E;return E=y,_=we(),_.type!==r.Identifier&&ae(_),D.markEnd(D.createIdentifier(_.value),E)}function Wn(_){var E=null,k,$;return $=y,k=rn(),f&&W(k.name)&&Z({},l.StrictVarName),_==="const"?(te("="),E=Ar()):ie("=")&&(we(),E=Ar()),D.markEnd(D.createVariableDeclarator(k,E),$)}function Bi(_){var E=[];do{if(E.push(Wn(_)),!ie(","))break;we()}while(c<g);return E}function _u(){var _;return de("var"),_=Bi(),Oe(),D.createVariableDeclaration(_,"var")}function yu(_){var E,k;return k=y,de(_),E=Bi(_),Oe(),D.markEnd(D.createVariableDeclaration(E,_),k)}function zi(){return te(";"),D.createEmptyStatement()}function bu(){var _=Qt();return Oe(),D.createExpressionStatement(_)}function Au(){var _,E,k;return de("if"),te("("),_=Qt(),te(")"),E=Ir(),le("else")?(we(),k=Ir()):k=null,D.createIfStatement(_,E,k)}function wu(){var _,E,k;return de("do"),k=C.inIteration,C.inIteration=!0,_=Ir(),C.inIteration=k,de("while"),te("("),E=Qt(),te(")"),ie(";")&&we(),D.createDoWhileStatement(_,E)}function Eu(){var _,E,k;return de("while"),te("("),_=Qt(),te(")"),k=C.inIteration,C.inIteration=!0,E=Ir(),C.inIteration=k,D.createWhileStatement(_,E)}function Fu(){var _,E,k;return k=y,_=we(),E=Bi(),D.markEnd(D.createVariableDeclaration(E,_.value),k)}function Cu(){var _,E,k,$,ce,Ce,et,dt=C.allowIn;return _=E=k=null,de("for"),te("("),ie(";")?we():(le("var")||le("let")?(C.allowIn=!1,_=Fu(),C.allowIn=dt,_.declarations.length===1&&le("in")&&(we(),$=_,ce=Qt(),_=null)):(C.allowIn=!1,_=Qt(),C.allowIn=dt,le("in")&&(We(_)||Z({},l.InvalidLHSInForIn),we(),$=_,ce=Qt(),_=null)),typeof $>"u"&&te(";")),typeof $>"u"&&(ie(";")||(E=Qt()),te(";"),ie(")")||(k=Qt())),te(")"),et=C.inIteration,C.inIteration=!0,Ce=Ir(),C.inIteration=et,typeof $>"u"?D.createForStatement(_,E,k,Ce):D.createForInStatement($,ce,Ce)}function ui(){var _=null,E;return de("continue"),h.charCodeAt(c)===59?(we(),C.inIteration||j({},l.IllegalContinue),D.createContinueStatement(null)):L()?(C.inIteration||j({},l.IllegalContinue),D.createContinueStatement(null)):(y.type===r.Identifier&&(_=rn(),E="$"+_.name,Object.prototype.hasOwnProperty.call(C.labelSet,E)||j({},l.UnknownLabel,_.name)),Oe(),_===null&&!C.inIteration&&j({},l.IllegalContinue),D.createContinueStatement(_))}function Su(){var _=null,E;return de("break"),h.charCodeAt(c)===59?(we(),C.inIteration||C.inSwitch||j({},l.IllegalBreak),D.createBreakStatement(null)):L()?(C.inIteration||C.inSwitch||j({},l.IllegalBreak),D.createBreakStatement(null)):(y.type===r.Identifier&&(_=rn(),E="$"+_.name,Object.prototype.hasOwnProperty.call(C.labelSet,E)||j({},l.UnknownLabel,_.name)),Oe(),_===null&&!(C.inIteration||C.inSwitch)&&j({},l.IllegalBreak),D.createBreakStatement(_))}function ai(){var _=null;return de("return"),C.inFunctionBody||Z({},l.IllegalReturn),h.charCodeAt(c)===32&&G(h.charCodeAt(c+1))?(_=Qt(),Oe(),D.createReturnStatement(_)):L()?D.createReturnStatement(null):(ie(";")||!ie("}")&&y.type!==r.EOF&&(_=Qt()),Oe(),D.createReturnStatement(_))}function Bu(){var _,E;return f&&(he(),Z({},l.StrictModeWith)),de("with"),te("("),_=Qt(),te(")"),E=Ir(),D.createWithStatement(_,E)}function Ou(){var _,E=[],k,$;for($=y,le("default")?(we(),_=null):(de("case"),_=Qt()),te(":");c<g&&!(ie("}")||le("default")||le("case"));)k=Ir(),E.push(k);return D.markEnd(D.createSwitchCase(_,E),$)}function Mu(){var _,E,k,$,ce;if(de("switch"),te("("),_=Qt(),te(")"),te("{"),E=[],ie("}"))return we(),D.createSwitchStatement(_,E);for($=C.inSwitch,C.inSwitch=!0,ce=!1;c<g&&!ie("}");)k=Ou(),k.test===null&&(ce&&j({},l.MultipleDefaultsInSwitch),ce=!0),E.push(k);return C.inSwitch=$,te("}"),D.createSwitchStatement(_,E)}function Wi(){var _;return de("throw"),L()&&j({},l.NewlineAfterThrow),_=Qt(),Oe(),D.createThrowStatement(_)}function In(){var _,E,k;return k=y,de("catch"),te("("),ie(")")&&ae(y),_=rn(),f&&W(_.name)&&Z({},l.StrictCatchVariable),te(")"),E=ii(),D.markEnd(D.createCatchClause(_,E),k)}function gr(){var _,E=[],k=null;return de("try"),_=ii(),le("catch")&&E.push(In()),le("finally")&&(we(),k=ii()),E.length===0&&!k&&j({},l.NoCatchOrFinally),D.createTryStatement(_,[],E,k)}function rr(){return de("debugger"),Oe(),D.createDebuggerStatement()}function Ir(){var _=y.type,E,k,$,ce;if(_===r.EOF&&ae(y),_===r.Punctuator&&y.value==="{")return ii();if(ce=y,_===r.Punctuator)switch(y.value){case";":return D.markEnd(zi(),ce);case"(":return D.markEnd(bu(),ce)}if(_===r.Keyword)switch(y.value){case"break":return D.markEnd(Su(),ce);case"continue":return D.markEnd(ui(),ce);case"debugger":return D.markEnd(rr(),ce);case"do":return D.markEnd(wu(),ce);case"for":return D.markEnd(Cu(),ce);case"function":return D.markEnd(Tn(),ce);case"if":return D.markEnd(Au(),ce);case"return":return D.markEnd(ai(),ce);case"switch":return D.markEnd(Mu(),ce);case"throw":return D.markEnd(Wi(),ce);case"try":return D.markEnd(gr(),ce);case"var":return D.markEnd(_u(),ce);case"while":return D.markEnd(Eu(),ce);case"with":return D.markEnd(Bu(),ce)}return E=Qt(),E.type===a.Identifier&&ie(":")?(we(),$="$"+E.name,Object.prototype.hasOwnProperty.call(C.labelSet,$)&&j({},l.Redeclaration,"Label",E.name),C.labelSet[$]=!0,k=Ir(),delete C.labelSet[$],D.markEnd(D.createLabeledStatement(E,k),ce)):(Oe(),D.markEnd(D.createExpressionStatement(E),ce))}function Oi(){var _,E=[],k,$,ce,Ce,et,dt,Vt,nr;for(nr=y,te("{");c<g&&!(y.type!==r.StringLiteral||(k=y,_=yn(),E.push(_),_.expression.type!==a.Literal));)$=h.slice(k.start+1,k.end-1),$==="use strict"?(f=!0,ce&&Z(ce,l.StrictOctalLiteral)):!ce&&k.octal&&(ce=k);for(Ce=C.labelSet,et=C.inIteration,dt=C.inSwitch,Vt=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;c<g&&!(ie("}")||(_=yn(),typeof _>"u"));)E.push(_);return te("}"),C.labelSet=Ce,C.inIteration=et,C.inSwitch=dt,C.inFunctionBody=Vt,D.markEnd(D.createBlockStatement(E),nr)}function Hn(_){var E,k=[],$,ce,Ce,et,dt;if(te("("),!ie(")"))for(Ce={};c<g&&($=y,E=rn(),et="$"+$.value,f?(W($.value)&&(ce=$,dt=l.StrictParamName),Object.prototype.hasOwnProperty.call(Ce,et)&&(ce=$,dt=l.StrictParamDupe)):_||(W($.value)?(_=$,dt=l.StrictParamName):q($.value)?(_=$,dt=l.StrictReservedWord):Object.prototype.hasOwnProperty.call(Ce,et)&&(_=$,dt=l.StrictParamDupe)),k.push(E),Ce[et]=!0,!ie(")"));)te(",");return te(")"),{params:k,stricted:ce,firstRestricted:_,message:dt}}function Tn(){var _,E=[],k,$,ce,Ce,et,dt,Vt,nr;return nr=y,de("function"),$=y,_=rn(),f?W($.value)&&Z($,l.StrictFunctionName):W($.value)?(et=$,dt=l.StrictFunctionName):q($.value)&&(et=$,dt=l.StrictReservedWord),Ce=Hn(et),E=Ce.params,ce=Ce.stricted,et=Ce.firstRestricted,Ce.message&&(dt=Ce.message),Vt=f,k=Oi(),f&&et&&j(et,dt),f&&ce&&Z(ce,dt),f=Vt,D.markEnd(D.createFunctionDeclaration(_,E,[],k),nr)}function Mi(){var _,E=null,k,$,ce,Ce,et=[],dt,Vt,nr;return nr=y,de("function"),ie("(")||(_=y,E=rn(),f?W(_.value)&&Z(_,l.StrictFunctionName):W(_.value)?($=_,ce=l.StrictFunctionName):q(_.value)&&($=_,ce=l.StrictReservedWord)),Ce=Hn($),et=Ce.params,k=Ce.stricted,$=Ce.firstRestricted,Ce.message&&(ce=Ce.message),Vt=f,dt=Oi(),f&&$&&j($,ce),f&&k&&Z(k,ce),f=Vt,D.markEnd(D.createFunctionExpression(E,et,[],dt),nr)}function yn(){if(y.type===r.Keyword)switch(y.value){case"const":case"let":return yu(y.value);case"function":return Tn();default:return Ir()}if(y.type!==r.EOF)return Ir()}function nn(){for(var _,E=[],k,$,ce;c<g&&(k=y,!(k.type!==r.StringLiteral||(_=yn(),E.push(_),_.expression.type!==a.Literal)));)$=h.slice(k.start+1,k.end-1),$==="use strict"?(f=!0,ce&&Z(ce,l.StrictOctalLiteral)):!ce&&k.octal&&(ce=k);for(;c<g&&(_=yn(),!(typeof _>"u"));)E.push(_);return E}function Ls(){var _,E;return he(),Dt(),E=y,f=!1,_=nn(),D.markEnd(D.createProgram(_),E)}function Pu(){var _,E,k,$=[];for(_=0;_<w.tokens.length;++_)E=w.tokens[_],k={type:E.type,value:E.value},w.range&&(k.range=E.range),w.loc&&(k.loc=E.loc),$.push(k);w.tokens=$}function Hi(_,E){var k,$,ce;k=String,typeof _!="string"&&!(_ instanceof String)&&(_=k(_)),D=p,h=_,c=0,m=h.length>0?1:0,b=0,g=h.length,y=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},E=E||{},E.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]);try{if(Dt(),y.type===r.EOF)return w.tokens;for($=we();y.type!==r.EOF;)try{$=we()}catch(Ce){if($=y,w.errors){w.errors.push(Ce);break}else throw Ce}Pu(),ce=w.tokens,typeof w.comments<"u"&&(ce.comments=w.comments),typeof w.errors<"u"&&(ce.errors=w.errors)}catch(Ce){throw Ce}finally{w={}}return ce}function ta(_,E){var k,$;$=String,typeof _!="string"&&!(_ instanceof String)&&(_=$(_)),D=p,h=_,c=0,m=h.length>0?1:0,b=0,g=h.length,y=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof E<"u"&&(w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,w.attachComment=typeof E.attachComment=="boolean"&&E.attachComment,w.loc&&E.source!==null&&E.source!==void 0&&(w.source=$(E.source)),typeof E.tokens=="boolean"&&E.tokens&&(w.tokens=[]),typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{k=Ls(),typeof w.comments<"u"&&(k.comments=w.comments),typeof w.tokens<"u"&&(Pu(),k.tokens=w.tokens),typeof w.errors<"u"&&(k.errors=w.errors)}catch(ce){throw ce}finally{w={}}return k}t.version="1.2.5",t.tokenize=Hi,t.parse=ta,t.Syntax=function(){var _,E={};typeof Object.create=="function"&&(E=Object.create(null));for(_ in a)a.hasOwnProperty(_)&&(E[_]=a[_]);return typeof Object.freeze=="function"&&Object.freeze(E),E}()})})(Bp);var eC=Bp,jh=Fp,tC=0;function rC(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function nC(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}function iC(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof lr<"u"?e in lr:typeof self<"u"?e in self:!1}function uC(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}function aC(e){for(var t=["(",e,")()"].join(""),r=eC.parse(t,{range:!0}),n="_inline_"+tC+++"_",u=uC(r),a=new Array(u.length),o=0;o<u.length;++o)a[o]=new rC([n,"arg",o,"_"].join(""),!1,!1);for(var l=new Array(t.length),o=0,d=t.length;o<d;++o)l[o]=t.charAt(o);var p=[],h=[];function f(B){var F=n+B.replace(/\_/g,"__");return p.push(F),F}function c(B){var F="this_"+B.replace(/\_/g,"__");return h.push(F),F}function m(B,F){for(var O=B.range[0],P=B.range[1],I=O+1;I<P;++I)l[I]="";l[O]=F}function b(B){return"'"+B.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(B){return l.slice(B.range[0],B.range[1]).join("")}var D=1,y=2;function C(B){return B.parent.type==="AssignmentExpression"&&B.parent.left===B?B.parent.operator==="="?D:D|y:B.parent.type==="UpdateExpression"?D|y:y}(function B(F,O){if(F.parent=O,F.type==="MemberExpression")F.computed?(B(F.object,F),B(F.property,F)):F.object.type==="ThisExpression"?m(F,c(F.property.name)):B(F.object,F);else{if(F.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(F.type==="Identifier"){var P=F.name,I=u.indexOf(P);if(I>=0){var N=a[I],G=C(F);G&D&&(N.lvalue=!0),G&y&&(N.rvalue=!0),++N.count,m(F,N.name)}else iC(P)||m(F,f(P))}else if(F.type==="Literal")typeof F.value=="string"&&m(F,b(F.value));else{if(F.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var H=Object.keys(F),Y=0,q=H.length;Y<q;++Y)if(H[Y]!=="parent"){var W=F[H[Y]];if(W)if(W instanceof Array)for(var R=0;R<W.length;++R)W[R]&&typeof W[R].type=="string"&&B(W[R],F);else typeof W.type=="string"&&B(W,F)}}}})(r.body[0].expression.callee.body,void 0),jh(p),jh(h);var w=new nC(g(r.body[0].expression.callee.body),a,h,p);return w}var sC=aC,_l=sC,oC=vf,za=["args","body"],lC=["pre","post","printCode","funcName","blockSize"];function fC(e){for(var t in e)za.indexOf(t)<0&&lC.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<za.length;++r)if(!e[za[r]])throw new Error("cwise: Missing argument: "+za[r]);return oC({args:e.args,pre:_l(e.pre||function(){}),body:_l(e.body),post:_l(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var Rs=fC,cC=QF,hC=Rs,dC=hC({args:["array","scalar","index"],body:function(t,r,n){var u=r,a;for(a=0;a<n.length-1;++a)u=u[n[a]];u[n[n.length-1]]=t}}),pC=function(t){var r=cC(t.shape);return dC(t,r),r},fs={},vC={get exports(){return fs},set exports(e){fs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,l){for(var d=new Float64Array(o*l),p=0;p<d.length;p++)d[p]=a()*1e-4;return(0,n.default)(d,[o,l])};var r=gu,n=u(r);function u(o){return o&&o.__esModule?o:{default:o}}function a(){var o=2*Math.random()-1,l=2*Math.random()-1,d=o*o+l*l;return d==0||d>1?a():o*Math.sqrt(-2*Math.log(d)/d)}e.exports=t.default})(vC,fs);var Ju={},gC={get exports(){return Ju},set exports(e){Ju=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(f,c){var m=f.shape[0],b=(0,n.default)(new Float64Array(m*m),[m,m]);switch(c){case"euclidean":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=l(f.pick(g,null),f.pick(D,null));b.set(g,D,y),b.set(D,g,y)}break;case"manhattan":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=d(f.pick(g,null),f.pick(D,null));b.set(g,D,y),b.set(D,g,y)}break;case"jaccard":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=p(f.pick(g,null),f.pick(D,null));b.set(g,D,y),b.set(D,g,y)}break;case"dice":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=h(f.pick(g,null),f.pick(D,null));b.set(g,D,y),b.set(D,g,y)}break}return b};var r=gu,n=o(r),u=Rs,a=o(u);function o(f){return f&&f.__esModule?f:{default:f}}var l=(0,a.default)({args:["array","array"],pre:function(c,m){this.sum=0},body:function(c,m){var b=c-m;this.sum+=b*b},post:function(c,m){return Math.sqrt(this.sum)}}),d=(0,a.default)({args:["array","array"],pre:function(c,m){this.sum=0},body:function(c,m){this.sum+=Math.abs(c-m)},post:function(c,m){return this.sum}}),p=(0,a.default)({args:["array","array"],pre:function(c,m){this.tf=0,this.tt=0},body:function(c,m){var b=Math.round(c),g=Math.round(m);this.tf+=+(b!=g),this.tt+=+(b==1&&g==1)},post:function(c,m){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),h=(0,a.default)({args:["array","array"],pre:function(c,m){this.tf=0,this.tt=0},body:function(c,m){var b=Math.round(c),g=Math.round(m);this.tf+=+(b!=g),this.tt+=+(b==1&&g==1)},post:function(c,m){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});e.exports=t.default})(gC,Ju);var cs={},mC={get exports(){return cs},set exports(e){cs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(h,f){for(var c=100,m=h.shape[0],b=(0,n.default)(new Float64Array(m*m),[m,m]),g=(0,n.default)(new Float64Array(m*m),[m,m]),D=void 0,y=void 0,C=1/0,w=Math.log(f),B=void 0,F=void 0,O=void 0,P=void 0,I=0;I<m;I++){D=1,y=-1/0,C=1/0;for(var N=0;N<c;N++){for(var G=0;G<m;G++)b.set(I,G,Math.exp(-h.get(I,G)*D));b.set(I,I,0),O=0;for(var G=0;G<m;G++)O+=b.get(I,G);O==0&&(O=l),P=0;for(var G=0;G<m;G++)b.set(I,G,b.get(I,G)/O),P+=h.get(I,G)*b.get(I,G);if(F=Math.log(O)+D*P,B=F-w,Math.abs(B)<=p)break;B>0?(y=D,C==1/0?D=D*2:D=(D+C)/2):(C=D,y==-1/0?D=D/2:D=(D+y)/2)}}a.default.add(g,b,b.transpose(1,0));var H=Math.max(a.default.sum(g),d);return a.default.divseq(g,H),a.default.maxseq(g,d),g};var r=gu,n=o(r),u=ks,a=o(u);function o(h){return h&&h.__esModule?h:{default:h}}var l=1e-7,d=Number.EPSILON||2220446049250313e-31,p=1e-5;e.exports=t.default})(mC,cs);var hs={},DC={get exports(){return hs},set exports(e){hs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(m,b,g){var D=m.shape[0],y=m.shape[1],C=(0,n.default)(new Float64Array(D*D),[D,D]),w=(0,p.default)(m,"euclidean");c(w);var B=(g+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(w,1),g),B);for(var F=0;F<D;F++)w.set(F,F,0);var O=Math.max(a.default.sum(w),f);a.default.divs(C,w,O),a.default.maxseq(C,f);var P=(0,n.default)(new Float64Array(D*D),[D,D]),I=(0,n.default)(new Float64Array(D*D),[D,D]);a.default.div(P,b,C),a.default.logeq(P),a.default.assign(I,b);var N=a.default.sum(a.default.muleq(P,I)),G=(0,n.default)(new Float64Array(m.size),m.shape),H=(0,n.default)(new Float64Array(D*D),[D,D]);a.default.sub(H,b,C),a.default.muleq(H,w);for(var F=0;F<D;F++)for(var Y=0;Y<y;Y++){var q=(0,n.default)(new Float64Array(m.shape[0]),[m.shape[0]]);a.default.assign(q,m.pick(null,Y)),a.default.addseq(a.default.negeq(q),m.get(F,Y)),a.default.muleq(q,H.pick(F,null)),G.set(F,Y,a.default.sum(q))}var W=2*(g+1)/g;return a.default.mulseq(G,W),[N,G]};var r=gu,n=h(r),u=ks,a=h(u),o=Rs,l=h(o),d=Ju,p=h(d);function h(m){return m&&m.__esModule?m:{default:m}}var f=Number.EPSILON||2220446049250313e-31,c=(0,l.default)({args:["array"],body:function(b){}});e.exports=t.default})(DC,hs);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function q(W,R){var z=[],ee=!0,ue=!1,he=void 0;try{for(var De=W[Symbol.iterator](),be;!(ee=(be=De.next()).done)&&(z.push(be.value),!(R&&z.length===R));ee=!0);}catch(Be){ue=!0,he=Be}finally{try{!ee&&De.return&&De.return()}finally{if(ue)throw he}}return z}return function(W,R){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return q(W,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function q(W,R){for(var z=0;z<R.length;z++){var ee=R[z];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,R,z){return R&&q(W.prototype,R),z&&q(W,z),W}}(),u=os,a=gu,o=P(a),l=ks,d=P(l),p=$F,h=P(p),f=pC,c=P(f),m=Rs,b=P(m),g=fs,D=P(g),y=Ju,C=P(y),w=cs,B=P(w),F=hs,O=P(F);function P(q){return q&&q.__esModule?q:{default:q}}function I(q){if(Array.isArray(q)){for(var W=0,R=Array(q.length);W<q.length;W++)R[W]=q[W];return R}else return Array.from(q)}function N(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}function G(q,W){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:q}function H(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}var Y=function(q){H(W,q);function W(R){N(this,W);var z=G(this,Object.getPrototypeOf(W).call(this));return R=R||{},z.dim=R.dim||2,z.perplexity=R.perplexity||30,z.earlyExaggeration=R.earlyExaggeration||4,z.learningRate=R.learningRate||1e3,z.nIter=R.nIter||1e3,z.metric=R.metric||"euclidean",z.barneshut=R.barneshut||!1,z.inputData=null,z.outputEmbedding=null,z}return n(W,[{key:"init",value:function(z){z=z||{};var ee=z.data||[],ue=z.type||"dense";if(ue==="dense")this.inputData=(0,h.default)(ee);else if(ue==="sparse"){for(var he=[],De=1,be=function(gt){var mt=Math.max.apply(null,ee.map(function(rt){return rt[gt]}))+1;he.push(mt),De*=mt},Be=0;Be<ee[0].length;Be++)be(Be);this.inputData=(0,o.default)(new Float64Array(De),he);var ye=!0,xe=!1,ke=void 0;try{for(var Ue=ee[Symbol.iterator](),at;!(ye=(at=Ue.next()).done);ye=!0){var vt,Qe=at.value;(vt=this.inputData).set.apply(vt,I(Qe).concat([1]))}}catch(it){xe=!0,ke=it}finally{try{!ye&&Ue.return&&Ue.return()}finally{if(xe)throw ke}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,D.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,C.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,B.default)(this.distances,this.perplexity);var z=Number.MAX_VALUE,ee=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),d.default.mulseq(this.P,this.earlyExaggeration);var ue=this._gradDesc(ee,50,.5,0,0),he=r(ue,2);z=he[0],ee=he[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var De=this._gradDesc(ee+1,100,.8,0,0),be=r(De,2);z=be[0],ee=be[1],this.emit("progressStatus","Final optimization with momentum 0.8"),d.default.divseq(this.P,this.earlyExaggeration);var Be=this._gradDesc(ee+1,this.nIter,.8,1e-6,1e-6),ye=r(Be,2);return z=ye[0],ee=ye[1],this.emit("progressStatus","Optimization end"),[z,ee]}},{key:"rerun",value:function(){this.outputEmbedding=(0,D.default)(this.inputData.shape[0],this.dim);var z=this.run(),ee=r(z,2),ue=ee[0],he=ee[1];return[ue,he]}},{key:"getOutput",value:function(){return(0,c.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var z=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),ee=(0,o.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),ue=0;ue<this.outputEmbedding.shape[1];ue++){var he=d.default.sup(d.default.abs(ee,this.outputEmbedding.pick(null,ue)));d.default.divs(z.pick(null,ue),this.outputEmbedding.pick(null,ue),he)}return(0,c.default)(z)}},{key:"_gradDesc",value:function(z,ee,ue){for(var he=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],De=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],be=30,Be=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),ye=new Float64Array(this.outputEmbedding.size),xe=0;xe<ye.length;xe++)ye[xe]=1;var ke=(0,o.default)(ye,this.outputEmbedding.shape),Ue=Number.MAX_VALUE,at=Number.MAX_VALUE,vt=0,Qe=(0,b.default)({args:["array"],pre:function(Dt){this.sum=0},body:function(Dt){this.sum+=Dt*Dt},post:function(Dt){return Math.sqrt(this.sum)}}),it=(0,b.default)({args:["array","array","array"],body:function(Dt,jt,ar){}}),gt=void 0;for(gt=z;gt<ee;gt++){var mt=(0,O.default)(this.outputEmbedding,this.P,this.alpha),rt=r(mt,2),Xe=rt[0],wt=rt[1],br=Math.abs(Xe-Ue);Ue=Xe;var Ft=Qe(wt);if(this.emit("progressIter",[gt,Ue,Ft]),Ue<at)at=Ue,vt=gt;else if(gt-vt>be)break;if(he>=Ft||De>=br)break;it(ke,Be,wt),d.default.muleq(wt,ke);var Ee=(0,o.default)(new Float64Array(wt.size),wt.shape);d.default.muls(Ee,wt,this.learningRate),d.default.mulseq(Be,ue),d.default.subeq(Be,Ee),d.default.addeq(this.outputEmbedding,Be),this.emit("progressData",this.getOutputScaled())}return[Ue,gt]}}]),W}(u.EventEmitter);t.default=Y,e.exports=t.default})(dF,ss);const _C=ef(ss);function yC(e){let t,r,n,u={ctx:e,current:null,token:null,hasCatch:!0,pending:EC,then:wC,catch:AC,value:18,error:19,blocks:[,,,]};return bi(r=e[6],u),{c(){t=zt(),u.block.c()},l(a){t=zt(),u.block.l(a)},m(a,o){Ae(a,t,o),u.block.m(a,u.anchor=o),u.mount=()=>t.parentNode,u.anchor=t,n=!0},p(a,o){e=a,u.ctx=e,o&64&&r!==(r=e[6])&&bi(r,u)||ys(u,e,o)},i(a){n||(Pe(u.block),n=!0)},o(a){for(let o=0;o<3;o+=1){const l=u.blocks[o];Ne(l)}n=!1},d(a){a&&V(t),u.block.d(a),u.token=null,u=null}}}function bC(e){let t,r,n,u,a;return{c(){t=se("div"),r=se("div"),n=se("div"),u=se("p"),a=Ke("Set OpenAI key in settings to use embedding map."),this.h()},l(o){t=oe(o,"DIV",{class:!0});var l=re(t);r=oe(l,"DIV",{class:!0});var d=re(r);n=oe(d,"DIV",{class:!0});var p=re(n);u=oe(p,"P",{class:!0});var h=re(u);a=Ze(h,"Set OpenAI key in settings to use embedding map."),h.forEach(V),p.forEach(V),d.forEach(V),l.forEach(V),this.h()},h(){T(u,"class","text-center text-lg"),T(n,"class","h-20 w-52"),T(r,"class","flex flex-col justify-center"),T(t,"class","w-full h-full flex justify-center")},m(o,l){Ae(o,t,l),J(t,r),J(r,n),J(n,u),J(u,a)},p:Ie,i:Ie,o:Ie,d(o){o&&V(t)}}}function AC(e){let t,r=e[19].message+"",n;return{c(){t=se("p"),n=Ke(r),this.h()},l(u){t=oe(u,"P",{style:!0});var a=re(t);n=Ze(a,r),a.forEach(V),this.h()},h(){$t(t,"color","red")},m(u,a){Ae(u,t,a),J(t,n)},p(u,a){a&64&&r!==(r=u[19].message+"")&&Bn(n,r)},i:Ie,o:Ie,d(u){u&&V(t)}}}function wC(e){let t,r,n,u,a,o,l,d,p,h,f,c,m,b,g,D,y,C,w,B,F,O,P,I,N,G,H;r=new GE({props:{dimensions:e[3],center:e[8]}});let Y=e[4].embedExponentialScaling&&Vh(e);return{c(){t=se("div"),ot(r.$$.fragment),u=Ge(),a=se("div"),o=se("div"),l=se("label"),d=se("span"),p=Ke("Exponential Scaling"),h=Ge(),f=se("input"),m=Ge(),Y&&Y.c(),b=Ge(),g=se("div"),D=se("label"),y=se("span"),C=Ke("# Prompts"),w=Ge(),B=se("input"),F=Ge(),O=se("div"),P=se("button"),I=Ke("Shuffle"),this.h()},l(q){t=oe(q,"DIV",{class:!0});var W=re(t);lt(r.$$.fragment,W),W.forEach(V),u=Ye(q),a=oe(q,"DIV",{class:!0});var R=re(a);o=oe(R,"DIV",{class:!0});var z=re(o);l=oe(z,"LABEL",{class:!0});var ee=re(l);d=oe(ee,"SPAN",{class:!0});var ue=re(d);p=Ze(ue,"Exponential Scaling"),ue.forEach(V),ee.forEach(V),h=Ye(z),f=oe(z,"INPUT",{type:!0,class:!0}),z.forEach(V),m=Ye(R),Y&&Y.l(R),b=Ye(R),g=oe(R,"DIV",{class:!0});var he=re(g);D=oe(he,"LABEL",{class:!0});var De=re(D);y=oe(De,"SPAN",{class:!0});var be=re(y);C=Ze(be,"# Prompts"),be.forEach(V),De.forEach(V),w=Ye(he),B=oe(he,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),he.forEach(V),F=Ye(R),O=oe(R,"DIV",{class:!0});var Be=re(O);P=oe(Be,"BUTTON",{class:!0});var ye=re(P);I=Ze(ye,"Shuffle"),ye.forEach(V),Be.forEach(V),R.forEach(V),this.h()},h(){T(t,"class","w-full h-full"),Ds(()=>e[14].call(t)),T(d,"class","label-text"),T(l,"class","label"),T(f,"type","checkbox"),T(f,"class","toggle"),f.checked=c=e[4].embedExponentialScaling,T(o,"class","min-w-max px-2"),T(y,"class","label-text"),T(D,"class","label"),B.value=e[9],T(B,"type","range"),T(B,"min","1"),T(B,"max",e[2]),T(B,"step","1"),T(B,"class","range"),T(g,"class","w-full px-2"),T(P,"class","btn btn-sm btn-primary"),T(O,"class","w-32 px-2 pb-1 flex flex-col justify-end"),T(a,"class","px-2 py-4 pb-0 flex")},m(q,W){Ae(q,t,W),ft(r,t,null),n=_s(t,e[14].bind(t)),Ae(q,u,W),Ae(q,a,W),J(a,o),J(o,l),J(l,d),J(d,p),J(o,h),J(o,f),J(a,m),Y&&Y.m(a,null),J(a,b),J(a,g),J(g,D),J(D,y),J(y,C),J(g,w),J(g,B),J(a,F),J(a,O),J(O,P),J(P,I),N=!0,G||(H=[Re(f,"change",e[11]),Re(B,"change",e[10]),Re(P,"click",e[13])],G=!0)},p(q,W){const R={};W&8&&(R.dimensions=q[3]),W&256&&(R.center=q[8]),r.$set(R),(!N||W&16&&c!==(c=q[4].embedExponentialScaling))&&(f.checked=c),q[4].embedExponentialScaling?Y?Y.p(q,W):(Y=Vh(q),Y.c(),Y.m(a,b)):Y&&(Y.d(1),Y=null),(!N||W&512)&&(B.value=q[9]),(!N||W&4)&&T(B,"max",q[2])},i(q){N||(Pe(r.$$.fragment,q),N=!0)},o(q){Ne(r.$$.fragment,q),N=!1},d(q){q&&V(t),ct(r),n(),q&&V(u),q&&V(a),Y&&Y.d(),G=!1,Lr(H)}}}function Vh(e){let t,r,n,u,a,o,l,d,p;return{c(){t=se("div"),r=se("label"),n=se("span"),u=Ke("Scaling Power"),a=Ge(),o=se("input"),this.h()},l(h){t=oe(h,"DIV",{class:!0});var f=re(t);r=oe(f,"LABEL",{class:!0});var c=re(r);n=oe(c,"SPAN",{class:!0});var m=re(n);u=Ze(m,"Scaling Power"),m.forEach(V),c.forEach(V),a=Ye(f),o=oe(f,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),f.forEach(V),this.h()},h(){T(n,"class","label-text"),T(r,"class","label"),o.value=l=e[4].embedWeightScaling,T(o,"type","range"),T(o,"min","0.5"),T(o,"max","3"),T(o,"step","0.1"),T(o,"class","range"),T(t,"class","w-full px-2")},m(h,f){Ae(h,t,f),J(t,r),J(r,n),J(n,u),J(t,a),J(t,o),d||(p=Re(o,"change",e[12]),d=!0)},p(h,f){f&16&&l!==(l=h[4].embedWeightScaling)&&(o.value=l)},d(h){h&&V(t),d=!1,p()}}}function EC(e){let t,r,n,u,a,o;return{c(){t=se("div"),r=se("div"),n=se("div"),u=se("progress"),this.h()},l(l){t=oe(l,"DIV",{class:!0});var d=re(t);r=oe(d,"DIV",{class:!0});var p=re(r);n=oe(p,"DIV",{class:!0});var h=re(n);u=oe(h,"PROGRESS",{class:!0,max:!0}),re(u).forEach(V),h.forEach(V),p.forEach(V),d.forEach(V),this.h()},h(){T(u,"class","progress progress-primary w-56"),u.value=a=Object.keys(e[7]).length,T(u,"max",o=Object.keys(e[4].weightedPrompts).length),T(n,"class","h-20 w-52"),T(r,"class","flex flex-col justify-center"),T(t,"class","w-full h-full flex justify-center")},m(l,d){Ae(l,t,d),J(t,r),J(r,n),J(n,u)},p(l,d){d&128&&a!==(a=Object.keys(l[7]).length)&&(u.value=a),d&16&&o!==(o=Object.keys(l[4].weightedPrompts).length)&&T(u,"max",o)},i:Ie,o:Ie,d(l){l&&V(t)}}}function FC(e){let t,r,n,u;const a=[bC,yC],o=[];function l(d,p){return d[5]?1:0}return t=l(e),r=o[t]=a[t](e),{c(){r.c(),n=zt()},l(d){r.l(d),n=zt()},m(d,p){o[t].m(d,p),Ae(d,n,p),u=!0},p(d,[p]){let h=t;t=l(d),t===h?o[t].p(d,p):(vn(),Ne(o[h],1,1,()=>{o[h]=null}),gn(),r=o[t],r?r.p(d,p):(r=o[t]=a[t](d),r.c()),Pe(r,1),r.m(n.parentNode,n))},i(d){u||(Pe(r),u=!0)},o(d){Ne(r),u=!1},d(d){o[t].d(d),d&&V(n)}}}function qh(e){return!e.embeddings||Object.entries(e.embeddings).length!==Object.entries(e.weightedPrompts).length||(e.lastPromptChange||0)>(e.lastEmbeddingChange||0)}function CC(e,t,r){let n,u,a,o,l,d,p;Mt(e,Dn,F=>r(4,l=F)),Mt(e,pf,F=>r(5,d=F)),Mt(e,vp,F=>r(15,p=F));let h=0,f=0,c=null,m={};function b(F){F.target.value>0&&F.target.value<=n&&Pt.update({...l,embedPromptLimit:F.target.value})}function g(F){Pt.update({...l,embedExponentialScaling:!l.embedExponentialScaling})}function D(F){Pt.update({...l,embedWeightScaling:F.target.value})}function y(F){let O=new _C({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:5e3,metric:"euclidean"});const P=Object.keys(F),I=Object.values(F);O.init({data:I,type:"dense"}),O.run();let G=O.getOutputScaled().map(([Y,q])=>[(Y+1)/2,(q+1)/2]);return P.reduce((Y,q,W)=>(Y[q]=G[W],Y),{})}async function C(){Pt.update({...l,scaledEmbedMappings:y(l.embeddings)})}async function w(){if(!d||!l.weightedPrompts)return;const F=Object.entries(l.weightedPrompts).map(([P,I])=>[P,I.text]),O=df(d);r(7,m={});for(let P of F){const I=await lF(O,P[1],p);r(7,m[P[0]]=I.data.data[0].embedding,m)}Pt.update({...l,embeddings:m,lastEmbeddingChange:Date.now(),scaledEmbedMappings:y(m)})}Ty(()=>{d&&qh(l)&&r(6,c=w())});function B(){h=this.clientWidth,f=this.clientHeight,r(0,h),r(1,f)}return e.$$.update=()=>{e.$$.dirty&16&&r(2,n=Object.keys(l.weightedPrompts||{}).length),e.$$.dirty&20&&r(9,u=l.embedPromptLimit||n),e.$$.dirty&3&&r(3,a=[h||250,f||250]),e.$$.dirty&8&&r(8,o=Os(a)),e.$$.dirty&48&&d&&qh(l)&&r(6,c=w())},[h,f,n,a,l,d,c,m,o,u,b,g,D,C,B]}class SC extends It{constructor(t){super(),Tt(this,t,CC,FC,Nt,{})}}const Wa="zeroPromptHandlingStore";function BC(){const e=Mn(!1),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Wa]?JSON.parse(localStorage[Wa]):!1),{subscribe:t,update:a=>{u&&(localStorage[Wa]=JSON.stringify(!!a),r(!!a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[Wa],r(!1))}}}const Gl=BC(),Op=On(Gl,e=>Lt(Gl));function zh(e,t,r){const n=e.slice();return n[8]=t[r][0],n[9]=t[r][1],n}function Wh(e,t){let r,n=t[9].text+"",u,a,o,l=ni(t[9],t[1].weightMode)+"",d,p,h;return{key:e,first:null,c(){r=se("span"),u=Ke(n),a=Ke("::"),o=se("b"),d=Ke(l),p=Ge(),this.h()},l(f){r=oe(f,"SPAN",{style:!0});var c=re(r);u=Ze(c,n),a=Ze(c,"::"),o=oe(c,"B",{});var m=re(o);d=Ze(m,l),p=Ye(m),m.forEach(V),c.forEach(V),this.h()},h(){T(r,"style",h=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`),this.first=r},m(f,c){Ae(f,r,c),J(r,u),J(r,a),J(r,o),J(o,d),J(o,p)},p(f,c){t=f,c&6&&n!==(n=t[9].text+"")&&Bn(u,n),c&6&&l!==(l=ni(t[9],t[1].weightMode)+"")&&Bn(d,l),c&7&&h!==(h=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`)&&T(r,"style",h)},d(f){f&&V(r)}}}function OC(e){let t,r,n=[],u=new Map,a,o,l=Object.entries(e[1].weightedPrompts).filter(e[6]);const d=p=>p[8];for(let p=0;p<l.length;p+=1){let h=zh(e,l,p),f=d(h);u.set(f,n[p]=Wh(f,h))}return{c(){t=se("div"),r=se("p");for(let p=0;p<n.length;p+=1)n[p].c();this.h()},l(p){t=oe(p,"DIV",{class:!0});var h=re(t);r=oe(h,"P",{class:!0});var f=re(r);for(let c=0;c<n.length;c+=1)n[c].l(f);f.forEach(V),h.forEach(V),this.h()},h(){T(r,"class","text-sm select-none"),T(t,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-md p-4 w-full h-32 overflow-y-auto hover:bg-slate-800 active:bg-slate-950")},m(p,h){Ae(p,t,h),J(t,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(r,null);a||(o=Re(t,"click",e[4]),a=!0)},p(p,[h]){h&15&&(l=Object.entries(p[1].weightedPrompts).filter(p[6]),n=Ei(n,h,d,1,p,l,u,r,vu,Wh,null,zh))},i:Ie,o:Ie,d(p){p&&V(t);for(let h=0;h<n.length;h+=1)n[h].d();a=!1,o()}}}function MC(e,t,r){let n,u,a,o;Mt(e,Dn,f=>r(1,a=f)),Mt(e,Op,f=>r(2,o=f));let l="parsedWeight";function d(f){return((f/n/u+.75)/2).toFixed(2)}function p(){const f=Object.entries(a.weightedPrompts).filter(c=>o||ni(c[1],a.weightMode)).map(([c,m])=>`${m.text}::${ni(m,a.weightMode)}`).join(" ");navigator.clipboard.writeText(f)}const h=f=>o||ni(f[1],a.weightMode);return e.$$.update=()=>{if(e.$$.dirty&2)switch(a.weightMode){case"circle":r(0,l="circleWeight");break;case"bars":r(0,l="barWeight");break;case"embed":r(0,l="embedWeight");break;case"pie":r(0,l="pieWeight");break}e.$$.dirty&3&&r(5,n=Object.values(a.weightedPrompts).reduce((f,c)=>c[l]+f,0)),e.$$.dirty&35&&(u=Math.max(...Object.values(a.weightedPrompts).map(f=>f[l]/n)))},[l,a,o,d,p,n,h]}class PC extends It{constructor(t){super(),Tt(this,t,MC,OC,Nt,{})}}function xC(e){let t,r,n,u;return{c(){t=bt("svg"),r=bt("rect"),n=bt("rect"),u=bt("rect"),this.h()},l(a){t=At(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var o=re(t);r=At(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),re(r).forEach(V),n=At(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),re(n).forEach(V),u=At(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),re(u).forEach(V),o.forEach(V),this.h()},h(){T(r,"x","5"),T(r,"y","12"),T(r,"width","40"),T(r,"height","4"),T(r,"fill","rgba(255,255,255, 0.7)"),T(n,"x","5"),T(n,"y","23"),T(n,"width","30"),T(n,"height","4"),T(n,"fill","rgba(255,255,255, 0.7)"),T(u,"x","5"),T(u,"y","34"),T(u,"width","35"),T(u,"height","4"),T(u,"fill","rgba(255,255,255, 0.7)"),T(t,"xmlns","http://www.w3.org/2000/svg"),T(t,"fill","rgba(255,255,255, 0.7)"),T(t,"class","h-6 w-6"),T(t,"viewBox","0 0 50 50")},m(a,o){Ae(a,t,o),J(t,r),J(t,n),J(t,u)},p:Ie,i:Ie,o:Ie,d(a){a&&V(t)}}}class IC extends It{constructor(t){super(),Tt(this,t,null,xC,Nt,{})}}function TC(e){let t,r,n;return{c(){t=bt("svg"),r=bt("circle"),n=bt("circle"),this.h()},l(u){t=At(u,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var a=re(t);r=At(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),re(r).forEach(V),n=At(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),re(n).forEach(V),a.forEach(V),this.h()},h(){T(r,"cx","25"),T(r,"cy","25"),T(r,"r","20"),T(r,"stroke","rgba(255,255,255, 0.7)"),T(r,"stroke-width","2"),T(r,"fill","none"),T(n,"cx","25"),T(n,"cy","25"),T(n,"r","2"),T(n,"stroke","rgba(255,255,255, 0.7)"),T(n,"stroke-width","1"),T(n,"fill","rgba(255,255,255, 0.7)"),T(t,"xmlns","http://www.w3.org/2000/svg"),T(t,"fill","rgba(255,255,255, 0.7)"),T(t,"class","h-6 w-6"),T(t,"viewBox","0 0 50 50")},m(u,a){Ae(u,t,a),J(t,r),J(t,n)},p:Ie,i:Ie,o:Ie,d(u){u&&V(t)}}}class NC extends It{constructor(t){super(),Tt(this,t,null,TC,Nt,{})}}function kC(e){let t,r,n,u,a,o;return{c(){t=bt("svg"),r=bt("circle"),n=bt("circle"),u=bt("circle"),a=bt("circle"),o=bt("circle"),this.h()},l(l){t=At(l,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var d=re(t);r=At(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),re(r).forEach(V),n=At(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),re(n).forEach(V),u=At(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),re(u).forEach(V),a=At(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),re(a).forEach(V),o=At(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),re(o).forEach(V),d.forEach(V),this.h()},h(){T(r,"cx","20"),T(r,"cy","80"),T(r,"r","5"),T(r,"fill","rgba(255,255,255, 0.7)"),T(n,"cx","40"),T(n,"cy","40"),T(n,"r","5"),T(n,"fill","rgba(255,255,255, 0.7)"),T(u,"cx","70"),T(u,"cy","20"),T(u,"r","5"),T(u,"fill","rgba(255,255,255, 0.7)"),T(a,"cx","80"),T(a,"cy","60"),T(a,"r","5"),T(a,"fill","rgba(255,255,255, 0.7)"),T(o,"cx","60"),T(o,"cy","75"),T(o,"r","5"),T(o,"fill","rgba(255,255,255, 0.7)"),T(t,"xmlns","http://www.w3.org/2000/svg"),T(t,"fill","rgba(255,255,255, 0.7)"),T(t,"class","h-6 w-6"),T(t,"viewBox","0 0 100 100")},m(l,d){Ae(l,t,d),J(t,r),J(t,n),J(t,u),J(t,a),J(t,o)},p:Ie,i:Ie,o:Ie,d(l){l&&V(t)}}}class RC extends It{constructor(t){super(),Tt(this,t,null,kC,Nt,{})}}function LC(e){let t,r,n,u;return{c(){t=bt("svg"),r=bt("path"),n=bt("path"),u=bt("path"),this.h()},l(a){t=At(a,"svg",{xmlns:!0,class:!0,viewBox:!0});var o=re(t);r=At(o,"path",{d:!0,fill:!0}),re(r).forEach(V),n=At(o,"path",{d:!0,fill:!0}),re(n).forEach(V),u=At(o,"path",{d:!0,fill:!0}),re(u).forEach(V),o.forEach(V),this.h()},h(){T(r,"d","M50 50 L50 10 A40 40 0 0 1 90 50 z"),T(r,"fill","rgba(255,255,255, 0.7)"),T(n,"d","M50 50 L90 50 A40 40 0 0 1 50 90 z"),T(n,"fill","rgba(255,255,255, 0.3)"),T(u,"d","M50 50 L50 90 A40 40 0 0 1 10 50 z"),T(u,"fill","rgba(255,255,255, 0.9)"),T(t,"xmlns","http://www.w3.org/2000/svg"),T(t,"class","h-6 w-6"),T(t,"viewBox","0 0 100 100")},m(a,o){Ae(a,t,o),J(t,r),J(t,n),J(t,u)},p:Ie,i:Ie,o:Ie,d(a){a&&V(t)}}}class UC extends It{constructor(t){super(),Tt(this,t,null,LC,Nt,{})}}function jC(e){let t,r;return t=new SC({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function VC(e){let t,r;return t=new FE({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function qC(e){let t,r;return t=new zE({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function zC(e){let t,r;return t=new IE({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function WC(e){let t,r,n,u,a,o,l,d,p,h,f,c,m,b,g,D,y,C,w,B,F,O,P,I,N,G,H;a=new IC({}),p=new UC({}),m=new NC({}),y=new RC({});const Y=[zC,qC,VC,jC],q=[];function W(R,z){return R[0].weightMode==="bars"?0:R[0].weightMode==="pie"?1:R[0].weightMode==="circle"?2:R[0].weightMode==="embed"?3:-1}return~(B=W(e))&&(F=q[B]=Y[B](e)),I=new PC({}),{c(){t=se("div"),r=se("div"),n=se("div"),u=se("button"),ot(a.$$.fragment),l=Ge(),d=se("button"),ot(p.$$.fragment),f=Ge(),c=se("button"),ot(m.$$.fragment),g=Ge(),D=se("button"),ot(y.$$.fragment),w=Ge(),F&&F.c(),O=Ge(),P=se("div"),ot(I.$$.fragment),this.h()},l(R){t=oe(R,"DIV",{class:!0});var z=re(t);r=oe(z,"DIV",{class:!0});var ee=re(r);n=oe(ee,"DIV",{class:!0});var ue=re(n);u=oe(ue,"BUTTON",{class:!0});var he=re(u);lt(a.$$.fragment,he),he.forEach(V),l=Ye(ue),d=oe(ue,"BUTTON",{class:!0});var De=re(d);lt(p.$$.fragment,De),De.forEach(V),f=Ye(ue),c=oe(ue,"BUTTON",{class:!0});var be=re(c);lt(m.$$.fragment,be),be.forEach(V),g=Ye(ue),D=oe(ue,"BUTTON",{class:!0});var Be=re(D);lt(y.$$.fragment,Be),Be.forEach(V),ue.forEach(V),w=Ye(ee),F&&F.l(ee),O=Ye(ee),P=oe(ee,"DIV",{class:!0});var ye=re(P);lt(I.$$.fragment,ye),ye.forEach(V),ee.forEach(V),z.forEach(V),this.h()},h(){T(u,"class",o=e[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"),T(d,"class",h=e[0].weightMode==="pie"?"btn btn-sm btn-active":"btn btn-sm"),T(c,"class",b=e[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"),T(D,"class",C=e[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"),T(n,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),T(P,"class","h-48 w-full p-4 flex flex-col"),T(r,"class","flex flex-col h-full place-content-between"),T(t,"class","w-full h-full flex flex-col")},m(R,z){Ae(R,t,z),J(t,r),J(r,n),J(n,u),ft(a,u,null),J(n,l),J(n,d),ft(p,d,null),J(n,f),J(n,c),ft(m,c,null),J(n,g),J(n,D),ft(y,D,null),J(r,w),~B&&q[B].m(r,null),J(r,O),J(r,P),ft(I,P,null),N=!0,G||(H=[Re(u,"click",e[2]),Re(d,"click",e[3]),Re(c,"click",e[4]),Re(D,"click",e[5])],G=!0)},p(R,[z]){(!N||z&1&&o!==(o=R[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"))&&T(u,"class",o),(!N||z&1&&h!==(h=R[0].weightMode==="pie"?"btn btn-sm btn-active":"btn btn-sm"))&&T(d,"class",h),(!N||z&1&&b!==(b=R[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"))&&T(c,"class",b),(!N||z&1&&C!==(C=R[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"))&&T(D,"class",C);let ee=B;B=W(R),B!==ee&&(F&&(vn(),Ne(q[ee],1,1,()=>{q[ee]=null}),gn()),~B?(F=q[B],F||(F=q[B]=Y[B](R),F.c()),Pe(F,1),F.m(r,O)):F=null)},i(R){N||(Pe(a.$$.fragment,R),Pe(p.$$.fragment,R),Pe(m.$$.fragment,R),Pe(y.$$.fragment,R),Pe(F),Pe(I.$$.fragment,R),N=!0)},o(R){Ne(a.$$.fragment,R),Ne(p.$$.fragment,R),Ne(m.$$.fragment,R),Ne(y.$$.fragment,R),Ne(F),Ne(I.$$.fragment,R),N=!1},d(R){R&&V(t),ct(a),ct(p),ct(m),ct(y),~B&&q[B].d(),ct(I),G=!1,Lr(H)}}}function HC(e,t,r){let n;Mt(e,Dn,p=>r(0,n=p));function u(p){const h={...n,weightMode:p};Pt.update(h)}return[n,u,()=>u("bars"),()=>u("pie"),()=>u("circle"),()=>u("embed")]}class GC extends It{constructor(t){super(),Tt(this,t,HC,WC,Nt,{})}}function YC(){const e=Mn({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("prompt")){const l=o.split("_")[1];a[l]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:t,update:(a,o)=>{const l=Lt(e),p={...l[a]||{},...o};u&&(localStorage[`prompt_${a}`]=JSON.stringify(p));const h={...l,[a]:p};r(h)},get:a=>Lt(e)[a],delete:a=>{u&&delete localStorage[`prompt_${a}`];const o={...Lt(e)};delete o[a],r(o)}}}const ds=YC(),KC=On(ds,e=>Object.entries(Lt(ds)));var ps={},ZC={get exports(){return ps},set exports(e){ps=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",f=1,c=2,m=4,b=1,g=2,D=1,y=2,C=4,w=8,B=16,F=32,O=64,P=128,I=256,N=512,G=30,H="...",Y=800,q=16,W=1,R=2,z=3,ee=1/0,ue=9007199254740991,he=17976931348623157e292,De=0/0,be=4294967295,Be=be-1,ye=be>>>1,xe=[["ary",P],["bind",D],["bindKey",y],["curry",w],["curryRight",B],["flip",N],["partial",F],["partialRight",O],["rearg",I]],ke="[object Arguments]",Ue="[object Array]",at="[object AsyncFunction]",vt="[object Boolean]",Qe="[object Date]",it="[object DOMException]",gt="[object Error]",mt="[object Function]",rt="[object GeneratorFunction]",Xe="[object Map]",wt="[object Number]",br="[object Null]",Ft="[object Object]",Ee="[object Promise]",we="[object Proxy]",Dt="[object RegExp]",jt="[object Set]",ar="[object String]",L="[object Symbol]",j="[object Undefined]",Z="[object WeakMap]",ae="[object WeakSet]",te="[object ArrayBuffer]",de="[object DataView]",ie="[object Float32Array]",le="[object Float64Array]",_e="[object Int8Array]",Oe="[object Int16Array]",We="[object Int32Array]",Fe="[object Uint8Array]",Wt="[object Uint8ClampedArray]",kt="[object Uint16Array]",Jt="[object Uint32Array]",Ht=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,sr=/[&<>"']/g,or=RegExp(vr.source),tn=RegExp(sr.source),fr=/<%-([\s\S]+?)%>/g,_n=/<%([\s\S]+?)%>/g,zn=/<%=([\s\S]+?)%>/g,Pn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xn=/^\w*$/,qi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Si=/[\\^$.*+?()[\]{}|]/g,mu=RegExp(Si.source),Ar=/^\s+/,Qt=/\s/,Du=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ii=/\{\n\/\* \[wrapped with (.+)\] \*/,rn=/,? & /,Wn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bi=/[()=,{}\[\]\/\s]/,_u=/\\(\\)?/g,yu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zi=/\w*$/,bu=/^[-+]0x[0-9a-f]+$/i,Au=/^0b[01]+$/i,wu=/^\[object .+?Constructor\]$/,Eu=/^0o[0-7]+$/i,Fu=/^(?:0|[1-9]\d*)$/,Cu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,Su=/['\n\r\u2028\u2029\\]/g,ai="\\ud800-\\udfff",Bu="\\u0300-\\u036f",Ou="\\ufe20-\\ufe2f",Mu="\\u20d0-\\u20ff",Wi=Bu+Ou+Mu,In="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",rr="\\xac\\xb1\\xd7\\xf7",Ir="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Oi="\\u2000-\\u206f",Hn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tn="A-Z\\xc0-\\xd6\\xd8-\\xde",Mi="\\ufe0e\\ufe0f",yn=rr+Ir+Oi+Hn,nn="[']",Ls="["+ai+"]",Pu="["+yn+"]",Hi="["+Wi+"]",ta="\\d+",_="["+In+"]",E="["+gr+"]",k="[^"+ai+yn+ta+In+gr+Tn+"]",$="\\ud83c[\\udffb-\\udfff]",ce="(?:"+Hi+"|"+$+")",Ce="[^"+ai+"]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Tn+"]",nr="\\u200d",gf="(?:"+E+"|"+k+")",kp="(?:"+Vt+"|"+k+")",mf="(?:"+nn+"(?:d|ll|m|re|s|t|ve))?",Df="(?:"+nn+"(?:D|LL|M|RE|S|T|VE))?",_f=ce+"?",yf="["+Mi+"]?",Rp="(?:"+nr+"(?:"+[Ce,et,dt].join("|")+")"+yf+_f+")*",Lp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Up="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bf=yf+_f+Rp,jp="(?:"+[_,et,dt].join("|")+")"+bf,Vp="(?:"+[Ce+Hi+"?",Hi,et,dt,Ls].join("|")+")",qp=RegExp(nn,"g"),zp=RegExp(Hi,"g"),Us=RegExp($+"(?="+$+")|"+Vp+bf,"g"),Wp=RegExp([Vt+"?"+E+"+"+mf+"(?="+[Pu,Vt,"$"].join("|")+")",kp+"+"+Df+"(?="+[Pu,Vt+gf,"$"].join("|")+")",Vt+"?"+gf+"+"+mf,Vt+"+"+Df,Up,Lp,ta,jp].join("|"),"g"),Hp=RegExp("["+nr+ai+Wi+Mi+"]"),Gp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kp=-1,Ut={};Ut[ie]=Ut[le]=Ut[_e]=Ut[Oe]=Ut[We]=Ut[Fe]=Ut[Wt]=Ut[kt]=Ut[Jt]=!0,Ut[ke]=Ut[Ue]=Ut[te]=Ut[vt]=Ut[de]=Ut[Qe]=Ut[gt]=Ut[mt]=Ut[Xe]=Ut[wt]=Ut[Ft]=Ut[Dt]=Ut[jt]=Ut[ar]=Ut[Z]=!1;var Rt={};Rt[ke]=Rt[Ue]=Rt[te]=Rt[de]=Rt[vt]=Rt[Qe]=Rt[ie]=Rt[le]=Rt[_e]=Rt[Oe]=Rt[We]=Rt[Xe]=Rt[wt]=Rt[Ft]=Rt[Dt]=Rt[jt]=Rt[ar]=Rt[L]=Rt[Fe]=Rt[Wt]=Rt[kt]=Rt[Jt]=!0,Rt[gt]=Rt[mt]=Rt[Z]=!1;var Zp={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qp=parseFloat,e1=parseInt,Af=typeof lr=="object"&&lr&&lr.Object===Object&&lr,t1=typeof self=="object"&&self&&self.Object===Object&&self,wr=Af||t1||Function("return this")(),js=t&&!t.nodeType&&t,Pi=js&&!0&&e&&!e.nodeType&&e,wf=Pi&&Pi.exports===js,Vs=wf&&Af.process,un=function(){try{var X=Pi&&Pi.require&&Pi.require("util").types;return X||Vs&&Vs.binding&&Vs.binding("util")}catch{}}(),Ef=un&&un.isArrayBuffer,Ff=un&&un.isDate,Cf=un&&un.isMap,Sf=un&&un.isRegExp,Bf=un&&un.isSet,Of=un&&un.isTypedArray;function Gr(X,fe,ne){switch(ne.length){case 0:return X.call(fe);case 1:return X.call(fe,ne[0]);case 2:return X.call(fe,ne[0],ne[1]);case 3:return X.call(fe,ne[0],ne[1],ne[2])}return X.apply(fe,ne)}function r1(X,fe,ne,Me){for(var $e=-1,_t=X==null?0:X.length;++$e<_t;){var cr=X[$e];fe(Me,cr,ne(cr),X)}return Me}function an(X,fe){for(var ne=-1,Me=X==null?0:X.length;++ne<Me&&fe(X[ne],ne,X)!==!1;);return X}function n1(X,fe){for(var ne=X==null?0:X.length;ne--&&fe(X[ne],ne,X)!==!1;);return X}function Mf(X,fe){for(var ne=-1,Me=X==null?0:X.length;++ne<Me;)if(!fe(X[ne],ne,X))return!1;return!0}function si(X,fe){for(var ne=-1,Me=X==null?0:X.length,$e=0,_t=[];++ne<Me;){var cr=X[ne];fe(cr,ne,X)&&(_t[$e++]=cr)}return _t}function ra(X,fe){var ne=X==null?0:X.length;return!!ne&&Gi(X,fe,0)>-1}function qs(X,fe,ne){for(var Me=-1,$e=X==null?0:X.length;++Me<$e;)if(ne(fe,X[Me]))return!0;return!1}function qt(X,fe){for(var ne=-1,Me=X==null?0:X.length,$e=Array(Me);++ne<Me;)$e[ne]=fe(X[ne],ne,X);return $e}function oi(X,fe){for(var ne=-1,Me=fe.length,$e=X.length;++ne<Me;)X[$e+ne]=fe[ne];return X}function zs(X,fe,ne,Me){var $e=-1,_t=X==null?0:X.length;for(Me&&_t&&(ne=X[++$e]);++$e<_t;)ne=fe(ne,X[$e],$e,X);return ne}function i1(X,fe,ne,Me){var $e=X==null?0:X.length;for(Me&&$e&&(ne=X[--$e]);$e--;)ne=fe(ne,X[$e],$e,X);return ne}function Ws(X,fe){for(var ne=-1,Me=X==null?0:X.length;++ne<Me;)if(fe(X[ne],ne,X))return!0;return!1}var u1=Hs("length");function a1(X){return X.split("")}function s1(X){return X.match(Wn)||[]}function Pf(X,fe,ne){var Me;return ne(X,function($e,_t,cr){if(fe($e,_t,cr))return Me=_t,!1}),Me}function na(X,fe,ne,Me){for(var $e=X.length,_t=ne+(Me?1:-1);Me?_t--:++_t<$e;)if(fe(X[_t],_t,X))return _t;return-1}function Gi(X,fe,ne){return fe===fe?_1(X,fe,ne):na(X,xf,ne)}function o1(X,fe,ne,Me){for(var $e=ne-1,_t=X.length;++$e<_t;)if(Me(X[$e],fe))return $e;return-1}function xf(X){return X!==X}function If(X,fe){var ne=X==null?0:X.length;return ne?Ys(X,fe)/ne:De}function Hs(X){return function(fe){return fe==null?r:fe[X]}}function Gs(X){return function(fe){return X==null?r:X[fe]}}function Tf(X,fe,ne,Me,$e){return $e(X,function(_t,cr,Ot){ne=Me?(Me=!1,_t):fe(ne,_t,cr,Ot)}),ne}function l1(X,fe){var ne=X.length;for(X.sort(fe);ne--;)X[ne]=X[ne].value;return X}function Ys(X,fe){for(var ne,Me=-1,$e=X.length;++Me<$e;){var _t=fe(X[Me]);_t!==r&&(ne=ne===r?_t:ne+_t)}return ne}function Ks(X,fe){for(var ne=-1,Me=Array(X);++ne<X;)Me[ne]=fe(ne);return Me}function f1(X,fe){return qt(fe,function(ne){return[ne,X[ne]]})}function Nf(X){return X&&X.slice(0,Uf(X)+1).replace(Ar,"")}function Yr(X){return function(fe){return X(fe)}}function Zs(X,fe){return qt(fe,function(ne){return X[ne]})}function xu(X,fe){return X.has(fe)}function kf(X,fe){for(var ne=-1,Me=X.length;++ne<Me&&Gi(fe,X[ne],0)>-1;);return ne}function Rf(X,fe){for(var ne=X.length;ne--&&Gi(fe,X[ne],0)>-1;);return ne}function c1(X,fe){for(var ne=X.length,Me=0;ne--;)X[ne]===fe&&++Me;return Me}var h1=Gs(Zp),d1=Gs($p);function p1(X){return"\\"+Jp[X]}function v1(X,fe){return X==null?r:X[fe]}function Yi(X){return Hp.test(X)}function g1(X){return Gp.test(X)}function m1(X){for(var fe,ne=[];!(fe=X.next()).done;)ne.push(fe.value);return ne}function $s(X){var fe=-1,ne=Array(X.size);return X.forEach(function(Me,$e){ne[++fe]=[$e,Me]}),ne}function Lf(X,fe){return function(ne){return X(fe(ne))}}function li(X,fe){for(var ne=-1,Me=X.length,$e=0,_t=[];++ne<Me;){var cr=X[ne];(cr===fe||cr===h)&&(X[ne]=h,_t[$e++]=ne)}return _t}function ia(X){var fe=-1,ne=Array(X.size);return X.forEach(function(Me){ne[++fe]=Me}),ne}function D1(X){var fe=-1,ne=Array(X.size);return X.forEach(function(Me){ne[++fe]=[Me,Me]}),ne}function _1(X,fe,ne){for(var Me=ne-1,$e=X.length;++Me<$e;)if(X[Me]===fe)return Me;return-1}function y1(X,fe,ne){for(var Me=ne+1;Me--;)if(X[Me]===fe)return Me;return Me}function Ki(X){return Yi(X)?A1(X):u1(X)}function bn(X){return Yi(X)?w1(X):a1(X)}function Uf(X){for(var fe=X.length;fe--&&Qt.test(X.charAt(fe)););return fe}var b1=Gs(Xp);function A1(X){for(var fe=Us.lastIndex=0;Us.test(X);)++fe;return fe}function w1(X){return X.match(Us)||[]}function E1(X){return X.match(Wp)||[]}var F1=function X(fe){fe=fe==null?wr:Zi.defaults(wr.Object(),fe,Zi.pick(wr,Yp));var ne=fe.Array,Me=fe.Date,$e=fe.Error,_t=fe.Function,cr=fe.Math,Ot=fe.Object,Xs=fe.RegExp,C1=fe.String,sn=fe.TypeError,ua=ne.prototype,S1=_t.prototype,$i=Ot.prototype,aa=fe["__core-js_shared__"],sa=S1.toString,Et=$i.hasOwnProperty,B1=0,jf=function(){var i=/[^.]+$/.exec(aa&&aa.keys&&aa.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),oa=$i.toString,O1=sa.call(Ot),M1=wr._,P1=Xs("^"+sa.call(Et).replace(Si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=wf?fe.Buffer:r,fi=fe.Symbol,fa=fe.Uint8Array,Vf=la?la.allocUnsafe:r,ca=Lf(Ot.getPrototypeOf,Ot),qf=Ot.create,zf=$i.propertyIsEnumerable,ha=ua.splice,Wf=fi?fi.isConcatSpreadable:r,Iu=fi?fi.iterator:r,xi=fi?fi.toStringTag:r,da=function(){try{var i=Ri(Ot,"defineProperty");return i({},"",{}),i}catch{}}(),x1=fe.clearTimeout!==wr.clearTimeout&&fe.clearTimeout,I1=Me&&Me.now!==wr.Date.now&&Me.now,T1=fe.setTimeout!==wr.setTimeout&&fe.setTimeout,pa=cr.ceil,va=cr.floor,Js=Ot.getOwnPropertySymbols,N1=la?la.isBuffer:r,Hf=fe.isFinite,k1=ua.join,R1=Lf(Ot.keys,Ot),hr=cr.max,Or=cr.min,L1=Me.now,U1=fe.parseInt,Gf=cr.random,j1=ua.reverse,Qs=Ri(fe,"DataView"),Tu=Ri(fe,"Map"),eo=Ri(fe,"Promise"),Xi=Ri(fe,"Set"),Nu=Ri(fe,"WeakMap"),ku=Ri(Ot,"create"),ga=Nu&&new Nu,Ji={},V1=Li(Qs),q1=Li(Tu),z1=Li(eo),W1=Li(Xi),H1=Li(Nu),ma=fi?fi.prototype:r,Ru=ma?ma.valueOf:r,Yf=ma?ma.toString:r;function M(i){if(er(i)&&!Je(i)&&!(i instanceof ht)){if(i instanceof on)return i;if(Et.call(i,"__wrapped__"))return Kc(i)}return new on(i)}var Qi=function(){function i(){}return function(s){if(!Yt(s))return{};if(qf)return qf(s);i.prototype=s;var v=new i;return i.prototype=r,v}}();function Da(){}function on(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:fr,evaluate:_n,interpolate:zn,variable:"",imports:{_:M}},M.prototype=Da.prototype,M.prototype.constructor=M,on.prototype=Qi(Da.prototype),on.prototype.constructor=on;function ht(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=be,this.__views__=[]}function G1(){var i=new ht(this.__wrapped__);return i.__actions__=Ur(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Ur(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Ur(this.__views__),i}function Y1(){if(this.__filtered__){var i=new ht(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function K1(){var i=this.__wrapped__.value(),s=this.__dir__,v=Je(i),A=s<0,S=v?i.length:0,x=ag(0,S,this.__views__),U=x.start,K=x.end,Q=K-U,pe=A?K:U-1,ve=this.__iteratees__,me=ve.length,Se=0,Te=Or(Q,this.__takeCount__);if(!v||!A&&S==Q&&Te==Q)return mc(i,this.__actions__);var qe=[];e:for(;Q--&&Se<Te;){pe+=s;for(var nt=-1,ze=i[pe];++nt<me;){var st=ve[nt],pt=st.iteratee,$r=st.type,kr=pt(ze);if($r==R)ze=kr;else if(!kr){if($r==W)continue e;break e}}qe[Se++]=ze}return qe}ht.prototype=Qi(Da.prototype),ht.prototype.constructor=ht;function Ii(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function Z1(){this.__data__=ku?ku(null):{},this.size=0}function $1(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function X1(i){var s=this.__data__;if(ku){var v=s[i];return v===d?r:v}return Et.call(s,i)?s[i]:r}function J1(i){var s=this.__data__;return ku?s[i]!==r:Et.call(s,i)}function Q1(i,s){var v=this.__data__;return this.size+=this.has(i)?0:1,v[i]=ku&&s===r?d:s,this}Ii.prototype.clear=Z1,Ii.prototype.delete=$1,Ii.prototype.get=X1,Ii.prototype.has=J1,Ii.prototype.set=Q1;function Gn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function ev(){this.__data__=[],this.size=0}function tv(i){var s=this.__data__,v=_a(s,i);if(v<0)return!1;var A=s.length-1;return v==A?s.pop():ha.call(s,v,1),--this.size,!0}function rv(i){var s=this.__data__,v=_a(s,i);return v<0?r:s[v][1]}function nv(i){return _a(this.__data__,i)>-1}function iv(i,s){var v=this.__data__,A=_a(v,i);return A<0?(++this.size,v.push([i,s])):v[A][1]=s,this}Gn.prototype.clear=ev,Gn.prototype.delete=tv,Gn.prototype.get=rv,Gn.prototype.has=nv,Gn.prototype.set=iv;function Yn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function uv(){this.size=0,this.__data__={hash:new Ii,map:new(Tu||Gn),string:new Ii}}function av(i){var s=Pa(this,i).delete(i);return this.size-=s?1:0,s}function sv(i){return Pa(this,i).get(i)}function ov(i){return Pa(this,i).has(i)}function lv(i,s){var v=Pa(this,i),A=v.size;return v.set(i,s),this.size+=v.size==A?0:1,this}Yn.prototype.clear=uv,Yn.prototype.delete=av,Yn.prototype.get=sv,Yn.prototype.has=ov,Yn.prototype.set=lv;function Ti(i){var s=-1,v=i==null?0:i.length;for(this.__data__=new Yn;++s<v;)this.add(i[s])}function fv(i){return this.__data__.set(i,d),this}function cv(i){return this.__data__.has(i)}Ti.prototype.add=Ti.prototype.push=fv,Ti.prototype.has=cv;function An(i){var s=this.__data__=new Gn(i);this.size=s.size}function hv(){this.__data__=new Gn,this.size=0}function dv(i){var s=this.__data__,v=s.delete(i);return this.size=s.size,v}function pv(i){return this.__data__.get(i)}function vv(i){return this.__data__.has(i)}function gv(i,s){var v=this.__data__;if(v instanceof Gn){var A=v.__data__;if(!Tu||A.length<u-1)return A.push([i,s]),this.size=++v.size,this;v=this.__data__=new Yn(A)}return v.set(i,s),this.size=v.size,this}An.prototype.clear=hv,An.prototype.delete=dv,An.prototype.get=pv,An.prototype.has=vv,An.prototype.set=gv;function Kf(i,s){var v=Je(i),A=!v&&Ui(i),S=!v&&!A&&vi(i),x=!v&&!A&&!S&&nu(i),U=v||A||S||x,K=U?Ks(i.length,C1):[],Q=K.length;for(var pe in i)(s||Et.call(i,pe))&&!(U&&(pe=="length"||S&&(pe=="offset"||pe=="parent")||x&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||Xn(pe,Q)))&&K.push(pe);return K}function Zf(i){var s=i.length;return s?i[co(0,s-1)]:r}function mv(i,s){return xa(Ur(i),Ni(s,0,i.length))}function Dv(i){return xa(Ur(i))}function to(i,s,v){(v!==r&&!wn(i[s],v)||v===r&&!(s in i))&&Kn(i,s,v)}function Lu(i,s,v){var A=i[s];(!(Et.call(i,s)&&wn(A,v))||v===r&&!(s in i))&&Kn(i,s,v)}function _a(i,s){for(var v=i.length;v--;)if(wn(i[v][0],s))return v;return-1}function _v(i,s,v,A){return ci(i,function(S,x,U){s(A,S,v(S),U)}),A}function $f(i,s){return i&&kn(s,mr(s),i)}function yv(i,s){return i&&kn(s,Vr(s),i)}function Kn(i,s,v){s=="__proto__"&&da?da(i,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):i[s]=v}function ro(i,s){for(var v=-1,A=s.length,S=ne(A),x=i==null;++v<A;)S[v]=x?r:Ro(i,s[v]);return S}function Ni(i,s,v){return i===i&&(v!==r&&(i=i<=v?i:v),s!==r&&(i=i>=s?i:s)),i}function ln(i,s,v,A,S,x){var U,K=s&f,Q=s&c,pe=s&m;if(v&&(U=S?v(i,A,S,x):v(i)),U!==r)return U;if(!Yt(i))return i;var ve=Je(i);if(ve){if(U=og(i),!K)return Ur(i,U)}else{var me=Mr(i),Se=me==mt||me==rt;if(vi(i))return yc(i,K);if(me==Ft||me==ke||Se&&!S){if(U=Q||Se?{}:Uc(i),!K)return Q?Xv(i,yv(U,i)):$v(i,$f(U,i))}else{if(!Rt[me])return S?i:{};U=lg(i,me,K)}}x||(x=new An);var Te=x.get(i);if(Te)return Te;x.set(i,U),p0(i)?i.forEach(function(ze){U.add(ln(ze,s,v,ze,i,x))}):h0(i)&&i.forEach(function(ze,st){U.set(st,ln(ze,s,v,st,i,x))});var qe=pe?Q?wo:Ao:Q?Vr:mr,nt=ve?r:qe(i);return an(nt||i,function(ze,st){nt&&(st=ze,ze=i[st]),Lu(U,st,ln(ze,s,v,st,i,x))}),U}function bv(i){var s=mr(i);return function(v){return Xf(v,i,s)}}function Xf(i,s,v){var A=v.length;if(i==null)return!A;for(i=Ot(i);A--;){var S=v[A],x=s[S],U=i[S];if(U===r&&!(S in i)||!x(U))return!1}return!0}function Jf(i,s,v){if(typeof i!="function")throw new sn(o);return Hu(function(){i.apply(r,v)},s)}function Uu(i,s,v,A){var S=-1,x=ra,U=!0,K=i.length,Q=[],pe=s.length;if(!K)return Q;v&&(s=qt(s,Yr(v))),A?(x=qs,U=!1):s.length>=u&&(x=xu,U=!1,s=new Ti(s));e:for(;++S<K;){var ve=i[S],me=v==null?ve:v(ve);if(ve=A||ve!==0?ve:0,U&&me===me){for(var Se=pe;Se--;)if(s[Se]===me)continue e;Q.push(ve)}else x(s,me,A)||Q.push(ve)}return Q}var ci=Fc(Nn),Qf=Fc(io,!0);function Av(i,s){var v=!0;return ci(i,function(A,S,x){return v=!!s(A,S,x),v}),v}function ya(i,s,v){for(var A=-1,S=i.length;++A<S;){var x=i[A],U=s(x);if(U!=null&&(K===r?U===U&&!Zr(U):v(U,K)))var K=U,Q=x}return Q}function wv(i,s,v,A){var S=i.length;for(v=tt(v),v<0&&(v=-v>S?0:S+v),A=A===r||A>S?S:tt(A),A<0&&(A+=S),A=v>A?0:g0(A);v<A;)i[v++]=s;return i}function ec(i,s){var v=[];return ci(i,function(A,S,x){s(A,S,x)&&v.push(A)}),v}function Er(i,s,v,A,S){var x=-1,U=i.length;for(v||(v=cg),S||(S=[]);++x<U;){var K=i[x];s>0&&v(K)?s>1?Er(K,s-1,v,A,S):oi(S,K):A||(S[S.length]=K)}return S}var no=Cc(),tc=Cc(!0);function Nn(i,s){return i&&no(i,s,mr)}function io(i,s){return i&&tc(i,s,mr)}function ba(i,s){return si(s,function(v){return Jn(i[v])})}function ki(i,s){s=di(s,i);for(var v=0,A=s.length;i!=null&&v<A;)i=i[Rn(s[v++])];return v&&v==A?i:r}function rc(i,s,v){var A=s(i);return Je(i)?A:oi(A,v(i))}function Tr(i){return i==null?i===r?j:br:xi&&xi in Ot(i)?ug(i):Dg(i)}function uo(i,s){return i>s}function Ev(i,s){return i!=null&&Et.call(i,s)}function Fv(i,s){return i!=null&&s in Ot(i)}function Cv(i,s,v){return i>=Or(s,v)&&i<hr(s,v)}function ao(i,s,v){for(var A=v?qs:ra,S=i[0].length,x=i.length,U=x,K=ne(x),Q=1/0,pe=[];U--;){var ve=i[U];U&&s&&(ve=qt(ve,Yr(s))),Q=Or(ve.length,Q),K[U]=!v&&(s||S>=120&&ve.length>=120)?new Ti(U&&ve):r}ve=i[0];var me=-1,Se=K[0];e:for(;++me<S&&pe.length<Q;){var Te=ve[me],qe=s?s(Te):Te;if(Te=v||Te!==0?Te:0,!(Se?xu(Se,qe):A(pe,qe,v))){for(U=x;--U;){var nt=K[U];if(!(nt?xu(nt,qe):A(i[U],qe,v)))continue e}Se&&Se.push(qe),pe.push(Te)}}return pe}function Sv(i,s,v,A){return Nn(i,function(S,x,U){s(A,v(S),x,U)}),A}function ju(i,s,v){s=di(s,i),i=zc(i,s);var A=i==null?i:i[Rn(cn(s))];return A==null?r:Gr(A,i,v)}function nc(i){return er(i)&&Tr(i)==ke}function Bv(i){return er(i)&&Tr(i)==te}function Ov(i){return er(i)&&Tr(i)==Qe}function Vu(i,s,v,A,S){return i===s?!0:i==null||s==null||!er(i)&&!er(s)?i!==i&&s!==s:Mv(i,s,v,A,Vu,S)}function Mv(i,s,v,A,S,x){var U=Je(i),K=Je(s),Q=U?Ue:Mr(i),pe=K?Ue:Mr(s);Q=Q==ke?Ft:Q,pe=pe==ke?Ft:pe;var ve=Q==Ft,me=pe==Ft,Se=Q==pe;if(Se&&vi(i)){if(!vi(s))return!1;U=!0,ve=!1}if(Se&&!ve)return x||(x=new An),U||nu(i)?kc(i,s,v,A,S,x):ng(i,s,Q,v,A,S,x);if(!(v&b)){var Te=ve&&Et.call(i,"__wrapped__"),qe=me&&Et.call(s,"__wrapped__");if(Te||qe){var nt=Te?i.value():i,ze=qe?s.value():s;return x||(x=new An),S(nt,ze,v,A,x)}}return Se?(x||(x=new An),ig(i,s,v,A,S,x)):!1}function Pv(i){return er(i)&&Mr(i)==Xe}function so(i,s,v,A){var S=v.length,x=S,U=!A;if(i==null)return!x;for(i=Ot(i);S--;){var K=v[S];if(U&&K[2]?K[1]!==i[K[0]]:!(K[0]in i))return!1}for(;++S<x;){K=v[S];var Q=K[0],pe=i[Q],ve=K[1];if(U&&K[2]){if(pe===r&&!(Q in i))return!1}else{var me=new An;if(A)var Se=A(pe,ve,Q,i,s,me);if(!(Se===r?Vu(ve,pe,b|g,A,me):Se))return!1}}return!0}function ic(i){if(!Yt(i)||dg(i))return!1;var s=Jn(i)?P1:wu;return s.test(Li(i))}function xv(i){return er(i)&&Tr(i)==Dt}function Iv(i){return er(i)&&Mr(i)==jt}function Tv(i){return er(i)&&La(i.length)&&!!Ut[Tr(i)]}function uc(i){return typeof i=="function"?i:i==null?qr:typeof i=="object"?Je(i)?oc(i[0],i[1]):sc(i):S0(i)}function oo(i){if(!Wu(i))return R1(i);var s=[];for(var v in Ot(i))Et.call(i,v)&&v!="constructor"&&s.push(v);return s}function Nv(i){if(!Yt(i))return mg(i);var s=Wu(i),v=[];for(var A in i)A=="constructor"&&(s||!Et.call(i,A))||v.push(A);return v}function lo(i,s){return i<s}function ac(i,s){var v=-1,A=jr(i)?ne(i.length):[];return ci(i,function(S,x,U){A[++v]=s(S,x,U)}),A}function sc(i){var s=Fo(i);return s.length==1&&s[0][2]?Vc(s[0][0],s[0][1]):function(v){return v===i||so(v,i,s)}}function oc(i,s){return So(i)&&jc(s)?Vc(Rn(i),s):function(v){var A=Ro(v,i);return A===r&&A===s?Lo(v,i):Vu(s,A,b|g)}}function Aa(i,s,v,A,S){i!==s&&no(s,function(x,U){if(S||(S=new An),Yt(x))kv(i,s,U,v,Aa,A,S);else{var K=A?A(Oo(i,U),x,U+"",i,s,S):r;K===r&&(K=x),to(i,U,K)}},Vr)}function kv(i,s,v,A,S,x,U){var K=Oo(i,v),Q=Oo(s,v),pe=U.get(Q);if(pe){to(i,v,pe);return}var ve=x?x(K,Q,v+"",i,s,U):r,me=ve===r;if(me){var Se=Je(Q),Te=!Se&&vi(Q),qe=!Se&&!Te&&nu(Q);ve=Q,Se||Te||qe?Je(K)?ve=K:ir(K)?ve=Ur(K):Te?(me=!1,ve=yc(Q,!0)):qe?(me=!1,ve=bc(Q,!0)):ve=[]:Gu(Q)||Ui(Q)?(ve=K,Ui(K)?ve=m0(K):(!Yt(K)||Jn(K))&&(ve=Uc(Q))):me=!1}me&&(U.set(Q,ve),S(ve,Q,A,x,U),U.delete(Q)),to(i,v,ve)}function lc(i,s){var v=i.length;if(v)return s+=s<0?v:0,Xn(s,v)?i[s]:r}function fc(i,s,v){s.length?s=qt(s,function(x){return Je(x)?function(U){return ki(U,x.length===1?x[0]:x)}:x}):s=[qr];var A=-1;s=qt(s,Yr(je()));var S=ac(i,function(x,U,K){var Q=qt(s,function(pe){return pe(x)});return{criteria:Q,index:++A,value:x}});return l1(S,function(x,U){return Zv(x,U,v)})}function Rv(i,s){return cc(i,s,function(v,A){return Lo(i,A)})}function cc(i,s,v){for(var A=-1,S=s.length,x={};++A<S;){var U=s[A],K=ki(i,U);v(K,U)&&qu(x,di(U,i),K)}return x}function Lv(i){return function(s){return ki(s,i)}}function fo(i,s,v,A){var S=A?o1:Gi,x=-1,U=s.length,K=i;for(i===s&&(s=Ur(s)),v&&(K=qt(i,Yr(v)));++x<U;)for(var Q=0,pe=s[x],ve=v?v(pe):pe;(Q=S(K,ve,Q,A))>-1;)K!==i&&ha.call(K,Q,1),ha.call(i,Q,1);return i}function hc(i,s){for(var v=i?s.length:0,A=v-1;v--;){var S=s[v];if(v==A||S!==x){var x=S;Xn(S)?ha.call(i,S,1):vo(i,S)}}return i}function co(i,s){return i+va(Gf()*(s-i+1))}function Uv(i,s,v,A){for(var S=-1,x=hr(pa((s-i)/(v||1)),0),U=ne(x);x--;)U[A?x:++S]=i,i+=v;return U}function ho(i,s){var v="";if(!i||s<1||s>ue)return v;do s%2&&(v+=i),s=va(s/2),s&&(i+=i);while(s);return v}function ut(i,s){return Mo(qc(i,s,qr),i+"")}function jv(i){return Zf(iu(i))}function Vv(i,s){var v=iu(i);return xa(v,Ni(s,0,v.length))}function qu(i,s,v,A){if(!Yt(i))return i;s=di(s,i);for(var S=-1,x=s.length,U=x-1,K=i;K!=null&&++S<x;){var Q=Rn(s[S]),pe=v;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(S!=U){var ve=K[Q];pe=A?A(ve,Q,K):r,pe===r&&(pe=Yt(ve)?ve:Xn(s[S+1])?[]:{})}Lu(K,Q,pe),K=K[Q]}return i}var dc=ga?function(i,s){return ga.set(i,s),i}:qr,qv=da?function(i,s){return da(i,"toString",{configurable:!0,enumerable:!1,value:jo(s),writable:!0})}:qr;function zv(i){return xa(iu(i))}function fn(i,s,v){var A=-1,S=i.length;s<0&&(s=-s>S?0:S+s),v=v>S?S:v,v<0&&(v+=S),S=s>v?0:v-s>>>0,s>>>=0;for(var x=ne(S);++A<S;)x[A]=i[A+s];return x}function Wv(i,s){var v;return ci(i,function(A,S,x){return v=s(A,S,x),!v}),!!v}function wa(i,s,v){var A=0,S=i==null?A:i.length;if(typeof s=="number"&&s===s&&S<=ye){for(;A<S;){var x=A+S>>>1,U=i[x];U!==null&&!Zr(U)&&(v?U<=s:U<s)?A=x+1:S=x}return S}return po(i,s,qr,v)}function po(i,s,v,A){var S=0,x=i==null?0:i.length;if(x===0)return 0;s=v(s);for(var U=s!==s,K=s===null,Q=Zr(s),pe=s===r;S<x;){var ve=va((S+x)/2),me=v(i[ve]),Se=me!==r,Te=me===null,qe=me===me,nt=Zr(me);if(U)var ze=A||qe;else pe?ze=qe&&(A||Se):K?ze=qe&&Se&&(A||!Te):Q?ze=qe&&Se&&!Te&&(A||!nt):Te||nt?ze=!1:ze=A?me<=s:me<s;ze?S=ve+1:x=ve}return Or(x,Be)}function pc(i,s){for(var v=-1,A=i.length,S=0,x=[];++v<A;){var U=i[v],K=s?s(U):U;if(!v||!wn(K,Q)){var Q=K;x[S++]=U===0?0:U}}return x}function vc(i){return typeof i=="number"?i:Zr(i)?De:+i}function Kr(i){if(typeof i=="string")return i;if(Je(i))return qt(i,Kr)+"";if(Zr(i))return Yf?Yf.call(i):"";var s=i+"";return s=="0"&&1/i==-ee?"-0":s}function hi(i,s,v){var A=-1,S=ra,x=i.length,U=!0,K=[],Q=K;if(v)U=!1,S=qs;else if(x>=u){var pe=s?null:tg(i);if(pe)return ia(pe);U=!1,S=xu,Q=new Ti}else Q=s?[]:K;e:for(;++A<x;){var ve=i[A],me=s?s(ve):ve;if(ve=v||ve!==0?ve:0,U&&me===me){for(var Se=Q.length;Se--;)if(Q[Se]===me)continue e;s&&Q.push(me),K.push(ve)}else S(Q,me,v)||(Q!==K&&Q.push(me),K.push(ve))}return K}function vo(i,s){return s=di(s,i),i=zc(i,s),i==null||delete i[Rn(cn(s))]}function gc(i,s,v,A){return qu(i,s,v(ki(i,s)),A)}function Ea(i,s,v,A){for(var S=i.length,x=A?S:-1;(A?x--:++x<S)&&s(i[x],x,i););return v?fn(i,A?0:x,A?x+1:S):fn(i,A?x+1:0,A?S:x)}function mc(i,s){var v=i;return v instanceof ht&&(v=v.value()),zs(s,function(A,S){return S.func.apply(S.thisArg,oi([A],S.args))},v)}function go(i,s,v){var A=i.length;if(A<2)return A?hi(i[0]):[];for(var S=-1,x=ne(A);++S<A;)for(var U=i[S],K=-1;++K<A;)K!=S&&(x[S]=Uu(x[S]||U,i[K],s,v));return hi(Er(x,1),s,v)}function Dc(i,s,v){for(var A=-1,S=i.length,x=s.length,U={};++A<S;){var K=A<x?s[A]:r;v(U,i[A],K)}return U}function mo(i){return ir(i)?i:[]}function Do(i){return typeof i=="function"?i:qr}function di(i,s){return Je(i)?i:So(i,s)?[i]:Yc(yt(i))}var Hv=ut;function pi(i,s,v){var A=i.length;return v=v===r?A:v,!s&&v>=A?i:fn(i,s,v)}var _c=x1||function(i){return wr.clearTimeout(i)};function yc(i,s){if(s)return i.slice();var v=i.length,A=Vf?Vf(v):new i.constructor(v);return i.copy(A),A}function _o(i){var s=new i.constructor(i.byteLength);return new fa(s).set(new fa(i)),s}function Gv(i,s){var v=s?_o(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.byteLength)}function Yv(i){var s=new i.constructor(i.source,zi.exec(i));return s.lastIndex=i.lastIndex,s}function Kv(i){return Ru?Ot(Ru.call(i)):{}}function bc(i,s){var v=s?_o(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.length)}function Ac(i,s){if(i!==s){var v=i!==r,A=i===null,S=i===i,x=Zr(i),U=s!==r,K=s===null,Q=s===s,pe=Zr(s);if(!K&&!pe&&!x&&i>s||x&&U&&Q&&!K&&!pe||A&&U&&Q||!v&&Q||!S)return 1;if(!A&&!x&&!pe&&i<s||pe&&v&&S&&!A&&!x||K&&v&&S||!U&&S||!Q)return-1}return 0}function Zv(i,s,v){for(var A=-1,S=i.criteria,x=s.criteria,U=S.length,K=v.length;++A<U;){var Q=Ac(S[A],x[A]);if(Q){if(A>=K)return Q;var pe=v[A];return Q*(pe=="desc"?-1:1)}}return i.index-s.index}function wc(i,s,v,A){for(var S=-1,x=i.length,U=v.length,K=-1,Q=s.length,pe=hr(x-U,0),ve=ne(Q+pe),me=!A;++K<Q;)ve[K]=s[K];for(;++S<U;)(me||S<x)&&(ve[v[S]]=i[S]);for(;pe--;)ve[K++]=i[S++];return ve}function Ec(i,s,v,A){for(var S=-1,x=i.length,U=-1,K=v.length,Q=-1,pe=s.length,ve=hr(x-K,0),me=ne(ve+pe),Se=!A;++S<ve;)me[S]=i[S];for(var Te=S;++Q<pe;)me[Te+Q]=s[Q];for(;++U<K;)(Se||S<x)&&(me[Te+v[U]]=i[S++]);return me}function Ur(i,s){var v=-1,A=i.length;for(s||(s=ne(A));++v<A;)s[v]=i[v];return s}function kn(i,s,v,A){var S=!v;v||(v={});for(var x=-1,U=s.length;++x<U;){var K=s[x],Q=A?A(v[K],i[K],K,v,i):r;Q===r&&(Q=i[K]),S?Kn(v,K,Q):Lu(v,K,Q)}return v}function $v(i,s){return kn(i,Co(i),s)}function Xv(i,s){return kn(i,Rc(i),s)}function Fa(i,s){return function(v,A){var S=Je(v)?r1:_v,x=s?s():{};return S(v,i,je(A,2),x)}}function eu(i){return ut(function(s,v){var A=-1,S=v.length,x=S>1?v[S-1]:r,U=S>2?v[2]:r;for(x=i.length>3&&typeof x=="function"?(S--,x):r,U&&Nr(v[0],v[1],U)&&(x=S<3?r:x,S=1),s=Ot(s);++A<S;){var K=v[A];K&&i(s,K,A,x)}return s})}function Fc(i,s){return function(v,A){if(v==null)return v;if(!jr(v))return i(v,A);for(var S=v.length,x=s?S:-1,U=Ot(v);(s?x--:++x<S)&&A(U[x],x,U)!==!1;);return v}}function Cc(i){return function(s,v,A){for(var S=-1,x=Ot(s),U=A(s),K=U.length;K--;){var Q=U[i?K:++S];if(v(x[Q],Q,x)===!1)break}return s}}function Jv(i,s,v){var A=s&D,S=zu(i);function x(){var U=this&&this!==wr&&this instanceof x?S:i;return U.apply(A?v:this,arguments)}return x}function Sc(i){return function(s){s=yt(s);var v=Yi(s)?bn(s):r,A=v?v[0]:s.charAt(0),S=v?pi(v,1).join(""):s.slice(1);return A[i]()+S}}function tu(i){return function(s){return zs(F0(E0(s).replace(qp,"")),i,"")}}function zu(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=Qi(i.prototype),A=i.apply(v,s);return Yt(A)?A:v}}function Qv(i,s,v){var A=zu(i);function S(){for(var x=arguments.length,U=ne(x),K=x,Q=ru(S);K--;)U[K]=arguments[K];var pe=x<3&&U[0]!==Q&&U[x-1]!==Q?[]:li(U,Q);if(x-=pe.length,x<v)return xc(i,s,Ca,S.placeholder,r,U,pe,r,r,v-x);var ve=this&&this!==wr&&this instanceof S?A:i;return Gr(ve,this,U)}return S}function Bc(i){return function(s,v,A){var S=Ot(s);if(!jr(s)){var x=je(v,3);s=mr(s),v=function(K){return x(S[K],K,S)}}var U=i(s,v,A);return U>-1?S[x?s[U]:U]:r}}function Oc(i){return $n(function(s){var v=s.length,A=v,S=on.prototype.thru;for(i&&s.reverse();A--;){var x=s[A];if(typeof x!="function")throw new sn(o);if(S&&!U&&Ma(x)=="wrapper")var U=new on([],!0)}for(A=U?A:v;++A<v;){x=s[A];var K=Ma(x),Q=K=="wrapper"?Eo(x):r;Q&&Bo(Q[0])&&Q[1]==(P|w|F|I)&&!Q[4].length&&Q[9]==1?U=U[Ma(Q[0])].apply(U,Q[3]):U=x.length==1&&Bo(x)?U[K]():U.thru(x)}return function(){var pe=arguments,ve=pe[0];if(U&&pe.length==1&&Je(ve))return U.plant(ve).value();for(var me=0,Se=v?s[me].apply(this,pe):ve;++me<v;)Se=s[me].call(this,Se);return Se}})}function Ca(i,s,v,A,S,x,U,K,Q,pe){var ve=s&P,me=s&D,Se=s&y,Te=s&(w|B),qe=s&N,nt=Se?r:zu(i);function ze(){for(var st=arguments.length,pt=ne(st),$r=st;$r--;)pt[$r]=arguments[$r];if(Te)var kr=ru(ze),Xr=c1(pt,kr);if(A&&(pt=wc(pt,A,S,Te)),x&&(pt=Ec(pt,x,U,Te)),st-=Xr,Te&&st<pe){var ur=li(pt,kr);return xc(i,s,Ca,ze.placeholder,v,pt,ur,K,Q,pe-st)}var En=me?v:this,ei=Se?En[i]:i;return st=pt.length,K?pt=_g(pt,K):qe&&st>1&&pt.reverse(),ve&&Q<st&&(pt.length=Q),this&&this!==wr&&this instanceof ze&&(ei=nt||zu(ei)),ei.apply(En,pt)}return ze}function Mc(i,s){return function(v,A){return Sv(v,i,s(A),{})}}function Sa(i,s){return function(v,A){var S;if(v===r&&A===r)return s;if(v!==r&&(S=v),A!==r){if(S===r)return A;typeof v=="string"||typeof A=="string"?(v=Kr(v),A=Kr(A)):(v=vc(v),A=vc(A)),S=i(v,A)}return S}}function yo(i){return $n(function(s){return s=qt(s,Yr(je())),ut(function(v){var A=this;return i(s,function(S){return Gr(S,A,v)})})})}function Ba(i,s){s=s===r?" ":Kr(s);var v=s.length;if(v<2)return v?ho(s,i):s;var A=ho(s,pa(i/Ki(s)));return Yi(s)?pi(bn(A),0,i).join(""):A.slice(0,i)}function eg(i,s,v,A){var S=s&D,x=zu(i);function U(){for(var K=-1,Q=arguments.length,pe=-1,ve=A.length,me=ne(ve+Q),Se=this&&this!==wr&&this instanceof U?x:i;++pe<ve;)me[pe]=A[pe];for(;Q--;)me[pe++]=arguments[++K];return Gr(Se,S?v:this,me)}return U}function Pc(i){return function(s,v,A){return A&&typeof A!="number"&&Nr(s,v,A)&&(v=A=r),s=Qn(s),v===r?(v=s,s=0):v=Qn(v),A=A===r?s<v?1:-1:Qn(A),Uv(s,v,A,i)}}function Oa(i){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=hn(s),v=hn(v)),i(s,v)}}function xc(i,s,v,A,S,x,U,K,Q,pe){var ve=s&w,me=ve?U:r,Se=ve?r:U,Te=ve?x:r,qe=ve?r:x;s|=ve?F:O,s&=~(ve?O:F),s&C||(s&=~(D|y));var nt=[i,s,S,Te,me,qe,Se,K,Q,pe],ze=v.apply(r,nt);return Bo(i)&&Wc(ze,nt),ze.placeholder=A,Hc(ze,i,s)}function bo(i){var s=cr[i];return function(v,A){if(v=hn(v),A=A==null?0:Or(tt(A),292),A&&Hf(v)){var S=(yt(v)+"e").split("e"),x=s(S[0]+"e"+(+S[1]+A));return S=(yt(x)+"e").split("e"),+(S[0]+"e"+(+S[1]-A))}return s(v)}}var tg=Xi&&1/ia(new Xi([,-0]))[1]==ee?function(i){return new Xi(i)}:zo;function Ic(i){return function(s){var v=Mr(s);return v==Xe?$s(s):v==jt?D1(s):f1(s,i(s))}}function Zn(i,s,v,A,S,x,U,K){var Q=s&y;if(!Q&&typeof i!="function")throw new sn(o);var pe=A?A.length:0;if(pe||(s&=~(F|O),A=S=r),U=U===r?U:hr(tt(U),0),K=K===r?K:tt(K),pe-=S?S.length:0,s&O){var ve=A,me=S;A=S=r}var Se=Q?r:Eo(i),Te=[i,s,v,A,S,ve,me,x,U,K];if(Se&&gg(Te,Se),i=Te[0],s=Te[1],v=Te[2],A=Te[3],S=Te[4],K=Te[9]=Te[9]===r?Q?0:i.length:hr(Te[9]-pe,0),!K&&s&(w|B)&&(s&=~(w|B)),!s||s==D)var qe=Jv(i,s,v);else s==w||s==B?qe=Qv(i,s,K):(s==F||s==(D|F))&&!S.length?qe=eg(i,s,v,A):qe=Ca.apply(r,Te);var nt=Se?dc:Wc;return Hc(nt(qe,Te),i,s)}function Tc(i,s,v,A){return i===r||wn(i,$i[v])&&!Et.call(A,v)?s:i}function Nc(i,s,v,A,S,x){return Yt(i)&&Yt(s)&&(x.set(s,i),Aa(i,s,r,Nc,x),x.delete(s)),i}function rg(i){return Gu(i)?r:i}function kc(i,s,v,A,S,x){var U=v&b,K=i.length,Q=s.length;if(K!=Q&&!(U&&Q>K))return!1;var pe=x.get(i),ve=x.get(s);if(pe&&ve)return pe==s&&ve==i;var me=-1,Se=!0,Te=v&g?new Ti:r;for(x.set(i,s),x.set(s,i);++me<K;){var qe=i[me],nt=s[me];if(A)var ze=U?A(nt,qe,me,s,i,x):A(qe,nt,me,i,s,x);if(ze!==r){if(ze)continue;Se=!1;break}if(Te){if(!Ws(s,function(st,pt){if(!xu(Te,pt)&&(qe===st||S(qe,st,v,A,x)))return Te.push(pt)})){Se=!1;break}}else if(!(qe===nt||S(qe,nt,v,A,x))){Se=!1;break}}return x.delete(i),x.delete(s),Se}function ng(i,s,v,A,S,x,U){switch(v){case de:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case te:return!(i.byteLength!=s.byteLength||!x(new fa(i),new fa(s)));case vt:case Qe:case wt:return wn(+i,+s);case gt:return i.name==s.name&&i.message==s.message;case Dt:case ar:return i==s+"";case Xe:var K=$s;case jt:var Q=A&b;if(K||(K=ia),i.size!=s.size&&!Q)return!1;var pe=U.get(i);if(pe)return pe==s;A|=g,U.set(i,s);var ve=kc(K(i),K(s),A,S,x,U);return U.delete(i),ve;case L:if(Ru)return Ru.call(i)==Ru.call(s)}return!1}function ig(i,s,v,A,S,x){var U=v&b,K=Ao(i),Q=K.length,pe=Ao(s),ve=pe.length;if(Q!=ve&&!U)return!1;for(var me=Q;me--;){var Se=K[me];if(!(U?Se in s:Et.call(s,Se)))return!1}var Te=x.get(i),qe=x.get(s);if(Te&&qe)return Te==s&&qe==i;var nt=!0;x.set(i,s),x.set(s,i);for(var ze=U;++me<Q;){Se=K[me];var st=i[Se],pt=s[Se];if(A)var $r=U?A(pt,st,Se,s,i,x):A(st,pt,Se,i,s,x);if(!($r===r?st===pt||S(st,pt,v,A,x):$r)){nt=!1;break}ze||(ze=Se=="constructor")}if(nt&&!ze){var kr=i.constructor,Xr=s.constructor;kr!=Xr&&"constructor"in i&&"constructor"in s&&!(typeof kr=="function"&&kr instanceof kr&&typeof Xr=="function"&&Xr instanceof Xr)&&(nt=!1)}return x.delete(i),x.delete(s),nt}function $n(i){return Mo(qc(i,r,Xc),i+"")}function Ao(i){return rc(i,mr,Co)}function wo(i){return rc(i,Vr,Rc)}var Eo=ga?function(i){return ga.get(i)}:zo;function Ma(i){for(var s=i.name+"",v=Ji[s],A=Et.call(Ji,s)?v.length:0;A--;){var S=v[A],x=S.func;if(x==null||x==i)return S.name}return s}function ru(i){var s=Et.call(M,"placeholder")?M:i;return s.placeholder}function je(){var i=M.iteratee||Vo;return i=i===Vo?uc:i,arguments.length?i(arguments[0],arguments[1]):i}function Pa(i,s){var v=i.__data__;return hg(s)?v[typeof s=="string"?"string":"hash"]:v.map}function Fo(i){for(var s=mr(i),v=s.length;v--;){var A=s[v],S=i[A];s[v]=[A,S,jc(S)]}return s}function Ri(i,s){var v=v1(i,s);return ic(v)?v:r}function ug(i){var s=Et.call(i,xi),v=i[xi];try{i[xi]=r;var A=!0}catch{}var S=oa.call(i);return A&&(s?i[xi]=v:delete i[xi]),S}var Co=Js?function(i){return i==null?[]:(i=Ot(i),si(Js(i),function(s){return zf.call(i,s)}))}:Wo,Rc=Js?function(i){for(var s=[];i;)oi(s,Co(i)),i=ca(i);return s}:Wo,Mr=Tr;(Qs&&Mr(new Qs(new ArrayBuffer(1)))!=de||Tu&&Mr(new Tu)!=Xe||eo&&Mr(eo.resolve())!=Ee||Xi&&Mr(new Xi)!=jt||Nu&&Mr(new Nu)!=Z)&&(Mr=function(i){var s=Tr(i),v=s==Ft?i.constructor:r,A=v?Li(v):"";if(A)switch(A){case V1:return de;case q1:return Xe;case z1:return Ee;case W1:return jt;case H1:return Z}return s});function ag(i,s,v){for(var A=-1,S=v.length;++A<S;){var x=v[A],U=x.size;switch(x.type){case"drop":i+=U;break;case"dropRight":s-=U;break;case"take":s=Or(s,i+U);break;case"takeRight":i=hr(i,s-U);break}}return{start:i,end:s}}function sg(i){var s=i.match(ii);return s?s[1].split(rn):[]}function Lc(i,s,v){s=di(s,i);for(var A=-1,S=s.length,x=!1;++A<S;){var U=Rn(s[A]);if(!(x=i!=null&&v(i,U)))break;i=i[U]}return x||++A!=S?x:(S=i==null?0:i.length,!!S&&La(S)&&Xn(U,S)&&(Je(i)||Ui(i)))}function og(i){var s=i.length,v=new i.constructor(s);return s&&typeof i[0]=="string"&&Et.call(i,"index")&&(v.index=i.index,v.input=i.input),v}function Uc(i){return typeof i.constructor=="function"&&!Wu(i)?Qi(ca(i)):{}}function lg(i,s,v){var A=i.constructor;switch(s){case te:return _o(i);case vt:case Qe:return new A(+i);case de:return Gv(i,v);case ie:case le:case _e:case Oe:case We:case Fe:case Wt:case kt:case Jt:return bc(i,v);case Xe:return new A;case wt:case ar:return new A(i);case Dt:return Yv(i);case jt:return new A;case L:return Kv(i)}}function fg(i,s){var v=s.length;if(!v)return i;var A=v-1;return s[A]=(v>1?"& ":"")+s[A],s=s.join(v>2?", ":" "),i.replace(Du,`{
/* [wrapped with `+s+`] */
`)}function cg(i){return Je(i)||Ui(i)||!!(Wf&&i&&i[Wf])}function Xn(i,s){var v=typeof i;return s=s??ue,!!s&&(v=="number"||v!="symbol"&&Fu.test(i))&&i>-1&&i%1==0&&i<s}function Nr(i,s,v){if(!Yt(v))return!1;var A=typeof s;return(A=="number"?jr(v)&&Xn(s,v.length):A=="string"&&s in v)?wn(v[s],i):!1}function So(i,s){if(Je(i))return!1;var v=typeof i;return v=="number"||v=="symbol"||v=="boolean"||i==null||Zr(i)?!0:xn.test(i)||!Pn.test(i)||s!=null&&i in Ot(s)}function hg(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Bo(i){var s=Ma(i),v=M[s];if(typeof v!="function"||!(s in ht.prototype))return!1;if(i===v)return!0;var A=Eo(v);return!!A&&i===A[0]}function dg(i){return!!jf&&jf in i}var pg=aa?Jn:Ho;function Wu(i){var s=i&&i.constructor,v=typeof s=="function"&&s.prototype||$i;return i===v}function jc(i){return i===i&&!Yt(i)}function Vc(i,s){return function(v){return v==null?!1:v[i]===s&&(s!==r||i in Ot(v))}}function vg(i){var s=ka(i,function(A){return v.size===p&&v.clear(),A}),v=s.cache;return s}function gg(i,s){var v=i[1],A=s[1],S=v|A,x=S<(D|y|P),U=A==P&&v==w||A==P&&v==I&&i[7].length<=s[8]||A==(P|I)&&s[7].length<=s[8]&&v==w;if(!(x||U))return i;A&D&&(i[2]=s[2],S|=v&D?0:C);var K=s[3];if(K){var Q=i[3];i[3]=Q?wc(Q,K,s[4]):K,i[4]=Q?li(i[3],h):s[4]}return K=s[5],K&&(Q=i[5],i[5]=Q?Ec(Q,K,s[6]):K,i[6]=Q?li(i[5],h):s[6]),K=s[7],K&&(i[7]=K),A&P&&(i[8]=i[8]==null?s[8]:Or(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=S,i}function mg(i){var s=[];if(i!=null)for(var v in Ot(i))s.push(v);return s}function Dg(i){return oa.call(i)}function qc(i,s,v){return s=hr(s===r?i.length-1:s,0),function(){for(var A=arguments,S=-1,x=hr(A.length-s,0),U=ne(x);++S<x;)U[S]=A[s+S];S=-1;for(var K=ne(s+1);++S<s;)K[S]=A[S];return K[s]=v(U),Gr(i,this,K)}}function zc(i,s){return s.length<2?i:ki(i,fn(s,0,-1))}function _g(i,s){for(var v=i.length,A=Or(s.length,v),S=Ur(i);A--;){var x=s[A];i[A]=Xn(x,v)?S[x]:r}return i}function Oo(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var Wc=Gc(dc),Hu=T1||function(i,s){return wr.setTimeout(i,s)},Mo=Gc(qv);function Hc(i,s,v){var A=s+"";return Mo(i,fg(A,yg(sg(A),v)))}function Gc(i){var s=0,v=0;return function(){var A=L1(),S=q-(A-v);if(v=A,S>0){if(++s>=Y)return arguments[0]}else s=0;return i.apply(r,arguments)}}function xa(i,s){var v=-1,A=i.length,S=A-1;for(s=s===r?A:s;++v<s;){var x=co(v,S),U=i[x];i[x]=i[v],i[v]=U}return i.length=s,i}var Yc=vg(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(qi,function(v,A,S,x){s.push(S?x.replace(_u,"$1"):A||v)}),s});function Rn(i){if(typeof i=="string"||Zr(i))return i;var s=i+"";return s=="0"&&1/i==-ee?"-0":s}function Li(i){if(i!=null){try{return sa.call(i)}catch{}try{return i+""}catch{}}return""}function yg(i,s){return an(xe,function(v){var A="_."+v[0];s&v[1]&&!ra(i,A)&&i.push(A)}),i.sort()}function Kc(i){if(i instanceof ht)return i.clone();var s=new on(i.__wrapped__,i.__chain__);return s.__actions__=Ur(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function bg(i,s,v){(v?Nr(i,s,v):s===r)?s=1:s=hr(tt(s),0);var A=i==null?0:i.length;if(!A||s<1)return[];for(var S=0,x=0,U=ne(pa(A/s));S<A;)U[x++]=fn(i,S,S+=s);return U}function Ag(i){for(var s=-1,v=i==null?0:i.length,A=0,S=[];++s<v;){var x=i[s];x&&(S[A++]=x)}return S}function wg(){var i=arguments.length;if(!i)return[];for(var s=ne(i-1),v=arguments[0],A=i;A--;)s[A-1]=arguments[A];return oi(Je(v)?Ur(v):[v],Er(s,1))}var Eg=ut(function(i,s){return ir(i)?Uu(i,Er(s,1,ir,!0)):[]}),Fg=ut(function(i,s){var v=cn(s);return ir(v)&&(v=r),ir(i)?Uu(i,Er(s,1,ir,!0),je(v,2)):[]}),Cg=ut(function(i,s){var v=cn(s);return ir(v)&&(v=r),ir(i)?Uu(i,Er(s,1,ir,!0),r,v):[]});function Sg(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:tt(s),fn(i,s<0?0:s,A)):[]}function Bg(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:tt(s),s=A-s,fn(i,0,s<0?0:s)):[]}function Og(i,s){return i&&i.length?Ea(i,je(s,3),!0,!0):[]}function Mg(i,s){return i&&i.length?Ea(i,je(s,3),!0):[]}function Pg(i,s,v,A){var S=i==null?0:i.length;return S?(v&&typeof v!="number"&&Nr(i,s,v)&&(v=0,A=S),wv(i,s,v,A)):[]}function Zc(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(A+S,0)),na(i,je(s,3),S)}function $c(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=A-1;return v!==r&&(S=tt(v),S=v<0?hr(A+S,0):Or(S,A-1)),na(i,je(s,3),S,!0)}function Xc(i){var s=i==null?0:i.length;return s?Er(i,1):[]}function xg(i){var s=i==null?0:i.length;return s?Er(i,ee):[]}function Ig(i,s){var v=i==null?0:i.length;return v?(s=s===r?1:tt(s),Er(i,s)):[]}function Tg(i){for(var s=-1,v=i==null?0:i.length,A={};++s<v;){var S=i[s];A[S[0]]=S[1]}return A}function Jc(i){return i&&i.length?i[0]:r}function Ng(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(A+S,0)),Gi(i,s,S)}function kg(i){var s=i==null?0:i.length;return s?fn(i,0,-1):[]}var Rg=ut(function(i){var s=qt(i,mo);return s.length&&s[0]===i[0]?ao(s):[]}),Lg=ut(function(i){var s=cn(i),v=qt(i,mo);return s===cn(v)?s=r:v.pop(),v.length&&v[0]===i[0]?ao(v,je(s,2)):[]}),Ug=ut(function(i){var s=cn(i),v=qt(i,mo);return s=typeof s=="function"?s:r,s&&v.pop(),v.length&&v[0]===i[0]?ao(v,r,s):[]});function jg(i,s){return i==null?"":k1.call(i,s)}function cn(i){var s=i==null?0:i.length;return s?i[s-1]:r}function Vg(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=A;return v!==r&&(S=tt(v),S=S<0?hr(A+S,0):Or(S,A-1)),s===s?y1(i,s,S):na(i,xf,S,!0)}function qg(i,s){return i&&i.length?lc(i,tt(s)):r}var zg=ut(Qc);function Qc(i,s){return i&&i.length&&s&&s.length?fo(i,s):i}function Wg(i,s,v){return i&&i.length&&s&&s.length?fo(i,s,je(v,2)):i}function Hg(i,s,v){return i&&i.length&&s&&s.length?fo(i,s,r,v):i}var Gg=$n(function(i,s){var v=i==null?0:i.length,A=ro(i,s);return hc(i,qt(s,function(S){return Xn(S,v)?+S:S}).sort(Ac)),A});function Yg(i,s){var v=[];if(!(i&&i.length))return v;var A=-1,S=[],x=i.length;for(s=je(s,3);++A<x;){var U=i[A];s(U,A,i)&&(v.push(U),S.push(A))}return hc(i,S),v}function Po(i){return i==null?i:j1.call(i)}function Kg(i,s,v){var A=i==null?0:i.length;return A?(v&&typeof v!="number"&&Nr(i,s,v)?(s=0,v=A):(s=s==null?0:tt(s),v=v===r?A:tt(v)),fn(i,s,v)):[]}function Zg(i,s){return wa(i,s)}function $g(i,s,v){return po(i,s,je(v,2))}function Xg(i,s){var v=i==null?0:i.length;if(v){var A=wa(i,s);if(A<v&&wn(i[A],s))return A}return-1}function Jg(i,s){return wa(i,s,!0)}function Qg(i,s,v){return po(i,s,je(v,2),!0)}function em(i,s){var v=i==null?0:i.length;if(v){var A=wa(i,s,!0)-1;if(wn(i[A],s))return A}return-1}function tm(i){return i&&i.length?pc(i):[]}function rm(i,s){return i&&i.length?pc(i,je(s,2)):[]}function nm(i){var s=i==null?0:i.length;return s?fn(i,1,s):[]}function im(i,s,v){return i&&i.length?(s=v||s===r?1:tt(s),fn(i,0,s<0?0:s)):[]}function um(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:tt(s),s=A-s,fn(i,s<0?0:s,A)):[]}function am(i,s){return i&&i.length?Ea(i,je(s,3),!1,!0):[]}function sm(i,s){return i&&i.length?Ea(i,je(s,3)):[]}var om=ut(function(i){return hi(Er(i,1,ir,!0))}),lm=ut(function(i){var s=cn(i);return ir(s)&&(s=r),hi(Er(i,1,ir,!0),je(s,2))}),fm=ut(function(i){var s=cn(i);return s=typeof s=="function"?s:r,hi(Er(i,1,ir,!0),r,s)});function cm(i){return i&&i.length?hi(i):[]}function hm(i,s){return i&&i.length?hi(i,je(s,2)):[]}function dm(i,s){return s=typeof s=="function"?s:r,i&&i.length?hi(i,r,s):[]}function xo(i){if(!(i&&i.length))return[];var s=0;return i=si(i,function(v){if(ir(v))return s=hr(v.length,s),!0}),Ks(s,function(v){return qt(i,Hs(v))})}function e0(i,s){if(!(i&&i.length))return[];var v=xo(i);return s==null?v:qt(v,function(A){return Gr(s,r,A)})}var pm=ut(function(i,s){return ir(i)?Uu(i,s):[]}),vm=ut(function(i){return go(si(i,ir))}),gm=ut(function(i){var s=cn(i);return ir(s)&&(s=r),go(si(i,ir),je(s,2))}),mm=ut(function(i){var s=cn(i);return s=typeof s=="function"?s:r,go(si(i,ir),r,s)}),Dm=ut(xo);function _m(i,s){return Dc(i||[],s||[],Lu)}function ym(i,s){return Dc(i||[],s||[],qu)}var bm=ut(function(i){var s=i.length,v=s>1?i[s-1]:r;return v=typeof v=="function"?(i.pop(),v):r,e0(i,v)});function t0(i){var s=M(i);return s.__chain__=!0,s}function Am(i,s){return s(i),i}function Ia(i,s){return s(i)}var wm=$n(function(i){var s=i.length,v=s?i[0]:0,A=this.__wrapped__,S=function(x){return ro(x,i)};return s>1||this.__actions__.length||!(A instanceof ht)||!Xn(v)?this.thru(S):(A=A.slice(v,+v+(s?1:0)),A.__actions__.push({func:Ia,args:[S],thisArg:r}),new on(A,this.__chain__).thru(function(x){return s&&!x.length&&x.push(r),x}))});function Em(){return t0(this)}function Fm(){return new on(this.value(),this.__chain__)}function Cm(){this.__values__===r&&(this.__values__=v0(this.value()));var i=this.__index__>=this.__values__.length,s=i?r:this.__values__[this.__index__++];return{done:i,value:s}}function Sm(){return this}function Bm(i){for(var s,v=this;v instanceof Da;){var A=Kc(v);A.__index__=0,A.__values__=r,s?S.__wrapped__=A:s=A;var S=A;v=v.__wrapped__}return S.__wrapped__=i,s}function Om(){var i=this.__wrapped__;if(i instanceof ht){var s=i;return this.__actions__.length&&(s=new ht(this)),s=s.reverse(),s.__actions__.push({func:Ia,args:[Po],thisArg:r}),new on(s,this.__chain__)}return this.thru(Po)}function Mm(){return mc(this.__wrapped__,this.__actions__)}var Pm=Fa(function(i,s,v){Et.call(i,v)?++i[v]:Kn(i,v,1)});function xm(i,s,v){var A=Je(i)?Mf:Av;return v&&Nr(i,s,v)&&(s=r),A(i,je(s,3))}function Im(i,s){var v=Je(i)?si:ec;return v(i,je(s,3))}var Tm=Bc(Zc),Nm=Bc($c);function km(i,s){return Er(Ta(i,s),1)}function Rm(i,s){return Er(Ta(i,s),ee)}function Lm(i,s,v){return v=v===r?1:tt(v),Er(Ta(i,s),v)}function r0(i,s){var v=Je(i)?an:ci;return v(i,je(s,3))}function n0(i,s){var v=Je(i)?n1:Qf;return v(i,je(s,3))}var Um=Fa(function(i,s,v){Et.call(i,v)?i[v].push(s):Kn(i,v,[s])});function jm(i,s,v,A){i=jr(i)?i:iu(i),v=v&&!A?tt(v):0;var S=i.length;return v<0&&(v=hr(S+v,0)),Ua(i)?v<=S&&i.indexOf(s,v)>-1:!!S&&Gi(i,s,v)>-1}var Vm=ut(function(i,s,v){var A=-1,S=typeof s=="function",x=jr(i)?ne(i.length):[];return ci(i,function(U){x[++A]=S?Gr(s,U,v):ju(U,s,v)}),x}),qm=Fa(function(i,s,v){Kn(i,v,s)});function Ta(i,s){var v=Je(i)?qt:ac;return v(i,je(s,3))}function zm(i,s,v,A){return i==null?[]:(Je(s)||(s=s==null?[]:[s]),v=A?r:v,Je(v)||(v=v==null?[]:[v]),fc(i,s,v))}var Wm=Fa(function(i,s,v){i[v?0:1].push(s)},function(){return[[],[]]});function Hm(i,s,v){var A=Je(i)?zs:Tf,S=arguments.length<3;return A(i,je(s,4),v,S,ci)}function Gm(i,s,v){var A=Je(i)?i1:Tf,S=arguments.length<3;return A(i,je(s,4),v,S,Qf)}function Ym(i,s){var v=Je(i)?si:ec;return v(i,Ra(je(s,3)))}function Km(i){var s=Je(i)?Zf:jv;return s(i)}function Zm(i,s,v){(v?Nr(i,s,v):s===r)?s=1:s=tt(s);var A=Je(i)?mv:Vv;return A(i,s)}function $m(i){var s=Je(i)?Dv:zv;return s(i)}function Xm(i){if(i==null)return 0;if(jr(i))return Ua(i)?Ki(i):i.length;var s=Mr(i);return s==Xe||s==jt?i.size:oo(i).length}function Jm(i,s,v){var A=Je(i)?Ws:Wv;return v&&Nr(i,s,v)&&(s=r),A(i,je(s,3))}var Qm=ut(function(i,s){if(i==null)return[];var v=s.length;return v>1&&Nr(i,s[0],s[1])?s=[]:v>2&&Nr(s[0],s[1],s[2])&&(s=[s[0]]),fc(i,Er(s,1),[])}),Na=I1||function(){return wr.Date.now()};function eD(i,s){if(typeof s!="function")throw new sn(o);return i=tt(i),function(){if(--i<1)return s.apply(this,arguments)}}function i0(i,s,v){return s=v?r:s,s=i&&s==null?i.length:s,Zn(i,P,r,r,r,r,s)}function u0(i,s){var v;if(typeof s!="function")throw new sn(o);return i=tt(i),function(){return--i>0&&(v=s.apply(this,arguments)),i<=1&&(s=r),v}}var Io=ut(function(i,s,v){var A=D;if(v.length){var S=li(v,ru(Io));A|=F}return Zn(i,A,s,v,S)}),a0=ut(function(i,s,v){var A=D|y;if(v.length){var S=li(v,ru(a0));A|=F}return Zn(s,A,i,v,S)});function s0(i,s,v){s=v?r:s;var A=Zn(i,w,r,r,r,r,r,s);return A.placeholder=s0.placeholder,A}function o0(i,s,v){s=v?r:s;var A=Zn(i,B,r,r,r,r,r,s);return A.placeholder=o0.placeholder,A}function l0(i,s,v){var A,S,x,U,K,Q,pe=0,ve=!1,me=!1,Se=!0;if(typeof i!="function")throw new sn(o);s=hn(s)||0,Yt(v)&&(ve=!!v.leading,me="maxWait"in v,x=me?hr(hn(v.maxWait)||0,s):x,Se="trailing"in v?!!v.trailing:Se);function Te(ur){var En=A,ei=S;return A=S=r,pe=ur,U=i.apply(ei,En),U}function qe(ur){return pe=ur,K=Hu(st,s),ve?Te(ur):U}function nt(ur){var En=ur-Q,ei=ur-pe,B0=s-En;return me?Or(B0,x-ei):B0}function ze(ur){var En=ur-Q,ei=ur-pe;return Q===r||En>=s||En<0||me&&ei>=x}function st(){var ur=Na();if(ze(ur))return pt(ur);K=Hu(st,nt(ur))}function pt(ur){return K=r,Se&&A?Te(ur):(A=S=r,U)}function $r(){K!==r&&_c(K),pe=0,A=Q=S=K=r}function kr(){return K===r?U:pt(Na())}function Xr(){var ur=Na(),En=ze(ur);if(A=arguments,S=this,Q=ur,En){if(K===r)return qe(Q);if(me)return _c(K),K=Hu(st,s),Te(Q)}return K===r&&(K=Hu(st,s)),U}return Xr.cancel=$r,Xr.flush=kr,Xr}var tD=ut(function(i,s){return Jf(i,1,s)}),rD=ut(function(i,s,v){return Jf(i,hn(s)||0,v)});function nD(i){return Zn(i,N)}function ka(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new sn(o);var v=function(){var A=arguments,S=s?s.apply(this,A):A[0],x=v.cache;if(x.has(S))return x.get(S);var U=i.apply(this,A);return v.cache=x.set(S,U)||x,U};return v.cache=new(ka.Cache||Yn),v}ka.Cache=Yn;function Ra(i){if(typeof i!="function")throw new sn(o);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function iD(i){return u0(2,i)}var uD=Hv(function(i,s){s=s.length==1&&Je(s[0])?qt(s[0],Yr(je())):qt(Er(s,1),Yr(je()));var v=s.length;return ut(function(A){for(var S=-1,x=Or(A.length,v);++S<x;)A[S]=s[S].call(this,A[S]);return Gr(i,this,A)})}),To=ut(function(i,s){var v=li(s,ru(To));return Zn(i,F,r,s,v)}),f0=ut(function(i,s){var v=li(s,ru(f0));return Zn(i,O,r,s,v)}),aD=$n(function(i,s){return Zn(i,I,r,r,r,s)});function sD(i,s){if(typeof i!="function")throw new sn(o);return s=s===r?s:tt(s),ut(i,s)}function oD(i,s){if(typeof i!="function")throw new sn(o);return s=s==null?0:hr(tt(s),0),ut(function(v){var A=v[s],S=pi(v,0,s);return A&&oi(S,A),Gr(i,this,S)})}function lD(i,s,v){var A=!0,S=!0;if(typeof i!="function")throw new sn(o);return Yt(v)&&(A="leading"in v?!!v.leading:A,S="trailing"in v?!!v.trailing:S),l0(i,s,{leading:A,maxWait:s,trailing:S})}function fD(i){return i0(i,1)}function cD(i,s){return To(Do(s),i)}function hD(){if(!arguments.length)return[];var i=arguments[0];return Je(i)?i:[i]}function dD(i){return ln(i,m)}function pD(i,s){return s=typeof s=="function"?s:r,ln(i,m,s)}function vD(i){return ln(i,f|m)}function gD(i,s){return s=typeof s=="function"?s:r,ln(i,f|m,s)}function mD(i,s){return s==null||Xf(i,s,mr(s))}function wn(i,s){return i===s||i!==i&&s!==s}var DD=Oa(uo),_D=Oa(function(i,s){return i>=s}),Ui=nc(function(){return arguments}())?nc:function(i){return er(i)&&Et.call(i,"callee")&&!zf.call(i,"callee")},Je=ne.isArray,yD=Ef?Yr(Ef):Bv;function jr(i){return i!=null&&La(i.length)&&!Jn(i)}function ir(i){return er(i)&&jr(i)}function bD(i){return i===!0||i===!1||er(i)&&Tr(i)==vt}var vi=N1||Ho,AD=Ff?Yr(Ff):Ov;function wD(i){return er(i)&&i.nodeType===1&&!Gu(i)}function ED(i){if(i==null)return!0;if(jr(i)&&(Je(i)||typeof i=="string"||typeof i.splice=="function"||vi(i)||nu(i)||Ui(i)))return!i.length;var s=Mr(i);if(s==Xe||s==jt)return!i.size;if(Wu(i))return!oo(i).length;for(var v in i)if(Et.call(i,v))return!1;return!0}function FD(i,s){return Vu(i,s)}function CD(i,s,v){v=typeof v=="function"?v:r;var A=v?v(i,s):r;return A===r?Vu(i,s,r,v):!!A}function No(i){if(!er(i))return!1;var s=Tr(i);return s==gt||s==it||typeof i.message=="string"&&typeof i.name=="string"&&!Gu(i)}function SD(i){return typeof i=="number"&&Hf(i)}function Jn(i){if(!Yt(i))return!1;var s=Tr(i);return s==mt||s==rt||s==at||s==we}function c0(i){return typeof i=="number"&&i==tt(i)}function La(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ue}function Yt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function er(i){return i!=null&&typeof i=="object"}var h0=Cf?Yr(Cf):Pv;function BD(i,s){return i===s||so(i,s,Fo(s))}function OD(i,s,v){return v=typeof v=="function"?v:r,so(i,s,Fo(s),v)}function MD(i){return d0(i)&&i!=+i}function PD(i){if(pg(i))throw new $e(a);return ic(i)}function xD(i){return i===null}function ID(i){return i==null}function d0(i){return typeof i=="number"||er(i)&&Tr(i)==wt}function Gu(i){if(!er(i)||Tr(i)!=Ft)return!1;var s=ca(i);if(s===null)return!0;var v=Et.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&sa.call(v)==O1}var ko=Sf?Yr(Sf):xv;function TD(i){return c0(i)&&i>=-ue&&i<=ue}var p0=Bf?Yr(Bf):Iv;function Ua(i){return typeof i=="string"||!Je(i)&&er(i)&&Tr(i)==ar}function Zr(i){return typeof i=="symbol"||er(i)&&Tr(i)==L}var nu=Of?Yr(Of):Tv;function ND(i){return i===r}function kD(i){return er(i)&&Mr(i)==Z}function RD(i){return er(i)&&Tr(i)==ae}var LD=Oa(lo),UD=Oa(function(i,s){return i<=s});function v0(i){if(!i)return[];if(jr(i))return Ua(i)?bn(i):Ur(i);if(Iu&&i[Iu])return m1(i[Iu]());var s=Mr(i),v=s==Xe?$s:s==jt?ia:iu;return v(i)}function Qn(i){if(!i)return i===0?i:0;if(i=hn(i),i===ee||i===-ee){var s=i<0?-1:1;return s*he}return i===i?i:0}function tt(i){var s=Qn(i),v=s%1;return s===s?v?s-v:s:0}function g0(i){return i?Ni(tt(i),0,be):0}function hn(i){if(typeof i=="number")return i;if(Zr(i))return De;if(Yt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Yt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=Nf(i);var v=Au.test(i);return v||Eu.test(i)?e1(i.slice(2),v?2:8):bu.test(i)?De:+i}function m0(i){return kn(i,Vr(i))}function jD(i){return i?Ni(tt(i),-ue,ue):i===0?i:0}function yt(i){return i==null?"":Kr(i)}var VD=eu(function(i,s){if(Wu(s)||jr(s)){kn(s,mr(s),i);return}for(var v in s)Et.call(s,v)&&Lu(i,v,s[v])}),D0=eu(function(i,s){kn(s,Vr(s),i)}),ja=eu(function(i,s,v,A){kn(s,Vr(s),i,A)}),qD=eu(function(i,s,v,A){kn(s,mr(s),i,A)}),zD=$n(ro);function WD(i,s){var v=Qi(i);return s==null?v:$f(v,s)}var HD=ut(function(i,s){i=Ot(i);var v=-1,A=s.length,S=A>2?s[2]:r;for(S&&Nr(s[0],s[1],S)&&(A=1);++v<A;)for(var x=s[v],U=Vr(x),K=-1,Q=U.length;++K<Q;){var pe=U[K],ve=i[pe];(ve===r||wn(ve,$i[pe])&&!Et.call(i,pe))&&(i[pe]=x[pe])}return i}),GD=ut(function(i){return i.push(r,Nc),Gr(_0,r,i)});function YD(i,s){return Pf(i,je(s,3),Nn)}function KD(i,s){return Pf(i,je(s,3),io)}function ZD(i,s){return i==null?i:no(i,je(s,3),Vr)}function $D(i,s){return i==null?i:tc(i,je(s,3),Vr)}function XD(i,s){return i&&Nn(i,je(s,3))}function JD(i,s){return i&&io(i,je(s,3))}function QD(i){return i==null?[]:ba(i,mr(i))}function e_(i){return i==null?[]:ba(i,Vr(i))}function Ro(i,s,v){var A=i==null?r:ki(i,s);return A===r?v:A}function t_(i,s){return i!=null&&Lc(i,s,Ev)}function Lo(i,s){return i!=null&&Lc(i,s,Fv)}var r_=Mc(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=oa.call(s)),i[s]=v},jo(qr)),n_=Mc(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=oa.call(s)),Et.call(i,s)?i[s].push(v):i[s]=[v]},je),i_=ut(ju);function mr(i){return jr(i)?Kf(i):oo(i)}function Vr(i){return jr(i)?Kf(i,!0):Nv(i)}function u_(i,s){var v={};return s=je(s,3),Nn(i,function(A,S,x){Kn(v,s(A,S,x),A)}),v}function a_(i,s){var v={};return s=je(s,3),Nn(i,function(A,S,x){Kn(v,S,s(A,S,x))}),v}var s_=eu(function(i,s,v){Aa(i,s,v)}),_0=eu(function(i,s,v,A){Aa(i,s,v,A)}),o_=$n(function(i,s){var v={};if(i==null)return v;var A=!1;s=qt(s,function(x){return x=di(x,i),A||(A=x.length>1),x}),kn(i,wo(i),v),A&&(v=ln(v,f|c|m,rg));for(var S=s.length;S--;)vo(v,s[S]);return v});function l_(i,s){return y0(i,Ra(je(s)))}var f_=$n(function(i,s){return i==null?{}:Rv(i,s)});function y0(i,s){if(i==null)return{};var v=qt(wo(i),function(A){return[A]});return s=je(s),cc(i,v,function(A,S){return s(A,S[0])})}function c_(i,s,v){s=di(s,i);var A=-1,S=s.length;for(S||(S=1,i=r);++A<S;){var x=i==null?r:i[Rn(s[A])];x===r&&(A=S,x=v),i=Jn(x)?x.call(i):x}return i}function h_(i,s,v){return i==null?i:qu(i,s,v)}function d_(i,s,v,A){return A=typeof A=="function"?A:r,i==null?i:qu(i,s,v,A)}var b0=Ic(mr),A0=Ic(Vr);function p_(i,s,v){var A=Je(i),S=A||vi(i)||nu(i);if(s=je(s,4),v==null){var x=i&&i.constructor;S?v=A?new x:[]:Yt(i)?v=Jn(x)?Qi(ca(i)):{}:v={}}return(S?an:Nn)(i,function(U,K,Q){return s(v,U,K,Q)}),v}function v_(i,s){return i==null?!0:vo(i,s)}function g_(i,s,v){return i==null?i:gc(i,s,Do(v))}function m_(i,s,v,A){return A=typeof A=="function"?A:r,i==null?i:gc(i,s,Do(v),A)}function iu(i){return i==null?[]:Zs(i,mr(i))}function D_(i){return i==null?[]:Zs(i,Vr(i))}function __(i,s,v){return v===r&&(v=s,s=r),v!==r&&(v=hn(v),v=v===v?v:0),s!==r&&(s=hn(s),s=s===s?s:0),Ni(hn(i),s,v)}function y_(i,s,v){return s=Qn(s),v===r?(v=s,s=0):v=Qn(v),i=hn(i),Cv(i,s,v)}function b_(i,s,v){if(v&&typeof v!="boolean"&&Nr(i,s,v)&&(s=v=r),v===r&&(typeof s=="boolean"?(v=s,s=r):typeof i=="boolean"&&(v=i,i=r)),i===r&&s===r?(i=0,s=1):(i=Qn(i),s===r?(s=i,i=0):s=Qn(s)),i>s){var A=i;i=s,s=A}if(v||i%1||s%1){var S=Gf();return Or(i+S*(s-i+Qp("1e-"+((S+"").length-1))),s)}return co(i,s)}var A_=tu(function(i,s,v){return s=s.toLowerCase(),i+(v?w0(s):s)});function w0(i){return Uo(yt(i).toLowerCase())}function E0(i){return i=yt(i),i&&i.replace(Cu,h1).replace(zp,"")}function w_(i,s,v){i=yt(i),s=Kr(s);var A=i.length;v=v===r?A:Ni(tt(v),0,A);var S=v;return v-=s.length,v>=0&&i.slice(v,S)==s}function E_(i){return i=yt(i),i&&tn.test(i)?i.replace(sr,d1):i}function F_(i){return i=yt(i),i&&mu.test(i)?i.replace(Si,"\\$&"):i}var C_=tu(function(i,s,v){return i+(v?"-":"")+s.toLowerCase()}),S_=tu(function(i,s,v){return i+(v?" ":"")+s.toLowerCase()}),B_=Sc("toLowerCase");function O_(i,s,v){i=yt(i),s=tt(s);var A=s?Ki(i):0;if(!s||A>=s)return i;var S=(s-A)/2;return Ba(va(S),v)+i+Ba(pa(S),v)}function M_(i,s,v){i=yt(i),s=tt(s);var A=s?Ki(i):0;return s&&A<s?i+Ba(s-A,v):i}function P_(i,s,v){i=yt(i),s=tt(s);var A=s?Ki(i):0;return s&&A<s?Ba(s-A,v)+i:i}function x_(i,s,v){return v||s==null?s=0:s&&(s=+s),U1(yt(i).replace(Ar,""),s||0)}function I_(i,s,v){return(v?Nr(i,s,v):s===r)?s=1:s=tt(s),ho(yt(i),s)}function T_(){var i=arguments,s=yt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var N_=tu(function(i,s,v){return i+(v?"_":"")+s.toLowerCase()});function k_(i,s,v){return v&&typeof v!="number"&&Nr(i,s,v)&&(s=v=r),v=v===r?be:v>>>0,v?(i=yt(i),i&&(typeof s=="string"||s!=null&&!ko(s))&&(s=Kr(s),!s&&Yi(i))?pi(bn(i),0,v):i.split(s,v)):[]}var R_=tu(function(i,s,v){return i+(v?" ":"")+Uo(s)});function L_(i,s,v){return i=yt(i),v=v==null?0:Ni(tt(v),0,i.length),s=Kr(s),i.slice(v,v+s.length)==s}function U_(i,s,v){var A=M.templateSettings;v&&Nr(i,s,v)&&(s=r),i=yt(i),s=ja({},s,A,Tc);var S=ja({},s.imports,A.imports,Tc),x=mr(S),U=Zs(S,x),K,Q,pe=0,ve=s.interpolate||ui,me="__p += '",Se=Xs((s.escape||ui).source+"|"+ve.source+"|"+(ve===zn?yu:ui).source+"|"+(s.evaluate||ui).source+"|$","g"),Te="//# sourceURL="+(Et.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kp+"]")+`
`;i.replace(Se,function(ze,st,pt,$r,kr,Xr){return pt||(pt=$r),me+=i.slice(pe,Xr).replace(Su,p1),st&&(K=!0,me+=`' +
__e(`+st+`) +
'`),kr&&(Q=!0,me+=`';
`+kr+`;
__p += '`),pt&&(me+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),pe=Xr+ze.length,ze}),me+=`';
`;var qe=Et.call(s,"variable")&&s.variable;if(!qe)me=`with (obj) {
`+me+`
}
`;else if(Bi.test(qe))throw new $e(l);me=(Q?me.replace(Ht,""):me).replace(pr,"$1").replace(Gt,"$1;"),me="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var nt=C0(function(){return _t(x,Te+"return "+me).apply(r,U)});if(nt.source=me,No(nt))throw nt;return nt}function j_(i){return yt(i).toLowerCase()}function V_(i){return yt(i).toUpperCase()}function q_(i,s,v){if(i=yt(i),i&&(v||s===r))return Nf(i);if(!i||!(s=Kr(s)))return i;var A=bn(i),S=bn(s),x=kf(A,S),U=Rf(A,S)+1;return pi(A,x,U).join("")}function z_(i,s,v){if(i=yt(i),i&&(v||s===r))return i.slice(0,Uf(i)+1);if(!i||!(s=Kr(s)))return i;var A=bn(i),S=Rf(A,bn(s))+1;return pi(A,0,S).join("")}function W_(i,s,v){if(i=yt(i),i&&(v||s===r))return i.replace(Ar,"");if(!i||!(s=Kr(s)))return i;var A=bn(i),S=kf(A,bn(s));return pi(A,S).join("")}function H_(i,s){var v=G,A=H;if(Yt(s)){var S="separator"in s?s.separator:S;v="length"in s?tt(s.length):v,A="omission"in s?Kr(s.omission):A}i=yt(i);var x=i.length;if(Yi(i)){var U=bn(i);x=U.length}if(v>=x)return i;var K=v-Ki(A);if(K<1)return A;var Q=U?pi(U,0,K).join(""):i.slice(0,K);if(S===r)return Q+A;if(U&&(K+=Q.length-K),ko(S)){if(i.slice(K).search(S)){var pe,ve=Q;for(S.global||(S=Xs(S.source,yt(zi.exec(S))+"g")),S.lastIndex=0;pe=S.exec(ve);)var me=pe.index;Q=Q.slice(0,me===r?K:me)}}else if(i.indexOf(Kr(S),K)!=K){var Se=Q.lastIndexOf(S);Se>-1&&(Q=Q.slice(0,Se))}return Q+A}function G_(i){return i=yt(i),i&&or.test(i)?i.replace(vr,b1):i}var Y_=tu(function(i,s,v){return i+(v?" ":"")+s.toUpperCase()}),Uo=Sc("toUpperCase");function F0(i,s,v){return i=yt(i),s=v?r:s,s===r?g1(i)?E1(i):s1(i):i.match(s)||[]}var C0=ut(function(i,s){try{return Gr(i,r,s)}catch(v){return No(v)?v:new $e(v)}}),K_=$n(function(i,s){return an(s,function(v){v=Rn(v),Kn(i,v,Io(i[v],i))}),i});function Z_(i){var s=i==null?0:i.length,v=je();return i=s?qt(i,function(A){if(typeof A[1]!="function")throw new sn(o);return[v(A[0]),A[1]]}):[],ut(function(A){for(var S=-1;++S<s;){var x=i[S];if(Gr(x[0],this,A))return Gr(x[1],this,A)}})}function $_(i){return bv(ln(i,f))}function jo(i){return function(){return i}}function X_(i,s){return i==null||i!==i?s:i}var J_=Oc(),Q_=Oc(!0);function qr(i){return i}function Vo(i){return uc(typeof i=="function"?i:ln(i,f))}function ey(i){return sc(ln(i,f))}function ty(i,s){return oc(i,ln(s,f))}var ry=ut(function(i,s){return function(v){return ju(v,i,s)}}),ny=ut(function(i,s){return function(v){return ju(i,v,s)}});function qo(i,s,v){var A=mr(s),S=ba(s,A);v==null&&!(Yt(s)&&(S.length||!A.length))&&(v=s,s=i,i=this,S=ba(s,mr(s)));var x=!(Yt(v)&&"chain"in v)||!!v.chain,U=Jn(i);return an(S,function(K){var Q=s[K];i[K]=Q,U&&(i.prototype[K]=function(){var pe=this.__chain__;if(x||pe){var ve=i(this.__wrapped__),me=ve.__actions__=Ur(this.__actions__);return me.push({func:Q,args:arguments,thisArg:i}),ve.__chain__=pe,ve}return Q.apply(i,oi([this.value()],arguments))})}),i}function iy(){return wr._===this&&(wr._=M1),this}function zo(){}function uy(i){return i=tt(i),ut(function(s){return lc(s,i)})}var ay=yo(qt),sy=yo(Mf),oy=yo(Ws);function S0(i){return So(i)?Hs(Rn(i)):Lv(i)}function ly(i){return function(s){return i==null?r:ki(i,s)}}var fy=Pc(),cy=Pc(!0);function Wo(){return[]}function Ho(){return!1}function hy(){return{}}function dy(){return""}function py(){return!0}function vy(i,s){if(i=tt(i),i<1||i>ue)return[];var v=be,A=Or(i,be);s=je(s),i-=be;for(var S=Ks(A,s);++v<i;)s(v);return S}function gy(i){return Je(i)?qt(i,Rn):Zr(i)?[i]:Ur(Yc(yt(i)))}function my(i){var s=++B1;return yt(i)+s}var Dy=Sa(function(i,s){return i+s},0),_y=bo("ceil"),yy=Sa(function(i,s){return i/s},1),by=bo("floor");function Ay(i){return i&&i.length?ya(i,qr,uo):r}function wy(i,s){return i&&i.length?ya(i,je(s,2),uo):r}function Ey(i){return If(i,qr)}function Fy(i,s){return If(i,je(s,2))}function Cy(i){return i&&i.length?ya(i,qr,lo):r}function Sy(i,s){return i&&i.length?ya(i,je(s,2),lo):r}var By=Sa(function(i,s){return i*s},1),Oy=bo("round"),My=Sa(function(i,s){return i-s},0);function Py(i){return i&&i.length?Ys(i,qr):0}function xy(i,s){return i&&i.length?Ys(i,je(s,2)):0}return M.after=eD,M.ary=i0,M.assign=VD,M.assignIn=D0,M.assignInWith=ja,M.assignWith=qD,M.at=zD,M.before=u0,M.bind=Io,M.bindAll=K_,M.bindKey=a0,M.castArray=hD,M.chain=t0,M.chunk=bg,M.compact=Ag,M.concat=wg,M.cond=Z_,M.conforms=$_,M.constant=jo,M.countBy=Pm,M.create=WD,M.curry=s0,M.curryRight=o0,M.debounce=l0,M.defaults=HD,M.defaultsDeep=GD,M.defer=tD,M.delay=rD,M.difference=Eg,M.differenceBy=Fg,M.differenceWith=Cg,M.drop=Sg,M.dropRight=Bg,M.dropRightWhile=Og,M.dropWhile=Mg,M.fill=Pg,M.filter=Im,M.flatMap=km,M.flatMapDeep=Rm,M.flatMapDepth=Lm,M.flatten=Xc,M.flattenDeep=xg,M.flattenDepth=Ig,M.flip=nD,M.flow=J_,M.flowRight=Q_,M.fromPairs=Tg,M.functions=QD,M.functionsIn=e_,M.groupBy=Um,M.initial=kg,M.intersection=Rg,M.intersectionBy=Lg,M.intersectionWith=Ug,M.invert=r_,M.invertBy=n_,M.invokeMap=Vm,M.iteratee=Vo,M.keyBy=qm,M.keys=mr,M.keysIn=Vr,M.map=Ta,M.mapKeys=u_,M.mapValues=a_,M.matches=ey,M.matchesProperty=ty,M.memoize=ka,M.merge=s_,M.mergeWith=_0,M.method=ry,M.methodOf=ny,M.mixin=qo,M.negate=Ra,M.nthArg=uy,M.omit=o_,M.omitBy=l_,M.once=iD,M.orderBy=zm,M.over=ay,M.overArgs=uD,M.overEvery=sy,M.overSome=oy,M.partial=To,M.partialRight=f0,M.partition=Wm,M.pick=f_,M.pickBy=y0,M.property=S0,M.propertyOf=ly,M.pull=zg,M.pullAll=Qc,M.pullAllBy=Wg,M.pullAllWith=Hg,M.pullAt=Gg,M.range=fy,M.rangeRight=cy,M.rearg=aD,M.reject=Ym,M.remove=Yg,M.rest=sD,M.reverse=Po,M.sampleSize=Zm,M.set=h_,M.setWith=d_,M.shuffle=$m,M.slice=Kg,M.sortBy=Qm,M.sortedUniq=tm,M.sortedUniqBy=rm,M.split=k_,M.spread=oD,M.tail=nm,M.take=im,M.takeRight=um,M.takeRightWhile=am,M.takeWhile=sm,M.tap=Am,M.throttle=lD,M.thru=Ia,M.toArray=v0,M.toPairs=b0,M.toPairsIn=A0,M.toPath=gy,M.toPlainObject=m0,M.transform=p_,M.unary=fD,M.union=om,M.unionBy=lm,M.unionWith=fm,M.uniq=cm,M.uniqBy=hm,M.uniqWith=dm,M.unset=v_,M.unzip=xo,M.unzipWith=e0,M.update=g_,M.updateWith=m_,M.values=iu,M.valuesIn=D_,M.without=pm,M.words=F0,M.wrap=cD,M.xor=vm,M.xorBy=gm,M.xorWith=mm,M.zip=Dm,M.zipObject=_m,M.zipObjectDeep=ym,M.zipWith=bm,M.entries=b0,M.entriesIn=A0,M.extend=D0,M.extendWith=ja,qo(M,M),M.add=Dy,M.attempt=C0,M.camelCase=A_,M.capitalize=w0,M.ceil=_y,M.clamp=__,M.clone=dD,M.cloneDeep=vD,M.cloneDeepWith=gD,M.cloneWith=pD,M.conformsTo=mD,M.deburr=E0,M.defaultTo=X_,M.divide=yy,M.endsWith=w_,M.eq=wn,M.escape=E_,M.escapeRegExp=F_,M.every=xm,M.find=Tm,M.findIndex=Zc,M.findKey=YD,M.findLast=Nm,M.findLastIndex=$c,M.findLastKey=KD,M.floor=by,M.forEach=r0,M.forEachRight=n0,M.forIn=ZD,M.forInRight=$D,M.forOwn=XD,M.forOwnRight=JD,M.get=Ro,M.gt=DD,M.gte=_D,M.has=t_,M.hasIn=Lo,M.head=Jc,M.identity=qr,M.includes=jm,M.indexOf=Ng,M.inRange=y_,M.invoke=i_,M.isArguments=Ui,M.isArray=Je,M.isArrayBuffer=yD,M.isArrayLike=jr,M.isArrayLikeObject=ir,M.isBoolean=bD,M.isBuffer=vi,M.isDate=AD,M.isElement=wD,M.isEmpty=ED,M.isEqual=FD,M.isEqualWith=CD,M.isError=No,M.isFinite=SD,M.isFunction=Jn,M.isInteger=c0,M.isLength=La,M.isMap=h0,M.isMatch=BD,M.isMatchWith=OD,M.isNaN=MD,M.isNative=PD,M.isNil=ID,M.isNull=xD,M.isNumber=d0,M.isObject=Yt,M.isObjectLike=er,M.isPlainObject=Gu,M.isRegExp=ko,M.isSafeInteger=TD,M.isSet=p0,M.isString=Ua,M.isSymbol=Zr,M.isTypedArray=nu,M.isUndefined=ND,M.isWeakMap=kD,M.isWeakSet=RD,M.join=jg,M.kebabCase=C_,M.last=cn,M.lastIndexOf=Vg,M.lowerCase=S_,M.lowerFirst=B_,M.lt=LD,M.lte=UD,M.max=Ay,M.maxBy=wy,M.mean=Ey,M.meanBy=Fy,M.min=Cy,M.minBy=Sy,M.stubArray=Wo,M.stubFalse=Ho,M.stubObject=hy,M.stubString=dy,M.stubTrue=py,M.multiply=By,M.nth=qg,M.noConflict=iy,M.noop=zo,M.now=Na,M.pad=O_,M.padEnd=M_,M.padStart=P_,M.parseInt=x_,M.random=b_,M.reduce=Hm,M.reduceRight=Gm,M.repeat=I_,M.replace=T_,M.result=c_,M.round=Oy,M.runInContext=X,M.sample=Km,M.size=Xm,M.snakeCase=N_,M.some=Jm,M.sortedIndex=Zg,M.sortedIndexBy=$g,M.sortedIndexOf=Xg,M.sortedLastIndex=Jg,M.sortedLastIndexBy=Qg,M.sortedLastIndexOf=em,M.startCase=R_,M.startsWith=L_,M.subtract=My,M.sum=Py,M.sumBy=xy,M.template=U_,M.times=vy,M.toFinite=Qn,M.toInteger=tt,M.toLength=g0,M.toLower=j_,M.toNumber=hn,M.toSafeInteger=jD,M.toString=yt,M.toUpper=V_,M.trim=q_,M.trimEnd=z_,M.trimStart=W_,M.truncate=H_,M.unescape=G_,M.uniqueId=my,M.upperCase=Y_,M.upperFirst=Uo,M.each=r0,M.eachRight=n0,M.first=Jc,qo(M,function(){var i={};return Nn(M,function(s,v){Et.call(M.prototype,v)||(i[v]=s)}),i}(),{chain:!1}),M.VERSION=n,an(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),an(["drop","take"],function(i,s){ht.prototype[i]=function(v){v=v===r?1:hr(tt(v),0);var A=this.__filtered__&&!s?new ht(this):this.clone();return A.__filtered__?A.__takeCount__=Or(v,A.__takeCount__):A.__views__.push({size:Or(v,be),type:i+(A.__dir__<0?"Right":"")}),A},ht.prototype[i+"Right"]=function(v){return this.reverse()[i](v).reverse()}}),an(["filter","map","takeWhile"],function(i,s){var v=s+1,A=v==W||v==z;ht.prototype[i]=function(S){var x=this.clone();return x.__iteratees__.push({iteratee:je(S,3),type:v}),x.__filtered__=x.__filtered__||A,x}}),an(["head","last"],function(i,s){var v="take"+(s?"Right":"");ht.prototype[i]=function(){return this[v](1).value()[0]}}),an(["initial","tail"],function(i,s){var v="drop"+(s?"":"Right");ht.prototype[i]=function(){return this.__filtered__?new ht(this):this[v](1)}}),ht.prototype.compact=function(){return this.filter(qr)},ht.prototype.find=function(i){return this.filter(i).head()},ht.prototype.findLast=function(i){return this.reverse().find(i)},ht.prototype.invokeMap=ut(function(i,s){return typeof i=="function"?new ht(this):this.map(function(v){return ju(v,i,s)})}),ht.prototype.reject=function(i){return this.filter(Ra(je(i)))},ht.prototype.slice=function(i,s){i=tt(i);var v=this;return v.__filtered__&&(i>0||s<0)?new ht(v):(i<0?v=v.takeRight(-i):i&&(v=v.drop(i)),s!==r&&(s=tt(s),v=s<0?v.dropRight(-s):v.take(s-i)),v)},ht.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},ht.prototype.toArray=function(){return this.take(be)},Nn(ht.prototype,function(i,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),A=/^(?:head|last)$/.test(s),S=M[A?"take"+(s=="last"?"Right":""):s],x=A||/^find/.test(s);S&&(M.prototype[s]=function(){var U=this.__wrapped__,K=A?[1]:arguments,Q=U instanceof ht,pe=K[0],ve=Q||Je(U),me=function(st){var pt=S.apply(M,oi([st],K));return A&&Se?pt[0]:pt};ve&&v&&typeof pe=="function"&&pe.length!=1&&(Q=ve=!1);var Se=this.__chain__,Te=!!this.__actions__.length,qe=x&&!Se,nt=Q&&!Te;if(!x&&ve){U=nt?U:new ht(this);var ze=i.apply(U,K);return ze.__actions__.push({func:Ia,args:[me],thisArg:r}),new on(ze,Se)}return qe&&nt?i.apply(this,K):(ze=this.thru(me),qe?A?ze.value()[0]:ze.value():ze)})}),an(["pop","push","shift","sort","splice","unshift"],function(i){var s=ua[i],v=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",A=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var S=arguments;if(A&&!this.__chain__){var x=this.value();return s.apply(Je(x)?x:[],S)}return this[v](function(U){return s.apply(Je(U)?U:[],S)})}}),Nn(ht.prototype,function(i,s){var v=M[s];if(v){var A=v.name+"";Et.call(Ji,A)||(Ji[A]=[]),Ji[A].push({name:s,func:v})}}),Ji[Ca(r,y).name]=[{name:"wrapper",func:r}],ht.prototype.clone=G1,ht.prototype.reverse=Y1,ht.prototype.value=K1,M.prototype.at=wm,M.prototype.chain=Em,M.prototype.commit=Fm,M.prototype.next=Cm,M.prototype.plant=Bm,M.prototype.reverse=Om,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Mm,M.prototype.first=M.prototype.head,Iu&&(M.prototype[Iu]=Sm),M},Zi=F1();Pi?((Pi.exports=Zi)._=Zi,js._=Zi):wr._=Zi}).call(lr)})(ZC,ps);const $C=ps,yl="panelModeStore";function XC(){const e=Mn("select"),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[yl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[yl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[yl],r("select"))}}}const Vn=XC(),JC=On(Vn,e=>Lt(Vn)),bl="selectedPromptStore";function QC(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[bl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[bl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[bl],r(""))}}}const vs=QC(),e3=On(vs,e=>Lt(vs));function Hh(e,t,r){const n=e.slice();return n[6]=t[r][0],n[7]=t[r][1],n}function Gh(e,t,r){const n=e.slice();return n[10]=t[r][0],n[11]=t[r][1],n}function Yh(e){let t=e[11].text+"",r,n,u,a=ni(e[11],e[7].weightMode)+"",o,l;return{c(){r=Ke(t),n=Ke("::"),u=se("b"),o=Ke(a),l=Ge()},l(d){r=Ze(d,t),n=Ze(d,"::"),u=oe(d,"B",{});var p=re(u);o=Ze(p,a),p.forEach(V),l=Ye(d)},m(d,p){Ae(d,r,p),Ae(d,n,p),Ae(d,u,p),J(u,o),Ae(d,l,p)},p(d,p){p&1&&t!==(t=d[11].text+"")&&Bn(r,t),p&1&&a!==(a=ni(d[11],d[7].weightMode)+"")&&Bn(o,a)},d(d){d&&V(r),d&&V(n),d&&V(u),d&&V(l)}}}function Kh(e,t){let r,n,u,a,o,l=Object.entries(t[7].weightedPrompts),d=[];for(let h=0;h<l.length;h+=1)d[h]=Yh(Gh(t,l,h));function p(){return t[4](t[6],t[7])}return{key:e,first:null,c(){r=se("li"),n=se("a");for(let h=0;h<d.length;h+=1)d[h].c();u=Ge(),this.h()},l(h){r=oe(h,"LI",{});var f=re(r);n=oe(f,"A",{class:!0});var c=re(n);for(let m=0;m<d.length;m+=1)d[m].l(c);c.forEach(V),u=Ye(f),f.forEach(V),this.h()},h(){T(n,"class","text-xs inline-block"),this.first=r},m(h,f){Ae(h,r,f),J(r,n);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(n,null);J(r,u),a||(o=Re(n,"click",p),a=!0)},p(h,f){if(t=h,f&3){l=Object.entries(t[7].weightedPrompts);let c;for(c=0;c<l.length;c+=1){const m=Gh(t,l,c);d[c]?d[c].p(m,f):(d[c]=Yh(m),d[c].c(),d[c].m(n,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=l.length}},d(h){h&&V(r),$l(d,h),a=!1,o()}}}function t3(e){let t,r,n,u,a,o=[],l=new Map,d,p,h=e[1](e[0],Zh,"desc");const f=c=>c[6];for(let c=0;c<h.length;c+=1){let m=Hh(e,h,c),b=f(m);l.set(b,o[c]=Kh(b,m))}return{c(){t=se("ul"),r=se("li"),n=se("a"),u=Ke("New +"),a=Ge();for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){t=oe(c,"UL",{class:!0});var m=re(t);r=oe(m,"LI",{});var b=re(r);n=oe(b,"A",{class:!0});var g=re(n);u=Ze(g,"New +"),g.forEach(V),b.forEach(V),a=Ye(m);for(let D=0;D<o.length;D+=1)o[D].l(m);m.forEach(V),this.h()},h(){T(n,"class","text-xs inline-block"),T(t,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(c,m){Ae(c,t,m),J(t,r),J(r,n),J(n,u),J(t,a);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(t,null);d||(p=Re(n,"click",e[2]),d=!0)},p(c,[m]){m&11&&(h=c[1](c[0],Zh,"desc"),o=Ei(o,m,f,1,c,h,l,t,vu,Kh,null,Hh))},i:Ie,o:Ie,d(c){c&&V(t);for(let m=0;m<o.length;m+=1)o[m].d();d=!1,p()}}}const Zh=e=>e[1].date;function r3(e,t,r){let n,u;Mt(e,Dn,p=>r(5,n=p)),Mt(e,KC,p=>r(0,u=p));const{orderBy:a}=$C;function o(){vs.delete(),Pt.update(Di({},n.weightMode)),Vn.update("edit")}function l(p,h){vs.update(p),Pt.update({...h}),Vn.update("edit")}return[u,a,o,l,(p,h)=>l(p,h)]}class n3 extends It{constructor(t){super(),Tt(this,t,r3,t3,Nt,{})}}let Ha;const i3=new Uint8Array(16);function u3(){if(!Ha&&(Ha=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ha))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ha(i3)}const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function a3(e,t=0){return(Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]).toLowerCase()}const s3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$h={randomUUID:s3};function Mp(e,t,r){if($h.randomUUID&&!t&&!e)return $h.randomUUID();e=e||{};const n=e.random||(e.rng||u3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let u=0;u<16;++u)t[r+u]=n[u];return t}return a3(n)}function o3(e){const t=[],r=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let n;for(;(n=r.exec(e))!==null;){const u=n[1].trim(),a=n[2]?parseFloat(n[2]):1;u&&t.push([u,a])}return t}function Al(e){if(typeof e!="string")throw new Error("Input must be a string");const t=e.length-1;let r=e;for(;r[t]===",";)r=r.slice(0,t);return r}function wl(e){if(typeof e!="string")throw new Error("Input must be a string");const t=["-","#","*","","",">","<","+","^","~","(",")","[","]","{","}"];let r=e.trim();for(;t.includes(r[0]);)r=r.slice(1).trim();return/^\d+(\.|\))\s/.test(r)&&(r=r.replace(/^\d+(\.|\))\s/,"")),r}function Yl(e){if(e=e.replace(/^\n+|\n+$/g,""),e.includes("::"))return o3(e);if(e.includes(`
`))return e.split(`
`).map(a=>wl(Al(a))).filter(a=>a.length>0).map(a=>[a,1]);const t=e.match(/[^.!?]+[.!?]+/g)||[],r=t.length,n=e.split(",").map(a=>wl(Al(a))).filter(a=>a.length>0),u=n.length-1;return r>u?t.map(a=>wl(Al(a))).filter(a=>a.length>0).map(a=>[a,1]):n.map(a=>[a,1])}function l3(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pp=l3,f3=typeof lr=="object"&&lr&&lr.Object===Object&&lr,c3=f3,h3=c3,d3=typeof self=="object"&&self&&self.Object===Object&&self,p3=h3||d3||Function("return this")(),xp=p3,v3=xp,g3=function(){return v3.Date.now()},m3=g3,D3=/\s/;function _3(e){for(var t=e.length;t--&&D3.test(e.charAt(t)););return t}var y3=_3,b3=y3,A3=/^\s+/;function w3(e){return e&&e.slice(0,b3(e)+1).replace(A3,"")}var E3=w3,F3=xp,C3=F3.Symbol,Ip=C3,Xh=Ip,Tp=Object.prototype,S3=Tp.hasOwnProperty,B3=Tp.toString,Yu=Xh?Xh.toStringTag:void 0;function O3(e){var t=S3.call(e,Yu),r=e[Yu];try{e[Yu]=void 0;var n=!0}catch{}var u=B3.call(e);return n&&(t?e[Yu]=r:delete e[Yu]),u}var M3=O3,P3=Object.prototype,x3=P3.toString;function I3(e){return x3.call(e)}var T3=I3,Jh=Ip,N3=M3,k3=T3,R3="[object Null]",L3="[object Undefined]",Qh=Jh?Jh.toStringTag:void 0;function U3(e){return e==null?e===void 0?L3:R3:Qh&&Qh in Object(e)?N3(e):k3(e)}var j3=U3;function V3(e){return e!=null&&typeof e=="object"}var q3=V3,z3=j3,W3=q3,H3="[object Symbol]";function G3(e){return typeof e=="symbol"||W3(e)&&z3(e)==H3}var Y3=G3,K3=E3,ed=Pp,Z3=Y3,td=0/0,$3=/^[-+]0x[0-9a-f]+$/i,X3=/^0b[01]+$/i,J3=/^0o[0-7]+$/i,Q3=parseInt;function eS(e){if(typeof e=="number")return e;if(Z3(e))return td;if(ed(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ed(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=K3(e);var r=X3.test(e);return r||J3.test(e)?Q3(e.slice(2),r?2:8):$3.test(e)?td:+e}var tS=eS,rS=Pp,El=m3,rd=tS,nS="Expected a function",iS=Math.max,uS=Math.min;function aS(e,t,r){var n,u,a,o,l,d,p=0,h=!1,f=!1,c=!0;if(typeof e!="function")throw new TypeError(nS);t=rd(t)||0,rS(r)&&(h=!!r.leading,f="maxWait"in r,a=f?iS(rd(r.maxWait)||0,t):a,c="trailing"in r?!!r.trailing:c);function m(O){var P=n,I=u;return n=u=void 0,p=O,o=e.apply(I,P),o}function b(O){return p=O,l=setTimeout(y,t),h?m(O):o}function g(O){var P=O-d,I=O-p,N=t-P;return f?uS(N,a-I):N}function D(O){var P=O-d,I=O-p;return d===void 0||P>=t||P<0||f&&I>=a}function y(){var O=El();if(D(O))return C(O);l=setTimeout(y,g(O))}function C(O){return l=void 0,c&&n?m(O):(n=u=void 0,o)}function w(){l!==void 0&&clearTimeout(l),p=0,n=d=u=l=void 0}function B(){return l===void 0?o:C(El())}function F(){var O=El(),P=D(O);if(n=arguments,u=this,d=O,P){if(l===void 0)return b(d);if(f)return clearTimeout(l),l=setTimeout(y,t),m(d)}return l===void 0&&(l=setTimeout(y,t)),o}return F.cancel=w,F.flush=B,F}var nd=aS;function id(e,t,r){const n=e.slice();return n[13]=t[r].id,n[14]=t[r].text,n}function ud(e,t){let r,n,u,a,o;function l(...d){return t[9](t[13],...d)}return{key:e,first:null,c(){r=se("li"),n=se("input"),this.h()},l(d){r=oe(d,"LI",{class:!0});var p=re(r);n=oe(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(V),this.h()},h(){n.value=u=t[14],T(n,"type","text"),T(n,"placeholder",""),T(n,"class","input input-bordered input-sm w-full"),T(r,"class","p-1"),this.first=r},m(d,p){Ae(d,r,p),J(r,n),a||(o=Re(n,"input",l),a=!0)},p(d,p){t=d,p&2&&u!==(u=t[14])&&n.value!==u&&(n.value=u)},d(d){d&&V(r),a=!1,o()}}}function sS(e){let t,r,n,u,a,o,l,d,p,h,f,c=[],m=new Map,b,g,D,y,C,w=e[1];const B=F=>F[13];for(let F=0;F<w.length;F+=1){let O=id(e,w,F),P=B(O);m.set(P,c[F]=ud(P,O))}return{c(){t=se("div"),r=se("button"),n=Ke("Paste"),u=Ge(),a=se("button"),o=Ke("Save"),l=Ge(),d=se("button"),p=Ke("Delete"),h=Ge(),f=se("ul");for(let F=0;F<c.length;F+=1)c[F].c();b=Ge(),g=se("li"),D=se("input"),this.h()},l(F){t=oe(F,"DIV",{class:!0});var O=re(t);r=oe(O,"BUTTON",{class:!0});var P=re(r);n=Ze(P,"Paste"),P.forEach(V),u=Ye(O),a=oe(O,"BUTTON",{class:!0});var I=re(a);o=Ze(I,"Save"),I.forEach(V),l=Ye(O),d=oe(O,"BUTTON",{class:!0});var N=re(d);p=Ze(N,"Delete"),N.forEach(V),O.forEach(V),h=Ye(F),f=oe(F,"UL",{class:!0});var G=re(f);for(let Y=0;Y<c.length;Y+=1)c[Y].l(G);b=Ye(G),g=oe(G,"LI",{class:!0});var H=re(g);D=oe(H,"INPUT",{type:!0,placeholder:!0,class:!0}),H.forEach(V),G.forEach(V),this.h()},h(){T(r,"class","btn btn-sm btn-info mx-2"),T(a,"class","btn btn-sm btn-success mx-2"),T(d,"class","btn btn-sm btn-error mx-2"),T(t,"class","flex px-8 py-2 justify-center bg-base-100"),T(D,"type","text"),T(D,"placeholder","Add prompt"),T(D,"class","input input-bordered input-sm w-full italic"),T(g,"class","p-1"),T(f,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(F,O){Ae(F,t,O),J(t,r),J(r,n),J(t,u),J(t,a),J(a,o),J(t,l),J(t,d),J(d,p),Ae(F,h,O),Ae(F,f,O);for(let P=0;P<c.length;P+=1)c[P]&&c[P].m(f,null);J(f,b),J(f,g),J(g,D),yi(D,e[0]),y||(C=[Re(r,"click",e[3]),Re(a,"click",e[2]),Re(d,"click",e[4]),Re(D,"input",e[10]),Re(D,"input",e[11])],y=!0)},p(F,[O]){O&34&&(w=F[1],c=Ei(c,O,B,1,F,w,m,f,vu,ud,b,id)),O&1&&D.value!==F[0]&&yi(D,F[0])},i:Ie,o:Ie,d(F){F&&V(t),F&&V(h),F&&V(f);for(let O=0;O<c.length;O+=1)c[O].d();y=!1,Lr(C)}}}function oS(e,t,r){let n,u,a;Mt(e,Dn,D=>r(8,u=D)),Mt(e,e3,D=>r(12,a=D));let o="",l=Object.keys(u.weightedPrompts).length;function d(){ds.update(Mp(),{...u,date:Date.now()}),Vn.update("select")}function p(){navigator.clipboard.readText().then(D=>{const y=Yl(D),C=Math.max(...y.map(([B,F])=>F)),w=y.reduce((B,[F,O],P)=>(B[P]=Dr(P,F,O,O/C),B),{});Pt.update(Di(w,u.weightMode))})}function h(){a&&ds.delete(a),Vn.update("select"),Pt.delete()}const f=nd((D,y)=>{const C={...u.weightedPrompts},w={...C[D],text:y};C[D]=w,Pt.update({...u,weightedPrompts:C})},500),c=nd(D=>{const y=Object.keys(u.weightedPrompts).length,C={...u.weightedPrompts},w=Dr(y,D,1);C[y]=w,Pt.update({...u,weightedPrompts:C})},500),m=(D,y)=>f(D,y.target.value);function b(){o=this.value,r(0,o),r(8,u),r(7,l)}const g=D=>c(D.target.value);return e.$$.update=()=>{if(e.$$.dirty&384){const D=Object.keys(u.weightedPrompts).length;D>l&&(r(7,l=D),r(0,o=""))}e.$$.dirty&256&&r(1,n=Object.entries(u.weightedPrompts).map(([D,y])=>({id:D,text:y.text})))},[o,n,d,p,h,f,c,l,u,m,b,g]}class lS extends It{constructor(t){super(),Tt(this,t,oS,sS,Nt,{})}}const fS=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,cS=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,hS=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,dS=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
3. Do not use hyphens to mark list items.
4. Do not title the list.
`,pS=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function vS(){const e=Mn({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,o)=>{if(o.startsWith("directive")){const l=o.split("_")[1];a[l]=JSON.parse(localStorage[o])}return a},{})||{}),{subscribe:t,update:(a,o)=>{const l=Lt(e),p={...l[a]||{},...o};u&&(localStorage[`directive_${a}`]=JSON.stringify(p));const h={...l,[a]:p};r(h)},get:a=>Lt(e)[a],delete:a=>{u&&delete localStorage[`directive_${a}`];const o={...Lt(e)};delete o[a],r(o)}}}const gs=vS(),gS=On(gs,e=>Object.entries(Lt(gs))),Fl="preferredModelStore";function mS(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Fl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Fl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[Fl],r(""))}}}const Kl=mS(),Np=On(Kl,e=>Lt(Kl)),Cl="preferredDirectiveStore";function DS(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Cl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Cl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[Cl],r(""))}}}const ms=DS(),_S=On(ms,e=>Lt(ms)),Sl="metaPromptStore";function yS(){const e=Mn(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Sl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Sl]=a,r(a))},get:()=>Lt(e),delete:()=>{u&&(delete localStorage[Sl],r(""))}}}const Zl=yS(),bS=On(Zl,e=>Lt(Zl));function ad(e,t,r){const n=e.slice();return n[30]=t[r][0],n[31]=t[r][1],n}function AS(e){let t,r,n;return{c(){t=se("div"),r=se("p"),n=Ke("Set Open AI Key in settings for GPT generation."),this.h()},l(u){t=oe(u,"DIV",{class:!0});var a=re(t);r=oe(a,"P",{class:!0});var o=re(r);n=Ze(o,"Set Open AI Key in settings for GPT generation."),o.forEach(V),a.forEach(V),this.h()},h(){T(r,"class","text-center"),T(t,"class","w-full p-2 flex justify-center")},m(u,a){Ae(u,t,a),J(t,r),J(r,n)},p:Ie,d(u){u&&V(t)}}}function wS(e){let t,r,n,u,a,o,l,d,p,h,f=[],c=new Map,m,b,g,D,y,C,w,B=Object.entries(e[1]);const F=P=>P[30];for(let P=0;P<B.length;P+=1){let I=ad(e,B,P),N=F(I);c.set(N,f[P]=sd(N,I))}let O=e[0]&&od(e);return{c(){t=se("div"),r=se("div"),n=se("label"),u=se("span"),a=Ke("Pick a directive for prompt creation"),o=Ge(),l=se("select"),d=se("option"),p=Ke("Pick one");for(let P=0;P<f.length;P+=1)f[P].c();m=se("option"),b=Ke("New"),D=Ge(),O&&O.c(),y=zt(),this.h()},l(P){t=oe(P,"DIV",{class:!0});var I=re(t);r=oe(I,"DIV",{class:!0});var N=re(r);n=oe(N,"LABEL",{class:!0});var G=re(n);u=oe(G,"SPAN",{class:!0});var H=re(u);a=Ze(H,"Pick a directive for prompt creation"),H.forEach(V),G.forEach(V),o=Ye(N),l=oe(N,"SELECT",{class:!0});var Y=re(l);d=oe(Y,"OPTION",{});var q=re(d);p=Ze(q,"Pick one"),q.forEach(V);for(let R=0;R<f.length;R+=1)f[R].l(Y);m=oe(Y,"OPTION",{});var W=re(m);b=Ze(W,"New"),W.forEach(V),Y.forEach(V),N.forEach(V),I.forEach(V),D=Ye(P),O&&O.l(P),y=zt(),this.h()},h(){T(u,"class","label-text"),T(n,"class","label"),d.disabled=!0,d.selected=h=e[0]===null,d.__value="Pick one",d.value=d.__value,m.__value="new",m.value=m.__value,m.selected=g=e[0]==="new",T(l,"class","select select-bordered"),T(r,"class","form-control w-full max-w-xs mb-4"),T(t,"class","flex justify-center")},m(P,I){Ae(P,t,I),J(t,r),J(r,n),J(n,u),J(u,a),J(r,o),J(r,l),J(l,d),J(d,p);for(let N=0;N<f.length;N+=1)f[N]&&f[N].m(l,null);J(l,m),J(m,b),hu(l,e[0]),Ae(P,D,I),O&&O.m(P,I),Ae(P,y,I),C||(w=Re(l,"change",e[11]),C=!0)},p(P,I){I[0]&3&&h!==(h=P[0]===null)&&(d.selected=h),I[0]&3&&(B=Object.entries(P[1]),f=Ei(f,I,F,1,P,B,c,l,vu,sd,m,ad)),I[0]&3&&g!==(g=P[0]==="new")&&(m.selected=g),I[0]&3&&hu(l,P[0]),P[0]?O?O.p(P,I):(O=od(P),O.c(),O.m(y.parentNode,y)):O&&(O.d(1),O=null)},d(P){P&&V(t);for(let I=0;I<f.length;I+=1)f[I].d();P&&V(D),O&&O.d(P),P&&V(y),C=!1,w()}}}function sd(e,t){let r,n=t[31].name+"",u,a=t[31].builtIn?" (Built-In)":" (User)",o,l,d;return{key:e,first:null,c(){r=se("option"),u=Ke(n),o=Ke(a),this.h()},l(p){r=oe(p,"OPTION",{});var h=re(r);u=Ze(h,n),o=Ze(h,a),h.forEach(V),this.h()},h(){r.__value=l=t[30],r.value=r.__value,r.selected=d=t[0]===t[30],this.first=r},m(p,h){Ae(p,r,h),J(r,u),J(r,o)},p(p,h){t=p,h[0]&2&&n!==(n=t[31].name+"")&&Bn(u,n),h[0]&2&&a!==(a=t[31].builtIn?" (Built-In)":" (User)")&&Bn(o,a),h[0]&2&&l!==(l=t[30])&&(r.__value=l,r.value=r.__value),h[0]&3&&d!==(d=t[0]===t[30])&&(r.selected=d)},d(p){p&&V(r)}}}function od(e){let t,r,n,u,a,o,l,d,p,h,f=!e[6]&&ld(e);function c(g,D){return g[5]?FS:ES}let m=c(e),b=m(e);return{c(){f&&f.c(),t=Ge(),r=se("div"),n=se("textarea"),u=Ge(),a=se("div"),o=se("textarea"),l=Ge(),b.c(),d=zt(),this.h()},l(g){f&&f.l(g),t=Ye(g),r=oe(g,"DIV",{class:!0});var D=re(r);n=oe(D,"TEXTAREA",{class:!0,placeholder:!0}),re(n).forEach(V),D.forEach(V),u=Ye(g),a=oe(g,"DIV",{class:!0});var y=re(a);o=oe(y,"TEXTAREA",{class:!0,placeholder:!0}),re(o).forEach(V),y.forEach(V),l=Ye(g),b.l(g),d=zt(),this.h()},h(){T(n,"class","textarea textarea-bordered w-full h-full"),T(n,"placeholder","GPT Directives"),T(r,"class","w-full p-2 h-1/2"),o.value=e[7],T(o,"class","textarea textarea-bordered w-full h-full"),T(o,"placeholder","Describe the prompt to generate."),T(a,"class","w-full p-2 h-1/5")},m(g,D){f&&f.m(g,D),Ae(g,t,D),Ae(g,r,D),J(r,n),yi(n,e[4]),Ae(g,u,D),Ae(g,a,D),J(a,o),Ae(g,l,D),b.m(g,D),Ae(g,d,D),p||(h=[Re(n,"input",e[17]),Re(o,"input",e[18])],p=!0)},p(g,D){g[6]?f&&(f.d(1),f=null):f?f.p(g,D):(f=ld(g),f.c(),f.m(t.parentNode,t)),D[0]&16&&yi(n,g[4]),D[0]&128&&(o.value=g[7]),m===(m=c(g))&&b?b.p(g,D):(b.d(1),b=m(g),b&&(b.c(),b.m(d.parentNode,d)))},d(g){f&&f.d(g),g&&V(t),g&&V(r),g&&V(u),g&&V(a),g&&V(l),b.d(g),g&&V(d),p=!1,Lr(h)}}}function ld(e){let t,r,n,u,a,o,l;return{c(){t=se("div"),r=se("input"),n=Ge(),u=se("button"),a=Ke("Save"),this.h()},l(d){t=oe(d,"DIV",{class:!0});var p=re(t);r=oe(p,"INPUT",{type:!0,placeholder:!0,class:!0}),n=Ye(p),u=oe(p,"BUTTON",{class:!0});var h=re(u);a=Ze(h,"Save"),h.forEach(V),p.forEach(V),this.h()},h(){T(r,"type","text"),T(r,"placeholder","Name"),T(r,"class","input input-bordered input-sm w-full max-w-xs"),T(u,"class","btn btn-sm btn-primary ml-4"),T(t,"class","w-full p-2 h-12 flex justify-between")},m(d,p){Ae(d,t,p),J(t,r),yi(r,e[3]),J(t,n),J(t,u),J(u,a),o||(l=[Re(r,"input",e[16]),Re(u,"click",e[9])],o=!0)},p(d,p){p[0]&8&&r.value!==d[3]&&yi(r,d[3])},d(d){d&&V(t),o=!1,Lr(l)}}}function ES(e){let t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:BS,then:SS,catch:CS,value:29};return bi(r=e[2],n),{c(){t=se("div"),n.block.c(),this.h()},l(u){t=oe(u,"DIV",{class:!0});var a=re(t);n.block.l(a),a.forEach(V),this.h()},h(){T(t,"class","w-full p-2 h-12 flex justify-end")},m(u,a){Ae(u,t,a),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null},p(u,a){e=u,n.ctx=e,a[0]&4&&r!==(r=e[2])&&bi(r,n)||ys(n,e,a)},d(u){u&&V(t),n.block.d(),n.token=null,n=null}}}function FS(e){let t,r,n,u,a,o,l,d={ctx:e,current:null,token:null,hasCatch:!1,pending:PS,then:MS,catch:OS,value:29};return bi(a=e[2],d),{c(){t=se("div"),r=se("button"),n=Ke("Delete"),u=Ge(),d.block.c(),this.h()},l(p){t=oe(p,"DIV",{class:!0});var h=re(t);r=oe(h,"BUTTON",{class:!0});var f=re(r);n=Ze(f,"Delete"),f.forEach(V),u=Ye(h),d.block.l(h),h.forEach(V),this.h()},h(){T(r,"class","btn btn-sm btn-error ml-4"),T(t,"class","w-full p-2 h-12 flex justify-between")},m(p,h){Ae(p,t,h),J(t,r),J(r,n),J(t,u),d.block.m(t,d.anchor=null),d.mount=()=>t,d.anchor=null,o||(l=Re(r,"click",e[10]),o=!0)},p(p,h){e=p,d.ctx=e,h[0]&4&&a!==(a=e[2])&&bi(a,d)||ys(d,e,h)},d(p){p&&V(t),d.block.d(),d.token=null,d=null,o=!1,l()}}}function CS(e){return{c:Ie,l:Ie,m:Ie,p:Ie,d:Ie}}function SS(e){let t,r,n,u;return{c(){t=se("button"),r=Ke("Generate"),this.h()},l(a){t=oe(a,"BUTTON",{class:!0});var o=re(t);r=Ze(o,"Generate"),o.forEach(V),this.h()},h(){T(t,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ae(a,t,o),J(t,r),n||(u=Re(t,"click",e[12]),n=!0)},p:Ie,d(a){a&&V(t),n=!1,u()}}}function BS(e){let t,r,n,u;return{c(){t=se("button"),r=Ke("Generating"),this.h()},l(a){t=oe(a,"BUTTON",{class:!0});var o=re(t);r=Ze(o,"Generating"),o.forEach(V),this.h()},h(){T(t,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ae(a,t,o),J(t,r),n||(u=Re(t,"click",e[12]),n=!0)},p:Ie,d(a){a&&V(t),n=!1,u()}}}function OS(e){return{c:Ie,l:Ie,m:Ie,p:Ie,d:Ie}}function MS(e){let t,r,n,u;return{c(){t=se("button"),r=Ke("Generate"),this.h()},l(a){t=oe(a,"BUTTON",{class:!0});var o=re(t);r=Ze(o,"Generate"),o.forEach(V),this.h()},h(){T(t,"class","btn btn-sm btn-primary ml-4")},m(a,o){Ae(a,t,o),J(t,r),n||(u=Re(t,"click",e[12]),n=!0)},p:Ie,d(a){a&&V(t),n=!1,u()}}}function PS(e){let t,r,n,u;return{c(){t=se("button"),r=Ke("Generating"),this.h()},l(a){t=oe(a,"BUTTON",{class:!0});var o=re(t);r=Ze(o,"Generating"),o.forEach(V),this.h()},h(){T(t,"class","btn btn-sm btn ml-4 disabled")},m(a,o){Ae(a,t,o),J(t,r),n||(u=Re(t,"click",e[12]),n=!0)},p:Ie,d(a){a&&V(t),n=!1,u()}}}function xS(e){let t;function r(a,o){return a[8]?wS:AS}let u=r(e)(e);return{c(){t=se("div"),u.c(),this.h()},l(a){t=oe(a,"DIV",{class:!0});var o=re(t);u.l(o),o.forEach(V),this.h()},h(){T(t,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(a,o){Ae(a,t,o),u.m(t,null)},p(a,o){u.p(a,o)},i:Ie,o:Ie,d(a){a&&V(t),u.d()}}}function IS(e,t,r){let n,u,a,o,l,d,p,h,f,c;Mt(e,bS,R=>r(7,l=R)),Mt(e,Dn,R=>r(19,d=R)),Mt(e,_S,R=>r(14,p=R)),Mt(e,gS,R=>r(15,h=R)),Mt(e,Np,R=>r(20,f=R)),Mt(e,pf,R=>r(21,c=R));let m=c,b=f,g=null;const D=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let y={C:{name:"Five Sentences",text:fS,builtIn:!0},D:{name:"Ten Sentences",text:cS,builtIn:!0},E:{name:"Fragments",text:hS,builtIn:!0},F:{name:"Concept Shotgun",text:dS,builtIn:!0},G:{name:"Poetic Accents",text:pS,builtIn:!0}},C=null,w="",B="";function F(){const R=C==="new"?Mp():C;gs.update(R,{name:w,text:B,builtIn:!1}),C==="new"&&r(0,C=R)}function O(){gs.delete(C),r(0,C=null),r(3,w=""),r(4,B=""),ms.delete()}function P(R){r(0,C=R),ms.update(R),R&&R!=="new"?(r(3,w=u[R].name),r(4,B=u[R].text)):R==="new"&&(r(3,w=""),r(4,B=""))}function I(R){P(R.target.value)}function N(R,z){r(2,g=oF(R,z,b||"gpt-3.5-turbo")),g.then(ue=>{console.log(ue),ue.data.choices.forEach((he,De)=>{const be=Yl(he.message.content);console.log(be);const Be=be.reduce((ye,[xe,ke],Ue)=>(ye[Ue]=Dr(Ue,xe,ke),ye),{});Pt.update(Di(Be,d.weightMode)),Vn.update("edit")})})}function G(R,z){r(2,g=sF(R,z,b||"text-davinci-003")),g.then(ue=>{console.log(ue),ue.data.choices.forEach((he,De)=>{const be=Yl(he.text);console.log(be);const Be=be.reduce((ye,[xe,ke],Ue)=>(ye[Ue]=Dr(Ue,xe,ke),ye),{});Pt.update(Di(Be,d.weightMode)),Vn.update("edit")})})}function H(){if(!m||!B||!l)return;const R=df(m),z=`${B}

        Using the above rules create a prompt from:
        ${l}
        `;D.includes(b)?G(R,z):N(R,z)}function Y(){w=this.value,r(3,w)}function q(){B=this.value,r(4,B)}const W=R=>Zl.update(R.target.value);return e.$$.update=()=>{e.$$.dirty[0]&32768&&r(13,n=h.reduce((R,[z,ee])=>(R[z]={name:ee.name,text:ee.text,builtIn:!1},R),{})),e.$$.dirty[0]&8192&&r(1,u=Object.entries({...y,...n}).reduce((R,[z,ee])=>(R[z]=ee,R),{})),e.$$.dirty[0]&16385&&(C===null&&r(0,C=p),P(C)),e.$$.dirty[0]&3&&r(6,a=C&&C!=="new"&&u[C].builtIn),e.$$.dirty[0]&3&&r(5,o=C&&C!=="new"&&!u[C].builtIn)},[C,u,g,w,B,o,a,l,m,F,O,I,H,n,p,h,Y,q,W]}class TS extends It{constructor(t){super(),Tt(this,t,IS,xS,Nt,{},null,[-1,-1])}}function fd(e,t,r){const n=e.slice();return n[20]=t[r],n}function cd(e,t,r){const n=e.slice();return n[20]=t[r],n}function NS(e){return{c:Ie,l:Ie,m:Ie,p:Ie,d:Ie}}function kS(e){let t,r,n=e[0].length>0&&hd(e),u=e[1].length>0&&pd(e);return{c(){n&&n.c(),t=Ge(),u&&u.c(),r=zt()},l(a){n&&n.l(a),t=Ye(a),u&&u.l(a),r=zt()},m(a,o){n&&n.m(a,o),Ae(a,t,o),u&&u.m(a,o),Ae(a,r,o)},p(a,o){a[0].length>0?n?n.p(a,o):(n=hd(a),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),a[1].length>0?u?u.p(a,o):(u=pd(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){n&&n.d(a),a&&V(t),u&&u.d(a),a&&V(r)}}}function hd(e){let t,r,n,u,a,o,l,d,p,h,f=[],c=new Map,m,b,g=e[0];const D=y=>y[20];for(let y=0;y<g.length;y+=1){let C=cd(e,g,y),w=D(C);c.set(w,f[y]=dd(w,C))}return{c(){t=se("div"),r=se("div"),n=se("label"),u=se("span"),a=Ke("Pick a model to use for model generation"),o=Ge(),l=se("select"),d=se("option"),p=Ke("Pick one");for(let y=0;y<f.length;y+=1)f[y].c();this.h()},l(y){t=oe(y,"DIV",{class:!0});var C=re(t);r=oe(C,"DIV",{class:!0});var w=re(r);n=oe(w,"LABEL",{class:!0});var B=re(n);u=oe(B,"SPAN",{class:!0});var F=re(u);a=Ze(F,"Pick a model to use for model generation"),F.forEach(V),B.forEach(V),o=Ye(w),l=oe(w,"SELECT",{class:!0});var O=re(l);d=oe(O,"OPTION",{});var P=re(d);p=Ze(P,"Pick one"),P.forEach(V);for(let I=0;I<f.length;I+=1)f[I].l(O);O.forEach(V),w.forEach(V),C.forEach(V),this.h()},h(){T(u,"class","label-text"),T(n,"class","label"),d.disabled=!0,d.selected=h=e[2]===null,d.__value="Pick one",d.value=d.__value,T(l,"class","select select-bordered"),T(r,"class","form-control w-full max-w-xs mb-4"),T(t,"class","flex justify-center")},m(y,C){Ae(y,t,C),J(t,r),J(r,n),J(n,u),J(u,a),J(r,o),J(r,l),J(l,d),J(d,p);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(l,null);hu(l,e[2]),m||(b=Re(l,"change",e[7]),m=!0)},p(y,C){C&5&&h!==(h=y[2]===null)&&(d.selected=h),C&5&&(g=y[0],f=Ei(f,C,D,1,y,g,c,l,vu,dd,null,cd)),C&5&&hu(l,y[2])},d(y){y&&V(t);for(let C=0;C<f.length;C+=1)f[C].d();m=!1,b()}}}function dd(e,t){let r,n=t[20]+"",u,a,o;return{key:e,first:null,c(){r=se("option"),u=Ke(n),this.h()},l(l){r=oe(l,"OPTION",{});var d=re(r);u=Ze(d,n),d.forEach(V),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=o=t[2]===t[20],this.first=r},m(l,d){Ae(l,r,d),J(r,u)},p(l,d){t=l,d&1&&n!==(n=t[20]+"")&&Bn(u,n),d&1&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&5&&o!==(o=t[2]===t[20])&&(r.selected=o)},d(l){l&&V(r)}}}function pd(e){let t,r,n,u,a,o,l,d,p,h,f=[],c=new Map,m,b,g=e[1];const D=y=>y[20];for(let y=0;y<g.length;y+=1){let C=fd(e,g,y),w=D(C);c.set(w,f[y]=vd(w,C))}return{c(){t=se("div"),r=se("div"),n=se("label"),u=se("span"),a=Ke("Pick a model to use for prompt embedding"),o=Ge(),l=se("select"),d=se("option"),p=Ke("Pick one");for(let y=0;y<f.length;y+=1)f[y].c();this.h()},l(y){t=oe(y,"DIV",{class:!0});var C=re(t);r=oe(C,"DIV",{class:!0});var w=re(r);n=oe(w,"LABEL",{class:!0});var B=re(n);u=oe(B,"SPAN",{class:!0});var F=re(u);a=Ze(F,"Pick a model to use for prompt embedding"),F.forEach(V),B.forEach(V),o=Ye(w),l=oe(w,"SELECT",{class:!0});var O=re(l);d=oe(O,"OPTION",{});var P=re(d);p=Ze(P,"Pick one"),P.forEach(V);for(let I=0;I<f.length;I+=1)f[I].l(O);O.forEach(V),w.forEach(V),C.forEach(V),this.h()},h(){T(u,"class","label-text"),T(n,"class","label"),d.disabled=!0,d.selected=h=e[3]===null,d.__value="Pick one",d.value=d.__value,T(l,"class","select select-bordered"),T(r,"class","form-control w-full max-w-xs mb-4"),T(t,"class","flex justify-center")},m(y,C){Ae(y,t,C),J(t,r),J(r,n),J(n,u),J(u,a),J(r,o),J(r,l),J(l,d),J(d,p);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(l,null);hu(l,e[3]),m||(b=Re(l,"change",e[8]),m=!0)},p(y,C){C&10&&h!==(h=y[3]===null)&&(d.selected=h),C&10&&(g=y[1],f=Ei(f,C,D,1,y,g,c,l,vu,vd,null,fd)),C&10&&hu(l,y[3])},d(y){y&&V(t);for(let C=0;C<f.length;C+=1)f[C].d();m=!1,b()}}}function vd(e,t){let r,n=t[20]+"",u,a,o;return{key:e,first:null,c(){r=se("option"),u=Ke(n),this.h()},l(l){r=oe(l,"OPTION",{});var d=re(r);u=Ze(d,n),d.forEach(V),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=o=t[3]===t[20],this.first=r},m(l,d){Ae(l,r,d),J(r,u)},p(l,d){t=l,d&2&&n!==(n=t[20]+"")&&Bn(u,n),d&2&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&10&&o!==(o=t[3]===t[20])&&(r.selected=o)},d(l){l&&V(r)}}}function RS(e){let t,r,n;return{c(){t=se("div"),r=se("div"),n=se("progress"),this.h()},l(u){t=oe(u,"DIV",{class:!0});var a=re(t);r=oe(a,"DIV",{class:!0});var o=re(r);n=oe(o,"PROGRESS",{class:!0}),re(n).forEach(V),o.forEach(V),a.forEach(V),this.h()},h(){T(n,"class","progress progress-primary w-56"),T(r,"class","form-control w-full flex flex-col max-w-xs"),T(t,"class","py-10 flex justify-center")},m(u,a){Ae(u,t,a),J(t,r),J(r,n)},p:Ie,d(u){u&&V(t)}}}function LS(e){let t,r,n,u,a,o,l,d,p,h,f,c,m,b,g,D,y,C,w,B,F,O,P,I,N={ctx:e,current:null,token:null,hasCatch:!1,pending:RS,then:kS,catch:NS,value:19};return bi(O=e[4],N),{c(){t=se("div"),r=se("div"),n=se("div"),u=se("label"),a=se("span"),o=Ke("Include Prompts With Zero Weight"),l=Ge(),d=se("input"),p=Ge(),h=se("div"),f=se("div"),c=se("label"),m=se("span"),b=Ke("Open AI Key"),g=Ge(),D=se("input"),y=Ge(),C=se("label"),w=se("button"),B=Ke("Clear"),F=Ge(),N.block.c(),this.h()},l(G){t=oe(G,"DIV",{class:!0});var H=re(t);r=oe(H,"DIV",{class:!0});var Y=re(r);n=oe(Y,"DIV",{class:!0});var q=re(n);u=oe(q,"LABEL",{class:!0});var W=re(u);a=oe(W,"SPAN",{class:!0});var R=re(a);o=Ze(R,"Include Prompts With Zero Weight"),R.forEach(V),W.forEach(V),l=Ye(q),d=oe(q,"INPUT",{type:!0,class:!0}),q.forEach(V),Y.forEach(V),p=Ye(H),h=oe(H,"DIV",{class:!0});var z=re(h);f=oe(z,"DIV",{class:!0});var ee=re(f);c=oe(ee,"LABEL",{class:!0});var ue=re(c);m=oe(ue,"SPAN",{class:!0});var he=re(m);b=Ze(he,"Open AI Key"),he.forEach(V),ue.forEach(V),g=Ye(ee),D=oe(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),y=Ye(ee),C=oe(ee,"LABEL",{class:!0});var De=re(C);w=oe(De,"BUTTON",{class:!0});var be=re(w);B=Ze(be,"Clear"),be.forEach(V),De.forEach(V),ee.forEach(V),z.forEach(V),F=Ye(H),N.block.l(H),H.forEach(V),this.h()},h(){T(a,"class","label-text-alt"),T(u,"class","label"),T(d,"type","checkbox"),T(d,"class","toggle"),d.checked=e[5],T(n,"class","form-control w-full max-w-xs"),T(r,"class","flex justify-center"),T(m,"class","label-text-alt"),T(c,"class","label"),D.value=e[6],T(D,"type","password"),T(D,"placeholder","Open AI Key"),T(D,"class","input input-bordered w-full max-w-xs"),T(w,"class","btn btn-xs btn-error"),T(C,"class","label"),T(f,"class","form-control w-full max-w-xs"),T(h,"class","flex justify-center"),T(t,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(G,H){Ae(G,t,H),J(t,r),J(r,n),J(n,u),J(u,a),J(a,o),J(n,l),J(n,d),J(t,p),J(t,h),J(h,f),J(f,c),J(c,m),J(m,b),J(f,g),J(f,D),J(f,y),J(f,C),J(C,w),J(w,B),J(t,F),N.block.m(t,N.anchor=null),N.mount=()=>t,N.anchor=null,P||(I=[Re(d,"change",e[11]),Re(D,"input",e[9]),Re(w,"click",e[10])],P=!0)},p(G,[H]){e=G,H&32&&(d.checked=e[5]),H&64&&D.value!==e[6]&&(D.value=e[6]),N.ctx=e,H&16&&O!==(O=e[4])&&bi(O,N)||ys(N,e,H)},i:Ie,o:Ie,d(G){G&&V(t),N.block.d(),N.token=null,N=null,P=!1,Lr(I)}}}function US(e,t,r){let n,u,a,o,l;Mt(e,Op,O=>r(5,n=O)),Mt(e,Dn,O=>r(13,u=O)),Mt(e,vp,O=>r(14,a=O)),Mt(e,Np,O=>r(15,o=O)),Mt(e,pf,O=>r(6,l=O));const d=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"],p=["text-embedding-ada-002"];let h=l,f=[],c=[],m=o,b=a,g=null;async function D(O){if(!O||f.length&&c.length)return;const P=df(O);r(4,g=fF(P));const I=await g;I.data&&r(0,f=I.data.data.map(({id:N})=>N).filter(N=>d.includes(N))),r(1,c=I.data.data.map(({id:N})=>N).filter(N=>p.includes(N)))}function y(O){r(2,m=O.target.value),Kl.update(m)}function C(O){r(3,b=O.target.value),Hl.update(b)}function w(O){const P=O.target.value;as.update(P),P.length===51&&D(P),P.length===0&&B()}function B(){as.delete(),r(12,h=""),r(0,f=[]),r(1,c=[]),u.weightMode==="embed"&&Pt.update({...u,weightMode:"circle"})}function F(){Gl.update(!n)}return e.$$.update=()=>{e.$$.dirty&4096&&D(h)},[f,c,m,b,g,n,l,y,C,w,B,F,h]}class jS extends It{constructor(t){super(),Tt(this,t,US,LS,Nt,{})}}function VS(e){let t,r;return t=new jS({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function qS(e){let t,r;return t=new TS({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function zS(e){let t,r;return t=new lS({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function WS(e){let t,r;return t=new n3({}),{c(){ot(t.$$.fragment)},l(n){lt(t.$$.fragment,n)},m(n,u){ft(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Ne(t.$$.fragment,n),r=!1},d(n){ct(t,n)}}}function HS(e){let t,r,n,u,a,o,l,d,p,h,f,c,m,b,g,D,y,C,w,B,F,O,P,I;const N=[WS,zS,qS,VS],G=[];function H(Y,q){return Y[0]==="select"?0:Y[0]==="edit"?1:Y[0]==="generate"?2:Y[0]==="settings"?3:-1}return~(B=H(e))&&(F=G[B]=N[B](e)),{c(){t=se("div"),r=se("div"),n=se("div"),u=se("button"),a=Ke("Select"),l=Ge(),d=se("button"),p=Ke("Edit"),f=Ge(),c=se("button"),m=Ke("Generate"),g=Ge(),D=se("button"),y=Ke("Settings"),w=Ge(),F&&F.c(),this.h()},l(Y){t=oe(Y,"DIV",{class:!0});var q=re(t);r=oe(q,"DIV",{class:!0});var W=re(r);n=oe(W,"DIV",{class:!0});var R=re(n);u=oe(R,"BUTTON",{class:!0});var z=re(u);a=Ze(z,"Select"),z.forEach(V),l=Ye(R),d=oe(R,"BUTTON",{class:!0});var ee=re(d);p=Ze(ee,"Edit"),ee.forEach(V),f=Ye(R),c=oe(R,"BUTTON",{class:!0});var ue=re(c);m=Ze(ue,"Generate"),ue.forEach(V),g=Ye(R),D=oe(R,"BUTTON",{class:!0});var he=re(D);y=Ze(he,"Settings"),he.forEach(V),R.forEach(V),w=Ye(W),F&&F.l(W),W.forEach(V),q.forEach(V),this.h()},h(){T(u,"class",o=e[0]==="select"?"btn btn-active":"btn"),T(d,"class",h=e[0]==="edit"?"btn btn-active":"btn"),T(c,"class",b=e[0]==="generate"?"btn btn-active":"btn"),T(D,"class",C=e[0]==="settings"?"btn btn-active":"btn"),T(n,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),T(r,"class","h-screen overflow-y-auto flex flex-col"),T(t,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(Y,q){Ae(Y,t,q),J(t,r),J(r,n),J(n,u),J(u,a),J(n,l),J(n,d),J(d,p),J(n,f),J(n,c),J(c,m),J(n,g),J(n,D),J(D,y),J(r,w),~B&&G[B].m(r,null),O=!0,P||(I=[Re(u,"click",e[2]),Re(d,"click",e[3]),Re(c,"click",e[4]),Re(D,"click",e[5])],P=!0)},p(Y,[q]){(!O||q&1&&o!==(o=Y[0]==="select"?"btn btn-active":"btn"))&&T(u,"class",o),(!O||q&1&&h!==(h=Y[0]==="edit"?"btn btn-active":"btn"))&&T(d,"class",h),(!O||q&1&&b!==(b=Y[0]==="generate"?"btn btn-active":"btn"))&&T(c,"class",b),(!O||q&1&&C!==(C=Y[0]==="settings"?"btn btn-active":"btn"))&&T(D,"class",C);let W=B;B=H(Y),B!==W&&(F&&(vn(),Ne(G[W],1,1,()=>{G[W]=null}),gn()),~B?(F=G[B],F||(F=G[B]=N[B](Y),F.c()),Pe(F,1),F.m(r,null)):F=null)},i(Y){O||(Pe(F),O=!0)},o(Y){Ne(F),O=!1},d(Y){Y&&V(t),~B&&G[B].d(),P=!1,Lr(I)}}}function GS(e,t,r){let n;Mt(e,JC,p=>r(0,n=p));function u(p){Vn.update(p)}const a=()=>u("select"),o=()=>u("edit"),l=()=>u("generate"),d=()=>u("settings");return e.$$.update=()=>{e.$$.dirty&1&&(n||Vn.update("select"))},[n,u,a,o,l,d]}class YS extends It{constructor(t){super(),Tt(this,t,GS,HS,Nt,{})}}function KS(e){let t,r,n,u;return t=new YS({}),n=new GC({}),{c(){ot(t.$$.fragment),r=Ge(),ot(n.$$.fragment)},l(a){lt(t.$$.fragment,a),r=Ye(a),lt(n.$$.fragment,a)},m(a,o){ft(t,a,o),Ae(a,r,o),ft(n,a,o),u=!0},p:Ie,i(a){u||(Pe(t.$$.fragment,a),Pe(n.$$.fragment,a),u=!0)},o(a){Ne(t.$$.fragment,a),Ne(n.$$.fragment,a),u=!1},d(a){ct(t,a),a&&V(r),ct(n,a)}}}class XS extends It{constructor(t){super(),Tt(this,t,null,KS,Nt,{})}}export{XS as default};
