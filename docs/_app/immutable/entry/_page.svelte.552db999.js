import{J as Ct,S as Ut,i as Lt,s as zt,K as dr,L as pr,m as ue,h as j,n as U,p as bt,b as Ee,H as Xe,M as xe,N as en,k as ce,q as Ze,l as he,r as Je,G as Q,u as Fn,a as et,c as tt,g as ze,v as Pi,d as He,f as Ti,I as Jt,y as _t,e as on,z as wt,A as At,B as Et,O as h0,P as d0,Q as p0,R as Vn,T as E_,U as lo,V as Ri,W as y_,X as su,Y as ua}from"../chunks/index.468832a4.js";import{d as Cn,w as Sn}from"../chunks/index.15dd921a.js";function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Vo.apply(this,arguments)}var v0={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Dt(e){return typeof e=="number"}function Hr(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function g0(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function m0(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function D0(e){return e&&e.constructor.prototype.isUnit===!0||!1}function an(e){return typeof e=="string"}var gt=Array.isArray;function wr(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function aa(e){return Array.isArray(e)||wr(e)}function b_(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function F_(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function C_(e){return e&&e.constructor.prototype.isRange===!0||!1}function ol(e){return e&&e.constructor.prototype.isIndex===!0||!1}function S_(e){return typeof e=="boolean"}function O_(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function M_(e){return e&&e.constructor.prototype.isHelp===!0||!1}function B_(e){return typeof e=="function"}function P_(e){return e instanceof Date}function T_(e){return e instanceof RegExp}function N_(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!g0(e)&&!m0(e))}function I_(e){return e===null}function _0(e){return e===void 0}function x_(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function R_(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function U_(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function L_(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function z_(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function q_(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function V_(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function j_(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function W_(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function k_(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function H_(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function G_(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function $_(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function K_(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Y_(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Z_(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function J_(e){return e&&e.constructor.prototype.isChain===!0||!1}function iu(e){var t=typeof e;return t==="object"?e===null?"null":Hr(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Yt(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Yt(n)});if(e instanceof Date)return new Date(e.valueOf());if(Hr(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return X_(e,Yt)}function X_(e,t){var n={};for(var u in e)uu(e,u)&&(n[u]=t(e[u]));return n}function Q_(e,t){for(var n in t)uu(t,n)&&(e[n]=t[n]);return e}function sa(e,t){var n,u,a;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(u=0,a=e.length;u<a;u++)if(!sa(e[u],t[u]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!sa(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function uu(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ew(e,t){for(var n={},u=0;u<t.length;u++){var a=t[u],s=e[a];s!==void 0&&(n[a]=s)}return n}var tw=["Matrix","Array"],rw=["number","BigNumber","Fraction"],Aa=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(v0)};Vo(Aa,v0,{MATRIX_OPTIONS:tw,NUMBER_OPTIONS:rw});function Jr(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nw(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var u=0,a=function(){};return{s:a,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(v){throw v},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,l=!1,c;return{s:function(){n=n.call(e)},n:function(){var v=n.next();return s=v.done,v},e:function(v){l=!0,c=v},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(l)throw c}}}}function nw(e,t){if(e){if(typeof e=="string")return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jc(e,t)}}function jc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function Oi(e){return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function Wc(){return!0}function kr(){return!1}function Fi(){}var kc="Argument is not a typed-function.";function w0(){function e(T){return Oi(T)==="object"&&T!==null&&T.constructor===Object}var t=[{name:"number",test:function(R){return typeof R=="number"}},{name:"string",test:function(R){return typeof R=="string"}},{name:"boolean",test:function(R){return typeof R=="boolean"}},{name:"Function",test:function(R){return typeof R=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(R){return R instanceof Date}},{name:"RegExp",test:function(R){return R instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(R){return R===null}},{name:"undefined",test:function(R){return R===void 0}}],n={name:"any",test:Wc,isAny:!0},u,a,s=0,l={createCount:0};function c(T){var R=u.get(T);if(R)return R;var V='Unknown type "'+T+'"',Z=T.toLowerCase(),te,ie=Jr(a),le;try{for(ie.s();!(le=ie.n()).done;)if(te=le.value,te.toLowerCase()===Z){V+='. Did you mean "'+te+'" ?';break}}catch(ee){ie.e(ee)}finally{ie.f()}throw new TypeError(V)}function d(T){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",V=R?c(R).index:a.length,Z=[],te=0;te<T.length;++te){if(!T[te]||typeof T[te].name!="string"||typeof T[te].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var ie=T[te].name;if(u.has(ie))throw new TypeError('Duplicate type name "'+ie+'"');Z.push(ie),u.set(ie,{name:ie,test:T[te].test,isAny:T[te].isAny,index:V+te,conversionsTo:[]})}var le=a.slice(V);a=a.slice(0,V).concat(Z).concat(le);for(var ee=V+Z.length;ee<a.length;++ee)u.get(a[ee]).index=ee}function v(){u=new Map,a=[],s=0,d([n],!1)}v(),d(t);function f(){var T,R=Jr(a),V;try{for(R.s();!(V=R.n()).done;)T=V.value,u.get(T).conversionsTo=[]}catch(Z){R.e(Z)}finally{R.f()}s=0}function o(T){var R=a.filter(function(V){var Z=u.get(V);return!Z.isAny&&Z.test(T)});return R.length?R:["any"]}function p(T){return T&&typeof T=="function"&&"_typedFunctionData"in T}function m(T,R,V){if(!p(T))throw new TypeError(kc);var Z=V&&V.exact,te=Array.isArray(R)?R.join(","):R,ie=M(te),le=_(ie);if(!Z||le in T.signatures){var ee=T._typedFunctionData.signatureMap.get(le);if(ee)return ee}var ae=ie.length,_e;if(Z){_e=[];var Pe;for(Pe in T.signatures)_e.push(T._typedFunctionData.signatureMap.get(Pe))}else _e=T._typedFunctionData.signatures;for(var de=0;de<ae;++de){var Vt=ie[de],Mt=[],xt=void 0,Bt=Jr(_e),or;try{for(Bt.s();!(or=Bt.n()).done;){xt=or.value;var Rt=B(xt.params,de);if(!(!Rt||Vt.restParam&&!Rt.restParam)){if(!Rt.hasAny){var gr=function(){var lr=b(Rt);if(Vt.types.some(function(dn){return!lr.has(dn.name)}))return"continue"}();if(gr==="continue")continue}Mt.push(xt)}}}catch(lr){Bt.e(lr)}finally{Bt.f()}if(_e=Mt,_e.length===0)break}var Gt,er=Jr(_e),hn;try{for(er.s();!(hn=er.n()).done;)if(Gt=hn.value,Gt.params.length<=ae)return Gt}catch(lr){er.e(lr)}finally{er.f()}throw new TypeError("Signature not found (signature: "+(T.name||"unnamed")+"("+_(ie,", ")+"))")}function w(T,R,V){return m(T,R,V).implementation}function g(T,R){var V=c(R);if(V.test(T))return T;var Z=V.conversionsTo;if(Z.length===0)throw new Error("There are no conversions to "+R+" defined.");for(var te=0;te<Z.length;te++){var ie=c(Z[te].from);if(ie.test(T))return Z[te].convert(T)}throw new Error("Cannot convert "+T+" to "+R)}function _(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return T.map(function(V){return V.name}).join(R)}function A(T){var R=T.indexOf("...")===0,V=R?T.length>3?T.slice(3):"any":T,Z=V.split("|").map(function(ee){return c(ee.trim())}),te=!1,ie=R?"...":"",le=Z.map(function(ee){return te=ee.isAny||te,ie+=ee.name+"|",{name:ee.name,typeIndex:ee.index,test:ee.test,isAny:ee.isAny,conversion:null,conversionIndex:-1}});return{types:le,name:ie.slice(0,-1),hasAny:te,hasConversion:!1,restParam:R}}function O(T){var R=T.types.map(function(le){return le.name}),V=oe(R),Z=T.hasAny,te=T.name,ie=V.map(function(le){var ee=c(le.from);return Z=ee.isAny||Z,te+="|"+le.from,{name:le.from,typeIndex:ee.index,test:ee.test,isAny:ee.isAny,conversion:le,conversionIndex:le.index}});return{types:T.types.concat(ie),name:te,hasAny:Z,hasConversion:ie.length>0,restParam:T.restParam}}function b(T){return T.typeSet||(T.typeSet=new Set,T.types.forEach(function(R){return T.typeSet.add(R.name)})),T.typeSet}function M(T){var R=[];if(typeof T!="string")throw new TypeError("Signatures must be strings");var V=T.trim();if(V==="")return R;for(var Z=V.split(","),te=0;te<Z.length;++te){var ie=A(Z[te].trim());if(ie.restParam&&te!==Z.length-1)throw new SyntaxError('Unexpected rest parameter "'+Z[te]+'": only allowed for the last parameter');if(ie.types.length===0)return null;R.push(ie)}return R}function F(T){var R=qe(T);return R?R.restParam:!1}function S(T){if(!T||T.types.length===0)return Wc;if(T.types.length===1)return c(T.types[0].name).test;if(T.types.length===2){var R=c(T.types[0].name).test,V=c(T.types[1].name).test;return function(ie){return R(ie)||V(ie)}}else{var Z=T.types.map(function(te){return c(te.name).test});return function(ie){for(var le=0;le<Z.length;le++)if(Z[le](ie))return!0;return!1}}}function P(T){var R,V,Z;if(F(T)){R=pt(T).map(S);var te=R.length,ie=S(qe(T)),le=function(ae){for(var _e=te;_e<ae.length;_e++)if(!ie(ae[_e]))return!1;return!0};return function(ae){for(var _e=0;_e<R.length;_e++)if(!R[_e](ae[_e]))return!1;return le(ae)&&ae.length>=te+1}}else return T.length===0?function(ae){return ae.length===0}:T.length===1?(V=S(T[0]),function(ae){return V(ae[0])&&ae.length===1}):T.length===2?(V=S(T[0]),Z=S(T[1]),function(ae){return V(ae[0])&&Z(ae[1])&&ae.length===2}):(R=T.map(S),function(ae){for(var _e=0;_e<R.length;_e++)if(!R[_e](ae[_e]))return!1;return ae.length===R.length})}function B(T,R){return R<T.length?T[R]:F(T)?qe(T):null}function I(T,R){var V=B(T,R);return V?b(V):new Set}function q(T){return T.conversion===null||T.conversion===void 0}function $(T,R){var V=new Set;return T.forEach(function(Z){var te=I(Z.params,R),ie,le=Jr(te),ee;try{for(le.s();!(ee=le.n()).done;)ie=ee.value,V.add(ie)}catch(ae){le.e(ae)}finally{le.f()}}),V.has("any")?["any"]:Array.from(V)}function k(T,R,V){var Z,te,ie=T||"unnamed",le=V,ee,ae=function(){var Bt=[];if(le.forEach(function(Rt){var gr=B(Rt.params,ee),Gt=S(gr);(ee<Rt.params.length||F(Rt.params))&&Gt(R[ee])&&Bt.push(Rt)}),Bt.length===0){if(te=$(le,ee),te.length>0){var or=o(R[ee]);return Z=new TypeError("Unexpected type of argument in function "+ie+" (expected: "+te.join(" or ")+", actual: "+or.join(" | ")+", index: "+ee+")"),Z.data={category:"wrongType",fn:ie,index:ee,actual:or,expected:te},{v:Z}}}else le=Bt};for(ee=0;ee<R.length;ee++){var _e=ae();if(Oi(_e)==="object")return _e.v}var Pe=le.map(function(xt){return F(xt.params)?1/0:xt.params.length});if(R.length<Math.min.apply(null,Pe))return te=$(le,ee),Z=new TypeError("Too few arguments in function "+ie+" (expected: "+te.join(" or ")+", index: "+R.length+")"),Z.data={category:"tooFewArgs",fn:ie,index:R.length,expected:te},Z;var de=Math.max.apply(null,Pe);if(R.length>de)return Z=new TypeError("Too many arguments in function "+ie+" (expected: "+de+", actual: "+R.length+")"),Z.data={category:"tooManyArgs",fn:ie,index:R.length,expectedLength:de},Z;for(var Vt=[],Mt=0;Mt<R.length;++Mt)Vt.push(o(R[Mt]).join("|"));return Z=new TypeError('Arguments of type "'+Vt.join(", ")+'" do not match any of the defined signatures of function '+ie+"."),Z.data={category:"mismatch",actual:Vt},Z}function se(T){for(var R=a.length+1,V=0;V<T.types.length;V++)q(T.types[V])&&(R=Math.min(R,T.types[V].typeIndex));return R}function G(T){for(var R=s+1,V=0;V<T.types.length;V++)q(T.types[V])||(R=Math.min(R,T.types[V].conversionIndex));return R}function K(T,R){if(T.hasAny){if(!R.hasAny)return 1}else if(R.hasAny)return-1;if(T.restParam){if(!R.restParam)return 1}else if(R.restParam)return-1;if(T.hasConversion){if(!R.hasConversion)return 1}else if(R.hasConversion)return-1;var V=se(T)-se(R);if(V<0)return-1;if(V>0)return 1;var Z=G(T)-G(R);return Z<0?-1:Z>0?1:0}function H(T,R){var V=T.params,Z=R.params,te=qe(V),ie=qe(Z),le=F(V),ee=F(Z);if(le&&te.hasAny){if(!ee||!ie.hasAny)return 1}else if(ee&&ie.hasAny)return-1;var ae=0,_e=0,Pe,de=Jr(V),Vt;try{for(de.s();!(Vt=de.n()).done;)Pe=Vt.value,Pe.hasAny&&++ae,Pe.hasConversion&&++_e}catch(Kn){de.e(Kn)}finally{de.f()}var Mt=0,xt=0,Bt=Jr(Z),or;try{for(Bt.s();!(or=Bt.n()).done;)Pe=or.value,Pe.hasAny&&++Mt,Pe.hasConversion&&++xt}catch(Kn){Bt.e(Kn)}finally{Bt.f()}if(ae!==Mt)return ae-Mt;if(le&&te.hasConversion){if(!ee||!ie.hasConversion)return 1}else if(ee&&ie.hasConversion)return-1;if(_e!==xt)return _e-xt;if(le){if(!ee)return 1}else if(ee)return-1;var Rt=(V.length-Z.length)*(le?-1:1);if(Rt!==0)return Rt;for(var gr=[],Gt=0,er=0;er<V.length;++er){var hn=K(V[er],Z[er]);gr.push(hn),Gt+=hn}if(Gt!==0)return Gt;for(var lr,dn=0,$n=gr;dn<$n.length;dn++)if(lr=$n[dn],lr!==0)return lr;return 0}function oe(T){if(T.length===0)return[];var R=T.map(c);T.length>1&&R.sort(function(ae,_e){return ae.index-_e.index});var V=R[0].conversionsTo;if(T.length===1)return V;V=V.concat([]);for(var Z=new Set(T),te=1;te<R.length;++te){var ie=void 0,le=Jr(R[te].conversionsTo),ee;try{for(le.s();!(ee=le.n()).done;)ie=ee.value,Z.has(ie.from)||(V.push(ie),Z.add(ie.from))}catch(ae){le.e(ae)}finally{le.f()}}return V}function fe(T,R){var V=R;if(T.some(function(ee){return ee.hasConversion})){var Z=F(T),te=T.map(ge);V=function(){for(var ae=[],_e=Z?arguments.length-1:arguments.length,Pe=0;Pe<_e;Pe++)ae[Pe]=te[Pe](arguments[Pe]);return Z&&(ae[_e]=arguments[_e].map(te[_e])),R.apply(this,ae)}}var ie=V;if(F(T)){var le=T.length-1;ie=function(){return V.apply(this,$e(arguments,0,le).concat([$e(arguments,le)]))}}return ie}function ge(T){var R,V,Z,te,ie=[],le=[];switch(T.types.forEach(function(ee){ee.conversion&&(ie.push(c(ee.conversion.from).test),le.push(ee.conversion.convert))}),le.length){case 0:return function(ae){return ae};case 1:return R=ie[0],Z=le[0],function(ae){return R(ae)?Z(ae):ae};case 2:return R=ie[0],V=ie[1],Z=le[0],te=le[1],function(ae){return R(ae)?Z(ae):V(ae)?te(ae):ae};default:return function(ae){for(var _e=0;_e<le.length;_e++)if(ie[_e](ae))return le[_e](ae);return ae}}}function Ae(T){function R(V,Z,te){if(Z<V.length){var ie=V[Z],le=[];if(ie.restParam){var ee=ie.types.filter(q);ee.length<ie.types.length&&le.push({types:ee,name:"..."+ee.map(function(ae){return ae.name}).join("|"),hasAny:ee.some(function(ae){return ae.isAny}),hasConversion:!1,restParam:!0}),le.push(ie)}else le=ie.types.map(function(ae){return{types:[ae],name:ae.name,hasAny:ae.isAny,hasConversion:ae.conversion,restParam:!1}});return ht(le,function(ae){return R(V,Z+1,te.concat([ae]))})}else return[te]}return R(T,0,[])}function Se(T,R){for(var V=Math.max(T.length,R.length),Z=0;Z<V;Z++){var te=I(T,Z),ie=I(R,Z),le=!1,ee=void 0,ae=Jr(ie),_e;try{for(ae.s();!(_e=ae.n()).done;)if(ee=_e.value,te.has(ee)){le=!0;break}}catch(xt){ae.e(xt)}finally{ae.f()}if(!le)return!1}var Pe=T.length,de=R.length,Vt=F(T),Mt=F(R);return Vt?Mt?Pe===de:de>=Pe:Mt?Pe>=de:Pe===de}function Ue(T){return T.map(function(R){return St(R)?Nt(R.referToSelf.callback):Or(R)?Ye(R.referTo.references,R.referTo.callback):R})}function Te(T,R,V){var Z=[],te,ie=Jr(T),le;try{for(ie.s();!(le=ie.n()).done;){te=le.value;var ee=V[te];if(typeof ee!="number")throw new TypeError('No definition for referenced signature "'+te+'"');if(ee=R[ee],typeof ee!="function")return!1;Z.push(ee)}}catch(ae){ie.e(ae)}finally{ie.f()}return Z}function nt(T,R,V){for(var Z=Ue(T),te=new Array(Z.length).fill(!1),ie=!0;ie;){ie=!1;for(var le=!0,ee=0;ee<Z.length;++ee)if(!te[ee]){var ae=Z[ee];if(St(ae))Z[ee]=ae.referToSelf.callback(V),Z[ee].referToSelf=ae.referToSelf,te[ee]=!0,le=!1;else if(Or(ae)){var _e=Te(ae.referTo.references,Z,R);_e?(Z[ee]=ae.referTo.callback.apply(this,_e),Z[ee].referTo=ae.referTo,te[ee]=!0,le=!1):ie=!0}}if(le&&ie)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Z}function We(T){var R=/\bthis(\(|\.signatures\b)/;Object.keys(T).forEach(function(V){var Z=T[V];if(R.test(Z.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ge(T,R){if(l.createCount++,Object.keys(R).length===0)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&We(R);var V=[],Z=[],te={},ie=[],le,ee=function(){if(!Object.prototype.hasOwnProperty.call(R,le))return"continue";var jt=M(le);if(!jt)return"continue";V.forEach(function(tn){if(Se(tn,jt))throw new TypeError('Conflicting signatures "'+_(tn)+'" and "'+_(jt)+'".')}),V.push(jt);var cu=Z.length;Z.push(R[le]);var Qa=jt.map(O),fi=void 0,Zn=Jr(Ae(Qa)),zi;try{for(Zn.s();!(zi=Zn.n()).done;){fi=zi.value;var qi=_(fi);ie.push({params:fi,name:qi,fn:cu}),fi.every(function(tn){return!tn.hasConversion})&&(te[qi]=cu)}}catch(tn){Zn.e(tn)}finally{Zn.f()}};for(le in R)var ae=ee();ie.sort(H);var _e=nt(Z,te,On),Pe;for(Pe in te)Object.prototype.hasOwnProperty.call(te,Pe)&&(te[Pe]=_e[te[Pe]]);for(var de=[],Vt=new Map,Mt=0,xt=ie;Mt<xt.length;Mt++)Pe=xt[Mt],Vt.has(Pe.name)||(Pe.fn=_e[Pe.fn],de.push(Pe),Vt.set(Pe.name,Pe));for(var Bt=de[0]&&de[0].params.length<=2&&!F(de[0].params),or=de[1]&&de[1].params.length<=2&&!F(de[1].params),Rt=de[2]&&de[2].params.length<=2&&!F(de[2].params),gr=de[3]&&de[3].params.length<=2&&!F(de[3].params),Gt=de[4]&&de[4].params.length<=2&&!F(de[4].params),er=de[5]&&de[5].params.length<=2&&!F(de[5].params),hn=Bt&&or&&Rt&&gr&&Gt&&er,lr=0;lr<de.length;++lr)de[lr].test=P(de[lr].params);for(var dn=Bt?S(de[0].params[0]):kr,$n=or?S(de[1].params[0]):kr,Kn=Rt?S(de[2].params[0]):kr,Na=gr?S(de[3].params[0]):kr,Ia=Gt?S(de[4].params[0]):kr,Ui=er?S(de[5].params[0]):kr,xa=Bt?S(de[0].params[1]):kr,Li=or?S(de[1].params[1]):kr,Ra=Rt?S(de[2].params[1]):kr,Ua=gr?S(de[3].params[1]):kr,La=Gt?S(de[4].params[1]):kr,za=er?S(de[5].params[1]):kr,Yn=0;Yn<de.length;++Yn)de[Yn].implementation=fe(de[Yn].params,de[Yn].fn);var qa=Bt?de[0].implementation:Fi,Va=or?de[1].implementation:Fi,ja=Rt?de[2].implementation:Fi,lu=gr?de[3].implementation:Fi,Wa=Gt?de[4].implementation:Fi,ka=er?de[5].implementation:Fi,Ha=Bt?de[0].params.length:-1,Ga=or?de[1].params.length:-1,$a=Rt?de[2].params.length:-1,Ka=gr?de[3].params.length:-1,oi=Gt?de[4].params.length:-1,Ya=er?de[5].params.length:-1,li=hn?6:0,Za=de.length,Ja=de.map(function(fr){return fr.test}),Xa=de.map(function(fr){return fr.implementation}),fu=function(){for(var jt=li;jt<Za;jt++)if(Ja[jt](arguments))return Xa[jt].apply(this,arguments);return l.onMismatch(T,arguments,de)};function On(fr,jt){return arguments.length===Ha&&dn(fr)&&xa(jt)?qa.apply(this,arguments):arguments.length===Ga&&$n(fr)&&Li(jt)?Va.apply(this,arguments):arguments.length===$a&&Kn(fr)&&Ra(jt)?ja.apply(this,arguments):arguments.length===Ka&&Na(fr)&&Ua(jt)?lu.apply(this,arguments):arguments.length===oi&&Ia(fr)&&La(jt)?Wa.apply(this,arguments):arguments.length===Ya&&Ui(fr)&&za(jt)?ka.apply(this,arguments):fu.apply(this,arguments)}try{Object.defineProperty(On,"name",{value:T})}catch{}return On.signatures=te,On._typedFunctionData={signatures:de,signatureMap:Vt},On}function it(T,R,V){throw k(T,R,V)}function pt(T){return $e(T,0,T.length-1)}function qe(T){return T[T.length-1]}function $e(T,R,V){return Array.prototype.slice.call(T,R,V)}function qt(T,R){for(var V=0;V<T.length;V++)if(R(T[V]))return T[V]}function ht(T,R){return Array.prototype.concat.apply([],T.map(R))}function Ke(){var T=pt(arguments).map(function(V){return _(M(V))}),R=qe(arguments);if(typeof R!="function")throw new TypeError("Callback function expected as last argument");return Ye(T,R)}function Ye(T,R){return{referTo:{references:T,callback:R}}}function Nt(T){if(typeof T!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:T}}}function Or(T){return T&&Oi(T.referTo)==="object"&&Array.isArray(T.referTo.references)&&typeof T.referTo.callback=="function"}function St(T){return T&&Oi(T.referToSelf)==="object"&&typeof T.referToSelf.callback=="function"}function ve(T,R){if(!T)return R;if(R&&R!==T){var V=new Error("Function names do not match (expected: "+T+", actual: "+R+")");throw V.data={actual:R,expected:T},V}return T}function Ve(T){var R;for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&(p(T[V])||typeof T[V].signature=="string")&&(R=ve(R,T[V].name));return R}function Ot(T,R){var V;for(V in R)if(Object.prototype.hasOwnProperty.call(R,V)){if(V in T&&R[V]!==T[V]){var Z=new Error('Signature "'+V+'" is defined twice');throw Z.data={signature:V,sourceFunction:R[V],destFunction:T[V]},Z}T[V]=R[V]}}var It=l;l=function(R){for(var V=typeof R=="string",Z=V?1:0,te=V?R:"",ie={},le=Z;le<arguments.length;++le){var ee=arguments[le],ae={},_e=void 0;if(typeof ee=="function"?(_e=ee.name,typeof ee.signature=="string"?ae[ee.signature]=ee:p(ee)&&(ae=ee.signatures)):e(ee)&&(ae=ee,V||(_e=Ve(ee))),Object.keys(ae).length===0){var Pe=new TypeError("Argument to 'typed' at index "+le+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Pe.data={index:le,argument:ee},Pe}V||(te=ve(te,_e)),Ot(ie,ae)}return Ge(te||"",ie)},l.create=w0,l.createCount=It.createCount,l.onMismatch=it,l.throwMismatchError=it,l.createError=k,l.clear=v,l.clearConversions=f,l.addTypes=d,l._findType=c,l.referTo=Ke,l.referToSelf=Nt,l.convert=g,l.findSignature=m,l.find=w,l.isTypedFunction=p,l.warnAgainstDeprecatedThis=!0,l.addType=function(T,R){var V="any";R!==!1&&u.has("Object")&&(V="Object"),l.addTypes([T],V)};function Qt(T){if(!T||typeof T.from!="string"||typeof T.to!="string"||typeof T.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(T.to===T.from)throw new SyntaxError('Illegal to define conversion from "'+T.from+'" to itself.')}return l.addConversion=function(T){Qt(T);var R=c(T.to);if(R.conversionsTo.every(function(V){return V.from!==T.from}))R.conversionsTo.push({from:T.from,convert:T.convert,index:s++});else throw new Error('There is already a conversion from "'+T.from+'" to "'+R.name+'"')},l.addConversions=function(T){T.forEach(l.addConversion)},l.removeConversion=function(T){Qt(T);var R=c(T.to),V=qt(R.conversionsTo,function(te){return te.from===T.from});if(!V)throw new Error("Attempt to remove nonexistent conversion from "+T.from+" to "+T.to);if(V.convert!==T.convert)throw new Error("Conversion to remove does not match existing conversion");var Z=R.conversionsTo.indexOf(V);R.conversionsTo.splice(Z,1)},l.resolve=function(T,R){if(!p(T))throw new TypeError(kc);for(var V=T._typedFunctionData.signatures,Z=0;Z<V.length;++Z)if(V[Z].test(R))return V[Z];return null},l}const Hc=w0();function Zt(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function fo(e,t,n){var u={2:"0b",8:"0o",16:"0x"},a=u[t],s="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Zt(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Zt(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),s="i".concat(n)}var l="";return e<0&&(e=-e,l="-"),"".concat(l).concat(a).concat(e.toString(t)).concat(s)}function jo(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",u,a;if(t&&(t.notation&&(n=t.notation),Dt(t)?u=t:Dt(t.precision)&&(u=t.precision),t.wordSize&&(a=t.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return uw(e,u);case"exponential":return A0(e,u);case"engineering":return iw(e,u);case"bin":return fo(e,2,a);case"oct":return fo(e,8,a);case"hex":return fo(e,16,a);case"auto":return aw(e,u,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],l=arguments[4];return s!=="."?s+l:l});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ea(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],u=t[2],a=parseFloat(t[4]||"0"),s=u.indexOf(".");a+=s!==-1?s-1:u.length-1;var l=u.replace(".","").replace(/^0*/,function(c){return a-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return l.length===0&&(l.push(0),a++),{sign:n,coefficients:l,exponent:a}}function iw(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ea(e),u=ya(n,t),a=u.exponent,s=u.coefficients,l=a%3===0?a:a<0?a-3-a%3:a-a%3;if(Dt(t))for(;t>s.length||a-l+1>s.length;)s.push(0);else for(var c=Math.abs(a-l)-(s.length-1),d=0;d<c;d++)s.push(0);for(var v=Math.abs(a-l),f=1;v>0;)f++,v--;var o=s.slice(f).join(""),p=Dt(t)&&o.length||o.match(/[1-9]/)?"."+o:"",m=s.slice(0,f).join("")+p+"e"+(a>=0?"+":"")+l.toString();return u.sign+m}function uw(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ea(e),u=typeof t=="number"?ya(n,n.exponent+1+t):n,a=u.coefficients,s=u.exponent+1,l=s+(t||0);return a.length<l&&(a=a.concat(Bi(l-a.length))),s<0&&(a=Bi(-s+1).concat(a),s=1),s<a.length&&a.splice(s,0,s===0?"0.":"."),u.sign+a.join("")}function A0(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ea(e),u=t?ya(n,t):n,a=u.coefficients,s=u.exponent;a.length<t&&(a=a.concat(Bi(t-a.length)));var l=a.shift();return u.sign+l+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s}function aw(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var u=n&&n.lowerExp!==void 0?n.lowerExp:-3,a=n&&n.upperExp!==void 0?n.upperExp:5,s=Ea(e),l=t?ya(s,t):s;if(l.exponent<u||l.exponent>=a)return A0(e,t);var c=l.coefficients,d=l.exponent;c.length<t&&(c=c.concat(Bi(t-c.length))),c=c.concat(Bi(d-c.length+1+(c.length<t?t-c.length:0))),c=Bi(-d).concat(c);var v=d>0?d:0;return v<c.length-1&&c.splice(v+1,0,"."),l.sign+c.join("")}function ya(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=n.coefficients;t<=0;)u.unshift(0),n.exponent++,t++;if(u.length>t){var a=u.splice(t,u.length-t);if(a[0]>=5){var s=t-1;for(u[s]++;u[s]===10;)u.pop(),s===0&&(u.unshift(0),n.exponent++,s++),s--,u[s]++}}return n}function Bi(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function sw(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var ow=Number.EPSILON||2220446049250313e-31;function oa(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var u=Math.abs(e-t);return u<ow?!0:u<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function co(e,t,n){var u=e.constructor,a=new u(2),s="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Zt(n))throw new Error("size must be an integer");if(e.greaterThan(a.pow(n-1).sub(1))||e.lessThan(a.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(a.pow(n))),s="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(s);case 8:return"".concat(e.toOctal()).concat(s);case 16:return"".concat(e.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(t," not supported "))}}function lw(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",u,a;if(t!==void 0&&(t.notation&&(n=t.notation),typeof t=="number"?u=t:t.precision&&(u=t.precision),t.wordSize&&(a=t.wordSize,typeof a!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return cw(e,u);case"exponential":return Gc(e,u);case"engineering":return fw(e,u);case"bin":return co(e,2,a);case"oct":return co(e,8,a);case"hex":return co(e,16,a);case"auto":{var s=t&&t.lowerExp!==void 0?t.lowerExp:-3,l=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var c,d=e.toSignificantDigits(u),v=d.e;return v>=s&&v<l?c=d.toFixed():c=Gc(e,u),c.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],o=arguments[4];return f!=="."?f+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fw(e,t){var n=e.e,u=n%3===0?n:n<0?n-3-n%3:n-n%3,a=e.mul(Math.pow(10,-u)),s=a.toPrecision(t);return s.indexOf("e")!==-1&&(s=a.toString()),s+"e"+(n>=0?"+":"")+u.toString()}function Gc(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function cw(e,t){return e.toFixed(t)}function Fr(e,t){var n=hw(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function hw(e,t){if(typeof e=="number")return jo(e,t);if(Hr(e))return lw(e,t);if(dw(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return E0(e,t);if(an(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(u=>'"'+u+'": '+Fr(e[u],t));return"{"+n.join(", ")+"}"}return String(e)}function E0(e,t){if(Array.isArray(e)){for(var n="[",u=e.length,a=0;a<u;a++)a!==0&&(n+=", "),n+=E0(e[a],t);return n+="]",n}else return Fr(e,t)}function dw(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function at(e,t,n){if(!(this instanceof at))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}at.prototype=new RangeError;at.prototype.constructor=RangeError;at.prototype.name="DimensionError";at.prototype.isDimensionError=!0;function si(e,t,n){if(!(this instanceof si))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}si.prototype=new RangeError;si.prototype.constructor=RangeError;si.prototype.name="IndexError";si.prototype.isIndexError=!0;function jn(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function y0(e,t,n){var u,a=e.length;if(a!==t[n])throw new at(a,t[n]);if(n<t.length-1){var s=n+1;for(u=0;u<a;u++){var l=e[u];if(!Array.isArray(l))throw new at(t.length-1,t.length,"<");y0(e[u],t,s)}}else for(u=0;u<a;u++)if(Array.isArray(e[u]))throw new at(t.length+1,t.length,">")}function $c(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new at(e.length,0)}else y0(e,t,0)}function mt(e,t){if(!Dt(e)||!Zt(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new si(e,t)}function Kc(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(a){if(!Dt(a)||!Zt(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Fr(t)+")")});var u=n!==void 0?n:0;return Wo(e,t,0,u),e}function Wo(e,t,n,u){var a,s,l=e.length,c=t[n],d=Math.min(l,c);if(e.length=c,n<t.length-1){var v=n+1;for(a=0;a<d;a++)s=e[a],Array.isArray(s)||(s=[s],e[a]=s),Wo(s,t,v,u);for(a=d;a<c;a++)s=[],e[a]=s,Wo(s,t,v,u)}else{for(a=0;a<d;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=d;a<c;a++)e[a]=u}}function pw(e,t){var n=gw(e),u=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new at(0,u,"!=");t=ll(t,u);var a=b0(t);if(u!==a)throw new at(a,u,"!=");try{return vw(n,t)}catch(s){throw s instanceof at?new at(a,u,"!="):s}}function ll(e,t){var n=b0(e),u=e.slice(),a=-1,s=e.indexOf(a),l=e.indexOf(a,s+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var c=s>=0,d=t%n===0;if(c)if(d)u[s]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return u}function b0(e){return e.reduce((t,n)=>t*n,1)}function vw(e,t){for(var n=e,u,a=t.length-1;a>0;a--){var s=t[a];u=[];for(var l=n.length/s,c=0;c<l;c++)u.push(n.slice(c*s,(c+1)*s));n=u}return n}function F0(e,t,n,u){var a=u||jn(e);if(n)for(var s=0;s<n;s++)e=[e],a.unshift(1);for(e=C0(e,t,0);a.length<t;)a.push(1);return e}function C0(e,t,n){var u,a;if(Array.isArray(e)){var s=n+1;for(u=0,a=e.length;u<a;u++)e[u]=C0(e[u],t,s)}else for(var l=n;l<t;l++)e=[e];return e}function gw(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(u){Array.isArray(u)?u.forEach(n):t.push(u)}),t}function la(e,t){for(var n,u=0,a=0;a<e.length;a++){var s=e[a],l=Array.isArray(s);if(a===0&&l&&(u=s.length),l&&s.length!==u)return;var c=l?la(s,t):t(s);if(n===void 0)n=c;else if(n!==c)return"mixed"}return n}function st(e,t,n,u){function a(s){var l=ew(s,t.map(_w));return mw(e,t,s),n(l)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),u&&(a.meta=u),a}function mw(e,t,n){var u=t.filter(s=>!Dw(s)).every(s=>n[s]!==void 0);if(!u){var a=t.filter(s=>n[s]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(a.map(s=>'"'.concat(s,'"')).join(", "),"."))}}function Dw(e){return e&&e[0]==="?"}function _w(e){return e&&e[0]==="?"?e.slice(1):e}function ww(e,t){if(O0(e)&&S0(e,t))return e[t];throw typeof e[t]=="function"&&yw(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Aw(e,t,n){if(O0(e)&&S0(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Ew(e,t){return t in e}function S0(e,t){return!e||typeof e!="object"?!1:uu(bw,t)?!0:!(t in Object.prototype||t in Function.prototype)}function yw(e,t){return e==null||typeof e[t]!="function"||uu(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:uu(Fw,t)?!0:!(t in Object.prototype||t in Function.prototype)}function O0(e){return typeof e=="object"&&e&&e.constructor===Object}var bw={length:!0,name:!0},Fw={toString:!0,valueOf:!0,toLocaleString:!0};class Cw{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return ww(this.wrappedObject,t)}set(t,n){return Aw(this.wrappedObject,t,n),this}has(t){return Ew(this.wrappedObject,t)}}function Sw(e){return e?e instanceof Map||e instanceof Cw||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var M0=function(){return M0=Hc.create,Hc},Ow=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Mw=st("typed",Ow,function(t){var{BigNumber:n,Complex:u,DenseMatrix:a,Fraction:s}=t,l=M0();return l.clear(),l.addTypes([{name:"number",test:Dt},{name:"Complex",test:g0},{name:"BigNumber",test:Hr},{name:"Fraction",test:m0},{name:"Unit",test:D0},{name:"identifier",test:c=>an&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(c)},{name:"string",test:an},{name:"Chain",test:J_},{name:"Array",test:gt},{name:"Matrix",test:wr},{name:"DenseMatrix",test:b_},{name:"SparseMatrix",test:F_},{name:"Range",test:C_},{name:"Index",test:ol},{name:"boolean",test:S_},{name:"ResultSet",test:O_},{name:"Help",test:M_},{name:"function",test:B_},{name:"Date",test:P_},{name:"RegExp",test:T_},{name:"null",test:I_},{name:"undefined",test:_0},{name:"AccessorNode",test:x_},{name:"ArrayNode",test:R_},{name:"AssignmentNode",test:U_},{name:"BlockNode",test:L_},{name:"ConditionalNode",test:z_},{name:"ConstantNode",test:q_},{name:"FunctionNode",test:j_},{name:"FunctionAssignmentNode",test:V_},{name:"IndexNode",test:W_},{name:"Node",test:k_},{name:"ObjectNode",test:H_},{name:"OperatorNode",test:G_},{name:"ParenthesisNode",test:$_},{name:"RangeNode",test:K_},{name:"RelationalNode",test:Y_},{name:"SymbolNode",test:Z_},{name:"Map",test:Sw},{name:"Object",test:N_}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(d){if(n||ho(d),sw(d)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+d+"). Use function bignumber(x) to convert to BigNumber.");return new n(d)}},{from:"number",to:"Complex",convert:function(d){return u||Xu(d),new u(d,0)}},{from:"BigNumber",to:"Complex",convert:function(d){return u||Xu(d),new u(d.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(d){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(d){return u||Xu(d),new u(d.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(d){s||po(d);var v=new s(d);if(v.valueOf()!==d)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+d+"). Use function fraction(x) to convert to Fraction.");return v}},{from:"string",to:"number",convert:function(d){var v=Number(d);if(isNaN(v))throw new Error('Cannot convert "'+d+'" to a number');return v}},{from:"string",to:"BigNumber",convert:function(d){n||ho(d);try{return new n(d)}catch{throw new Error('Cannot convert "'+d+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(d){s||po(d);try{return new s(d)}catch{throw new Error('Cannot convert "'+d+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(d){u||Xu(d);try{return new u(d)}catch{throw new Error('Cannot convert "'+d+'" to Complex')}}},{from:"boolean",to:"number",convert:function(d){return+d}},{from:"boolean",to:"BigNumber",convert:function(d){return n||ho(d),new n(+d)}},{from:"boolean",to:"Fraction",convert:function(d){return s||po(d),new s(+d)}},{from:"boolean",to:"string",convert:function(d){return String(d)}},{from:"Array",to:"Matrix",convert:function(d){return a||Bw(),new a(d)}},{from:"Matrix",to:"Array",convert:function(d){return d.valueOf()}}]),l.onMismatch=(c,d,v)=>{var f=l.createError(c,d,v);if(["wrongType","mismatch"].includes(f.data.category)&&d.length===1&&aa(d[0])&&v.some(p=>!p.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=f.data,o}throw f},l.onMismatch=(c,d,v)=>{var f=l.createError(c,d,v);if(["wrongType","mismatch"].includes(f.data.category)&&d.length===1&&aa(d[0])&&v.some(p=>!p.params.includes(","))){var o=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw o.data=f.data,o}throw f},l});function ho(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Xu(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Bw(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function po(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Mi=9e15,kn=1e9,ko="0123456789abcdef",fa="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ca="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ho={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Mi,maxE:Mi,crypto:!1},B0,bn,Oe=!0,ba="[DecimalError] ",Wn=ba+"Invalid argument: ",P0=ba+"Precision limit exceeded",T0=ba+"crypto unavailable",N0="[object Decimal]",vr=Math.floor,Ht=Math.pow,Pw=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Tw=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Nw=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,I0=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr=1e7,be=7,Iw=9007199254740991,xw=fa.length-1,Go=ca.length-1,re={toStringTag:N0};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),we(e)};re.ceil=function(){return we(new this.constructor(this),this.e+1,2)};re.clampedTo=re.clamp=function(e,t){var n,u=this,a=u.constructor;if(e=new a(e),t=new a(t),!e.s||!t.s)return new a(NaN);if(e.gt(t))throw Error(Wn+t);return n=u.cmp(e),n<0?e:u.cmp(t)>0?t:new a(u)};re.comparedTo=re.cmp=function(e){var t,n,u,a,s=this,l=s.d,c=(e=new s.constructor(e)).d,d=s.s,v=e.s;if(!l||!c)return!d||!v?NaN:d!==v?d:l===c?0:!l^d<0?1:-1;if(!l[0]||!c[0])return l[0]?d:c[0]?-v:0;if(d!==v)return d;if(s.e!==e.e)return s.e>e.e^d<0?1:-1;for(u=l.length,a=c.length,t=0,n=u<a?u:a;t<n;++t)if(l[t]!==c[t])return l[t]>c[t]^d<0?1:-1;return u===a?0:u>a^d<0?1:-1};re.cosine=re.cos=function(){var e,t,n=this,u=n.constructor;return n.d?n.d[0]?(e=u.precision,t=u.rounding,u.precision=e+Math.max(n.e,n.sd())+be,u.rounding=1,n=Rw(u,z0(u,n)),u.precision=e,u.rounding=t,we(bn==2||bn==3?n.neg():n,e,t,!0)):new u(1):new u(NaN)};re.cubeRoot=re.cbrt=function(){var e,t,n,u,a,s,l,c,d,v,f=this,o=f.constructor;if(!f.isFinite()||f.isZero())return new o(f);for(Oe=!1,s=f.s*Ht(f.s*f,1/3),!s||Math.abs(s)==1/0?(n=sr(f.d),e=f.e,(s=(e-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Ht(n,1/3),e=vr((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),u=new o(n),u.s=f.s):u=new o(s.toString()),l=(e=o.precision)+3;;)if(c=u,d=c.times(c).times(c),v=d.plus(f),u=lt(v.plus(f).times(c),v.plus(d),l+2,1),sr(c.d).slice(0,l)===(n=sr(u.d)).slice(0,l))if(n=n.slice(l-3,l+1),n=="9999"||!a&&n=="4999"){if(!a&&(we(c,e+1,0),c.times(c).times(c).eq(f))){u=c;break}l+=4,a=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(we(u,e+1,1),t=!u.times(u).times(u).eq(f));break}return Oe=!0,we(u,e,o.rounding,t)};re.decimalPlaces=re.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-vr(this.e/be))*be,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};re.dividedBy=re.div=function(e){return lt(this,new this.constructor(e))};re.dividedToIntegerBy=re.divToInt=function(e){var t=this,n=t.constructor;return we(lt(t,new n(e),0,1,1),n.precision,n.rounding)};re.equals=re.eq=function(e){return this.cmp(e)===0};re.floor=function(){return we(new this.constructor(this),this.e+1,3)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){var t=this.cmp(e);return t==1||t===0};re.hyperbolicCosine=re.cosh=function(){var e,t,n,u,a,s=this,l=s.constructor,c=new l(1);if(!s.isFinite())return new l(s.s?1/0:NaN);if(s.isZero())return c;n=l.precision,u=l.rounding,l.precision=n+Math.max(s.e,s.sd())+4,l.rounding=1,a=s.d.length,a<32?(e=Math.ceil(a/3),t=(1/Ca(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=Ni(l,1,s.times(t),new l(1),!0);for(var d,v=e,f=new l(8);v--;)d=s.times(s),s=c.minus(d.times(f.minus(d.times(f))));return we(s,l.precision=n,l.rounding=u,!0)};re.hyperbolicSine=re.sinh=function(){var e,t,n,u,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(a.e,a.sd())+4,s.rounding=1,u=a.d.length,u<3)a=Ni(s,2,a,a,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,a=a.times(1/Ca(5,e)),a=Ni(s,2,a,a,!0);for(var l,c=new s(5),d=new s(16),v=new s(20);e--;)l=a.times(a),a=a.times(c.plus(l.times(d.times(l).plus(v))))}return s.precision=t,s.rounding=n,we(a,t,n,!0)};re.hyperbolicTangent=re.tanh=function(){var e,t,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,t=u.rounding,u.precision=e+7,u.rounding=1,lt(n.sinh(),n.cosh(),u.precision=e,u.rounding=t)):new u(n.s)};re.inverseCosine=re.acos=function(){var e,t=this,n=t.constructor,u=t.abs().cmp(1),a=n.precision,s=n.rounding;return u!==-1?u===0?t.isNeg()?Xr(n,a,s):new n(0):new n(NaN):t.isZero()?Xr(n,a+4,s).times(.5):(n.precision=a+6,n.rounding=1,t=t.asin(),e=Xr(n,a+4,s).times(.5),n.precision=a,n.rounding=s,e.minus(t))};re.inverseHyperbolicCosine=re.acosh=function(){var e,t,n=this,u=n.constructor;return n.lte(1)?new u(n.eq(1)?0:NaN):n.isFinite()?(e=u.precision,t=u.rounding,u.precision=e+Math.max(Math.abs(n.e),n.sd())+4,u.rounding=1,Oe=!1,n=n.times(n).minus(1).sqrt().plus(n),Oe=!0,u.precision=e,u.rounding=t,n.ln()):new u(n)};re.inverseHyperbolicSine=re.asinh=function(){var e,t,n=this,u=n.constructor;return!n.isFinite()||n.isZero()?new u(n):(e=u.precision,t=u.rounding,u.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,u.rounding=1,Oe=!1,n=n.times(n).plus(1).sqrt().plus(n),Oe=!0,u.precision=e,u.rounding=t,n.ln())};re.inverseHyperbolicTangent=re.atanh=function(){var e,t,n,u,a=this,s=a.constructor;return a.isFinite()?a.e>=0?new s(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=s.precision,t=s.rounding,u=a.sd(),Math.max(u,e)<2*-a.e-1?we(new s(a),e,t,!0):(s.precision=n=u-a.e,a=lt(a.plus(1),new s(1).minus(a),n+e,1),s.precision=e+4,s.rounding=1,a=a.ln(),s.precision=e,s.rounding=t,a.times(.5))):new s(NaN)};re.inverseSine=re.asin=function(){var e,t,n,u,a=this,s=a.constructor;return a.isZero()?new s(a):(t=a.abs().cmp(1),n=s.precision,u=s.rounding,t!==-1?t===0?(e=Xr(s,n+4,u).times(.5),e.s=a.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,a=a.div(new s(1).minus(a.times(a)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=u,a.times(2)))};re.inverseTangent=re.atan=function(){var e,t,n,u,a,s,l,c,d,v=this,f=v.constructor,o=f.precision,p=f.rounding;if(v.isFinite()){if(v.isZero())return new f(v);if(v.abs().eq(1)&&o+4<=Go)return l=Xr(f,o+4,p).times(.25),l.s=v.s,l}else{if(!v.s)return new f(NaN);if(o+4<=Go)return l=Xr(f,o+4,p).times(.5),l.s=v.s,l}for(f.precision=c=o+10,f.rounding=1,n=Math.min(28,c/be+2|0),e=n;e;--e)v=v.div(v.times(v).plus(1).sqrt().plus(1));for(Oe=!1,t=Math.ceil(c/be),u=1,d=v.times(v),l=new f(v),a=v;e!==-1;)if(a=a.times(d),s=l.minus(a.div(u+=2)),a=a.times(d),l=s.plus(a.div(u+=2)),l.d[t]!==void 0)for(e=t;l.d[e]===s.d[e]&&e--;);return n&&(l=l.times(2<<n-1)),Oe=!0,we(l,f.precision=o,f.rounding=p,!0)};re.isFinite=function(){return!!this.d};re.isInteger=re.isInt=function(){return!!this.d&&vr(this.e/be)>this.d.length-2};re.isNaN=function(){return!this.s};re.isNegative=re.isNeg=function(){return this.s<0};re.isPositive=re.isPos=function(){return this.s>0};re.isZero=function(){return!!this.d&&this.d[0]===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,n,u,a,s,l,c,d,v=this,f=v.constructor,o=f.precision,p=f.rounding,m=5;if(e==null)e=new f(10),t=!0;else{if(e=new f(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(n=v.d,v.s<0||!n||!n[0]||v.eq(1))return new f(n&&!n[0]?-1/0:v.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(a=n[0];a%10===0;)a/=10;s=a!==1}if(Oe=!1,c=o+m,l=zn(v,c),u=t?ha(f,c+10):zn(e,c),d=lt(l,u,c,1),au(d.d,a=o,p))do if(c+=10,l=zn(v,c),u=t?ha(f,c+10):zn(e,c),d=lt(l,u,c,1),!s){+sr(d.d).slice(a+1,a+15)+1==1e14&&(d=we(d,o+1,0));break}while(au(d.d,a+=10,p));return Oe=!0,we(d,o,p)};re.minus=re.sub=function(e){var t,n,u,a,s,l,c,d,v,f,o,p,m=this,w=m.constructor;if(e=new w(e),!m.d||!e.d)return!m.s||!e.s?e=new w(NaN):m.d?e.s=-e.s:e=new w(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(v=m.d,p=e.d,c=w.precision,d=w.rounding,!v[0]||!p[0]){if(p[0])e.s=-e.s;else if(v[0])e=new w(m);else return new w(d===3?-0:0);return Oe?we(e,c,d):e}if(n=vr(e.e/be),f=vr(m.e/be),v=v.slice(),s=f-n,s){for(o=s<0,o?(t=v,s=-s,l=p.length):(t=p,n=f,l=v.length),u=Math.max(Math.ceil(c/be),l)+2,s>u&&(s=u,t.length=1),t.reverse(),u=s;u--;)t.push(0);t.reverse()}else{for(u=v.length,l=p.length,o=u<l,o&&(l=u),u=0;u<l;u++)if(v[u]!=p[u]){o=v[u]<p[u];break}s=0}for(o&&(t=v,v=p,p=t,e.s=-e.s),l=v.length,u=p.length-l;u>0;--u)v[l++]=0;for(u=p.length;u>s;){if(v[--u]<p[u]){for(a=u;a&&v[--a]===0;)v[a]=Qr-1;--v[a],v[u]+=Qr}v[u]-=p[u]}for(;v[--l]===0;)v.pop();for(;v[0]===0;v.shift())--n;return v[0]?(e.d=v,e.e=Fa(v,n),Oe?we(e,c,d):e):new w(d===3?-0:0)};re.modulo=re.mod=function(e){var t,n=this,u=n.constructor;return e=new u(e),!n.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||n.d&&!n.d[0]?we(new u(n),u.precision,u.rounding):(Oe=!1,u.modulo==9?(t=lt(n,e.abs(),0,3,1),t.s*=e.s):t=lt(n,e,0,u.modulo,1),t=t.times(e),Oe=!0,n.minus(t))};re.naturalExponential=re.exp=function(){return $o(this)};re.naturalLogarithm=re.ln=function(){return zn(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s,we(e)};re.plus=re.add=function(e){var t,n,u,a,s,l,c,d,v,f,o=this,p=o.constructor;if(e=new p(e),!o.d||!e.d)return!o.s||!e.s?e=new p(NaN):o.d||(e=new p(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(v=o.d,f=e.d,c=p.precision,d=p.rounding,!v[0]||!f[0])return f[0]||(e=new p(o)),Oe?we(e,c,d):e;if(s=vr(o.e/be),u=vr(e.e/be),v=v.slice(),a=s-u,a){for(a<0?(n=v,a=-a,l=f.length):(n=f,u=s,l=v.length),s=Math.ceil(c/be),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=v.length,a=f.length,l-a<0&&(a=l,n=f,f=v,v=n),t=0;a;)t=(v[--a]=v[a]+f[a]+t)/Qr|0,v[a]%=Qr;for(t&&(v.unshift(t),++u),l=v.length;v[--l]==0;)v.pop();return e.d=v,e.e=Fa(v,u),Oe?we(e,c,d):e};re.precision=re.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wn+e);return n.d?(t=x0(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};re.round=function(){var e=this,t=e.constructor;return we(new t(e),e.e+1,t.rounding)};re.sine=re.sin=function(){var e,t,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,t=u.rounding,u.precision=e+Math.max(n.e,n.sd())+be,u.rounding=1,n=Lw(u,z0(u,n)),u.precision=e,u.rounding=t,we(bn>2?n.neg():n,e,t,!0)):new u(NaN)};re.squareRoot=re.sqrt=function(){var e,t,n,u,a,s,l=this,c=l.d,d=l.e,v=l.s,f=l.constructor;if(v!==1||!c||!c[0])return new f(!v||v<0&&(!c||c[0])?NaN:c?l:1/0);for(Oe=!1,v=Math.sqrt(+l),v==0||v==1/0?(t=sr(c),(t.length+d)%2==0&&(t+="0"),v=Math.sqrt(t),d=vr((d+1)/2)-(d<0||d%2),v==1/0?t="5e"+d:(t=v.toExponential(),t=t.slice(0,t.indexOf("e")+1)+d),u=new f(t)):u=new f(v.toString()),n=(d=f.precision)+3;;)if(s=u,u=s.plus(lt(l,s,n+2,1)).times(.5),sr(s.d).slice(0,n)===(t=sr(u.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!a&&t=="4999"){if(!a&&(we(s,d+1,0),s.times(s).eq(l))){u=s;break}n+=4,a=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(we(u,d+1,1),e=!u.times(u).eq(l));break}return Oe=!0,we(u,d,f.rounding,e)};re.tangent=re.tan=function(){var e,t,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(e=u.precision,t=u.rounding,u.precision=e+10,u.rounding=1,n=n.sin(),n.s=1,n=lt(n,new u(1).minus(n.times(n)).sqrt(),e+10,0),u.precision=e,u.rounding=t,we(bn==2||bn==4?n.neg():n,e,t,!0)):new u(NaN)};re.times=re.mul=function(e){var t,n,u,a,s,l,c,d,v,f=this,o=f.constructor,p=f.d,m=(e=new o(e)).d;if(e.s*=f.s,!p||!p[0]||!m||!m[0])return new o(!e.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?e.s/0:e.s*0);for(n=vr(f.e/be)+vr(e.e/be),d=p.length,v=m.length,d<v&&(s=p,p=m,m=s,l=d,d=v,v=l),s=[],l=d+v,u=l;u--;)s.push(0);for(u=v;--u>=0;){for(t=0,a=d+u;a>u;)c=s[a]+m[u]*p[a-u-1]+t,s[a--]=c%Qr|0,t=c/Qr|0;s[a]=(s[a]+t)%Qr|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=Fa(s,n),Oe?we(e,o.precision,o.rounding):e};re.toBinary=function(e,t){return fl(this,2,e,t)};re.toDecimalPlaces=re.toDP=function(e,t){var n=this,u=n.constructor;return n=new u(n),e===void 0?n:(Cr(e,0,kn),t===void 0?t=u.rounding:Cr(t,0,8),we(n,e+n.e+1,t))};re.toExponential=function(e,t){var n,u=this,a=u.constructor;return e===void 0?n=ln(u,!0):(Cr(e,0,kn),t===void 0?t=a.rounding:Cr(t,0,8),u=we(new a(u),e+1,t),n=ln(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+n:n};re.toFixed=function(e,t){var n,u,a=this,s=a.constructor;return e===void 0?n=ln(a):(Cr(e,0,kn),t===void 0?t=s.rounding:Cr(t,0,8),u=we(new s(a),e+a.e+1,t),n=ln(u,!1,e+u.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n};re.toFraction=function(e){var t,n,u,a,s,l,c,d,v,f,o,p,m=this,w=m.d,g=m.constructor;if(!w)return new g(m);if(v=n=new g(1),u=d=new g(0),t=new g(u),s=t.e=x0(w)-m.e-1,l=s%be,t.d[0]=Ht(10,l<0?be+l:l),e==null)e=s>0?t:v;else{if(c=new g(e),!c.isInt()||c.lt(v))throw Error(Wn+c);e=c.gt(t)?s>0?t:v:c}for(Oe=!1,c=new g(sr(w)),f=g.precision,g.precision=s=w.length*be*2;o=lt(c,t,0,1,1),a=n.plus(o.times(u)),a.cmp(e)!=1;)n=u,u=a,a=v,v=d.plus(o.times(a)),d=a,a=t,t=c.minus(o.times(a)),c=a;return a=lt(e.minus(n),u,0,1,1),d=d.plus(a.times(v)),n=n.plus(a.times(u)),d.s=v.s=m.s,p=lt(v,u,s,1).minus(m).abs().cmp(lt(d,n,s,1).minus(m).abs())<1?[v,u]:[d,n],g.precision=f,Oe=!0,p};re.toHexadecimal=re.toHex=function(e,t){return fl(this,16,e,t)};re.toNearest=function(e,t){var n=this,u=n.constructor;if(n=new u(n),e==null){if(!n.d)return n;e=new u(1),t=u.rounding}else{if(e=new u(e),t===void 0?t=u.rounding:Cr(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Oe=!1,n=lt(n,e,0,t,1).times(e),Oe=!0,we(n)):(e.s=n.s,n=e),n};re.toNumber=function(){return+this};re.toOctal=function(e,t){return fl(this,8,e,t)};re.toPower=re.pow=function(e){var t,n,u,a,s,l,c=this,d=c.constructor,v=+(e=new d(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new d(Ht(+c,v));if(c=new d(c),c.eq(1))return c;if(u=d.precision,s=d.rounding,e.eq(1))return we(c,u,s);if(t=vr(e.e/be),t>=e.d.length-1&&(n=v<0?-v:v)<=Iw)return a=R0(d,c,n,u),e.s<0?new d(1).div(a):we(a,u,s);if(l=c.s,l<0){if(t<e.d.length-1)return new d(NaN);if(e.d[t]&1||(l=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=l,c}return n=Ht(+c,v),t=n==0||!isFinite(n)?vr(v*(Math.log("0."+sr(c.d))/Math.LN10+c.e+1)):new d(n+"").e,t>d.maxE+1||t<d.minE-1?new d(t>0?l/0:0):(Oe=!1,d.rounding=c.s=1,n=Math.min(12,(t+"").length),a=$o(e.times(zn(c,u+n)),u),a.d&&(a=we(a,u+5,1),au(a.d,u,s)&&(t=u+10,a=we($o(e.times(zn(c,t+n)),t),t+5,1),+sr(a.d).slice(u+1,u+15)+1==1e14&&(a=we(a,u+1,0)))),a.s=l,Oe=!0,d.rounding=s,we(a,u,s))};re.toPrecision=function(e,t){var n,u=this,a=u.constructor;return e===void 0?n=ln(u,u.e<=a.toExpNeg||u.e>=a.toExpPos):(Cr(e,1,kn),t===void 0?t=a.rounding:Cr(t,0,8),u=we(new a(u),e,t),n=ln(u,e<=u.e||u.e<=a.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+n:n};re.toSignificantDigits=re.toSD=function(e,t){var n=this,u=n.constructor;return e===void 0?(e=u.precision,t=u.rounding):(Cr(e,1,kn),t===void 0?t=u.rounding:Cr(t,0,8)),we(new u(n),e,t)};re.toString=function(){var e=this,t=e.constructor,n=ln(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};re.truncated=re.trunc=function(){return we(new this.constructor(this),this.e+1,1)};re.valueOf=re.toJSON=function(){var e=this,t=e.constructor,n=ln(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function sr(e){var t,n,u,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)u=e[t]+"",n=be-u.length,n&&(s+=Ln(n)),s+=u;l=e[t],u=l+"",n=be-u.length,n&&(s+=Ln(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}function Cr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wn+e)}function au(e,t,n,u){var a,s,l,c;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=be,a=0):(a=Math.ceil((t+1)/be),t%=be),s=Ht(10,be-t),c=e[a]%s|0,u==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),l=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):l=(n<4&&c+1==s||n>3&&c+1==s/2)&&(e[a+1]/s/100|0)==Ht(10,t-2)-1||(c==s/2||c==0)&&(e[a+1]/s/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),l=(u||n<4)&&c==9999||!u&&n>3&&c==4999):l=((u||n<4)&&c+1==s||!u&&n>3&&c+1==s/2)&&(e[a+1]/s/1e3|0)==Ht(10,t-3)-1,l}function ra(e,t,n){for(var u,a=[0],s,l=0,c=e.length;l<c;){for(s=a.length;s--;)a[s]*=t;for(a[0]+=ko.indexOf(e.charAt(l++)),u=0;u<a.length;u++)a[u]>n-1&&(a[u+1]===void 0&&(a[u+1]=0),a[u+1]+=a[u]/n|0,a[u]%=n)}return a.reverse()}function Rw(e,t){var n,u,a;if(t.isZero())return t;u=t.d.length,u<32?(n=Math.ceil(u/3),a=(1/Ca(4,n)).toString()):(n=16,a="2.3283064365386962890625e-10"),e.precision+=n,t=Ni(e,1,t.times(a),new e(1));for(var s=n;s--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=n,t}var lt=function(){function e(u,a,s){var l,c=0,d=u.length;for(u=u.slice();d--;)l=u[d]*a+c,u[d]=l%s|0,c=l/s|0;return c&&u.unshift(c),u}function t(u,a,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(u[c]!=a[c]){d=u[c]>a[c]?1:-1;break}return d}function n(u,a,s,l){for(var c=0;s--;)u[s]-=c,c=u[s]<a[s]?1:0,u[s]=c*l+u[s]-a[s];for(;!u[0]&&u.length>1;)u.shift()}return function(u,a,s,l,c,d){var v,f,o,p,m,w,g,_,A,O,b,M,F,S,P,B,I,q,$,k,se=u.constructor,G=u.s==a.s?1:-1,K=u.d,H=a.d;if(!K||!K[0]||!H||!H[0])return new se(!u.s||!a.s||(K?H&&K[0]==H[0]:!H)?NaN:K&&K[0]==0||!H?G*0:G/0);for(d?(m=1,f=u.e-a.e):(d=Qr,m=be,f=vr(u.e/m)-vr(a.e/m)),$=H.length,I=K.length,A=new se(G),O=A.d=[],o=0;H[o]==(K[o]||0);o++);if(H[o]>(K[o]||0)&&f--,s==null?(S=s=se.precision,l=se.rounding):c?S=s+(u.e-a.e)+1:S=s,S<0)O.push(1),w=!0;else{if(S=S/m+2|0,o=0,$==1){for(p=0,H=H[0],S++;(o<I||p)&&S--;o++)P=p*d+(K[o]||0),O[o]=P/H|0,p=P%H|0;w=p||o<I}else{for(p=d/(H[0]+1)|0,p>1&&(H=e(H,p,d),K=e(K,p,d),$=H.length,I=K.length),B=$,b=K.slice(0,$),M=b.length;M<$;)b[M++]=0;k=H.slice(),k.unshift(0),q=H[0],H[1]>=d/2&&++q;do p=0,v=t(H,b,$,M),v<0?(F=b[0],$!=M&&(F=F*d+(b[1]||0)),p=F/q|0,p>1?(p>=d&&(p=d-1),g=e(H,p,d),_=g.length,M=b.length,v=t(g,b,_,M),v==1&&(p--,n(g,$<_?k:H,_,d))):(p==0&&(v=p=1),g=H.slice()),_=g.length,_<M&&g.unshift(0),n(b,g,M,d),v==-1&&(M=b.length,v=t(H,b,$,M),v<1&&(p++,n(b,$<M?k:H,M,d))),M=b.length):v===0&&(p++,b=[0]),O[o++]=p,v&&b[0]?b[M++]=K[B]||0:(b=[K[B]],M=1);while((B++<I||b[0]!==void 0)&&S--);w=b[0]!==void 0}O[0]||O.shift()}if(m==1)A.e=f,B0=w;else{for(o=1,p=O[0];p>=10;p/=10)o++;A.e=o+f*m-1,we(A,c?s+A.e+1:s,l,w)}return A}}();function we(e,t,n,u){var a,s,l,c,d,v,f,o,p,m=e.constructor;e:if(t!=null){if(o=e.d,!o)return e;for(a=1,c=o[0];c>=10;c/=10)a++;if(s=t-a,s<0)s+=be,l=t,f=o[p=0],d=f/Ht(10,a-l-1)%10|0;else if(p=Math.ceil((s+1)/be),c=o.length,p>=c)if(u){for(;c++<=p;)o.push(0);f=d=0,a=1,s%=be,l=s-be+1}else break e;else{for(f=c=o[p],a=1;c>=10;c/=10)a++;s%=be,l=s-be+a,d=l<0?0:f/Ht(10,a-l-1)%10|0}if(u=u||t<0||o[p+1]!==void 0||(l<0?f:f%Ht(10,a-l-1)),v=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(s>0?l>0?f/Ht(10,a-l):0:o[p-1])%10&1||n==(e.s<0?8:7)),t<1||!o[0])return o.length=0,v?(t-=e.e+1,o[0]=Ht(10,(be-t%be)%be),e.e=-t||0):o[0]=e.e=0,e;if(s==0?(o.length=p,c=1,p--):(o.length=p+1,c=Ht(10,be-s),o[p]=l>0?(f/Ht(10,a-l)%Ht(10,l)|0)*c:0),v)for(;;)if(p==0){for(s=1,l=o[0];l>=10;l/=10)s++;for(l=o[0]+=c,c=1;l>=10;l/=10)c++;s!=c&&(e.e++,o[0]==Qr&&(o[0]=1));break}else{if(o[p]+=c,o[p]!=Qr)break;o[p--]=0,c=1}for(s=o.length;o[--s]===0;)o.pop()}return Oe&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function ln(e,t,n){if(!e.isFinite())return L0(e);var u,a=e.e,s=sr(e.d),l=s.length;return t?(n&&(u=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ln(u):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):a<0?(s="0."+Ln(-a-1)+s,n&&(u=n-l)>0&&(s+=Ln(u))):a>=l?(s+=Ln(a+1-l),n&&(u=n-a-1)>0&&(s=s+"."+Ln(u))):((u=a+1)<l&&(s=s.slice(0,u)+"."+s.slice(u)),n&&(u=n-l)>0&&(a+1===l&&(s+="."),s+=Ln(u))),s}function Fa(e,t){var n=e[0];for(t*=be;n>=10;n/=10)t++;return t}function ha(e,t,n){if(t>xw)throw Oe=!0,n&&(e.precision=n),Error(P0);return we(new e(fa),t,1,!0)}function Xr(e,t,n){if(t>Go)throw Error(P0);return we(new e(ca),t,n,!0)}function x0(e){var t=e.length-1,n=t*be+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ln(e){for(var t="";e--;)t+="0";return t}function R0(e,t,n,u){var a,s=new e(1),l=Math.ceil(u/be+4);for(Oe=!1;;){if(n%2&&(s=s.times(t),Zc(s.d,l)&&(a=!0)),n=vr(n/2),n===0){n=s.d.length-1,a&&s.d[n]===0&&++s.d[n];break}t=t.times(t),Zc(t.d,l)}return Oe=!0,s}function Yc(e){return e.d[e.d.length-1]&1}function U0(e,t,n){for(var u,a=new e(t[0]),s=0;++s<t.length;)if(u=new e(t[s]),u.s)a[n](u)&&(a=u);else{a=u;break}return a}function $o(e,t){var n,u,a,s,l,c,d,v=0,f=0,o=0,p=e.constructor,m=p.rounding,w=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(Oe=!1,d=w):d=t,c=new p(.03125);e.e>-2;)e=e.times(c),o+=5;for(u=Math.log(Ht(2,o))/Math.LN10*2+5|0,d+=u,n=s=l=new p(1),p.precision=d;;){if(s=we(s.times(e),d,1),n=n.times(++f),c=l.plus(lt(s,n,d,1)),sr(c.d).slice(0,d)===sr(l.d).slice(0,d)){for(a=o;a--;)l=we(l.times(l),d,1);if(t==null)if(v<3&&au(l.d,d-u,m,v))p.precision=d+=10,n=s=c=new p(1),f=0,v++;else return we(l,p.precision=w,m,Oe=!0);else return p.precision=w,l}l=c}}function zn(e,t){var n,u,a,s,l,c,d,v,f,o,p,m=1,w=10,g=e,_=g.d,A=g.constructor,O=A.rounding,b=A.precision;if(g.s<0||!_||!_[0]||!g.e&&_[0]==1&&_.length==1)return new A(_&&!_[0]?-1/0:g.s!=1?NaN:_?0:g);if(t==null?(Oe=!1,f=b):f=t,A.precision=f+=w,n=sr(_),u=n.charAt(0),Math.abs(s=g.e)<15e14){for(;u<7&&u!=1||u==1&&n.charAt(1)>3;)g=g.times(e),n=sr(g.d),u=n.charAt(0),m++;s=g.e,u>1?(g=new A("0."+n),s++):g=new A(u+"."+n.slice(1))}else return v=ha(A,f+2,b).times(s+""),g=zn(new A(u+"."+n.slice(1)),f-w).plus(v),A.precision=b,t==null?we(g,b,O,Oe=!0):g;for(o=g,d=l=g=lt(g.minus(1),g.plus(1),f,1),p=we(g.times(g),f,1),a=3;;){if(l=we(l.times(p),f,1),v=d.plus(lt(l,new A(a),f,1)),sr(v.d).slice(0,f)===sr(d.d).slice(0,f))if(d=d.times(2),s!==0&&(d=d.plus(ha(A,f+2,b).times(s+""))),d=lt(d,new A(m),f,1),t==null)if(au(d.d,f-w,O,c))A.precision=f+=w,v=l=g=lt(o.minus(1),o.plus(1),f,1),p=we(g.times(g),f,1),a=c=1;else return we(d,A.precision=b,O,Oe=!0);else return A.precision=b,d;d=v,a+=2}}function L0(e){return String(e.s*e.s/0)}function Ko(e,t){var n,u,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(n<0&&(n=u),n+=+t.slice(u+1),t=t.substring(0,u)):n<0&&(n=t.length),u=0;t.charCodeAt(u)===48;u++);for(a=t.length;t.charCodeAt(a-1)===48;--a);if(t=t.slice(u,a),t){if(a-=u,e.e=n=n-u-1,e.d=[],u=(n+1)%be,n<0&&(u+=be),u<a){for(u&&e.d.push(+t.slice(0,u)),a-=be;u<a;)e.d.push(+t.slice(u,u+=be));t=t.slice(u),u=be-t.length}else u-=a;for(;u--;)t+="0";e.d.push(+t),Oe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Uw(e,t){var n,u,a,s,l,c,d,v,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),I0.test(t))return Ko(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Tw.test(t))n=16,t=t.toLowerCase();else if(Pw.test(t))n=2;else if(Nw.test(t))n=8;else throw Error(Wn+t);for(s=t.search(/p/i),s>0?(d=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),l=s>=0,u=e.constructor,l&&(t=t.replace(".",""),c=t.length,s=c-s,a=R0(u,new u(n),s,s*2)),v=ra(t,n,Qr),f=v.length-1,s=f;v[s]===0;--s)v.pop();return s<0?new u(e.s*0):(e.e=Fa(v,f),e.d=v,Oe=!1,l&&(e=lt(e,a,c*4)),d&&(e=e.times(Math.abs(d)<54?Ht(2,d):Ii.pow(2,d))),Oe=!0,e)}function Lw(e,t){var n,u=t.d.length;if(u<3)return t.isZero()?t:Ni(e,2,t,t);n=1.4*Math.sqrt(u),n=n>16?16:n|0,t=t.times(1/Ca(5,n)),t=Ni(e,2,t,t);for(var a,s=new e(5),l=new e(16),c=new e(20);n--;)a=t.times(t),t=t.times(s.plus(a.times(l.times(a).minus(c))));return t}function Ni(e,t,n,u,a){var s,l,c,d,v=e.precision,f=Math.ceil(v/be);for(Oe=!1,d=n.times(n),c=new e(u);;){if(l=lt(c.times(d),new e(t++*t++),v,1),c=a?u.plus(l):u.minus(l),u=lt(l.times(d),new e(t++*t++),v,1),l=c.plus(u),l.d[f]!==void 0){for(s=f;l.d[s]===c.d[s]&&s--;);if(s==-1)break}s=c,c=u,u=l,l=s}return Oe=!0,l.d.length=f+1,l}function Ca(e,t){for(var n=e;--t;)n*=e;return n}function z0(e,t){var n,u=t.s<0,a=Xr(e,e.precision,1),s=a.times(.5);if(t=t.abs(),t.lte(s))return bn=u?4:1,t;if(n=t.divToInt(a),n.isZero())bn=u?3:2;else{if(t=t.minus(n.times(a)),t.lte(s))return bn=Yc(n)?u?2:3:u?4:1,t;bn=Yc(n)?u?1:4:u?3:2}return t.minus(a).abs()}function fl(e,t,n,u){var a,s,l,c,d,v,f,o,p,m=e.constructor,w=n!==void 0;if(w?(Cr(n,1,kn),u===void 0?u=m.rounding:Cr(u,0,8)):(n=m.precision,u=m.rounding),!e.isFinite())f=L0(e);else{for(f=ln(e),l=f.indexOf("."),w?(a=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):a=t,l>=0&&(f=f.replace(".",""),p=new m(1),p.e=f.length-l,p.d=ra(ln(p),10,a),p.e=p.d.length),o=ra(f,10,a),s=d=o.length;o[--d]==0;)o.pop();if(!o[0])f=w?"0p+0":"0";else{if(l<0?s--:(e=new m(e),e.d=o,e.e=s,e=lt(e,p,n,u,0,a),o=e.d,s=e.e,v=B0),l=o[n],c=a/2,v=v||o[n+1]!==void 0,v=u<4?(l!==void 0||v)&&(u===0||u===(e.s<0?3:2)):l>c||l===c&&(u===4||v||u===6&&o[n-1]&1||u===(e.s<0?8:7)),o.length=n,v)for(;++o[--n]>a-1;)o[n]=0,n||(++s,o.unshift(1));for(d=o.length;!o[d-1];--d);for(l=0,f="";l<d;l++)f+=ko.charAt(o[l]);if(w){if(d>1)if(t==16||t==8){for(l=t==16?4:3,--d;d%l;d++)f+="0";for(o=ra(f,a,t),d=o.length;!o[d-1];--d);for(l=1,f="1.";l<d;l++)f+=ko.charAt(o[l])}else f=f.charAt(0)+"."+f.slice(1);f=f+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)f="0"+f;f="0."+f}else if(++s>d)for(s-=d;s--;)f+="0";else s<d&&(f=f.slice(0,s)+"."+f.slice(s))}f=(t==16?"0x":t==2?"0b":t==8?"0o":"")+f}return e.s<0?"-"+f:f}function Zc(e,t){if(e.length>t)return e.length=t,!0}function zw(e){return new this(e).abs()}function qw(e){return new this(e).acos()}function Vw(e){return new this(e).acosh()}function jw(e,t){return new this(e).plus(t)}function Ww(e){return new this(e).asin()}function kw(e){return new this(e).asinh()}function Hw(e){return new this(e).atan()}function Gw(e){return new this(e).atanh()}function $w(e,t){e=new this(e),t=new this(t);var n,u=this.precision,a=this.rounding,s=u+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Xr(this,s,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Xr(this,u,a):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Xr(this,s,1).times(.5),n.s=e.s):t.s<0?(this.precision=s,this.rounding=1,n=this.atan(lt(e,t,s,1)),t=Xr(this,s,1),this.precision=u,this.rounding=a,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(lt(e,t,s,1)),n}function Kw(e){return new this(e).cbrt()}function Yw(e){return we(e=new this(e),e.e+1,2)}function Zw(e,t,n){return new this(e).clamp(t,n)}function Jw(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,u,a=e.defaults===!0,s=["precision",1,kn,"rounding",0,8,"toExpNeg",-Mi,0,"toExpPos",0,Mi,"maxE",0,Mi,"minE",-Mi,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],a&&(this[n]=Ho[n]),(u=e[n])!==void 0)if(vr(u)===u&&u>=s[t+1]&&u<=s[t+2])this[n]=u;else throw Error(Wn+n+": "+u);if(n="crypto",a&&(this[n]=Ho[n]),(u=e[n])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(T0);else this[n]=!1;else throw Error(Wn+n+": "+u);return this}function Xw(e){return new this(e).cos()}function Qw(e){return new this(e).cosh()}function q0(e){var t,n,u;function a(s){var l,c,d,v=this;if(!(v instanceof a))return new a(s);if(v.constructor=a,Jc(s)){v.s=s.s,Oe?!s.d||s.e>a.maxE?(v.e=NaN,v.d=null):s.e<a.minE?(v.e=0,v.d=[0]):(v.e=s.e,v.d=s.d.slice()):(v.e=s.e,v.d=s.d?s.d.slice():s.d);return}if(d=typeof s,d==="number"){if(s===0){v.s=1/s<0?-1:1,v.e=0,v.d=[0];return}if(s<0?(s=-s,v.s=-1):v.s=1,s===~~s&&s<1e7){for(l=0,c=s;c>=10;c/=10)l++;Oe?l>a.maxE?(v.e=NaN,v.d=null):l<a.minE?(v.e=0,v.d=[0]):(v.e=l,v.d=[s]):(v.e=l,v.d=[s]);return}else if(s*0!==0){s||(v.s=NaN),v.e=NaN,v.d=null;return}return Ko(v,s.toString())}else if(d!=="string")throw Error(Wn+s);return(c=s.charCodeAt(0))===45?(s=s.slice(1),v.s=-1):(c===43&&(s=s.slice(1)),v.s=1),I0.test(s)?Ko(v,s):Uw(v,s)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=Jw,a.clone=q0,a.isDecimal=Jc,a.abs=zw,a.acos=qw,a.acosh=Vw,a.add=jw,a.asin=Ww,a.asinh=kw,a.atan=Hw,a.atanh=Gw,a.atan2=$w,a.cbrt=Kw,a.ceil=Yw,a.clamp=Zw,a.cos=Xw,a.cosh=Qw,a.div=eA,a.exp=tA,a.floor=rA,a.hypot=nA,a.ln=iA,a.log=uA,a.log10=sA,a.log2=aA,a.max=oA,a.min=lA,a.mod=fA,a.mul=cA,a.pow=hA,a.random=dA,a.round=pA,a.sign=vA,a.sin=gA,a.sinh=mA,a.sqrt=DA,a.sub=_A,a.sum=wA,a.tan=AA,a.tanh=EA,a.trunc=yA,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<u.length;)e.hasOwnProperty(n=u[t++])||(e[n]=this[n]);return a.config(e),a}function eA(e,t){return new this(e).div(t)}function tA(e){return new this(e).exp()}function rA(e){return we(e=new this(e),e.e+1,3)}function nA(){var e,t,n=new this(0);for(Oe=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Oe=!0,new this(1/0);n=t}return Oe=!0,n.sqrt()}function Jc(e){return e instanceof Ii||e&&e.toStringTag===N0||!1}function iA(e){return new this(e).ln()}function uA(e,t){return new this(e).log(t)}function aA(e){return new this(e).log(2)}function sA(e){return new this(e).log(10)}function oA(){return U0(this,arguments,"lt")}function lA(){return U0(this,arguments,"gt")}function fA(e,t){return new this(e).mod(t)}function cA(e,t){return new this(e).mul(t)}function hA(e,t){return new this(e).pow(t)}function dA(e){var t,n,u,a,s=0,l=new this(1),c=[];if(e===void 0?e=this.precision:Cr(e,1,kn),u=Math.ceil(e/be),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(u));s<u;)a=t[s],a>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:c[s++]=a%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=4);s<u;)a=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(t,s):(c.push(a%1e7),s+=4);s=u/4}else throw Error(T0);else for(;s<u;)c[s++]=Math.random()*1e7|0;for(u=c[--s],e%=be,u&&e&&(a=Ht(10,be-e),c[s]=(u/a|0)*a);c[s]===0;s--)c.pop();if(s<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=be)c.shift();for(u=1,a=c[0];a>=10;a/=10)u++;u<be&&(n-=be-u)}return l.e=n,l.d=c,l}function pA(e){return we(e=new this(e),e.e+1,this.rounding)}function vA(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function gA(e){return new this(e).sin()}function mA(e){return new this(e).sinh()}function DA(e){return new this(e).sqrt()}function _A(e,t){return new this(e).sub(t)}function wA(){var e=0,t=arguments,n=new this(t[e]);for(Oe=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Oe=!0,we(n,this.precision,this.rounding)}function AA(e){return new this(e).tan()}function EA(e){return new this(e).tanh()}function yA(e){return we(e=new this(e),e.e+1,1)}re[Symbol.for("nodejs.util.inspect.custom")]=re.toString;re[Symbol.toStringTag]="Decimal";var Ii=re.constructor=q0(Ho);fa=new Ii(fa);ca=new Ii(ca);var bA="BigNumber",FA=["?on","config"],CA=st(bA,FA,e=>{var{on:t,config:n}=e,u=Ii.clone({precision:n.precision,modulo:Ii.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(a){return new u(a.value)},t&&t("config",function(a,s){a.precision!==s.precision&&u.config({precision:a.precision})}),u},{isClass:!0}),ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yo={},SA={get exports(){return Yo},set exports(e){Yo=e}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var u=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},a=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},s=function(o){var p=Math.PI/4;if(-p>o||o>p)return Math.cos(o)-1;var m=o*o;return m*(m*(m*(m*(m*(m*(m*(m/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},l=function(o,p){var m=Math.abs(o),w=Math.abs(p);return m<3e3&&w<3e3?Math.sqrt(m*m+w*w):(m<w?(m=w,w=o/p):w=p/o,m*Math.sqrt(1+w*w))},c=function(){throw SyntaxError("Invalid Param")};function d(o,p){var m=Math.abs(o),w=Math.abs(p);return o===0?Math.log(w):p===0?Math.log(m):m<3e3&&w<3e3?Math.log(o*o+p*p)*.5:(o=o/2,p=p/2,.5*Math.log(o*o+p*p)+Math.LN2)}var v=function(o,p){var m={re:0,im:0};if(o==null)m.re=m.im=0;else if(p!==void 0)m.re=o,m.im=p;else switch(typeof o){case"object":if("im"in o&&"re"in o)m.re=o.re,m.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return f.INFINITY;m.re=o.abs*Math.cos(o.arg),m.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return f.INFINITY;m.re=o.r*Math.cos(o.phi),m.im=o.r*Math.sin(o.phi)}else o.length===2?(m.re=o[0],m.im=o[1]):c();break;case"string":m.im=m.re=0;var w=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,_=0;w===null&&c();for(var A=0;A<w.length;A++){var O=w[A];O===" "||O==="	"||O===`
`||(O==="+"?g++:O==="-"?_++:O==="i"||O==="I"?(g+_===0&&c(),w[A+1]!==" "&&!isNaN(w[A+1])?(m.im+=parseFloat((_%2?"-":"")+w[A+1]),A++):m.im+=parseFloat((_%2?"-":"")+"1"),g=_=0):((g+_===0||isNaN(O))&&c(),w[A+1]==="i"||w[A+1]==="I"?(m.im+=parseFloat((_%2?"-":"")+O),A++):m.re+=parseFloat((_%2?"-":"")+O),g=_=0))}g+_>0&&c();break;case"number":m.im=0,m.re=o;break;default:c()}return isNaN(m.re)||isNaN(m.im),m};function f(o,p){if(!(this instanceof f))return new f(o,p);var m=v(o,p);this.re=m.re,this.im=m.im}f.prototype={re:0,im:0,sign:function(){var o=this.abs();return new f(this.re/o,this.im/o)},add:function(o,p){var m=new f(o,p);return this.isInfinite()&&m.isInfinite()?f.NAN:this.isInfinite()||m.isInfinite()?f.INFINITY:new f(this.re+m.re,this.im+m.im)},sub:function(o,p){var m=new f(o,p);return this.isInfinite()&&m.isInfinite()?f.NAN:this.isInfinite()||m.isInfinite()?f.INFINITY:new f(this.re-m.re,this.im-m.im)},mul:function(o,p){var m=new f(o,p);return this.isInfinite()&&m.isZero()||this.isZero()&&m.isInfinite()?f.NAN:this.isInfinite()||m.isInfinite()?f.INFINITY:m.im===0&&this.im===0?new f(this.re*m.re,0):new f(this.re*m.re-this.im*m.im,this.re*m.im+this.im*m.re)},div:function(o,p){var m=new f(o,p);if(this.isZero()&&m.isZero()||this.isInfinite()&&m.isInfinite())return f.NAN;if(this.isInfinite()||m.isZero())return f.INFINITY;if(this.isZero()||m.isInfinite())return f.ZERO;o=this.re,p=this.im;var w=m.re,g=m.im,_,A;return g===0?new f(o/w,p/w):Math.abs(w)<Math.abs(g)?(A=w/g,_=w*A+g,new f((o*A+p)/_,(p*A-o)/_)):(A=g/w,_=g*A+w,new f((o+p*A)/_,(p-o*A)/_))},pow:function(o,p){var m=new f(o,p);if(o=this.re,p=this.im,m.isZero())return f.ONE;if(m.im===0){if(p===0&&o>0)return new f(Math.pow(o,m.re),0);if(o===0)switch((m.re%4+4)%4){case 0:return new f(Math.pow(p,m.re),0);case 1:return new f(0,Math.pow(p,m.re));case 2:return new f(-Math.pow(p,m.re),0);case 3:return new f(0,-Math.pow(p,m.re))}}if(o===0&&p===0&&m.re>0&&m.im>=0)return f.ZERO;var w=Math.atan2(p,o),g=d(o,p);return o=Math.exp(m.re*g-m.im*w),p=m.im*g+m.re*w,new f(o*Math.cos(p),o*Math.sin(p))},sqrt:function(){var o=this.re,p=this.im,m=this.abs(),w,g;if(o>=0){if(p===0)return new f(Math.sqrt(o),0);w=.5*Math.sqrt(2*(m+o))}else w=Math.abs(p)/Math.sqrt(2*(m-o));return o<=0?g=.5*Math.sqrt(2*(m-o)):g=Math.abs(p)/Math.sqrt(2*(m+o)),new f(w,p<0?-g:g)},exp:function(){var o=Math.exp(this.re);return this.im,new f(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,p=this.im;return new f(Math.expm1(o)*Math.cos(p)+s(p),Math.exp(o)*Math.sin(p))},log:function(){var o=this.re,p=this.im;return new f(d(o,p),Math.atan2(p,o))},abs:function(){return l(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,p=this.im;return new f(Math.sin(o)*u(p),Math.cos(o)*a(p))},cos:function(){var o=this.re,p=this.im;return new f(Math.cos(o)*u(p),-Math.sin(o)*a(p))},tan:function(){var o=2*this.re,p=2*this.im,m=Math.cos(o)+u(p);return new f(Math.sin(o)/m,a(p)/m)},cot:function(){var o=2*this.re,p=2*this.im,m=Math.cos(o)-u(p);return new f(-Math.sin(o)/m,a(p)/m)},sec:function(){var o=this.re,p=this.im,m=.5*u(2*p)+.5*Math.cos(2*o);return new f(Math.cos(o)*u(p)/m,Math.sin(o)*a(p)/m)},csc:function(){var o=this.re,p=this.im,m=.5*u(2*p)-.5*Math.cos(2*o);return new f(Math.sin(o)*u(p)/m,-Math.cos(o)*a(p)/m)},asin:function(){var o=this.re,p=this.im,m=new f(p*p-o*o+1,-2*o*p).sqrt(),w=new f(m.re-p,m.im+o).log();return new f(w.im,-w.re)},acos:function(){var o=this.re,p=this.im,m=new f(p*p-o*o+1,-2*o*p).sqrt(),w=new f(m.re-p,m.im+o).log();return new f(Math.PI/2-w.im,w.re)},atan:function(){var o=this.re,p=this.im;if(o===0){if(p===1)return new f(0,1/0);if(p===-1)return new f(0,-1/0)}var m=o*o+(1-p)*(1-p),w=new f((1-p*p-o*o)/m,-2*o/m).log();return new f(-.5*w.im,.5*w.re)},acot:function(){var o=this.re,p=this.im;if(p===0)return new f(Math.atan2(1,o),0);var m=o*o+p*p;return m!==0?new f(o/m,-p/m).atan():new f(o!==0?o/0:0,p!==0?-p/0:0).atan()},asec:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new f(0,1/0);var m=o*o+p*p;return m!==0?new f(o/m,-p/m).acos():new f(o!==0?o/0:0,p!==0?-p/0:0).acos()},acsc:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new f(Math.PI/2,1/0);var m=o*o+p*p;return m!==0?new f(o/m,-p/m).asin():new f(o!==0?o/0:0,p!==0?-p/0:0).asin()},sinh:function(){var o=this.re,p=this.im;return new f(a(o)*Math.cos(p),u(o)*Math.sin(p))},cosh:function(){var o=this.re,p=this.im;return new f(u(o)*Math.cos(p),a(o)*Math.sin(p))},tanh:function(){var o=2*this.re,p=2*this.im,m=u(o)+Math.cos(p);return new f(a(o)/m,Math.sin(p)/m)},coth:function(){var o=2*this.re,p=2*this.im,m=u(o)-Math.cos(p);return new f(a(o)/m,-Math.sin(p)/m)},csch:function(){var o=this.re,p=this.im,m=Math.cos(2*p)-u(2*o);return new f(-2*a(o)*Math.cos(p)/m,2*u(o)*Math.sin(p)/m)},sech:function(){var o=this.re,p=this.im,m=Math.cos(2*p)+u(2*o);return new f(2*u(o)*Math.cos(p)/m,-2*a(o)*Math.sin(p)/m)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var p=this.asin();return this.re=-this.im,this.im=o,o=p.re,p.re=-p.im,p.im=o,p},acosh:function(){var o=this.acos();if(o.im<=0){var p=o.re;o.re=-o.im,o.im=p}else{var p=o.im;o.im=-o.re,o.re=p}return o},atanh:function(){var o=this.re,p=this.im,m=o>1&&p===0,w=1-o,g=1+o,_=w*w+p*p,A=_!==0?new f((g*w-p*p)/_,(p*w+g*p)/_):new f(o!==-1?o/0:0,p!==0?p/0:0),O=A.re;return A.re=d(A.re,A.im)/2,A.im=Math.atan2(A.im,O)/2,m&&(A.im=-A.im),A},acoth:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new f(0,Math.PI/2);var m=o*o+p*p;return m!==0?new f(o/m,-p/m).atanh():new f(o!==0?o/0:0,p!==0?-p/0:0).atanh()},acsch:function(){var o=this.re,p=this.im;if(p===0)return new f(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var m=o*o+p*p;return m!==0?new f(o/m,-p/m).asinh():new f(o!==0?o/0:0,p!==0?-p/0:0).asinh()},asech:function(){var o=this.re,p=this.im;if(this.isZero())return f.INFINITY;var m=o*o+p*p;return m!==0?new f(o/m,-p/m).acosh():new f(o!==0?o/0:0,p!==0?-p/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var o=this.re,p=this.im,m=o*o+p*p;return new f(o/m,-p/m)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new f(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new f(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new f(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,p){var m=new f(o,p);return Math.abs(m.re-this.re)<=f.EPSILON&&Math.abs(m.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var o=this.re,p=this.im,m="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<f.EPSILON&&(o=0),Math.abs(p)<f.EPSILON&&(p=0),p===0?m+o:(o!==0?(m+=o,m+=" ",p<0?(p=-p,m+="-"):m+="+",m+=" "):p<0&&(p=-p,m+="-"),p!==1&&(m+=p),m+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-15,Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Complex=f,e.exports=f})()})(SA);const nr=V0(Yo);var OA="Complex",MA=[],BA=st(OA,MA,()=>(Object.defineProperty(nr,"name",{value:"Complex"}),nr.prototype.constructor=nr,nr.prototype.type="Complex",nr.prototype.isComplex=!0,nr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},nr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},nr.prototype.format=function(e){var t="",n=this.im,u=this.re,a=jo(this.re,e),s=jo(this.im,e),l=Dt(e)?e:e?e.precision:null;if(l!==null){var c=Math.pow(10,-l);Math.abs(u/n)<c&&(u=0),Math.abs(n/u)<c&&(n=0)}return n===0?t=a:u===0?n===1?t="i":n===-1?t="-i":t=s+"i":n<0?n===-1?t=a+" - i":t=a+" - "+s.substring(1)+"i":n===1?t=a+" + i":t=a+" + "+s+"i",t},nr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return nr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],u=arguments[1];if(Dt(n)){if(D0(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),Dt(u))return new nr({r:n,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},nr.prototype.valueOf=nr.prototype.toString,nr.fromJSON=function(e){return new nr(e)},nr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},nr),{isClass:!0}),Zo={},PA={get exports(){return Zo},set exports(e){Zo=e}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var u=2e3,a={s:1,n:0,d:1};function s(w,g){if(isNaN(w=parseInt(w,10)))throw m.InvalidParameter;return w*g}function l(w,g){if(g===0)throw m.DivisionByZero;var _=Object.create(m.prototype);_.s=w<0?-1:1,w=w<0?-w:w;var A=p(w,g);return _.n=w/A,_.d=g/A,_}function c(w){for(var g={},_=w,A=2,O=4;O<=_;){for(;_%A===0;)_/=A,g[A]=(g[A]||0)+1;O+=1+2*A++}return _!==w?_>1&&(g[_]=(g[_]||0)+1):g[w]=(g[w]||0)+1,g}var d=function(w,g){var _=0,A=1,O=1,b=0,M=0,F=0,S=1,P=1,B=0,I=1,q=1,$=1,k=1e7,se;if(w!=null)if(g!==void 0){if(_=w,A=g,O=_*A,_%1!==0||A%1!==0)throw m.NonIntegerParameter}else switch(typeof w){case"object":{if("d"in w&&"n"in w)_=w.n,A=w.d,"s"in w&&(_*=w.s);else if(0 in w)_=w[0],1 in w&&(A=w[1]);else throw m.InvalidParameter;O=_*A;break}case"number":{if(w<0&&(O=w,w=-w),w%1===0)_=w;else if(w>0){for(w>=1&&(P=Math.pow(10,Math.floor(1+Math.log(w)/Math.LN10)),w/=P);I<=k&&$<=k;)if(se=(B+q)/(I+$),w===se){I+$<=k?(_=B+q,A=I+$):$>I?(_=q,A=$):(_=B,A=I);break}else w>se?(B+=q,I+=$):(q+=B,$+=I),I>k?(_=q,A=$):(_=B,A=I);_*=P}else(isNaN(w)||isNaN(g))&&(A=_=NaN);break}case"string":{if(I=w.match(/\d+|./g),I===null)throw m.InvalidParameter;if(I[B]==="-"?(O=-1,B++):I[B]==="+"&&B++,I.length===B+1?M=s(I[B++],O):I[B+1]==="."||I[B]==="."?(I[B]!=="."&&(b=s(I[B++],O)),B++,(B+1===I.length||I[B+1]==="("&&I[B+3]===")"||I[B+1]==="'"&&I[B+3]==="'")&&(M=s(I[B],O),S=Math.pow(10,I[B].length),B++),(I[B]==="("&&I[B+2]===")"||I[B]==="'"&&I[B+2]==="'")&&(F=s(I[B+1],O),P=Math.pow(10,I[B+1].length)-1,B+=3)):I[B+1]==="/"||I[B+1]===":"?(M=s(I[B],O),S=s(I[B+2],1),B+=3):I[B+3]==="/"&&I[B+1]===" "&&(b=s(I[B],O),M=s(I[B+2],O),S=s(I[B+4],1),B+=5),I.length<=B){A=S*P,O=_=F+A*b+P*M;break}}default:throw m.InvalidParameter}if(A===0)throw m.DivisionByZero;a.s=O<0?-1:1,a.n=Math.abs(_),a.d=Math.abs(A)};function v(w,g,_){for(var A=1;g>0;w=w*w%_,g>>=1)g&1&&(A=A*w%_);return A}function f(w,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var _=10%g,A=1;_!==1;A++)if(_=_*10%g,A>u)return 0;return A}function o(w,g,_){for(var A=1,O=v(10,_,g),b=0;b<300;b++){if(A===O)return b;A=A*10%g,O=O*10%g}return 0}function p(w,g){if(!w)return g;if(!g)return w;for(;;){if(w%=g,!w)return g;if(g%=w,!g)return w}}function m(w,g){if(d(w,g),this instanceof m)w=p(a.d,a.n),this.s=a.s,this.n=a.n/w,this.d=a.d/w;else return l(a.s*a.n,a.d)}m.DivisionByZero=new Error("Division by Zero"),m.InvalidParameter=new Error("Invalid argument"),m.NonIntegerParameter=new Error("Parameters must be integer"),m.prototype={s:1,n:0,d:1,abs:function(){return l(this.n,this.d)},neg:function(){return l(-this.s*this.n,this.d)},add:function(w,g){return d(w,g),l(this.s*this.n*a.d+a.s*this.d*a.n,this.d*a.d)},sub:function(w,g){return d(w,g),l(this.s*this.n*a.d-a.s*this.d*a.n,this.d*a.d)},mul:function(w,g){return d(w,g),l(this.s*a.s*this.n*a.n,this.d*a.d)},div:function(w,g){return d(w,g),l(this.s*a.s*this.n*a.d,this.d*a.n)},clone:function(){return l(this.s*this.n,this.d)},mod:function(w,g){if(isNaN(this.n)||isNaN(this.d))return new m(NaN);if(w===void 0)return l(this.s*this.n%this.d,1);if(d(w,g),a.n===0&&this.d===0)throw m.DivisionByZero;return l(this.s*(a.d*this.n)%(a.n*this.d),a.d*this.d)},gcd:function(w,g){return d(w,g),l(p(a.n,this.n)*p(a.d,this.d),a.d*this.d)},lcm:function(w,g){return d(w,g),a.n===0&&this.n===0?l(0,1):l(a.n*this.n,p(a.n,this.n)*p(a.d,this.d))},ceil:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.ceil(w*this.s*this.n/this.d),w)},floor:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.floor(w*this.s*this.n/this.d),w)},round:function(w){return w=Math.pow(10,w||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.round(w*this.s*this.n/this.d),w)},inverse:function(){return l(this.s*this.d,this.n)},pow:function(w,g){if(d(w,g),a.d===1)return a.s<0?l(Math.pow(this.s*this.d,a.n),Math.pow(this.n,a.n)):l(Math.pow(this.s*this.n,a.n),Math.pow(this.d,a.n));if(this.s<0)return null;var _=c(this.n),A=c(this.d),O=1,b=1;for(var M in _)if(M!=="1"){if(M==="0"){O=0;break}if(_[M]*=a.n,_[M]%a.d===0)_[M]/=a.d;else return null;O*=Math.pow(M,_[M])}for(var M in A)if(M!=="1"){if(A[M]*=a.n,A[M]%a.d===0)A[M]/=a.d;else return null;b*=Math.pow(M,A[M])}return a.s<0?l(b,O):l(O,b)},equals:function(w,g){return d(w,g),this.s*this.n*a.d===a.s*a.n*this.d},compare:function(w,g){d(w,g);var _=this.s*this.n*a.d-a.s*a.n*this.d;return(0<_)-(_<0)},simplify:function(w){if(isNaN(this.n)||isNaN(this.d))return this;w=w||.001;for(var g=this.abs(),_=g.toContinued(),A=1;A<_.length;A++){for(var O=l(_[A-1],1),b=A-2;b>=0;b--)O=O.inverse().add(_[b]);if(O.sub(g).abs().valueOf()<w)return O.mul(this.s)}return this},divisible:function(w,g){return d(w,g),!(!(a.n*this.d)||this.n*a.d%(a.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(w){var g,_="",A=this.n,O=this.d;return this.s<0&&(_+="-"),O===1?_+=A:(w&&(g=Math.floor(A/O))>0&&(_+=g,_+=" ",A%=O),_+=A,_+="/",_+=O),_},toLatex:function(w){var g,_="",A=this.n,O=this.d;return this.s<0&&(_+="-"),O===1?_+=A:(w&&(g=Math.floor(A/O))>0&&(_+=g,A%=O),_+="\\frac{",_+=A,_+="}{",_+=O,_+="}"),_},toContinued:function(){var w,g=this.n,_=this.d,A=[];if(isNaN(g)||isNaN(_))return A;do A.push(Math.floor(g/_)),w=g%_,g=_,_=w;while(g!==1);return A},toString:function(w){var g=this.n,_=this.d;if(isNaN(g)||isNaN(_))return"NaN";w=w||15;var A=f(g,_),O=o(g,_,A),b=this.s<0?"-":"";if(b+=g/_|0,g%=_,g*=10,g&&(b+="."),A){for(var M=O;M--;)b+=g/_|0,g%=_,g*=10;b+="(";for(var M=A;M--;)b+=g/_|0,g%=_,g*=10;b+=")"}else for(var M=w;g&&M--;)b+=g/_|0,g%=_,g*=10;return b}},Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,e.exports=m})()})(PA);const yn=V0(Zo);var TA="Fraction",NA=[],IA=st(TA,NA,()=>(Object.defineProperty(yn,"name",{value:"Fraction"}),yn.prototype.constructor=yn,yn.prototype.type="Fraction",yn.prototype.isFraction=!0,yn.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},yn.fromJSON=function(e){return new yn(e)},yn),{isClass:!0}),xA="Matrix",RA=[],UA=st(xA,RA,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function j0(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var u=(n.match(/,/g)||[]).length+1;return Math.max(t,u)},-1)}var LA="DenseMatrix",zA=["Matrix"],qA=st(LA,zA,e=>{var{Matrix:t}=e;function n(f,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!an(o))throw new Error("Invalid datatype: "+o);if(wr(f))f.type==="DenseMatrix"?(this._data=Yt(f._data),this._size=Yt(f._size),this._datatype=o||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=o||f._datatype);else if(f&&gt(f.data)&&gt(f.size))this._data=f.data,this._size=f.size,$c(this._data,this._size),this._datatype=o||f.datatype;else if(gt(f))this._data=v(f),this._size=jn(this._data),$c(this._data,this._size),this._datatype=o;else{if(f)throw new TypeError("Unsupported type of data ("+iu(f)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new t,n.prototype.createDenseMatrix=function(f,o){return new n(f,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return la(this._data,iu)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,o){return new n(f,o)},n.prototype.subset=function(f,o,p){switch(arguments.length){case 1:return u(this,f);case 2:case 3:return s(this,f,o,p);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(f){if(!gt(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new at(f.length,this._size.length);for(var o=0;o<f.length;o++)mt(f[o],this._size[o]);for(var p=this._data,m=0,w=f.length;m<w;m++){var g=f[m];mt(g,p.length),p=p[g]}return p},n.prototype.set=function(f,o,p){if(!gt(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new at(f.length,this._size.length,"<");var m,w,g,_=f.map(function(O){return O+1});d(this,_,p);var A=this._data;for(m=0,w=f.length-1;m<w;m++)g=f[m],mt(g,A.length),A=A[g];return g=f[f.length-1],mt(g,A.length),A[g]=o,this};function u(f,o){if(!ol(o))throw new TypeError("Invalid index");var p=o.isScalar();if(p)return f.get(o.min());var m=o.size();if(m.length!==f._size.length)throw new at(m.length,f._size.length);for(var w=o.min(),g=o.max(),_=0,A=f._size.length;_<A;_++)mt(w[_],f._size[_]),mt(g[_],f._size[_]);return new n(a(f._data,o,m.length,0),f._datatype)}function a(f,o,p,m){var w=m===p-1,g=o.dimension(m);return w?g.map(function(_){return mt(_,f.length),f[_]}).valueOf():g.map(function(_){mt(_,f.length);var A=f[_];return a(A,o,p,m+1)}).valueOf()}function s(f,o,p,m){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var w=o.size(),g=o.isScalar(),_;if(wr(p)?(_=p.size(),p=p.valueOf()):_=jn(p),g){if(_.length!==0)throw new TypeError("Scalar expected");f.set(o.min(),p,m)}else{if(w.length<f._size.length)throw new at(w.length,f._size.length,"<");if(_.length<w.length){for(var A=0,O=0;w[A]===1&&_[A]===1;)A++;for(;w[A]===1;)O++,A++;p=F0(p,w.length,O,_)}if(!sa(w,_))throw new at(w,_,">");var b=o.max().map(function(S){return S+1});d(f,b,m);var M=w.length,F=0;l(f._data,o,p,M,F)}return f}function l(f,o,p,m,w){var g=w===m-1,_=o.dimension(w);g?_.forEach(function(A,O){mt(A),f[A]=p[O[0]]}):_.forEach(function(A,O){mt(A),l(f[A],o,p[O[0]],m,w+1)})}n.prototype.resize=function(f,o,p){if(!aa(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),w=p?this.clone():this;return c(w,m,o)};function c(f,o,p){if(o.length===0){for(var m=f._data;gt(m);)m=m[0];return m}return f._size=o.slice(0),f._data=Kc(f._data,f._size,p),f}n.prototype.reshape=function(f,o){var p=o?this.clone():this;p._data=pw(p._data,f);var m=p._size.reduce((w,g)=>w*g);return p._size=ll(f,m),p};function d(f,o,p){for(var m=f._size.slice(0),w=!1;m.length<o.length;)m.push(0),w=!0;for(var g=0,_=o.length;g<_;g++)o[g]>m[g]&&(m[g]=o[g],w=!0);w&&c(f,m,p)}n.prototype.clone=function(){var f=new n({data:Yt(this._data),size:Yt(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f){var o=this,p=j0(f),m=function _(A,O){return gt(A)?A.map(function(b,M){return _(b,O.concat(M))}):p===1?f(A):p===2?f(A,O):f(A,O,o)},w=m(this._data,[]),g=this._datatype!==void 0?la(w,iu):void 0;return new n(w,g)},n.prototype.forEach=function(f){var o=this,p=function m(w,g){gt(w)?w.forEach(function(_,A){m(_,g.concat(A))}):f(w,g,o)};p(this._data,[])},n.prototype[Symbol.iterator]=function*(){var f=function*o(p,m){if(gt(p))for(var w=0;w<p.length;w++)yield*o(p[w],m.concat(w));else yield{value:p,index:m}};yield*f(this._data,[])},n.prototype.rows=function(){var f=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)f.push(new n([m],this._datatype));return f},n.prototype.columns=function(){var f=this,o=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,w=function(A){var O=m.map(b=>[b[A]]);o.push(new n(O,f._datatype))},g=0;g<p[1];g++)w(g);return o},n.prototype.toArray=function(){return Yt(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(f){return Fr(this._data,f)},n.prototype.toString=function(){return Fr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(Hr(f)&&(f=f.toNumber()),!Dt(f)||!Zt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var o=f>0?f:0,p=f<0?-f:0,m=this._size[0],w=this._size[1],g=Math.min(m-p,w-o),_=[],A=0;A<g;A++)_[A]=this._data[A+p][A+o];return new n({data:_,size:[g],datatype:this._datatype})},n.diagonal=function(f,o,p,m){if(!gt(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(P){if(Hr(P)&&(P=P.toNumber()),!Dt(P)||!Zt(P)||P<1)throw new Error("Size values must be positive integers");return P}),p){if(Hr(p)&&(p=p.toNumber()),!Dt(p)||!Zt(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var w=p>0?p:0,g=p<0?-p:0,_=f[0],A=f[1],O=Math.min(_-g,A-w),b;if(gt(o)){if(o.length!==O)throw new Error("Invalid value array length");b=function(B){return o[B]}}else if(wr(o)){var M=o.size();if(M.length!==1||M[0]!==O)throw new Error("Invalid matrix length");b=function(B){return o.get([B])}}else b=function(){return o};m||(m=Hr(b(0))?b(0).mul(0):0);var F=[];if(f.length>0){F=Kc(F,f,m);for(var S=0;S<O;S++)F[S+g][S+w]=b(S)}return new n({data:F,size:[_,A]})},n.fromJSON=function(f){return new n(f)},n.prototype.swapRows=function(f,o){if(!Dt(f)||!Zt(f)||!Dt(o)||!Zt(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mt(f,this._size[0]),mt(o,this._size[0]),n._swapRows(f,o,this._data),this},n._swapRows=function(f,o,p){var m=p[f];p[f]=p[o],p[o]=m};function v(f){for(var o=0,p=f.length;o<p;o++){var m=f[o];gt(m)?f[o]=v(m):m&&m.isMatrix===!0&&(f[o]=v(m.valueOf()))}return f}return n},{isClass:!0});function cl(e,t,n){return e&&typeof e.map=="function"?e.map(function(u){return cl(u,t)}):t(e)}var Xc="isInteger",VA=["typed"],jA=st(Xc,VA,e=>{var{typed:t}=e;return t(Xc,{number:Zt,BigNumber:function(u){return u.isInt()},Fraction:function(u){return u.d===1&&isFinite(u.n)},"Array | Matrix":t.referToSelf(n=>u=>cl(u,n))})}),W0="number, number";function k0(e,t){return e+t}k0.signature=W0;function H0(e,t){return e*t}H0.signature=W0;function WA(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var u=e.minus(t).abs();if(u.isZero())return!0;var a=e.constructor.max(e.abs(),t.abs());return u.lte(a.times(n))}return!1}function kA(e,t,n){return oa(e.re,t.re,n)&&oa(e.im,t.im,n)}var HA=st("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(u,a)=>{if(!u.equalBase(a))throw new Error("Cannot compare units with different base");return t.find(n,[u.valueType(),a.valueType()])(u.value,a.value)})}}),da="equalScalar",GA=["typed","config"],$A=st(da,GA,e=>{var{typed:t,config:n}=e,u=HA({typed:t});return t(da,{"boolean, boolean":function(s,l){return s===l},"number, number":function(s,l){return oa(s,l,n.epsilon)},"BigNumber, BigNumber":function(s,l){return s.eq(l)||WA(s,l,n.epsilon)},"Fraction, Fraction":function(s,l){return s.equals(l)},"Complex, Complex":function(s,l){return kA(s,l,n.epsilon)}},u)});st(da,["typed","config"],e=>{var{typed:t,config:n}=e;return t(da,{"number, number":function(a,s){return oa(a,s,n.epsilon)}})});var KA="SparseMatrix",YA=["typed","equalScalar","Matrix"],ZA=st(KA,YA,e=>{var{typed:t,equalScalar:n,Matrix:u}=e;function a(g,_){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(_&&!an(_))throw new Error("Invalid datatype: "+_);if(wr(g))s(this,g,_);else if(g&&gt(g.index)&&gt(g.ptr)&&gt(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=_||g.datatype;else if(gt(g))l(this,g,_);else{if(g)throw new TypeError("Unsupported type of data ("+iu(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=_}}function s(g,_,A){_.type==="SparseMatrix"?(g._values=_._values?Yt(_._values):void 0,g._index=Yt(_._index),g._ptr=Yt(_._ptr),g._size=Yt(_._size),g._datatype=A||_._datatype):l(g,_.valueOf(),A||_._datatype)}function l(g,_,A){g._values=[],g._index=[],g._ptr=[],g._datatype=A;var O=_.length,b=0,M=n,F=0;if(an(A)&&(M=t.find(n,[A,A])||n,F=t.convert(0,A)),O>0){var S=0;do{g._ptr.push(g._index.length);for(var P=0;P<O;P++){var B=_[P];if(gt(B)){if(S===0&&b<B.length&&(b=B.length),S<B.length){var I=B[S];M(I,F)||(g._values.push(I),g._index.push(P))}}else S===0&&b<1&&(b=1),M(B,F)||(g._values.push(B),g._index.push(P))}S++}while(S<b)}g._ptr.push(g._index.length),g._size=[O,b]}a.prototype=new u,a.prototype.createSparseMatrix=function(g,_){return new a(g,_)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return la(this._values,iu)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(g,_){return new a(g,_)},a.prototype.density=function(){var g=this._size[0],_=this._size[1];return g!==0&&_!==0?this._index.length/(g*_):0},a.prototype.subset=function(g,_,A){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,g);case 2:case 3:return d(this,g,_,A);default:throw new SyntaxError("Wrong number of arguments")}};function c(g,_){if(!ol(_))throw new TypeError("Invalid index");var A=_.isScalar();if(A)return g.get(_.min());var O=_.size();if(O.length!==g._size.length)throw new at(O.length,g._size.length);var b,M,F,S,P=_.min(),B=_.max();for(b=0,M=g._size.length;b<M;b++)mt(P[b],g._size[b]),mt(B[b],g._size[b]);var I=g._values,q=g._index,$=g._ptr,k=_.dimension(0),se=_.dimension(1),G=[],K=[];k.forEach(function(ge,Ae){K[ge]=Ae[0],G[ge]=!0});var H=I?[]:void 0,oe=[],fe=[];return se.forEach(function(ge){for(fe.push(oe.length),F=$[ge],S=$[ge+1];F<S;F++)b=q[F],G[b]===!0&&(oe.push(K[b]),H&&H.push(I[F]))}),fe.push(oe.length),new a({values:H,index:oe,ptr:fe,size:O,datatype:g._datatype})}function d(g,_,A,O){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var b=_.size(),M=_.isScalar(),F;if(wr(A)?(F=A.size(),A=A.toArray()):F=jn(A),M){if(F.length!==0)throw new TypeError("Scalar expected");g.set(_.min(),A,O)}else{if(b.length!==1&&b.length!==2)throw new at(b.length,g._size.length,"<");if(F.length<b.length){for(var S=0,P=0;b[S]===1&&F[S]===1;)S++;for(;b[S]===1;)P++,S++;A=F0(A,b.length,P,F)}if(!sa(b,F))throw new at(b,F,">");if(b.length===1){var B=_.dimension(0);B.forEach(function($,k){mt($),g.set([$,0],A[k[0]],O)})}else{var I=_.dimension(0),q=_.dimension(1);I.forEach(function($,k){mt($),q.forEach(function(se,G){mt(se),g.set([$,se],A[k[0]][G[0]],O)})})}}return g}a.prototype.get=function(g){if(!gt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new at(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var _=g[0],A=g[1];mt(_,this._size[0]),mt(A,this._size[1]);var O=v(_,this._ptr[A],this._ptr[A+1],this._index);return O<this._ptr[A+1]&&this._index[O]===_?this._values[O]:0},a.prototype.set=function(g,_,A){if(!gt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new at(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var O=g[0],b=g[1],M=this._size[0],F=this._size[1],S=n,P=0;an(this._datatype)&&(S=t.find(n,[this._datatype,this._datatype])||n,P=t.convert(0,this._datatype)),(O>M-1||b>F-1)&&(p(this,Math.max(O+1,M),Math.max(b+1,F),A),M=this._size[0],F=this._size[1]),mt(O,M),mt(b,F);var B=v(O,this._ptr[b],this._ptr[b+1],this._index);return B<this._ptr[b+1]&&this._index[B]===O?S(_,P)?f(B,b,this._values,this._index,this._ptr):this._values[B]=_:S(_,P)||o(B,O,b,_,this._values,this._index,this._ptr),this};function v(g,_,A,O){if(A-_===0)return A;for(var b=_;b<A;b++)if(O[b]===g)return b;return _}function f(g,_,A,O,b){A.splice(g,1),O.splice(g,1);for(var M=_+1;M<b.length;M++)b[M]--}function o(g,_,A,O,b,M,F){b.splice(g,0,O),M.splice(g,0,_);for(var S=A+1;S<F.length;S++)F[S]++}a.prototype.resize=function(g,_,A){if(!aa(g))throw new TypeError("Array or Matrix expected");var O=g.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(O.length!==2)throw new Error("Only two dimensions matrix are supported");O.forEach(function(M){if(!Dt(M)||!Zt(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Fr(O)+")")});var b=A?this.clone():this;return p(b,O[0],O[1],_)};function p(g,_,A,O){var b=O||0,M=n,F=0;an(g._datatype)&&(M=t.find(n,[g._datatype,g._datatype])||n,F=t.convert(0,g._datatype),b=t.convert(b,g._datatype));var S=!M(b,F),P=g._size[0],B=g._size[1],I,q,$;if(A>B){for(q=B;q<A;q++)if(g._ptr[q]=g._values.length,S)for(I=0;I<P;I++)g._values.push(b),g._index.push(I);g._ptr[A]=g._values.length}else A<B&&(g._ptr.splice(A+1,B-A),g._values.splice(g._ptr[A],g._values.length),g._index.splice(g._ptr[A],g._index.length));if(B=A,_>P){if(S){var k=0;for(q=0;q<B;q++){g._ptr[q]=g._ptr[q]+k,$=g._ptr[q+1]+k;var se=0;for(I=P;I<_;I++,se++)g._values.splice($+se,0,b),g._index.splice($+se,0,I),k++}g._ptr[B]=g._values.length}}else if(_<P){var G=0;for(q=0;q<B;q++){g._ptr[q]=g._ptr[q]-G;var K=g._ptr[q],H=g._ptr[q+1]-G;for($=K;$<H;$++)I=g._index[$],I>_-1&&(g._values.splice($,1),g._index.splice($,1),G++)}g._ptr[q]=g._values.length}return g._size[0]=_,g._size[1]=A,g}a.prototype.reshape=function(g,_){if(!gt(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(ge){if(!Dt(ge)||!Zt(ge)||ge<=-2||ge===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Fr(g)+")")});var A=this._size[0]*this._size[1];g=ll(g,A);var O=g[0]*g[1];if(A!==O)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=_?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return b;for(var M=[],F=0;F<b._ptr.length;F++)for(var S=0;S<b._ptr[F+1]-b._ptr[F];S++)M.push(F);for(var P=b._values.slice(),B=b._index.slice(),I=0;I<b._index.length;I++){var q=B[I],$=M[I],k=q*b._size[1]+$;M[I]=k%g[1],B[I]=Math.floor(k/g[1])}b._values.length=0,b._index.length=0,b._ptr.length=g[1]+1,b._size=g.slice();for(var se=0;se<b._ptr.length;se++)b._ptr[se]=0;for(var G=0;G<P.length;G++){var K=B[G],H=M[G],oe=P[G],fe=v(K,b._ptr[H],b._ptr[H+1],b._index);o(fe,K,H,oe,b._values,b._index,b._ptr)}return b},a.prototype.clone=function(){var g=new a({values:this._values?Yt(this._values):void 0,index:Yt(this._index),ptr:Yt(this._ptr),size:Yt(this._size),datatype:this._datatype});return g},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(g,_){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var A=this,O=this._size[0],b=this._size[1],M=j0(g),F=function(P,B,I){return M===1?g(P):M===2?g(P,[B,I]):g(P,[B,I],A)};return m(this,0,O-1,0,b-1,F,_)};function m(g,_,A,O,b,M,F){var S=[],P=[],B=[],I=n,q=0;an(g._datatype)&&(I=t.find(n,[g._datatype,g._datatype])||n,q=t.convert(0,g._datatype));for(var $=function(Te,nt,We){Te=M(Te,nt,We),I(Te,q)||(S.push(Te),P.push(nt))},k=O;k<=b;k++){B.push(S.length);var se=g._ptr[k],G=g._ptr[k+1];if(F)for(var K=se;K<G;K++){var H=g._index[K];H>=_&&H<=A&&$(g._values[K],H-_,k-O)}else{for(var oe={},fe=se;fe<G;fe++){var ge=g._index[fe];oe[ge]=g._values[fe]}for(var Ae=_;Ae<=A;Ae++){var Se=Ae in oe?oe[Ae]:0;$(Se,Ae-_,k-O)}}}return B.push(S.length),new a({values:S,index:P,ptr:B,size:[A-_+1,b-O+1]})}a.prototype.forEach=function(g,_){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var A=this,O=this._size[0],b=this._size[1],M=0;M<b;M++){var F=this._ptr[M],S=this._ptr[M+1];if(_)for(var P=F;P<S;P++){var B=this._index[P];g(this._values[P],[B,M],A)}else{for(var I={},q=F;q<S;q++){var $=this._index[q];I[$]=this._values[q]}for(var k=0;k<O;k++){var se=k in I?I[k]:0;g(se,[k,M],A)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],_=0;_<g;_++)for(var A=this._ptr[_],O=this._ptr[_+1],b=A;b<O;b++){var M=this._index[b];yield{value:this._values[b],index:[M,_]}}},a.prototype.toArray=function(){return w(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return w(this._values,this._index,this._ptr,this._size,!1)};function w(g,_,A,O,b){var M=O[0],F=O[1],S=[],P,B;for(P=0;P<M;P++)for(S[P]=[],B=0;B<F;B++)S[P][B]=0;for(B=0;B<F;B++)for(var I=A[B],q=A[B+1],$=I;$<q;$++)P=_[$],S[P][B]=g?b?Yt(g[$]):g[$]:1;return S}return a.prototype.format=function(g){for(var _=this._size[0],A=this._size[1],O=this.density(),b="Sparse Matrix ["+Fr(_,g)+" x "+Fr(A,g)+"] density: "+Fr(O,g)+`
`,M=0;M<A;M++)for(var F=this._ptr[M],S=this._ptr[M+1],P=F;P<S;P++){var B=this._index[P];b+=`
    (`+Fr(B,g)+", "+Fr(M,g)+") ==> "+(this._values?Fr(this._values[P],g):"X")}return b},a.prototype.toString=function(){return Fr(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(g){if(g){if(Hr(g)&&(g=g.toNumber()),!Dt(g)||!Zt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=g>0?g:0,A=g<0?-g:0,O=this._size[0],b=this._size[1],M=Math.min(O-A,b-_),F=[],S=[],P=[];P[0]=0;for(var B=_;B<b&&F.length<M;B++)for(var I=this._ptr[B],q=this._ptr[B+1],$=I;$<q;$++){var k=this._index[$];if(k===B-_+A){F.push(this._values[$]),S[F.length-1]=k-A;break}}return P.push(F.length),new a({values:F,index:S,ptr:P,size:[M,1]})},a.fromJSON=function(g){return new a(g)},a.diagonal=function(g,_,A,O,b){if(!gt(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(ge){if(Hr(ge)&&(ge=ge.toNumber()),!Dt(ge)||!Zt(ge)||ge<1)throw new Error("Size values must be positive integers");return ge}),A){if(Hr(A)&&(A=A.toNumber()),!Dt(A)||!Zt(A))throw new TypeError("The parameter k must be an integer number")}else A=0;var M=n,F=0;an(b)&&(M=t.find(n,[b,b])||n,F=t.convert(0,b));var S=A>0?A:0,P=A<0?-A:0,B=g[0],I=g[1],q=Math.min(B-P,I-S),$;if(gt(_)){if(_.length!==q)throw new Error("Invalid value array length");$=function(Ae){return _[Ae]}}else if(wr(_)){var k=_.size();if(k.length!==1||k[0]!==q)throw new Error("Invalid matrix length");$=function(Ae){return _.get([Ae])}}else $=function(){return _};for(var se=[],G=[],K=[],H=0;H<I;H++){K.push(se.length);var oe=H-S;if(oe>=0&&oe<q){var fe=$(oe);M(fe,F)||(G.push(oe+P),se.push(fe))}}return K.push(se.length),new a({values:se,index:G,ptr:K,size:[B,I]})},a.prototype.swapRows=function(g,_){if(!Dt(g)||!Zt(g)||!Dt(_)||!Zt(_))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mt(g,this._size[0]),mt(_,this._size[0]),a._swapRows(g,_,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(g,_,A,O,b){for(var M=O[g],F=O[g+1],S=M;S<F;S++)b(A[S],_[S])},a._swapRows=function(g,_,A,O,b,M){for(var F=0;F<A;F++){var S=M[F],P=M[F+1],B=v(g,S,P,b),I=v(_,S,P,b);if(B<P&&I<P&&b[B]===g&&b[I]===_){if(O){var q=O[B];O[B]=O[I],O[I]=q}continue}if(B<P&&b[B]===g&&(I>=P||b[I]!==_)){var $=O?O[B]:void 0;b.splice(I,0,_),O&&O.splice(I,0,$),b.splice(I<=B?B+1:B,1),O&&O.splice(I<=B?B+1:B,1);continue}if(I<P&&b[I]===_&&(B>=P||b[B]!==g)){var k=O?O[I]:void 0;b.splice(B,0,g),O&&O.splice(B,0,k),b.splice(B<=I?I+1:I,1),O&&O.splice(B<=I?I+1:I,1)}}},a},{isClass:!0}),Qc="matrix",JA=["typed","Matrix","DenseMatrix","SparseMatrix"],XA=st(Qc,JA,e=>{var{typed:t,Matrix:n,DenseMatrix:u,SparseMatrix:a}=e;return t(Qc,{"":function(){return s([])},string:function(c){return s([],c)},"string, string":function(c,d){return s([],c,d)},Array:function(c){return s(c)},Matrix:function(c){return s(c,c.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(l,c,d){if(c==="dense"||c==="default"||c===void 0)return new u(l,d);if(c==="sparse")return new a(l,d);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),eh="addScalar",QA=["typed"],eE=st(eh,QA,e=>{var{typed:t}=e;return t(eh,{"number, number":k0,"Complex, Complex":function(u,a){return u.add(a)},"BigNumber, BigNumber":function(u,a){return u.plus(a)},"Fraction, Fraction":function(u,a){return u.add(a)},"Unit, Unit":t.referToSelf(n=>(u,a)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(a))throw new Error("Units do not match");var s=u.clone();return s.value=t.find(n,[s.valueType(),a.valueType()])(s.value,a.value),s.fixPrefix=!1,s})})}),tE="matAlgo11xS0s",rE=["typed","equalScalar"],nE=st(tE,rE,e=>{var{typed:t,equalScalar:n}=e;return function(a,s,l,c){var d=a._values,v=a._index,f=a._ptr,o=a._size,p=a._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=o[0],w=o[1],g,_=n,A=0,O=l;typeof p=="string"&&(g=p,_=t.find(n,[g,g]),A=t.convert(0,g),s=t.convert(s,g),O=t.find(l,[g,g]));for(var b=[],M=[],F=[],S=0;S<w;S++){F[S]=M.length;for(var P=f[S],B=f[S+1],I=P;I<B;I++){var q=v[I],$=c?O(s,d[I]):O(d[I],s);_($,A)||(M.push(q),b.push($))}}return F[w]=M.length,a.createSparseMatrix({values:b,index:M,ptr:F,size:[m,w],datatype:g})}}),iE="matAlgo14xDs",uE=["typed"],G0=st(iE,uE,e=>{var{typed:t}=e;return function(a,s,l,c){var d=a._data,v=a._size,f=a._datatype,o,p=l;typeof f=="string"&&(o=f,s=t.convert(s,o),p=t.find(l,[o,o]));var m=v.length>0?n(p,0,v,v[0],d,s,c):[];return a.createDenseMatrix({data:m,size:Yt(v),datatype:o})};function n(u,a,s,l,c,d,v){var f=[];if(a===s.length-1)for(var o=0;o<l;o++)f[o]=v?u(d,c[o]):u(c[o],d);else for(var p=0;p<l;p++)f[p]=n(u,a+1,s,s[a+1],c[p],d,v);return f}}),aE="matAlgo01xDSid",sE=["typed"],oE=st(aE,sE,e=>{var{typed:t}=e;return function(u,a,s,l){var c=u._data,d=u._size,v=u._datatype,f=a._values,o=a._index,p=a._ptr,m=a._size,w=a._datatype;if(d.length!==m.length)throw new at(d.length,m.length);if(d[0]!==m[0]||d[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=d[0],_=d[1],A=typeof v=="string"&&v===w?v:void 0,O=A?t.find(s,[A,A]):s,b,M,F=[];for(b=0;b<g;b++)F[b]=[];var S=[],P=[];for(M=0;M<_;M++){for(var B=M+1,I=p[M],q=p[M+1],$=I;$<q;$++)b=o[$],S[b]=l?O(f[$],c[b][M]):O(c[b][M],f[$]),P[b]=B;for(b=0;b<g;b++)P[b]===B?F[b][M]=S[b]:F[b][M]=c[b][M]}return u.createDenseMatrix({data:F,size:[g,_],datatype:A})}}),lE="matAlgo04xSidSid",fE=["typed","equalScalar"],cE=st(lE,fE,e=>{var{typed:t,equalScalar:n}=e;return function(a,s,l){var c=a._values,d=a._index,v=a._ptr,f=a._size,o=a._datatype,p=s._values,m=s._index,w=s._ptr,g=s._size,_=s._datatype;if(f.length!==g.length)throw new at(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var A=f[0],O=f[1],b,M=n,F=0,S=l;typeof o=="string"&&o===_&&(b=o,M=t.find(n,[b,b]),F=t.convert(0,b),S=t.find(l,[b,b]));var P=c&&p?[]:void 0,B=[],I=[],q=c&&p?[]:void 0,$=c&&p?[]:void 0,k=[],se=[],G,K,H,oe,fe;for(K=0;K<O;K++){I[K]=B.length;var ge=K+1;for(oe=v[K],fe=v[K+1],H=oe;H<fe;H++)G=d[H],B.push(G),k[G]=ge,q&&(q[G]=c[H]);for(oe=w[K],fe=w[K+1],H=oe;H<fe;H++)if(G=m[H],k[G]===ge){if(q){var Ae=S(q[G],p[H]);M(Ae,F)?k[G]=null:q[G]=Ae}}else B.push(G),se[G]=ge,$&&($[G]=p[H]);if(q&&$)for(H=I[K];H<B.length;)G=B[H],k[G]===ge?(P[H]=q[G],H++):se[G]===ge?(P[H]=$[G],H++):B.splice(H,1)}return I[O]=B.length,a.createSparseMatrix({values:P,index:B,ptr:I,size:[A,O],datatype:b})}}),hE="matAlgo10xSids",dE=["typed","DenseMatrix"],pE=st(hE,dE,e=>{var{typed:t,DenseMatrix:n}=e;return function(a,s,l,c){var d=a._values,v=a._index,f=a._ptr,o=a._size,p=a._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=o[0],w=o[1],g,_=l;typeof p=="string"&&(g=p,s=t.convert(s,g),_=t.find(l,[g,g]));for(var A=[],O=[],b=[],M=0;M<w;M++){for(var F=M+1,S=f[M],P=f[M+1],B=S;B<P;B++){var I=v[B];O[I]=d[B],b[I]=F}for(var q=0;q<m;q++)M===0&&(A[q]=[]),b[q]===F?A[q][M]=c?_(s,O[q]):_(O[q],s):A[q][M]=s}return new n({data:A,size:[m,w],datatype:g})}}),vE="matAlgo13xDD",gE=["typed"],mE=st(vE,gE,e=>{var{typed:t}=e;return function(a,s,l){var c=a._data,d=a._size,v=a._datatype,f=s._data,o=s._size,p=s._datatype,m=[];if(d.length!==o.length)throw new at(d.length,o.length);for(var w=0;w<d.length;w++){if(d[w]!==o[w])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+o+")");m[w]=d[w]}var g,_=l;typeof v=="string"&&v===p&&(g=v,_=t.find(l,[g,g]));var A=m.length>0?n(_,0,m,m[0],c,f):[];return a.createDenseMatrix({data:A,size:m,datatype:g})};function n(u,a,s,l,c,d){var v=[];if(a===s.length-1)for(var f=0;f<l;f++)v[f]=u(c[f],d[f]);else for(var o=0;o<l;o++)v[o]=n(u,a+1,s,s[a+1],c[o],d[o]);return v}}),DE="broadcast",_E=["concat"],wE=st(DE,_E,e=>{var{concat:t}=e;return function(s,l){var c=Math.max(s._size.length,l._size.length);if(s._size.length===l._size.length&&s._size.every((_,A)=>_===l._size[A]))return[s,l];for(var d=n(s._size,c,0),v=n(l._size,c,0),f=[],o=0;o<c;o++)f[o]=Math.max(d[o],v[o]);for(var p=0;p<c;p++)a(d,f,p),a(v,f,p);var m=s.clone(),w=l.clone();m._size.length<c?m.reshape(n(m._size,c,1)):w._size.length<c&&w.reshape(n(w._size,c,1));for(var g=0;g<c;g++)m._size[g]<f[g]&&(m=u(m,f[g],g)),w._size[g]<f[g]&&(w=u(w,f[g],g));return[m,w]};function n(s,l,c){return[...Array(l-s.length).fill(c),...s]}function u(s,l,c){return t(...Array(l).fill(s),c)}function a(s,l,c){if(s[c]<l[c]&s[c]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(s,") not possible to broadcast dimension ").concat(c," with size ").concat(s[c]," to size ").concat(l[c]))}}),AE="matrixAlgorithmSuite",EE=["typed","matrix","concat"],yE=st(AE,EE,e=>{var{typed:t,matrix:n,concat:u}=e,a=mE({typed:t}),s=G0({typed:t}),l=wE({concat:u});return function(d){var v=d.elop,f=d.SD||d.DS,o;v?(o={"DenseMatrix, DenseMatrix":(g,_)=>a(...l(g,_),v),"Array, Array":(g,_)=>a(...l(n(g),n(_)),v).valueOf(),"Array, DenseMatrix":(g,_)=>a(...l(n(g),_),v),"DenseMatrix, Array":(g,_)=>a(...l(g,n(_)),v)},d.SS&&(o["SparseMatrix, SparseMatrix"]=(g,_)=>d.SS(...l(g,_),v,!1)),d.DS&&(o["DenseMatrix, SparseMatrix"]=(g,_)=>d.DS(...l(g,_),v,!1),o["Array, SparseMatrix"]=(g,_)=>d.DS(...l(n(g),_),v,!1)),f&&(o["SparseMatrix, DenseMatrix"]=(g,_)=>f(...l(_,g),v,!0),o["SparseMatrix, Array"]=(g,_)=>f(...l(n(_),g),v,!0))):(o={"DenseMatrix, DenseMatrix":t.referToSelf(g=>(_,A)=>a(...l(_,A),g)),"Array, Array":t.referToSelf(g=>(_,A)=>a(...l(n(_),n(A)),g).valueOf()),"Array, DenseMatrix":t.referToSelf(g=>(_,A)=>a(...l(n(_),A),g)),"DenseMatrix, Array":t.referToSelf(g=>(_,A)=>a(...l(_,n(A)),g))},d.SS&&(o["SparseMatrix, SparseMatrix"]=t.referToSelf(g=>(_,A)=>d.SS(...l(_,A),g,!1))),d.DS&&(o["DenseMatrix, SparseMatrix"]=t.referToSelf(g=>(_,A)=>d.DS(...l(_,A),g,!1)),o["Array, SparseMatrix"]=t.referToSelf(g=>(_,A)=>d.DS(...l(n(_),A),g,!1))),f&&(o["SparseMatrix, DenseMatrix"]=t.referToSelf(g=>(_,A)=>f(...l(A,_),g,!0)),o["SparseMatrix, Array"]=t.referToSelf(g=>(_,A)=>f(...l(n(A),_),g,!0))));var p=d.scalar||"any",m=d.Ds||d.Ss;m&&(v?(o["DenseMatrix,"+p]=(g,_)=>s(g,_,v,!1),o[p+", DenseMatrix"]=(g,_)=>s(_,g,v,!0),o["Array,"+p]=(g,_)=>s(n(g),_,v,!1).valueOf(),o[p+", Array"]=(g,_)=>s(n(_),g,v,!0).valueOf()):(o["DenseMatrix,"+p]=t.referToSelf(g=>(_,A)=>s(_,A,g,!1)),o[p+", DenseMatrix"]=t.referToSelf(g=>(_,A)=>s(A,_,g,!0)),o["Array,"+p]=t.referToSelf(g=>(_,A)=>s(n(_),A,g,!1).valueOf()),o[p+", Array"]=t.referToSelf(g=>(_,A)=>s(n(A),_,g,!0).valueOf())));var w=d.sS!==void 0?d.sS:d.Ss;return v?(d.Ss&&(o["SparseMatrix,"+p]=(g,_)=>d.Ss(g,_,v,!1)),w&&(o[p+", SparseMatrix"]=(g,_)=>w(_,g,v,!0))):(d.Ss&&(o["SparseMatrix,"+p]=t.referToSelf(g=>(_,A)=>d.Ss(_,A,g,!1))),w&&(o[p+", SparseMatrix"]=t.referToSelf(g=>(_,A)=>w(A,_,g,!0)))),v&&v.signatures&&Q_(o,v.signatures),o}}),bE="multiplyScalar",FE=["typed"],CE=st(bE,FE,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":H0,"Complex, Complex":function(u,a){return u.mul(a)},"BigNumber, BigNumber":function(u,a){return u.times(a)},"Fraction, Fraction":function(u,a){return u.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(n,u)=>u.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,u)=>n.multiply(u)})}),th="multiply",SE=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],OE=st(th,SE,e=>{var{typed:t,matrix:n,addScalar:u,multiplyScalar:a,equalScalar:s,dot:l}=e,c=nE({typed:t,equalScalar:s}),d=G0({typed:t});function v(F,S){switch(F.length){case 1:switch(S.length){case 1:if(F[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;case 2:switch(S.length){case 1:if(F[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+S[0]+")");break;case 2:if(F[1]!==S[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+S[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+S.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function f(F,S,P){if(P===0)throw new Error("Cannot multiply two empty vectors");return l(F,S)}function o(F,S){if(S.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(F,S)}function p(F,S){var P=F._data,B=F._size,I=F._datatype,q=S._data,$=S._size,k=S._datatype,se=B[0],G=$[1],K,H=u,oe=a;I&&k&&I===k&&typeof I=="string"&&(K=I,H=t.find(u,[K,K]),oe=t.find(a,[K,K]));for(var fe=[],ge=0;ge<G;ge++){for(var Ae=oe(P[0],q[0][ge]),Se=1;Se<se;Se++)Ae=H(Ae,oe(P[Se],q[Se][ge]));fe[ge]=Ae}return F.createDenseMatrix({data:fe,size:[G],datatype:K})}var m=t("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":O}),w=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":_,"DenseMatrix, SparseMatrix":A,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":M});function g(F,S){var P=F._data,B=F._size,I=F._datatype,q=S._data,$=S._datatype,k=B[0],se=B[1],G,K=u,H=a;I&&$&&I===$&&typeof I=="string"&&(G=I,K=t.find(u,[G,G]),H=t.find(a,[G,G]));for(var oe=[],fe=0;fe<k;fe++){for(var ge=P[fe],Ae=H(ge[0],q[0]),Se=1;Se<se;Se++)Ae=K(Ae,H(ge[Se],q[Se]));oe[fe]=Ae}return F.createDenseMatrix({data:oe,size:[k],datatype:G})}function _(F,S){var P=F._data,B=F._size,I=F._datatype,q=S._data,$=S._size,k=S._datatype,se=B[0],G=B[1],K=$[1],H,oe=u,fe=a;I&&k&&I===k&&typeof I=="string"&&(H=I,oe=t.find(u,[H,H]),fe=t.find(a,[H,H]));for(var ge=[],Ae=0;Ae<se;Ae++){var Se=P[Ae];ge[Ae]=[];for(var Ue=0;Ue<K;Ue++){for(var Te=fe(Se[0],q[0][Ue]),nt=1;nt<G;nt++)Te=oe(Te,fe(Se[nt],q[nt][Ue]));ge[Ae][Ue]=Te}}return F.createDenseMatrix({data:ge,size:[se,K],datatype:H})}function A(F,S){var P=F._data,B=F._size,I=F._datatype,q=S._values,$=S._index,k=S._ptr,se=S._size,G=S._datatype;if(!q)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var K=B[0],H=se[1],oe,fe=u,ge=a,Ae=s,Se=0;I&&G&&I===G&&typeof I=="string"&&(oe=I,fe=t.find(u,[oe,oe]),ge=t.find(a,[oe,oe]),Ae=t.find(s,[oe,oe]),Se=t.convert(0,oe));for(var Ue=[],Te=[],nt=[],We=S.createSparseMatrix({values:Ue,index:Te,ptr:nt,size:[K,H],datatype:oe}),Ge=0;Ge<H;Ge++){nt[Ge]=Te.length;var it=k[Ge],pt=k[Ge+1];if(pt>it)for(var qe=0,$e=0;$e<K;$e++){for(var qt=$e+1,ht=void 0,Ke=it;Ke<pt;Ke++){var Ye=$[Ke];qe!==qt?(ht=ge(P[$e][Ye],q[Ke]),qe=qt):ht=fe(ht,ge(P[$e][Ye],q[Ke]))}qe===qt&&!Ae(ht,Se)&&(Te.push($e),Ue.push(ht))}}return nt[H]=Te.length,We}function O(F,S){var P=F._values,B=F._index,I=F._ptr,q=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=S._data,k=S._datatype,se=F._size[0],G=S._size[0],K=[],H=[],oe=[],fe,ge=u,Ae=a,Se=s,Ue=0;q&&k&&q===k&&typeof q=="string"&&(fe=q,ge=t.find(u,[fe,fe]),Ae=t.find(a,[fe,fe]),Se=t.find(s,[fe,fe]),Ue=t.convert(0,fe));var Te=[],nt=[];oe[0]=0;for(var We=0;We<G;We++){var Ge=$[We];if(!Se(Ge,Ue))for(var it=I[We],pt=I[We+1],qe=it;qe<pt;qe++){var $e=B[qe];nt[$e]?Te[$e]=ge(Te[$e],Ae(Ge,P[qe])):(nt[$e]=!0,H.push($e),Te[$e]=Ae(Ge,P[qe]))}}for(var qt=H.length,ht=0;ht<qt;ht++){var Ke=H[ht];K[ht]=Te[Ke]}return oe[1]=H.length,F.createSparseMatrix({values:K,index:H,ptr:oe,size:[se,1],datatype:fe})}function b(F,S){var P=F._values,B=F._index,I=F._ptr,q=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=S._data,k=S._datatype,se=F._size[0],G=S._size[0],K=S._size[1],H,oe=u,fe=a,ge=s,Ae=0;q&&k&&q===k&&typeof q=="string"&&(H=q,oe=t.find(u,[H,H]),fe=t.find(a,[H,H]),ge=t.find(s,[H,H]),Ae=t.convert(0,H));for(var Se=[],Ue=[],Te=[],nt=F.createSparseMatrix({values:Se,index:Ue,ptr:Te,size:[se,K],datatype:H}),We=[],Ge=[],it=0;it<K;it++){Te[it]=Ue.length;for(var pt=it+1,qe=0;qe<G;qe++){var $e=$[qe][it];if(!ge($e,Ae))for(var qt=I[qe],ht=I[qe+1],Ke=qt;Ke<ht;Ke++){var Ye=B[Ke];Ge[Ye]!==pt?(Ge[Ye]=pt,Ue.push(Ye),We[Ye]=fe($e,P[Ke])):We[Ye]=oe(We[Ye],fe($e,P[Ke]))}}for(var Nt=Te[it],Or=Ue.length,St=Nt;St<Or;St++){var ve=Ue[St];Se[St]=We[ve]}}return Te[K]=Ue.length,nt}function M(F,S){var P=F._values,B=F._index,I=F._ptr,q=F._datatype,$=S._values,k=S._index,se=S._ptr,G=S._datatype,K=F._size[0],H=S._size[1],oe=P&&$,fe,ge=u,Ae=a;q&&G&&q===G&&typeof q=="string"&&(fe=q,ge=t.find(u,[fe,fe]),Ae=t.find(a,[fe,fe]));for(var Se=oe?[]:void 0,Ue=[],Te=[],nt=F.createSparseMatrix({values:Se,index:Ue,ptr:Te,size:[K,H],datatype:fe}),We=oe?[]:void 0,Ge=[],it,pt,qe,$e,qt,ht,Ke,Ye,Nt=0;Nt<H;Nt++){Te[Nt]=Ue.length;var Or=Nt+1;for(qt=se[Nt],ht=se[Nt+1],$e=qt;$e<ht;$e++)if(Ye=k[$e],oe)for(pt=I[Ye],qe=I[Ye+1],it=pt;it<qe;it++)Ke=B[it],Ge[Ke]!==Or?(Ge[Ke]=Or,Ue.push(Ke),We[Ke]=Ae($[$e],P[it])):We[Ke]=ge(We[Ke],Ae($[$e],P[it]));else for(pt=I[Ye],qe=I[Ye+1],it=pt;it<qe;it++)Ke=B[it],Ge[Ke]!==Or&&(Ge[Ke]=Or,Ue.push(Ke));if(oe)for(var St=Te[Nt],ve=Ue.length,Ve=St;Ve<ve;Ve++){var Ot=Ue[Ve];Se[Ve]=We[Ot]}}return Te[H]=Ue.length,nt}return t(th,a,{"Array, Array":t.referTo("Matrix, Matrix",F=>(S,P)=>{v(jn(S),jn(P));var B=F(n(S),n(P));return wr(B)?B.valueOf():B}),"Matrix, Matrix":function(S,P){var B=S.size(),I=P.size();return v(B,I),B.length===1?I.length===1?f(S,P,B[0]):o(S,P):I.length===1?m(S,P):w(S,P)},"Matrix, Array":t.referTo("Matrix,Matrix",F=>(S,P)=>F(S,n(P))),"Array, Matrix":t.referToSelf(F=>(S,P)=>F(n(S,P.storage()),P)),"SparseMatrix, any":function(S,P){return c(S,P,a,!1)},"DenseMatrix, any":function(S,P){return d(S,P,a,!1)},"any, SparseMatrix":function(S,P){return c(P,S,a,!0)},"any, DenseMatrix":function(S,P){return d(P,S,a,!0)},"Array, any":function(S,P){return d(n(S),P,a,!1).valueOf()},"any, Array":function(S,P){return d(n(P),S,a,!0).valueOf()},"any, any":a,"any, any, ...any":t.referToSelf(F=>(S,P,B)=>{for(var I=F(S,P),q=0;q<B.length;q++)I=F(I,B[q]);return I})})}),rh="conj",ME=["typed"],BE=st(rh,ME,e=>{var{typed:t}=e;return t(rh,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>u=>cl(u,n))})}),nh="concat",PE=["typed","matrix","isInteger"],TE=st(nh,PE,e=>{var{typed:t,matrix:n,isInteger:u}=e;return t(nh,{"...Array | Matrix | number | BigNumber":function(s){var l,c=s.length,d=-1,v,f=!1,o=[];for(l=0;l<c;l++){var p=s[l];if(wr(p)&&(f=!0),Dt(p)||Hr(p)){if(l!==c-1)throw new Error("Dimension must be specified as last argument");if(v=d,d=p.valueOf(),!u(d))throw new TypeError("Integer number expected for dimension");if(d<0||l>0&&d>v)throw new si(d,v+1)}else{var m=Yt(p).valueOf(),w=jn(m);if(o[l]=m,v=d,d=w.length-1,l>0&&d!==v)throw new at(v+1,d+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var g=o.shift();o.length;)g=$0(g,o.shift(),d,0);return f?n(g):g},"...string":function(s){return s.join("")}})});function $0(e,t,n,u){if(u<n){if(e.length!==t.length)throw new at(e.length,t.length);for(var a=[],s=0;s<e.length;s++)a[s]=$0(e[s],t[s],n,u+1);return a}else return e.concat(t)}function NE(){throw new Error('No "matrix" implementation available')}var ih="size",IE=["typed","config","?matrix"],xE=st(ih,IE,e=>{var{typed:t,config:n,matrix:u}=e;return t(ih,{Matrix:function(s){return s.create(s.size())},Array:jn,string:function(s){return n.matrix==="Array"?[s.length]:u([s.length])},"number | Complex | BigNumber | Unit | boolean | null":function(s){return n.matrix==="Array"?[]:u?u([]):NE()}})}),uh="add",RE=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],UE=st(uh,RE,e=>{var{typed:t,matrix:n,addScalar:u,equalScalar:a,DenseMatrix:s,SparseMatrix:l,concat:c}=e,d=oE({typed:t}),v=cE({typed:t,equalScalar:a}),f=pE({typed:t,DenseMatrix:s}),o=yE({typed:t,matrix:n,concat:c});return t(uh,{"any, any":u,"any, any, ...any":t.referToSelf(p=>(m,w,g)=>{for(var _=p(m,w),A=0;A<g.length;A++)_=p(_,g[A]);return _})},o({elop:u,DS:d,SS:v,Ss:f}))}),ah="dot",LE=["typed","addScalar","multiplyScalar","conj","size"],zE=st(ah,LE,e=>{var{typed:t,addScalar:n,multiplyScalar:u,conj:a,size:s}=e;return t(ah,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":d});function l(f,o){var p=v(f),m=v(o),w,g;if(p.length===1)w=p[0];else if(p.length===2&&p[1]===1)w=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)g=m[0];else if(m.length===2&&m[1]===1)g=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(w!==g)throw new RangeError("Vectors must have equal length ("+w+" != "+g+")");if(w===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return w}function c(f,o){var p=l(f,o),m=wr(f)?f._data:f,w=wr(f)?f._datatype:void 0,g=wr(o)?o._data:o,_=wr(o)?o._datatype:void 0,A=v(f).length===2,O=v(o).length===2,b=n,M=u;if(w&&_&&w===_&&typeof w=="string"){var F=w;b=t.find(n,[F,F]),M=t.find(u,[F,F])}if(!A&&!O){for(var S=M(a(m[0]),g[0]),P=1;P<p;P++)S=b(S,M(a(m[P]),g[P]));return S}if(!A&&O){for(var B=M(a(m[0]),g[0][0]),I=1;I<p;I++)B=b(B,M(a(m[I]),g[I][0]));return B}if(A&&!O){for(var q=M(a(m[0][0]),g[0]),$=1;$<p;$++)q=b(q,M(a(m[$][0]),g[$]));return q}if(A&&O){for(var k=M(a(m[0][0]),g[0][0]),se=1;se<p;se++)k=b(k,M(a(m[se][0]),g[se][0]));return k}}function d(f,o){l(f,o);for(var p=f._index,m=f._values,w=o._index,g=o._values,_=0,A=n,O=u,b=0,M=0;b<p.length&&M<w.length;){var F=p[b],S=w[M];if(F<S){b++;continue}if(F>S){M++;continue}F===S&&(_=A(_,O(m[b],g[M])),b++,M++)}return _}function v(f){return wr(f)?f.size():s(f)}}),qE=CA({config:Aa}),VE=BA({}),jE=IA({}),hl=UA({}),dl=qA({Matrix:hl}),Gr=Mw({BigNumber:qE,Complex:VE,DenseMatrix:dl,Fraction:jE}),pl=eE({typed:Gr}),WE=BE({typed:Gr}),vl=$A({config:Aa,typed:Gr}),kE=jA({typed:Gr}),K0=CE({typed:Gr}),Y0=ZA({Matrix:hl,equalScalar:vl,typed:Gr}),Sa=XA({DenseMatrix:dl,Matrix:hl,SparseMatrix:Y0,typed:Gr}),HE=xE({matrix:Sa,config:Aa,typed:Gr}),GE=TE({isInteger:kE,matrix:Sa,typed:Gr}),pa=UE({DenseMatrix:dl,SparseMatrix:Y0,addScalar:pl,concat:GE,equalScalar:vl,matrix:Sa,typed:Gr}),$E=zE({addScalar:pl,conj:WE,multiplyScalar:K0,size:HE,typed:Gr}),Jo=OE({addScalar:pl,dot:$E,equalScalar:vl,matrix:Sa,multiplyScalar:K0,typed:Gr});const Qu="activePromptStore";function Kt(e,t,n,u=1){return{id:e,text:t,barWeight:u,parsedWeight:n}}function sh(){return{0:Kt(0,"Magic potion in a mystical bottle",1),1:Kt(1,"A crystalline decanter",1),2:Kt(2,"An ornate tequila bottle",1),3:Kt(3,"An antique sake bottle",1),4:Kt(4,"A colorful perfume bottle",1),5:Kt(5,"A glass vase full of vibrant flowers",1),6:Kt(6,"A minimalist glass tea kettle",1),7:Kt(7,"Chihuly glass art",1),8:Kt(8,"A fine wine bottle",1),9:Kt(9,"A gourmet vinegar bottle",1),10:Kt(10,"A stunning fishbowl",1),11:Kt(11,"A striking piece of tourmaline",1),12:Kt(12,"A finely cut piece of sapphire",1),13:Kt(13,"Iittala glass art",1)}}function xi(e,t="circle"){return{weightedPrompts:e||{},weightMode:t,circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0}}function KE(){const e=Sn({}),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[Qu]?JSON.parse(localStorage[Qu]):xi(sh())),{subscribe:t,updateActivePrompt:s=>{!s||!a||(localStorage[Qu]=JSON.stringify(s),n(s))},getActivePrompt:()=>Ct(e),deleteActivePrompt:()=>{a&&(delete localStorage[Qu],n(xi(sh())))}}}const Xt=KE(),Hn=Cn(Xt,e=>Ct(Xt));function YE(e){let t,n,u;return{c(){t=dr("circle"),this.h()},l(a){t=pr(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),ue(t).forEach(j),this.h()},h(){U(t,"cx",n=e[0][0]),U(t,"cy",u=e[0][1]),U(t,"r",e[1]),U(t,"stroke",e[3]),U(t,"stroke-width",e[2]),bt(t,"fill","rgba(0,0,0,0)")},m(a,s){Ee(a,t,s)},p(a,[s]){s&1&&n!==(n=a[0][0])&&U(t,"cx",n),s&1&&u!==(u=a[0][1])&&U(t,"cy",u),s&2&&U(t,"r",a[1]),s&8&&U(t,"stroke",a[3]),s&4&&U(t,"stroke-width",a[2])},i:Xe,o:Xe,d(a){a&&j(t)}}}function ZE(e,t,n){let{xy:u=[500,500]}=t,{radius:a=400}=t,{stroke:s=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=c=>{"xy"in c&&n(0,u=c.xy),"radius"in c&&n(1,a=c.radius),"stroke"in c&&n(2,s=c.stroke),"color"in c&&n(3,l=c.color)},[u,a,s,l]}class JE extends Ut{constructor(t){super(),Lt(this,t,ZE,YE,zt,{xy:0,radius:1,stroke:2,color:3})}}function XE(e){let t,n,u,a,s;return{c(){t=dr("circle"),this.h()},l(l){t=pr(l,"circle",{cx:!0,cy:!0,r:!0}),ue(t).forEach(j),this.h()},h(){U(t,"cx",n=e[0][0]),U(t,"cy",u=e[0][1]),U(t,"r",e[1]),bt(t,"fill",e[2])},m(l,c){Ee(l,t,c),a||(s=[xe(t,"mouseover",e[3]),xe(t,"mouseout",e[4]),xe(t,"mousedown",e[5])],a=!0)},p(l,[c]){c&1&&n!==(n=l[0][0])&&U(t,"cx",n),c&1&&u!==(u=l[0][1])&&U(t,"cy",u),c&2&&U(t,"r",l[1]),c&4&&bt(t,"fill",l[2])},i:Xe,o:Xe,d(l){l&&j(t),a=!1,en(s)}}}function QE(e,t,n){let{xy:u=[100,100]}=t,{radius:a=5}=t,{color:s="black"}=t,{hoverColor:l="white"}=t,{handleMouseDown:c=p=>{}}=t,d=s;function v(){n(2,d=l)}function f(){n(2,d=s)}function o(p){c(p)}return e.$$set=p=>{"xy"in p&&n(0,u=p.xy),"radius"in p&&n(1,a=p.radius),"color"in p&&n(6,s=p.color),"hoverColor"in p&&n(7,l=p.hoverColor),"handleMouseDown"in p&&n(8,c=p.handleMouseDown)},[u,a,d,v,f,o,s,l,c]}class Z0 extends Ut{constructor(t){super(),Lt(this,t,QE,XE,zt,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function ey(e){let t,n,u,a,s;return{c(){t=dr("line"),this.h()},l(l){t=pr(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),ue(t).forEach(j),this.h()},h(){U(t,"x1",n=e[0][0]),U(t,"y1",u=e[0][1]),U(t,"x2",a=e[1][0]),U(t,"y2",s=e[1][1]),U(t,"stroke",e[3]),U(t,"stroke-dasharray","10,10"),U(t,"stroke-width",e[2])},m(l,c){Ee(l,t,c)},p(l,[c]){c&1&&n!==(n=l[0][0])&&U(t,"x1",n),c&1&&u!==(u=l[0][1])&&U(t,"y1",u),c&2&&a!==(a=l[1][0])&&U(t,"x2",a),c&2&&s!==(s=l[1][1])&&U(t,"y2",s),c&8&&U(t,"stroke",l[3]),c&4&&U(t,"stroke-width",l[2])},i:Xe,o:Xe,d(l){l&&j(t)}}}function ty(e,t,n){let{p1:u=[100,100]}=t,{p2:a=[100,100]}=t,{stroke:s=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=c=>{"p1"in c&&n(0,u=c.p1),"p2"in c&&n(1,a=c.p2),"stroke"in c&&n(2,s=c.stroke),"color"in c&&n(3,l=c.color)},[u,a,s,l]}class ry extends Ut{constructor(t){super(),Lt(this,t,ty,ey,zt,{p1:0,p2:1,stroke:2,color:3})}}function ny(e){let t,n,u,a,s,l,c,d;return{c(){t=dr("foreignObject"),n=ce("div"),u=ce("p"),a=Ze(e[2]),this.h()},l(v){t=pr(v,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var f=ue(t);n=he(f,"DIV",{class:!0});var o=ue(n);u=he(o,"P",{});var p=ue(u);a=Je(p,e[2]),p.forEach(j),o.forEach(j),f.forEach(j),this.h()},h(){bt(u,"color",e[3]),bt(u,"user-select","none"),bt(u,"margin","0"),bt(u,"pointer-events","none"),bt(u,"text-align",e[4]),bt(u,"font-size",`${e[5]}px`),bt(u,"font-family","sans-serif"),bt(u,"font-style","italic"),U(n,"class","h-full flex flex-col justify-center"),U(t,"x",s=e[0][0]),U(t,"y",l=e[0][1]),U(t,"width",c=e[1][0]),U(t,"height",d=e[1][1])},m(v,f){Ee(v,t,f),Q(t,n),Q(n,u),Q(u,a)},p(v,[f]){f&4&&Fn(a,v[2]),f&8&&bt(u,"color",v[3]),f&16&&bt(u,"text-align",v[4]),f&32&&bt(u,"font-size",`${v[5]}px`),f&1&&s!==(s=v[0][0])&&U(t,"x",s),f&1&&l!==(l=v[0][1])&&U(t,"y",l),f&2&&c!==(c=v[1][0])&&U(t,"width",c),f&2&&d!==(d=v[1][1])&&U(t,"height",d)},i:Xe,o:Xe,d(v){v&&j(t)}}}function iy(e,t,n){let{xy:u=[100,100]}=t,{wh:a=[100,100]}=t,{text:s=""}=t,{color:l="rgba(96,117,151, 1)"}=t,{textAlign:c="center"}=t,{fontSize:d=12}=t;return e.$$set=v=>{"xy"in v&&n(0,u=v.xy),"wh"in v&&n(1,a=v.wh),"text"in v&&n(2,s=v.text),"color"in v&&n(3,l=v.color),"textAlign"in v&&n(4,c=v.textAlign),"fontSize"in v&&n(5,d=v.fontSize)},[u,a,s,l,c,d]}class J0 extends Ut{constructor(t){super(),Lt(this,t,iy,ny,zt,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function uy(e){let t,n,u,a,s,l,c,d,v,f,o;return{c(){t=dr("circle"),a=et(),s=dr("foreignObject"),l=ce("p"),c=Ze(e[4]),this.h()},l(p){t=pr(p,"circle",{cx:!0,cy:!0,r:!0}),ue(t).forEach(j),a=tt(p),s=pr(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var m=ue(s);l=he(m,"P",{style:!0,class:!0});var w=ue(l);c=Je(w,e[4]),w.forEach(j),m.forEach(j),this.h()},h(){U(t,"cx",n=e[0][0]),U(t,"cy",u=e[0][1]),U(t,"r",e[1]),bt(t,"fill",e[3]),bt(l,"color",e[2]),bt(l,"user-select","none"),bt(l,"margin","0"),U(l,"class","heavy svelte-6if1p2"),U(s,"x",d=e[0][0]-e[1]),U(s,"y",v=e[0][1]-e[1]),U(s,"width",f=e[1]*2),U(s,"height",o=e[1]*2)},m(p,m){Ee(p,t,m),Ee(p,a,m),Ee(p,s,m),Q(s,l),Q(l,c)},p(p,[m]){m&1&&n!==(n=p[0][0])&&U(t,"cx",n),m&1&&u!==(u=p[0][1])&&U(t,"cy",u),m&2&&U(t,"r",p[1]),m&8&&bt(t,"fill",p[3]),m&16&&Fn(c,p[4]),m&4&&bt(l,"color",p[2]),m&3&&d!==(d=p[0][0]-p[1])&&U(s,"x",d),m&3&&v!==(v=p[0][1]-p[1])&&U(s,"y",v),m&2&&f!==(f=p[1]*2)&&U(s,"width",f),m&2&&o!==(o=p[1]*2)&&U(s,"height",o)},i:Xe,o:Xe,d(p){p&&j(t),p&&j(a),p&&j(s)}}}function ay(e,t,n){let{xy:u=[100,100]}=t,{radius:a=25}=t,{textColor:s="rgba(96,117,151, 1)"}=t,{bgColor:l="black"}=t,{weight:c=""}=t;return e.$$set=d=>{"xy"in d&&n(0,u=d.xy),"radius"in d&&n(1,a=d.radius),"textColor"in d&&n(2,s=d.textColor),"bgColor"in d&&n(3,l=d.bgColor),"weight"in d&&n(4,c=d.weight)},[u,a,s,l,c]}class sy extends Ut{constructor(t){super(),Lt(this,t,ay,uy,zt,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function ea(e,t,n){const u=e[0]-t[0],a=e[1]-t[1],s=360+Math.atan2(a,u)*180/Math.PI,l=Math.sqrt(u*u+a*a);return[s%360,l/n]}function qn(e,t,n){const u=t[0]%360*Math.PI/180,a=[n*t[1]*Math.cos(u),n*t[1]*Math.sin(u)];return pa(e,a)}function oh(e,t,n){const u=e[0]-t[0],a=e[1]-t[1],s=Math.sqrt(u*u+a*a),l=n/s,c=t[0]+u*l,d=t[1]+a*l;return[c,d]}function oy(e,t,n){const u=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(u*u+a*a)<n}function ly(e,t){const n=t%360*Math.PI/180;let u,a;const s=Math.cos(n),l=Math.sin(n);return u=(e[0]+5)*-1.2*s,a=(e[1]+5)*-1.2*l,u-=e[0],a-=e[1],[u,a]}function fy(e){return Math.round(e*100)}function sn(e){return Math.max(1-Math.pow(1-e,2),.25).toFixed(2)}function ai(e,t){const n=t==="circle"?e.circleWeight:t==="bars"?e.barWeight:e.parsedWeight;return fy(n||0)}function cy(e,t,n){const s=n*.6,l=Math.floor(e/s);return Math.ceil(t/l)*n*1.2}function nu(e,t,n){const u=cy(e,t,n)+10;return[e,u]}function hy(e,t){const n=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(n*n+u*u)}function X0(e){return Jo(e,.5)}function va(e){const t=e.currentTarget;var n=t.createSVGPoint();n.x=e.clientX,n.y=e.clientY;const u=n.matrixTransform(t.getScreenCTM().inverse());return[u.x,u.y]}function lh(e,t,n){const u=e.slice();return u[18]=t[n][0],u[19]=t[n][1],u}function fh(e){let t,n,u=Object.entries(e[5].weightedPrompts).length>0,a,s;t=new JE({props:{xy:e[0],radius:e[1]}});let l=Object.entries(e[5].weightedPrompts),c=[];for(let f=0;f<l.length;f+=1)c[f]=ch(lh(e,l,f));const d=f=>He(c[f],1,1,()=>{c[f]=null});let v=u&&hh(e);return{c(){_t(t.$$.fragment);for(let f=0;f<c.length;f+=1)c[f].c();n=on(),v&&v.c(),a=on()},l(f){wt(t.$$.fragment,f);for(let o=0;o<c.length;o+=1)c[o].l(f);n=on(),v&&v.l(f),a=on()},m(f,o){At(t,f,o);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(f,o);Ee(f,n,o),v&&v.m(f,o),Ee(f,a,o),s=!0},p(f,o){const p={};if(o&1&&(p.xy=f[0]),o&2&&(p.radius=f[1]),t.$set(p),o&895){l=Object.entries(f[5].weightedPrompts);let m;for(m=0;m<l.length;m+=1){const w=lh(f,l,m);c[m]?(c[m].p(w,o),ze(c[m],1)):(c[m]=ch(w),c[m].c(),ze(c[m],1),c[m].m(n.parentNode,n))}for(Pi(),m=l.length;m<c.length;m+=1)d(m);Ti()}o&32&&(u=Object.entries(f[5].weightedPrompts).length>0),u?v?(v.p(f,o),o&32&&ze(v,1)):(v=hh(f),v.c(),ze(v,1),v.m(a.parentNode,a)):v&&(Pi(),He(v,1,1,()=>{v=null}),Ti())},i(f){if(!s){ze(t.$$.fragment,f);for(let o=0;o<l.length;o+=1)ze(c[o]);ze(v),s=!0}},o(f){He(t.$$.fragment,f),c=c.filter(Boolean);for(let o=0;o<c.length;o+=1)He(c[o]);He(v),s=!1},d(f){Et(t,f),h0(c,f),f&&j(n),v&&v.d(f),f&&j(a)}}}function ch(e){let t,n,u,a,s;t=new ry({props:{p1:qn(e[0],e[5].circleMarker,e[1]),p2:e[6][e[18]].xy}});function l(){return e[12](e[18])}return n=new Z0({props:{xy:e[6][e[18]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:l}}),u=new J0({props:{xy:e[9](e[6][e[18]].xy,nu(e[3],e[19].text.length,e[4])),color:`rgba(255,255,255,${sn(e[6][e[18]].unitWeight)}`,wh:nu(e[3],e[19].text.length,e[4]),fontSize:e[4],text:e[19].text}}),a=new sy({props:{xy:Jo(pa(qn(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5),weight:ai(e[5].weightedPrompts[e[18]],e[5].weightMode),radius:15,textColor:`rgba(255,255,255,${sn(e[6][e[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){_t(t.$$.fragment),_t(n.$$.fragment),_t(u.$$.fragment),_t(a.$$.fragment)},l(c){wt(t.$$.fragment,c),wt(n.$$.fragment,c),wt(u.$$.fragment,c),wt(a.$$.fragment,c)},m(c,d){At(t,c,d),At(n,c,d),At(u,c,d),At(a,c,d),s=!0},p(c,d){e=c;const v={};d&35&&(v.p1=qn(e[0],e[5].circleMarker,e[1])),d&96&&(v.p2=e[6][e[18]].xy),t.$set(v);const f={};d&96&&(f.xy=e[6][e[18]].xy),d&4&&(f.radius=e[2]),d&32&&(f.handleMouseDown=l),n.$set(f);const o={};d&120&&(o.xy=e[9](e[6][e[18]].xy,nu(e[3],e[19].text.length,e[4]))),d&96&&(o.color=`rgba(255,255,255,${sn(e[6][e[18]].unitWeight)}`),d&56&&(o.wh=nu(e[3],e[19].text.length,e[4])),d&16&&(o.fontSize=e[4]),d&32&&(o.text=e[19].text),u.$set(o);const p={};d&99&&(p.xy=Jo(pa(qn(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5)),d&32&&(p.weight=ai(e[5].weightedPrompts[e[18]],e[5].weightMode)),d&96&&(p.textColor=`rgba(255,255,255,${sn(e[6][e[18]].unitWeight)}`),a.$set(p)},i(c){s||(ze(t.$$.fragment,c),ze(n.$$.fragment,c),ze(u.$$.fragment,c),ze(a.$$.fragment,c),s=!0)},o(c){He(t.$$.fragment,c),He(n.$$.fragment,c),He(u.$$.fragment,c),He(a.$$.fragment,c),s=!1},d(c){Et(t,c),Et(n,c),Et(u,c),Et(a,c)}}}function hh(e){let t,n;return t=new Z0({props:{xy:qn(e[0],e[5].circleMarker,e[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:e[13]}}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},p(u,a){const s={};a&35&&(s.xy=qn(u[0],u[5].circleMarker,u[1])),t.$set(s)},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function dy(e){let t,n,u,a,s=e[6]&&e[5].weightedPrompts&&fh(e);return{c(){t=dr("svg"),s&&s.c(),this.h()},l(l){t=pr(l,"svg",{id:!0,class:!0});var c=ue(t);s&&s.l(c),c.forEach(j),this.h()},h(){U(t,"id","svg"),U(t,"class","w-full h-full")},m(l,c){Ee(l,t,c),s&&s.m(t,null),n=!0,u||(a=[xe(t,"mousemove",e[10]),xe(t,"mouseup",e[7]),xe(t,"dblclick",e[11])],u=!0)},p(l,[c]){l[6]&&l[5].weightedPrompts?s?(s.p(l,c),c&96&&ze(s,1)):(s=fh(l),s.c(),ze(s,1),s.m(t,null)):s&&(Pi(),He(s,1,1,()=>{s=null}),Ti())},i(l){n||(ze(s),n=!0)},o(l){He(s),n=!1},d(l){l&&j(t),s&&s.d(),u=!1,en(a)}}}function dh(e,t){return e?Object.entries(e).reduce((n,[u,a],s)=>{const l=n[u]||s*(360/Object.keys(e).length)-90;return n[u]=l,n},t):null}function py(e,t,n){let u,a;Jt(e,Hn,F=>n(5,a=F));let{center:s=[450,450]}=t,{radius:l=250}=t,{pointRadius:c=10}=t,{textWidth:d=150}=t,{fontSize:v=13}=t,f=[0,0],o=null;function p(F){o=null}function m(F){o=F}function w(F,S){let P=ea(F,s,l)[0]-180;P<0&&(P+=360);const B=ly(X0(S),P);return pa(F,B)}function g(F){const S=oy(F,s,l)?ea(F,s,l):ea(oh(F,s,l),s,l);n(6,u=O(a.weightedPrompts,s,l,a.circleWeightScaling,a.circleExponentialScaling,S,a.circleAngles))}function _(F){if(f=va(F),o==="main")g(f);else if(o){const S={...a.weightedPrompts[o]},P=oh(f,s,l),B=ea(P,s,l)[0],I={...a.circleAngles};I[S.id]=B;const q={...a.weightedPrompts};q[o]=S,n(6,u=O(q,s,l,a.circleWeightScaling,a.circleExponentialScaling,a.circleMarker,I))}}function A(F){f=va(F),g(f)}function O(F,S,P,B,I,q,$){if(!F||!S||!P||!B||!q)return null;let k=Object.entries(F).reduce((K,[H,oe])=>(K[H]={xy:qn(S,[$[H],1],P)},K),{});k=Object.entries(k).reduce((K,[H,oe])=>(K[H]={...K[H],distance:hy(oe.xy,qn(S,q,P))},K),k);const se=Object.values(k).reduce((K,H)=>K+H.distance,0);k=Object.entries(k).reduce((K,[H,oe])=>(K[H]={...K[H],unitDistance:Math.round(oe.distance/se*100)/100},K),k),k=Object.entries(k).reduce((K,[H,oe])=>(K[H]={...K[H],invertedUnitDistance:Math.round((1-oe.unitDistance)*100)/100},K),k),k=Object.entries(k).reduce((K,[H,oe])=>(I?K[H]={...K[H],unitWeight:Math.round(Math.pow(1-oe.distance/(2*P),B)*100)/100}:K[H]={...K[H],unitWeight:Math.round((1-oe.distance/(2*P))*100)/100},K),k);const G={...F};return Object.entries(k).forEach(([K,H])=>{G[K].circleWeight=H.unitWeight}),Xt.updateActivePrompt({...a,circleMarker:q,weightedPrompts:G,circleAngles:$}),k}const b=F=>m(F),M=()=>m("main");return e.$$set=F=>{"center"in F&&n(0,s=F.center),"radius"in F&&n(1,l=F.radius),"pointRadius"in F&&n(2,c=F.pointRadius),"textWidth"in F&&n(3,d=F.textWidth),"fontSize"in F&&n(4,v=F.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(a.circleAngles).length!==Object.keys(a.weightedPrompts).length&&Xt.updateActivePrompt({...a,circleAngles:dh(a.weightedPrompts,{})}),e.$$.dirty&35&&n(6,u=O(a.weightedPrompts,s,l,a.circleWeightScaling,a.circleExponentialScaling,a.circleMarker,a.circleAngles||dh(a.weightedPrompts,{})))},[s,l,c,d,v,a,u,p,m,w,_,A,b,M]}class vy extends Ut{constructor(t){super(),Lt(this,t,py,dy,zt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function ph(e){let t,n,u,a,s,l,c,d;return{c(){t=ce("div"),n=ce("label"),u=ce("span"),a=Ze("Scaling Power"),s=et(),l=ce("input"),this.h()},l(v){t=he(v,"DIV",{class:!0});var f=ue(t);n=he(f,"LABEL",{class:!0});var o=ue(n);u=he(o,"SPAN",{class:!0});var p=ue(u);a=Je(p,"Scaling Power"),p.forEach(j),o.forEach(j),s=tt(f),l=he(f,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),f.forEach(j),this.h()},h(){U(u,"class","label-text"),U(n,"class","label"),U(l,"type","range"),U(l,"min","0.5"),U(l,"max","3"),U(l,"step","0.1"),U(l,"class","range"),U(t,"class","w-full px-2")},m(v,f){Ee(v,t,f),Q(t,n),Q(n,u),Q(u,a),Q(t,s),Q(t,l),Vn(l,e[0]),c||(d=[xe(l,"change",e[6]),xe(l,"input",e[6])],c=!0)},p(v,f){f&1&&Vn(l,v[0])},d(v){v&&j(t),c=!1,en(d)}}}function gy(e){let t,n,u,a,s,l,c,d,v,f,o,p,m,w,g;n=new vy({props:{center:[Math.round(e[2]/2),Math.round(e[3]/2)],radius:Math.round(Math.min(e[2],e[3])/2)-150}});let _=e[1]&&ph(e);return{c(){t=ce("div"),_t(n.$$.fragment),a=et(),s=ce("div"),l=ce("div"),c=ce("label"),d=ce("span"),v=Ze("Exponential Scaling"),f=et(),o=ce("input"),p=et(),_&&_.c(),this.h()},l(A){t=he(A,"DIV",{class:!0});var O=ue(t);wt(n.$$.fragment,O),O.forEach(j),a=tt(A),s=he(A,"DIV",{class:!0});var b=ue(s);l=he(b,"DIV",{class:!0});var M=ue(l);c=he(M,"LABEL",{class:!0});var F=ue(c);d=he(F,"SPAN",{class:!0});var S=ue(d);v=Je(S,"Exponential Scaling"),S.forEach(j),F.forEach(j),f=tt(M),o=he(M,"INPUT",{type:!0,class:!0}),M.forEach(j),p=tt(b),_&&_.l(b),b.forEach(j),this.h()},h(){U(t,"class","w-full h-full"),d0(()=>e[4].call(t)),U(d,"class","label-text"),U(c,"class","label"),U(o,"type","checkbox"),U(o,"class","toggle"),U(l,"class","w-52 px-2"),U(s,"class","px-2 py-4 pb-0 flex")},m(A,O){Ee(A,t,O),At(n,t,null),u=p0(t,e[4].bind(t)),Ee(A,a,O),Ee(A,s,O),Q(s,l),Q(l,c),Q(c,d),Q(d,v),Q(l,f),Q(l,o),o.checked=e[1],Q(s,p),_&&_.m(s,null),m=!0,w||(g=xe(o,"change",e[5]),w=!0)},p(A,[O]){const b={};O&12&&(b.center=[Math.round(A[2]/2),Math.round(A[3]/2)]),O&12&&(b.radius=Math.round(Math.min(A[2],A[3])/2)-150),n.$set(b),O&2&&(o.checked=A[1]),A[1]?_?_.p(A,O):(_=ph(A),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},i(A){m||(ze(n.$$.fragment,A),m=!0)},o(A){He(n.$$.fragment,A),m=!1},d(A){A&&j(t),Et(n),u(),A&&j(a),A&&j(s),_&&_.d(),w=!1,g()}}}function my(e,t,n){let u;Jt(e,Hn,o=>n(7,u=o));let a,s,l=u.circleWeightScaling||2,c=_0(u.circleExponentialScaling)?!0:u.circleExponentialScaling;function d(){a=this.clientWidth,s=this.clientHeight,n(2,a),n(3,s)}function v(){c=this.checked,n(1,c)}function f(){l=E_(this.value),n(0,l)}return e.$$.update=()=>{e.$$.dirty&3&&Xt.updateActivePrompt({...Xt.getActivePrompt(),circleExponentialScaling:c,circleWeightScaling:l})},[l,c,a,s,d,v,f]}class Dy extends Ut{constructor(t){super(),Lt(this,t,my,gy,zt,{})}}function _y(e){let t,n,u,a,s,l,c;return{c(){t=dr("rect"),this.h()},l(d){t=pr(d,"rect",{x:!0,y:!0,width:!0,height:!0}),ue(t).forEach(j),this.h()},h(){U(t,"x",n=e[0][0]),U(t,"y",u=e[0][1]),U(t,"width",a=Math.max(e[1][0],0)),U(t,"height",s=Math.max(e[1][1],0)),bt(t,"fill",e[2])},m(d,v){Ee(d,t,v),l||(c=[xe(t,"mouseover",function(){lo(e[4])&&e[4].apply(this,arguments)}),xe(t,"mouseout",function(){lo(e[5])&&e[5].apply(this,arguments)}),xe(t,"mousedown",function(){lo(e[3])&&e[3].apply(this,arguments)})],l=!0)},p(d,[v]){e=d,v&1&&n!==(n=e[0][0])&&U(t,"x",n),v&1&&u!==(u=e[0][1])&&U(t,"y",u),v&2&&a!==(a=Math.max(e[1][0],0))&&U(t,"width",a),v&2&&s!==(s=Math.max(e[1][1],0))&&U(t,"height",s),v&4&&bt(t,"fill",e[2])},i:Xe,o:Xe,d(d){d&&j(t),l=!1,en(c)}}}function wy(e,t,n){let{xy:u=[500,500]}=t,{wh:a=[100,100]}=t,{color:s="rgba(46,67,101, 0.4)"}=t,{handleMouseDown:l=v=>{}}=t,{handleMouseOver:c=v=>{}}=t,{handleMouseOut:d=v=>{}}=t;return e.$$set=v=>{"xy"in v&&n(0,u=v.xy),"wh"in v&&n(1,a=v.wh),"color"in v&&n(2,s=v.color),"handleMouseDown"in v&&n(3,l=v.handleMouseDown),"handleMouseOver"in v&&n(4,c=v.handleMouseOver),"handleMouseOut"in v&&n(5,d=v.handleMouseOut)},[u,a,s,l,c,d]}class vo extends Ut{constructor(t){super(),Lt(this,t,wy,_y,zt,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function vh(e,t,n){const u=e.slice();return u[51]=t[n][0],u[52]=t[n][1],u[53]=t[n][2],u}function gh(e,t){let n,u,a,s,l,c;u=new J0({props:{xy:[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]],color:`rgba(255,255,255,${sn(t[53].barWeight/t[12]||0)})`,wh:t[5][t[51]],text:t[53].text,textAlign:"right",fontSize:t[1]}});function d(...g){return t[39](t[51],...g)}function v(...g){return t[40](t[51],...g)}a=new vo({props:{color:t[13](0),handleMouseOver:d,handleMouseOut:v,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[t[11],t[4]-2]}});function f(...g){return t[41](t[51],...g)}function o(...g){return t[42](t[51],...g)}s=new vo({props:{color:t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](sn((t[53].barWeight||0)/t[12]+.15)):t[13](sn(t[53].barWeight||0)),handleMouseOver:f,handleMouseOut:o,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[(t[53].barWeight||0)*t[11],t[4]-2]}});function p(...g){return t[43](t[51],...g)}function m(...g){return t[44](t[51],...g)}function w(...g){return t[45](t[51],...g)}return l=new vo({props:{color:t[9]===t[51]?t[15]:t[14],handleMouseOver:p,handleMouseOut:m,handleMouseDown:w,xy:[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]],wh:[t[2],t[4]-2]}}),{key:e,first:null,c(){n=on(),_t(u.$$.fragment),_t(a.$$.fragment),_t(s.$$.fragment),_t(l.$$.fragment),this.h()},l(g){n=on(),wt(u.$$.fragment,g),wt(a.$$.fragment,g),wt(s.$$.fragment,g),wt(l.$$.fragment,g),this.h()},h(){this.first=n},m(g,_){Ee(g,n,_),At(u,g,_),At(a,g,_),At(s,g,_),At(l,g,_),c=!0},p(g,_){t=g;const A={};_[0]&89&&(A.xy=[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]]),_[0]&4160&&(A.color=`rgba(255,255,255,${sn(t[53].barWeight/t[12]||0)})`),_[0]&96&&(A.wh=t[5][t[51]]),_[0]&64&&(A.text=t[53].text),_[0]&2&&(A.fontSize=t[1]),u.$set(A);const O={};_[0]&64&&(O.handleMouseOver=d),_[0]&64&&(O.handleMouseOut=v),_[0]&1112&&(O.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),_[0]&2064&&(O.wh=[t[11],t[4]-2]),a.$set(O);const b={};_[0]&5056&&(b.color=t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](sn((t[53].barWeight||0)/t[12]+.15)):t[13](sn(t[53].barWeight||0))),_[0]&64&&(b.handleMouseOver=f),_[0]&64&&(b.handleMouseOut=o),_[0]&1112&&(b.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),_[0]&2128&&(b.wh=[(t[53].barWeight||0)*t[11],t[4]-2]),s.$set(b);const M={};_[0]&576&&(M.color=t[9]===t[51]?t[15]:t[14]),_[0]&64&&(M.handleMouseOver=p),_[0]&64&&(M.handleMouseOut=m),_[0]&64&&(M.handleMouseDown=w),_[0]&3160&&(M.xy=[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]]),_[0]&20&&(M.wh=[t[2],t[4]-2]),l.$set(M)},i(g){c||(ze(u.$$.fragment,g),ze(a.$$.fragment,g),ze(s.$$.fragment,g),ze(l.$$.fragment,g),c=!0)},o(g){He(u.$$.fragment,g),He(a.$$.fragment,g),He(s.$$.fragment,g),He(l.$$.fragment,g),c=!1},d(g){g&&j(n),Et(u,g),Et(a,g),Et(s,g),Et(l,g)}}}function Ay(e){let t,n=[],u=new Map,a,s,l,c=e[6];const d=v=>v[51];for(let v=0;v<c.length;v+=1){let f=vh(e,c,v),o=d(f);u.set(o,n[v]=gh(o,f))}return{c(){t=dr("svg");for(let v=0;v<n.length;v+=1)n[v].c();this.h()},l(v){t=pr(v,"svg",{id:!0,class:!0});var f=ue(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(j),this.h()},h(){U(t,"id","svg"),U(t,"class","w-full h-full")},m(v,f){Ee(v,t,f);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);a=!0,s||(l=[xe(t,"mousemove",e[25]),xe(t,"mouseup",e[24]),xe(t,"dblclick",e[23])],s=!0)},p(v,f){f[0]&8388607&&(c=v[6],Pi(),n=Ri(n,f,d,1,v,c,u,t,y_,gh,null,vh),Ti())},i(v){if(!a){for(let f=0;f<c.length;f+=1)ze(n[f]);a=!0}},o(v){for(let f=0;f<n.length;f+=1)He(n[f]);a=!1},d(v){v&&j(t);for(let f=0;f<n.length;f+=1)n[f].d();s=!1,en(l)}}}function Ey(e,t,n){let u,a,s,l,c,d,v,f,o,p,m,w,g;Jt(e,Hn,ve=>n(38,g=ve));let{center:_=[0,0]}=t,{dimensions:A=[100,100]}=t,{maxWidth:O=1e3}=t,{pointRadius:b=10}=t,{textWidth:M=250}=t,{horizontalPad:F=20}=t,{verticalPad:S=2}=t,{textBarPad:P=10}=t,{fontSize:B=13}=t,{handleWidth:I=20}=t,q=ve=>`rgba(46,67,101, ${ve})`,$=ve=>`rgba(76,97,131, ${ve})`,k=null,se=null,G=null,K=$(.3),H=$(.8),oe=null,fe=null,ge=null;function Ae(ve,Ve){n(8,se=ve)}function Se(ve,Ve){n(7,k=ve)}function Ue(ve,Ve){n(9,G=ve)}function Te(ve,Ve){n(8,se=null)}function nt(ve,Ve){n(7,k=null)}function We(ve,Ve){n(9,G=null)}function Ge(ve,Ve){oe=ve}function it(ve){let Ve=oe||se||G||k;if(!Ve)return;const Ot=va(ve);qe(Ve,Ot)}function pt(ve){oe=null,clearInterval(fe),fe=null,ge=null}function qe(ve,Ve){let It=Math.min(p,Math.max(0,Ve[0]-m))/p,Qt={...g.weightedPrompts},T={...Qt[ve]};T.barWeight=It,Qt[ve]=T,Xt.updateActivePrompt({...g,weightedPrompts:Qt})}function $e(ve){let Ve=oe;if(!Ve)return;const Ot=va(ve);if(qe(Ve,Ot),oe){let It=m+p+I,Qt=m;Ot[0]>It&&!fe?(ge=Date.now(),fe=setInterval(()=>{if(Date.now()-ge<1e3)return;let T={...g.weightedPrompts};const R=Object.entries(T).reduce((V,[Z,te])=>(Z!==oe?V[Z]={...te,barWeight:Math.max(0,(te.barWeight||0)-.01)}:V[Z]={...te,barWeight:Math.min(1,(te.barWeight||0)+.01)},V),{});Xt.updateActivePrompt({...g,weightedPrompts:R})},100)):Ot[0]<Qt&&!fe?(ge=Date.now(),fe=setInterval(()=>{if(Date.now()-ge<1e3)return;let T={...g.weightedPrompts};const R=Object.entries(T).reduce((V,[Z,te])=>(Z!==oe?V[Z]={...te,barWeight:Math.min(1,(te.barWeight||0)+.01)}:V[Z]={...te,barWeight:Math.max(0,(te.barWeight||0)-.01)},V),{});Xt.updateActivePrompt({...g,weightedPrompts:R})},100)):Ot[0]<It&&Ot[0]>Qt&&fe&&(clearInterval(fe),fe=null,ge=null)}}const qt=(ve,Ve)=>Se(ve),ht=(ve,Ve)=>nt(),Ke=(ve,Ve)=>Ae(ve),Ye=(ve,Ve)=>Te(),Nt=(ve,Ve)=>Ue(ve),Or=(ve,Ve)=>We(),St=(ve,Ve)=>Ge(ve);return e.$$set=ve=>{"center"in ve&&n(26,_=ve.center),"dimensions"in ve&&n(27,A=ve.dimensions),"maxWidth"in ve&&n(28,O=ve.maxWidth),"pointRadius"in ve&&n(29,b=ve.pointRadius),"textWidth"in ve&&n(30,M=ve.textWidth),"horizontalPad"in ve&&n(0,F=ve.horizontalPad),"verticalPad"in ve&&n(31,S=ve.verticalPad),"textBarPad"in ve&&n(32,P=ve.textBarPad),"fontSize"in ve&&n(1,B=ve.fontSize),"handleWidth"in ve&&n(2,I=ve.handleWidth)},e.$$.update=()=>{e.$$.dirty[1]&128&&n(6,u=Object.entries(g.weightedPrompts).map(([ve,Ve],Ot)=>[ve,Ot,Ve])),e.$$.dirty[1]&128&&n(36,a=Object.keys(g.weightedPrompts).length),e.$$.dirty[0]&134217728&&n(35,s=[A[0]-50,A[1]-50]),e.$$.dirty[0]&1073741890&&n(5,l=u.reduce((ve,[Ve,Ot,It])=>{const[Qt,T]=nu(M,It.text.length,B);return ve[Ve]=[Qt,T],ve},{})),e.$$.dirty[0]&32&&n(37,c=Math.max(...Object.values(l).map(([ve,Ve])=>Ve))),e.$$.dirty[1]&112&&n(4,d=Math.min(s[1]/a,c)),e.$$.dirty[0]&16|e.$$.dirty[1]&33&&n(34,v=d*a+S*Math.max(a-1,0)),e.$$.dirty[0]&268435456|e.$$.dirty[1]&16&&n(33,f=Math.min(s[0],O)),e.$$.dirty[0]&67108864|e.$$.dirty[1]&12&&n(3,o=[_[0]-f/2,_[1]-v/2]),e.$$.dirty[0]&1073741829|e.$$.dirty[1]&6&&n(11,p=f-P-M-2*F-I),e.$$.dirty[0]&1073741833|e.$$.dirty[1]&2&&n(10,m=o[0]+P+M+F),e.$$.dirty[1]&128&&n(12,w=Math.max(...Object.values(g.weightedPrompts).map(ve=>ve.barWeight||0)))},[F,B,I,o,d,l,u,k,se,G,m,p,w,q,K,H,Ae,Se,Ue,Te,nt,We,Ge,it,pt,$e,_,A,O,b,M,S,P,f,v,s,a,c,g,qt,ht,Ke,Ye,Nt,Or,St]}class yy extends Ut{constructor(t){super(),Lt(this,t,Ey,Ay,zt,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function by(e){let t,n,u,a;return n=new yy({props:{dimensions:e[2],center:e[3]}}),{c(){t=ce("div"),_t(n.$$.fragment),this.h()},l(s){t=he(s,"DIV",{class:!0});var l=ue(t);wt(n.$$.fragment,l),l.forEach(j),this.h()},h(){U(t,"class","w-full h-full"),d0(()=>e[4].call(t))},m(s,l){Ee(s,t,l),At(n,t,null),u=p0(t,e[4].bind(t)),a=!0},p(s,[l]){const c={};l&4&&(c.dimensions=s[2]),l&8&&(c.center=s[3]),n.$set(c)},i(s){a||(ze(n.$$.fragment,s),a=!0)},o(s){He(n.$$.fragment,s),a=!1},d(s){s&&j(t),Et(n),u()}}}function Fy(e,t,n){let u,a,s,l;function c(){s=this.clientWidth,l=this.clientHeight,n(0,s),n(1,l)}return e.$$.update=()=>{e.$$.dirty&3&&n(2,u=[s||0,l||0]),e.$$.dirty&4&&n(3,a=X0(u))},[s,l,u,a,c]}class Cy extends Ut{constructor(t){super(),Lt(this,t,Fy,by,zt,{})}}function mh(e,t,n){const u=e.slice();return u[6]=t[n][0],u[7]=t[n][1],u}function Dh(e,t){let n,u=t[7].text+"",a,s,l,c=ai(t[7],t[1].weightMode)+"",d,v,f;return{key:e,first:null,c(){n=ce("span"),a=Ze(u),s=Ze("::"),l=ce("b"),d=Ze(c),v=et(),this.h()},l(o){n=he(o,"SPAN",{style:!0});var p=ue(n);a=Je(p,u),s=Je(p,"::"),l=he(p,"B",{});var m=ue(l);d=Je(m,c),v=tt(m),m.forEach(j),p.forEach(j),this.h()},h(){U(n,"style",f=`color: rgba(255,255,255,${t[2](t[7][t[0]])});`),this.first=n},m(o,p){Ee(o,n,p),Q(n,a),Q(n,s),Q(n,l),Q(l,d),Q(l,v)},p(o,p){t=o,p&2&&u!==(u=t[7].text+"")&&Fn(a,u),p&2&&c!==(c=ai(t[7],t[1].weightMode)+"")&&Fn(d,c),p&3&&f!==(f=`color: rgba(255,255,255,${t[2](t[7][t[0]])});`)&&U(n,"style",f)},d(o){o&&j(n)}}}function Sy(e){let t,n,u=[],a=new Map,s,l,c=Object.entries(e[1].weightedPrompts);const d=v=>v[6];for(let v=0;v<c.length;v+=1){let f=mh(e,c,v),o=d(f);a.set(o,u[v]=Dh(o,f))}return{c(){t=ce("div"),n=ce("p");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){t=he(v,"DIV",{class:!0});var f=ue(t);n=he(f,"P",{class:!0});var o=ue(n);for(let p=0;p<u.length;p+=1)u[p].l(o);o.forEach(j),f.forEach(j),this.h()},h(){U(n,"class","text-sm select-none"),U(t,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-md p-4 w-full h-24 overflow-y-auto hover:bg-slate-800 active:bg-slate-950")},m(v,f){Ee(v,t,f),Q(t,n);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(n,null);s||(l=xe(t,"click",e[3]),s=!0)},p(v,[f]){f&7&&(c=Object.entries(v[1].weightedPrompts),u=Ri(u,f,d,1,v,c,a,n,su,Dh,null,mh))},i:Xe,o:Xe,d(v){v&&j(t);for(let f=0;f<u.length;f+=1)u[f].d();s=!1,l()}}}function Oy(e,t,n){let u,a,s,l;Jt(e,Hn,v=>n(1,l=v));function c(v){return((v/a/s+.75)/2).toFixed(2)}function d(){const v=Object.entries(l.weightedPrompts).map(([f,o])=>`${o.text}::${ai(o,l.weightMode)}`).join(" ");navigator.clipboard.writeText(v)}return e.$$.update=()=>{e.$$.dirty&2&&n(0,u=l.weightMode==="circle"?"circleWeight":l.weightMode==="bars"?"barWeight":"parsedWeight"),e.$$.dirty&3&&n(4,a=Object.values(l.weightedPrompts).reduce((v,f)=>f[u]+v,0)),e.$$.dirty&19&&(s=Math.max(...Object.values(l.weightedPrompts).map(v=>v[u]/a)))},[u,l,c,d,a]}class My extends Ut{constructor(t){super(),Lt(this,t,Oy,Sy,zt,{})}}function By(e){let t,n,u,a;return{c(){t=dr("svg"),n=dr("rect"),u=dr("rect"),a=dr("rect"),this.h()},l(s){t=pr(s,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var l=ue(t);n=pr(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ue(n).forEach(j),u=pr(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ue(u).forEach(j),a=pr(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ue(a).forEach(j),l.forEach(j),this.h()},h(){U(n,"x","5"),U(n,"y","12"),U(n,"width","40"),U(n,"height","4"),U(n,"fill","rgba(255,255,255, 0.7)"),U(u,"x","5"),U(u,"y","23"),U(u,"width","30"),U(u,"height","4"),U(u,"fill","rgba(255,255,255, 0.7)"),U(a,"x","5"),U(a,"y","34"),U(a,"width","35"),U(a,"height","4"),U(a,"fill","rgba(255,255,255, 0.7)"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"fill","rgba(255,255,255, 0.7)"),U(t,"class","h-6 w-6"),U(t,"viewBox","0 0 50 50")},m(s,l){Ee(s,t,l),Q(t,n),Q(t,u),Q(t,a)},p:Xe,i:Xe,o:Xe,d(s){s&&j(t)}}}class Py extends Ut{constructor(t){super(),Lt(this,t,null,By,zt,{})}}function Ty(e){let t,n,u;return{c(){t=dr("svg"),n=dr("circle"),u=dr("circle"),this.h()},l(a){t=pr(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var s=ue(t);n=pr(s,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ue(n).forEach(j),u=pr(s,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ue(u).forEach(j),s.forEach(j),this.h()},h(){U(n,"cx","25"),U(n,"cy","25"),U(n,"r","20"),U(n,"stroke","rgba(255,255,255, 0.7)"),U(n,"stroke-width","2"),U(n,"fill","none"),U(u,"cx","25"),U(u,"cy","25"),U(u,"r","2"),U(u,"stroke","rgba(255,255,255, 0.7)"),U(u,"stroke-width","1"),U(u,"fill","rgba(255,255,255, 0.7)"),U(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"fill","rgba(255,255,255, 0.7)"),U(t,"class","h-6 w-6"),U(t,"viewBox","0 0 50 50")},m(a,s){Ee(a,t,s),Q(t,n),Q(t,u)},p:Xe,i:Xe,o:Xe,d(a){a&&j(t)}}}class Ny extends Ut{constructor(t){super(),Lt(this,t,null,Ty,zt,{})}}function Iy(e){let t,n;return t=new Dy({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function xy(e){let t,n;return t=new Cy({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function Ry(e){let t,n,u,a,s,l,c,d,v,f,o,p,m,w,g,_,A,O,b,M;s=new Py({}),v=new Ny({});const F=[xy,Iy],S=[];function P(B,I){return B[0].weightMode==="bars"?0:B[0].weightMode==="circle"?1:-1}return~(p=P(e))&&(m=S[p]=F[p](e)),A=new My({}),{c(){t=ce("div"),n=ce("div"),u=ce("div"),a=ce("button"),_t(s.$$.fragment),c=et(),d=ce("button"),_t(v.$$.fragment),o=et(),m&&m.c(),w=et(),g=ce("div"),_=ce("div"),_t(A.$$.fragment),this.h()},l(B){t=he(B,"DIV",{class:!0});var I=ue(t);n=he(I,"DIV",{class:!0});var q=ue(n);u=he(q,"DIV",{class:!0});var $=ue(u);a=he($,"BUTTON",{class:!0});var k=ue(a);wt(s.$$.fragment,k),k.forEach(j),c=tt($),d=he($,"BUTTON",{class:!0});var se=ue(d);wt(v.$$.fragment,se),se.forEach(j),$.forEach(j),o=tt(q),m&&m.l(q),w=tt(q),g=he(q,"DIV",{class:!0});var G=ue(g);_=he(G,"DIV",{class:!0});var K=ue(_);wt(A.$$.fragment,K),K.forEach(j),G.forEach(j),q.forEach(j),I.forEach(j),this.h()},h(){U(a,"class",l=e[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"),U(d,"class",f=e[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"),U(u,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),U(_,"class","h-32 w-full"),U(g,"class","h-32 w-full p-4 flex flex-col"),U(n,"class","flex flex-col h-full place-content-between"),U(t,"class","w-full h-full flex flex-col")},m(B,I){Ee(B,t,I),Q(t,n),Q(n,u),Q(u,a),At(s,a,null),Q(u,c),Q(u,d),At(v,d,null),Q(n,o),~p&&S[p].m(n,null),Q(n,w),Q(n,g),Q(g,_),At(A,_,null),O=!0,b||(M=[xe(a,"click",e[2]),xe(d,"click",e[3])],b=!0)},p(B,[I]){(!O||I&1&&l!==(l=B[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"))&&U(a,"class",l),(!O||I&1&&f!==(f=B[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"))&&U(d,"class",f);let q=p;p=P(B),p!==q&&(m&&(Pi(),He(S[q],1,1,()=>{S[q]=null}),Ti()),~p?(m=S[p],m||(m=S[p]=F[p](B),m.c()),ze(m,1),m.m(n,w)):m=null)},i(B){O||(ze(s.$$.fragment,B),ze(v.$$.fragment,B),ze(m),ze(A.$$.fragment,B),O=!0)},o(B){He(s.$$.fragment,B),He(v.$$.fragment,B),He(m),He(A.$$.fragment,B),O=!1},d(B){B&&j(t),Et(s),Et(v),~p&&S[p].d(),Et(A),b=!1,en(M)}}}function Uy(e,t,n){let u;Jt(e,Hn,c=>n(0,u=c));function a(c){const d={...u,weightMode:c};Xt.updateActivePrompt(d)}return[u,a,()=>a("bars"),()=>a("circle")]}class Ly extends Ut{constructor(t){super(),Lt(this,t,Uy,Ry,zt,{})}}function zy(){const e=Sn({}),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&Object.keys(localStorage).reduce((s,l)=>{if(l.startsWith("prompt")){const c=l.split("_")[1];s[c]=JSON.parse(localStorage[l])}return s},{})||{}),{subscribe:t,updatePrompt:(s,l)=>{const c=Ct(e),v={...c[s]||{},...l};a&&(localStorage[`prompt_${s}`]=JSON.stringify(v));const f={...c,[s]:v};n(f)},getPrompt:s=>Ct(e)[s],deletePrompt:s=>{a&&delete localStorage[`prompt_${s}`];const l={...Ct(e)};delete l[s],n(l)}}}const ga=zy(),qy=Cn(ga,e=>Object.entries(Ct(ga)));var ma={},Vy={get exports(){return ma},set exports(e){ma=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,u="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",v=500,f="__lodash_placeholder__",o=1,p=2,m=4,w=1,g=2,_=1,A=2,O=4,b=8,M=16,F=32,S=64,P=128,B=256,I=512,q=30,$="...",k=800,se=16,G=1,K=2,H=3,oe=1/0,fe=9007199254740991,ge=17976931348623157e292,Ae=0/0,Se=4294967295,Ue=Se-1,Te=Se>>>1,nt=[["ary",P],["bind",_],["bindKey",A],["curry",b],["curryRight",M],["flip",I],["partial",F],["partialRight",S],["rearg",B]],We="[object Arguments]",Ge="[object Array]",it="[object AsyncFunction]",pt="[object Boolean]",qe="[object Date]",$e="[object DOMException]",qt="[object Error]",ht="[object Function]",Ke="[object GeneratorFunction]",Ye="[object Map]",Nt="[object Number]",Or="[object Null]",St="[object Object]",ve="[object Promise]",Ve="[object Proxy]",Ot="[object RegExp]",It="[object Set]",Qt="[object String]",T="[object Symbol]",R="[object Undefined]",V="[object WeakMap]",Z="[object WeakSet]",te="[object ArrayBuffer]",ie="[object DataView]",le="[object Float32Array]",ee="[object Float64Array]",ae="[object Int8Array]",_e="[object Int16Array]",Pe="[object Int32Array]",de="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Mt="[object Uint16Array]",xt="[object Uint32Array]",Bt=/\b__p \+= '';/g,or=/\b(__p \+=) '' \+/g,Rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gr=/&(?:amp|lt|gt|quot|#39);/g,Gt=/[&<>"']/g,er=RegExp(gr.source),hn=RegExp(Gt.source),lr=/<%-([\s\S]+?)%>/g,dn=/<%([\s\S]+?)%>/g,$n=/<%=([\s\S]+?)%>/g,Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Na=/^\w*$/,Ia=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/[\\^$.*+?()[\]{}|]/g,xa=RegExp(Ui.source),Li=/^\s+/,Ra=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,La=/\{\n\/\* \[wrapped with (.+)\] \*/,za=/,? & /,Yn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qa=/[()=,{}\[\]\/\s]/,Va=/\\(\\)?/g,ja=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lu=/\w*$/,Wa=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,Ha=/^\[object .+?Constructor\]$/,Ga=/^0o[0-7]+$/i,$a=/^(?:0|[1-9]\d*)$/,Ka=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oi=/($^)/,Ya=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",Za="\\u0300-\\u036f",Ja="\\ufe20-\\ufe2f",Xa="\\u20d0-\\u20ff",fu=Za+Ja+Xa,On="\\u2700-\\u27bf",fr="a-z\\xdf-\\xf6\\xf8-\\xff",jt="\\xac\\xb1\\xd7\\xf7",cu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qa="\\u2000-\\u206f",fi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zn="A-Z\\xc0-\\xd6\\xd8-\\xde",zi="\\ufe0e\\ufe0f",qi=jt+cu+Qa+fi,tn="[']",Ed="["+li+"]",El="["+qi+"]",hu="["+fu+"]",yl="\\d+",yd="["+On+"]",bl="["+fr+"]",Fl="[^"+li+qi+yl+On+fr+Zn+"]",es="\\ud83c[\\udffb-\\udfff]",bd="(?:"+hu+"|"+es+")",Cl="[^"+li+"]",ts="(?:\\ud83c[\\udde6-\\uddff]){2}",rs="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+Zn+"]",Sl="\\u200d",Ol="(?:"+bl+"|"+Fl+")",Fd="(?:"+ci+"|"+Fl+")",Ml="(?:"+tn+"(?:d|ll|m|re|s|t|ve))?",Bl="(?:"+tn+"(?:D|LL|M|RE|S|T|VE))?",Pl=bd+"?",Tl="["+zi+"]?",Cd="(?:"+Sl+"(?:"+[Cl,ts,rs].join("|")+")"+Tl+Pl+")*",Sd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Od="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nl=Tl+Pl+Cd,Md="(?:"+[yd,ts,rs].join("|")+")"+Nl,Bd="(?:"+[Cl+hu+"?",hu,ts,rs,Ed].join("|")+")",Pd=RegExp(tn,"g"),Td=RegExp(hu,"g"),ns=RegExp(es+"(?="+es+")|"+Bd+Nl,"g"),Nd=RegExp([ci+"?"+bl+"+"+Ml+"(?="+[El,ci,"$"].join("|")+")",Fd+"+"+Bl+"(?="+[El,ci+Ol,"$"].join("|")+")",ci+"?"+Ol+"+"+Ml,ci+"+"+Bl,Od,Sd,yl,Md].join("|"),"g"),Id=RegExp("["+Sl+li+fu+zi+"]"),xd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ud=-1,ct={};ct[le]=ct[ee]=ct[ae]=ct[_e]=ct[Pe]=ct[de]=ct[Vt]=ct[Mt]=ct[xt]=!0,ct[We]=ct[Ge]=ct[te]=ct[pt]=ct[ie]=ct[qe]=ct[qt]=ct[ht]=ct[Ye]=ct[Nt]=ct[St]=ct[Ot]=ct[It]=ct[Qt]=ct[V]=!1;var ft={};ft[We]=ft[Ge]=ft[te]=ft[ie]=ft[pt]=ft[qe]=ft[le]=ft[ee]=ft[ae]=ft[_e]=ft[Pe]=ft[Ye]=ft[Nt]=ft[St]=ft[Ot]=ft[It]=ft[Qt]=ft[T]=ft[de]=ft[Vt]=ft[Mt]=ft[xt]=!0,ft[qt]=ft[ht]=ft[V]=!1;var Ld={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jd=parseFloat,Wd=parseInt,Il=typeof ar=="object"&&ar&&ar.Object===Object&&ar,kd=typeof self=="object"&&self&&self.Object===Object&&self,tr=Il||kd||Function("return this")(),is=t&&!t.nodeType&&t,Jn=is&&!0&&e&&!e.nodeType&&e,xl=Jn&&Jn.exports===is,us=xl&&Il.process,Rr=function(){try{var L=Jn&&Jn.require&&Jn.require("util").types;return L||us&&us.binding&&us.binding("util")}catch{}}(),Rl=Rr&&Rr.isArrayBuffer,Ul=Rr&&Rr.isDate,Ll=Rr&&Rr.isMap,zl=Rr&&Rr.isRegExp,ql=Rr&&Rr.isSet,Vl=Rr&&Rr.isTypedArray;function Mr(L,Y,W){switch(W.length){case 0:return L.call(Y);case 1:return L.call(Y,W[0]);case 2:return L.call(Y,W[0],W[1]);case 3:return L.call(Y,W[0],W[1],W[2])}return L.apply(Y,W)}function Hd(L,Y,W,me){for(var Me=-1,Qe=L==null?0:L.length;++Me<Qe;){var Wt=L[Me];Y(me,Wt,W(Wt),L)}return me}function Ur(L,Y){for(var W=-1,me=L==null?0:L.length;++W<me&&Y(L[W],W,L)!==!1;);return L}function Gd(L,Y){for(var W=L==null?0:L.length;W--&&Y(L[W],W,L)!==!1;);return L}function jl(L,Y){for(var W=-1,me=L==null?0:L.length;++W<me;)if(!Y(L[W],W,L))return!1;return!0}function Mn(L,Y){for(var W=-1,me=L==null?0:L.length,Me=0,Qe=[];++W<me;){var Wt=L[W];Y(Wt,W,L)&&(Qe[Me++]=Wt)}return Qe}function du(L,Y){var W=L==null?0:L.length;return!!W&&hi(L,Y,0)>-1}function as(L,Y,W){for(var me=-1,Me=L==null?0:L.length;++me<Me;)if(W(Y,L[me]))return!0;return!1}function dt(L,Y){for(var W=-1,me=L==null?0:L.length,Me=Array(me);++W<me;)Me[W]=Y(L[W],W,L);return Me}function Bn(L,Y){for(var W=-1,me=Y.length,Me=L.length;++W<me;)L[Me+W]=Y[W];return L}function ss(L,Y,W,me){var Me=-1,Qe=L==null?0:L.length;for(me&&Qe&&(W=L[++Me]);++Me<Qe;)W=Y(W,L[Me],Me,L);return W}function $d(L,Y,W,me){var Me=L==null?0:L.length;for(me&&Me&&(W=L[--Me]);Me--;)W=Y(W,L[Me],Me,L);return W}function os(L,Y){for(var W=-1,me=L==null?0:L.length;++W<me;)if(Y(L[W],W,L))return!0;return!1}var Kd=ls("length");function Yd(L){return L.split("")}function Zd(L){return L.match(Yn)||[]}function Wl(L,Y,W){var me;return W(L,function(Me,Qe,Wt){if(Y(Me,Qe,Wt))return me=Qe,!1}),me}function pu(L,Y,W,me){for(var Me=L.length,Qe=W+(me?1:-1);me?Qe--:++Qe<Me;)if(Y(L[Qe],Qe,L))return Qe;return-1}function hi(L,Y,W){return Y===Y?op(L,Y,W):pu(L,kl,W)}function Jd(L,Y,W,me){for(var Me=W-1,Qe=L.length;++Me<Qe;)if(me(L[Me],Y))return Me;return-1}function kl(L){return L!==L}function Hl(L,Y){var W=L==null?0:L.length;return W?cs(L,Y)/W:Ae}function ls(L){return function(Y){return Y==null?n:Y[L]}}function fs(L){return function(Y){return L==null?n:L[Y]}}function Gl(L,Y,W,me,Me){return Me(L,function(Qe,Wt,ot){W=me?(me=!1,Qe):Y(W,Qe,Wt,ot)}),W}function Xd(L,Y){var W=L.length;for(L.sort(Y);W--;)L[W]=L[W].value;return L}function cs(L,Y){for(var W,me=-1,Me=L.length;++me<Me;){var Qe=Y(L[me]);Qe!==n&&(W=W===n?Qe:W+Qe)}return W}function hs(L,Y){for(var W=-1,me=Array(L);++W<L;)me[W]=Y(W);return me}function Qd(L,Y){return dt(Y,function(W){return[W,L[W]]})}function $l(L){return L&&L.slice(0,Jl(L)+1).replace(Li,"")}function Br(L){return function(Y){return L(Y)}}function ds(L,Y){return dt(Y,function(W){return L[W]})}function Vi(L,Y){return L.has(Y)}function Kl(L,Y){for(var W=-1,me=L.length;++W<me&&hi(Y,L[W],0)>-1;);return W}function Yl(L,Y){for(var W=L.length;W--&&hi(Y,L[W],0)>-1;);return W}function ep(L,Y){for(var W=L.length,me=0;W--;)L[W]===Y&&++me;return me}var tp=fs(Ld),rp=fs(zd);function np(L){return"\\"+Vd[L]}function ip(L,Y){return L==null?n:L[Y]}function di(L){return Id.test(L)}function up(L){return xd.test(L)}function ap(L){for(var Y,W=[];!(Y=L.next()).done;)W.push(Y.value);return W}function ps(L){var Y=-1,W=Array(L.size);return L.forEach(function(me,Me){W[++Y]=[Me,me]}),W}function Zl(L,Y){return function(W){return L(Y(W))}}function Pn(L,Y){for(var W=-1,me=L.length,Me=0,Qe=[];++W<me;){var Wt=L[W];(Wt===Y||Wt===f)&&(L[W]=f,Qe[Me++]=W)}return Qe}function vu(L){var Y=-1,W=Array(L.size);return L.forEach(function(me){W[++Y]=me}),W}function sp(L){var Y=-1,W=Array(L.size);return L.forEach(function(me){W[++Y]=[me,me]}),W}function op(L,Y,W){for(var me=W-1,Me=L.length;++me<Me;)if(L[me]===Y)return me;return-1}function lp(L,Y,W){for(var me=W+1;me--;)if(L[me]===Y)return me;return me}function pi(L){return di(L)?cp(L):Kd(L)}function $r(L){return di(L)?hp(L):Yd(L)}function Jl(L){for(var Y=L.length;Y--&&Ra.test(L.charAt(Y)););return Y}var fp=fs(qd);function cp(L){for(var Y=ns.lastIndex=0;ns.test(L);)++Y;return Y}function hp(L){return L.match(ns)||[]}function dp(L){return L.match(Nd)||[]}var pp=function L(Y){Y=Y==null?tr:vi.defaults(tr.Object(),Y,vi.pick(tr,Rd));var W=Y.Array,me=Y.Date,Me=Y.Error,Qe=Y.Function,Wt=Y.Math,ot=Y.Object,vs=Y.RegExp,vp=Y.String,Lr=Y.TypeError,gu=W.prototype,gp=Qe.prototype,gi=ot.prototype,mu=Y["__core-js_shared__"],Du=gp.toString,ut=gi.hasOwnProperty,mp=0,Xl=function(){var r=/[^.]+$/.exec(mu&&mu.keys&&mu.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),_u=gi.toString,Dp=Du.call(ot),_p=tr._,wp=vs("^"+Du.call(ut).replace(Ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wu=xl?Y.Buffer:n,Tn=Y.Symbol,Au=Y.Uint8Array,Ql=wu?wu.allocUnsafe:n,Eu=Zl(ot.getPrototypeOf,ot),ef=ot.create,tf=gi.propertyIsEnumerable,yu=gu.splice,rf=Tn?Tn.isConcatSpreadable:n,ji=Tn?Tn.iterator:n,Xn=Tn?Tn.toStringTag:n,bu=function(){try{var r=ni(ot,"defineProperty");return r({},"",{}),r}catch{}}(),Ap=Y.clearTimeout!==tr.clearTimeout&&Y.clearTimeout,Ep=me&&me.now!==tr.Date.now&&me.now,yp=Y.setTimeout!==tr.setTimeout&&Y.setTimeout,Fu=Wt.ceil,Cu=Wt.floor,gs=ot.getOwnPropertySymbols,bp=wu?wu.isBuffer:n,nf=Y.isFinite,Fp=gu.join,Cp=Zl(ot.keys,ot),kt=Wt.max,cr=Wt.min,Sp=me.now,Op=Y.parseInt,uf=Wt.random,Mp=gu.reverse,ms=ni(Y,"DataView"),Wi=ni(Y,"Map"),Ds=ni(Y,"Promise"),mi=ni(Y,"Set"),ki=ni(Y,"WeakMap"),Hi=ni(ot,"create"),Su=ki&&new ki,Di={},Bp=ii(ms),Pp=ii(Wi),Tp=ii(Ds),Np=ii(mi),Ip=ii(ki),Ou=Tn?Tn.prototype:n,Gi=Ou?Ou.valueOf:n,af=Ou?Ou.toString:n;function y(r){if(yt(r)&&!Be(r)&&!(r instanceof je)){if(r instanceof zr)return r;if(ut.call(r,"__wrapped__"))return sc(r)}return new zr(r)}var _i=function(){function r(){}return function(i){if(!vt(i))return{};if(ef)return ef(i);r.prototype=i;var h=new r;return r.prototype=n,h}}();function Mu(){}function zr(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}y.templateSettings={escape:lr,evaluate:dn,interpolate:$n,variable:"",imports:{_:y}},y.prototype=Mu.prototype,y.prototype.constructor=y,zr.prototype=_i(Mu.prototype),zr.prototype.constructor=zr;function je(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function xp(){var r=new je(this.__wrapped__);return r.__actions__=Ar(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ar(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ar(this.__views__),r}function Rp(){if(this.__filtered__){var r=new je(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Up(){var r=this.__wrapped__.value(),i=this.__dir__,h=Be(r),D=i<0,E=h?r.length:0,C=Y1(0,E,this.__views__),N=C.start,x=C.end,z=x-N,J=D?x:N-1,X=this.__iteratees__,ne=X.length,pe=0,De=cr(z,this.__takeCount__);if(!h||!D&&E==z&&De==z)return Bf(r,this.__actions__);var Fe=[];e:for(;z--&&pe<De;){J+=i;for(var Ie=-1,Ce=r[J];++Ie<ne;){var Le=X[Ie],ke=Le.iteratee,Nr=Le.type,_r=ke(Ce);if(Nr==K)Ce=_r;else if(!_r){if(Nr==G)continue e;break e}}Fe[pe++]=Ce}return Fe}je.prototype=_i(Mu.prototype),je.prototype.constructor=je;function Qn(r){var i=-1,h=r==null?0:r.length;for(this.clear();++i<h;){var D=r[i];this.set(D[0],D[1])}}function Lp(){this.__data__=Hi?Hi(null):{},this.size=0}function zp(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function qp(r){var i=this.__data__;if(Hi){var h=i[r];return h===d?n:h}return ut.call(i,r)?i[r]:n}function Vp(r){var i=this.__data__;return Hi?i[r]!==n:ut.call(i,r)}function jp(r,i){var h=this.__data__;return this.size+=this.has(r)?0:1,h[r]=Hi&&i===n?d:i,this}Qn.prototype.clear=Lp,Qn.prototype.delete=zp,Qn.prototype.get=qp,Qn.prototype.has=Vp,Qn.prototype.set=jp;function pn(r){var i=-1,h=r==null?0:r.length;for(this.clear();++i<h;){var D=r[i];this.set(D[0],D[1])}}function Wp(){this.__data__=[],this.size=0}function kp(r){var i=this.__data__,h=Bu(i,r);if(h<0)return!1;var D=i.length-1;return h==D?i.pop():yu.call(i,h,1),--this.size,!0}function Hp(r){var i=this.__data__,h=Bu(i,r);return h<0?n:i[h][1]}function Gp(r){return Bu(this.__data__,r)>-1}function $p(r,i){var h=this.__data__,D=Bu(h,r);return D<0?(++this.size,h.push([r,i])):h[D][1]=i,this}pn.prototype.clear=Wp,pn.prototype.delete=kp,pn.prototype.get=Hp,pn.prototype.has=Gp,pn.prototype.set=$p;function vn(r){var i=-1,h=r==null?0:r.length;for(this.clear();++i<h;){var D=r[i];this.set(D[0],D[1])}}function Kp(){this.size=0,this.__data__={hash:new Qn,map:new(Wi||pn),string:new Qn}}function Yp(r){var i=ju(this,r).delete(r);return this.size-=i?1:0,i}function Zp(r){return ju(this,r).get(r)}function Jp(r){return ju(this,r).has(r)}function Xp(r,i){var h=ju(this,r),D=h.size;return h.set(r,i),this.size+=h.size==D?0:1,this}vn.prototype.clear=Kp,vn.prototype.delete=Yp,vn.prototype.get=Zp,vn.prototype.has=Jp,vn.prototype.set=Xp;function ei(r){var i=-1,h=r==null?0:r.length;for(this.__data__=new vn;++i<h;)this.add(r[i])}function Qp(r){return this.__data__.set(r,d),this}function e1(r){return this.__data__.has(r)}ei.prototype.add=ei.prototype.push=Qp,ei.prototype.has=e1;function Kr(r){var i=this.__data__=new pn(r);this.size=i.size}function t1(){this.__data__=new pn,this.size=0}function r1(r){var i=this.__data__,h=i.delete(r);return this.size=i.size,h}function n1(r){return this.__data__.get(r)}function i1(r){return this.__data__.has(r)}function u1(r,i){var h=this.__data__;if(h instanceof pn){var D=h.__data__;if(!Wi||D.length<a-1)return D.push([r,i]),this.size=++h.size,this;h=this.__data__=new vn(D)}return h.set(r,i),this.size=h.size,this}Kr.prototype.clear=t1,Kr.prototype.delete=r1,Kr.prototype.get=n1,Kr.prototype.has=i1,Kr.prototype.set=u1;function sf(r,i){var h=Be(r),D=!h&&ui(r),E=!h&&!D&&Un(r),C=!h&&!D&&!E&&yi(r),N=h||D||E||C,x=N?hs(r.length,vp):[],z=x.length;for(var J in r)(i||ut.call(r,J))&&!(N&&(J=="length"||E&&(J=="offset"||J=="parent")||C&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||_n(J,z)))&&x.push(J);return x}function of(r){var i=r.length;return i?r[Ms(0,i-1)]:n}function a1(r,i){return Wu(Ar(r),ti(i,0,r.length))}function s1(r){return Wu(Ar(r))}function _s(r,i,h){(h!==n&&!Yr(r[i],h)||h===n&&!(i in r))&&gn(r,i,h)}function $i(r,i,h){var D=r[i];(!(ut.call(r,i)&&Yr(D,h))||h===n&&!(i in r))&&gn(r,i,h)}function Bu(r,i){for(var h=r.length;h--;)if(Yr(r[h][0],i))return h;return-1}function o1(r,i,h,D){return Nn(r,function(E,C,N){i(D,E,h(E),N)}),D}function lf(r,i){return r&&nn(i,$t(i),r)}function l1(r,i){return r&&nn(i,yr(i),r)}function gn(r,i,h){i=="__proto__"&&bu?bu(r,i,{configurable:!0,enumerable:!0,value:h,writable:!0}):r[i]=h}function ws(r,i){for(var h=-1,D=i.length,E=W(D),C=r==null;++h<D;)E[h]=C?n:eo(r,i[h]);return E}function ti(r,i,h){return r===r&&(h!==n&&(r=r<=h?r:h),i!==n&&(r=r>=i?r:i)),r}function qr(r,i,h,D,E,C){var N,x=i&o,z=i&p,J=i&m;if(h&&(N=E?h(r,D,E,C):h(r)),N!==n)return N;if(!vt(r))return r;var X=Be(r);if(X){if(N=J1(r),!x)return Ar(r,N)}else{var ne=hr(r),pe=ne==ht||ne==Ke;if(Un(r))return Nf(r,x);if(ne==St||ne==We||pe&&!E){if(N=z||pe?{}:Xf(r),!x)return z?q1(r,l1(N,r)):z1(r,lf(N,r))}else{if(!ft[ne])return E?r:{};N=X1(r,ne,x)}}C||(C=new Kr);var De=C.get(r);if(De)return De;C.set(r,N),Sc(r)?r.forEach(function(Ce){N.add(qr(Ce,i,h,Ce,r,C))}):Fc(r)&&r.forEach(function(Ce,Le){N.set(Le,qr(Ce,i,h,Le,r,C))});var Fe=J?z?qs:zs:z?yr:$t,Ie=X?n:Fe(r);return Ur(Ie||r,function(Ce,Le){Ie&&(Le=Ce,Ce=r[Le]),$i(N,Le,qr(Ce,i,h,Le,r,C))}),N}function f1(r){var i=$t(r);return function(h){return ff(h,r,i)}}function ff(r,i,h){var D=h.length;if(r==null)return!D;for(r=ot(r);D--;){var E=h[D],C=i[E],N=r[E];if(N===n&&!(E in r)||!C(N))return!1}return!0}function cf(r,i,h){if(typeof r!="function")throw new Lr(l);return eu(function(){r.apply(n,h)},i)}function Ki(r,i,h,D){var E=-1,C=du,N=!0,x=r.length,z=[],J=i.length;if(!x)return z;h&&(i=dt(i,Br(h))),D?(C=as,N=!1):i.length>=a&&(C=Vi,N=!1,i=new ei(i));e:for(;++E<x;){var X=r[E],ne=h==null?X:h(X);if(X=D||X!==0?X:0,N&&ne===ne){for(var pe=J;pe--;)if(i[pe]===ne)continue e;z.push(X)}else C(i,ne,D)||z.push(X)}return z}var Nn=Lf(rn),hf=Lf(Es,!0);function c1(r,i){var h=!0;return Nn(r,function(D,E,C){return h=!!i(D,E,C),h}),h}function Pu(r,i,h){for(var D=-1,E=r.length;++D<E;){var C=r[D],N=i(C);if(N!=null&&(x===n?N===N&&!Tr(N):h(N,x)))var x=N,z=C}return z}function h1(r,i,h,D){var E=r.length;for(h=Ne(h),h<0&&(h=-h>E?0:E+h),D=D===n||D>E?E:Ne(D),D<0&&(D+=E),D=h>D?0:Mc(D);h<D;)r[h++]=i;return r}function df(r,i){var h=[];return Nn(r,function(D,E,C){i(D,E,C)&&h.push(D)}),h}function rr(r,i,h,D,E){var C=-1,N=r.length;for(h||(h=ev),E||(E=[]);++C<N;){var x=r[C];i>0&&h(x)?i>1?rr(x,i-1,h,D,E):Bn(E,x):D||(E[E.length]=x)}return E}var As=zf(),pf=zf(!0);function rn(r,i){return r&&As(r,i,$t)}function Es(r,i){return r&&pf(r,i,$t)}function Tu(r,i){return Mn(i,function(h){return wn(r[h])})}function ri(r,i){i=xn(i,r);for(var h=0,D=i.length;r!=null&&h<D;)r=r[un(i[h++])];return h&&h==D?r:n}function vf(r,i,h){var D=i(r);return Be(r)?D:Bn(D,h(r))}function mr(r){return r==null?r===n?R:Or:Xn&&Xn in ot(r)?K1(r):sv(r)}function ys(r,i){return r>i}function d1(r,i){return r!=null&&ut.call(r,i)}function p1(r,i){return r!=null&&i in ot(r)}function v1(r,i,h){return r>=cr(i,h)&&r<kt(i,h)}function bs(r,i,h){for(var D=h?as:du,E=r[0].length,C=r.length,N=C,x=W(C),z=1/0,J=[];N--;){var X=r[N];N&&i&&(X=dt(X,Br(i))),z=cr(X.length,z),x[N]=!h&&(i||E>=120&&X.length>=120)?new ei(N&&X):n}X=r[0];var ne=-1,pe=x[0];e:for(;++ne<E&&J.length<z;){var De=X[ne],Fe=i?i(De):De;if(De=h||De!==0?De:0,!(pe?Vi(pe,Fe):D(J,Fe,h))){for(N=C;--N;){var Ie=x[N];if(!(Ie?Vi(Ie,Fe):D(r[N],Fe,h)))continue e}pe&&pe.push(Fe),J.push(De)}}return J}function g1(r,i,h,D){return rn(r,function(E,C,N){i(D,h(E),C,N)}),D}function Yi(r,i,h){i=xn(i,r),r=rc(r,i);var D=r==null?r:r[un(jr(i))];return D==null?n:Mr(D,r,h)}function gf(r){return yt(r)&&mr(r)==We}function m1(r){return yt(r)&&mr(r)==te}function D1(r){return yt(r)&&mr(r)==qe}function Zi(r,i,h,D,E){return r===i?!0:r==null||i==null||!yt(r)&&!yt(i)?r!==r&&i!==i:_1(r,i,h,D,Zi,E)}function _1(r,i,h,D,E,C){var N=Be(r),x=Be(i),z=N?Ge:hr(r),J=x?Ge:hr(i);z=z==We?St:z,J=J==We?St:J;var X=z==St,ne=J==St,pe=z==J;if(pe&&Un(r)){if(!Un(i))return!1;N=!0,X=!1}if(pe&&!X)return C||(C=new Kr),N||yi(r)?Yf(r,i,h,D,E,C):G1(r,i,z,h,D,E,C);if(!(h&w)){var De=X&&ut.call(r,"__wrapped__"),Fe=ne&&ut.call(i,"__wrapped__");if(De||Fe){var Ie=De?r.value():r,Ce=Fe?i.value():i;return C||(C=new Kr),E(Ie,Ce,h,D,C)}}return pe?(C||(C=new Kr),$1(r,i,h,D,E,C)):!1}function w1(r){return yt(r)&&hr(r)==Ye}function Fs(r,i,h,D){var E=h.length,C=E,N=!D;if(r==null)return!C;for(r=ot(r);E--;){var x=h[E];if(N&&x[2]?x[1]!==r[x[0]]:!(x[0]in r))return!1}for(;++E<C;){x=h[E];var z=x[0],J=r[z],X=x[1];if(N&&x[2]){if(J===n&&!(z in r))return!1}else{var ne=new Kr;if(D)var pe=D(J,X,z,r,i,ne);if(!(pe===n?Zi(X,J,w|g,D,ne):pe))return!1}}return!0}function mf(r){if(!vt(r)||rv(r))return!1;var i=wn(r)?wp:Ha;return i.test(ii(r))}function A1(r){return yt(r)&&mr(r)==Ot}function E1(r){return yt(r)&&hr(r)==It}function y1(r){return yt(r)&&Yu(r.length)&&!!ct[mr(r)]}function Df(r){return typeof r=="function"?r:r==null?br:typeof r=="object"?Be(r)?Af(r[0],r[1]):wf(r):qc(r)}function Cs(r){if(!Qi(r))return Cp(r);var i=[];for(var h in ot(r))ut.call(r,h)&&h!="constructor"&&i.push(h);return i}function b1(r){if(!vt(r))return av(r);var i=Qi(r),h=[];for(var D in r)D=="constructor"&&(i||!ut.call(r,D))||h.push(D);return h}function Ss(r,i){return r<i}function _f(r,i){var h=-1,D=Er(r)?W(r.length):[];return Nn(r,function(E,C,N){D[++h]=i(E,C,N)}),D}function wf(r){var i=js(r);return i.length==1&&i[0][2]?ec(i[0][0],i[0][1]):function(h){return h===r||Fs(h,r,i)}}function Af(r,i){return ks(r)&&Qf(i)?ec(un(r),i):function(h){var D=eo(h,r);return D===n&&D===i?to(h,r):Zi(i,D,w|g)}}function Nu(r,i,h,D,E){r!==i&&As(i,function(C,N){if(E||(E=new Kr),vt(C))F1(r,i,N,h,Nu,D,E);else{var x=D?D(Gs(r,N),C,N+"",r,i,E):n;x===n&&(x=C),_s(r,N,x)}},yr)}function F1(r,i,h,D,E,C,N){var x=Gs(r,h),z=Gs(i,h),J=N.get(z);if(J){_s(r,h,J);return}var X=C?C(x,z,h+"",r,i,N):n,ne=X===n;if(ne){var pe=Be(z),De=!pe&&Un(z),Fe=!pe&&!De&&yi(z);X=z,pe||De||Fe?Be(x)?X=x:Pt(x)?X=Ar(x):De?(ne=!1,X=Nf(z,!0)):Fe?(ne=!1,X=If(z,!0)):X=[]:tu(z)||ui(z)?(X=x,ui(x)?X=Bc(x):(!vt(x)||wn(x))&&(X=Xf(z))):ne=!1}ne&&(N.set(z,X),E(X,z,D,C,N),N.delete(z)),_s(r,h,X)}function Ef(r,i){var h=r.length;if(h)return i+=i<0?h:0,_n(i,h)?r[i]:n}function yf(r,i,h){i.length?i=dt(i,function(C){return Be(C)?function(N){return ri(N,C.length===1?C[0]:C)}:C}):i=[br];var D=-1;i=dt(i,Br(ye()));var E=_f(r,function(C,N,x){var z=dt(i,function(J){return J(C)});return{criteria:z,index:++D,value:C}});return Xd(E,function(C,N){return L1(C,N,h)})}function C1(r,i){return bf(r,i,function(h,D){return to(r,D)})}function bf(r,i,h){for(var D=-1,E=i.length,C={};++D<E;){var N=i[D],x=ri(r,N);h(x,N)&&Ji(C,xn(N,r),x)}return C}function S1(r){return function(i){return ri(i,r)}}function Os(r,i,h,D){var E=D?Jd:hi,C=-1,N=i.length,x=r;for(r===i&&(i=Ar(i)),h&&(x=dt(r,Br(h)));++C<N;)for(var z=0,J=i[C],X=h?h(J):J;(z=E(x,X,z,D))>-1;)x!==r&&yu.call(x,z,1),yu.call(r,z,1);return r}function Ff(r,i){for(var h=r?i.length:0,D=h-1;h--;){var E=i[h];if(h==D||E!==C){var C=E;_n(E)?yu.call(r,E,1):Ts(r,E)}}return r}function Ms(r,i){return r+Cu(uf()*(i-r+1))}function O1(r,i,h,D){for(var E=-1,C=kt(Fu((i-r)/(h||1)),0),N=W(C);C--;)N[D?C:++E]=r,r+=h;return N}function Bs(r,i){var h="";if(!r||i<1||i>fe)return h;do i%2&&(h+=r),i=Cu(i/2),i&&(r+=r);while(i);return h}function Re(r,i){return $s(tc(r,i,br),r+"")}function M1(r){return of(bi(r))}function B1(r,i){var h=bi(r);return Wu(h,ti(i,0,h.length))}function Ji(r,i,h,D){if(!vt(r))return r;i=xn(i,r);for(var E=-1,C=i.length,N=C-1,x=r;x!=null&&++E<C;){var z=un(i[E]),J=h;if(z==="__proto__"||z==="constructor"||z==="prototype")return r;if(E!=N){var X=x[z];J=D?D(X,z,x):n,J===n&&(J=vt(X)?X:_n(i[E+1])?[]:{})}$i(x,z,J),x=x[z]}return r}var Cf=Su?function(r,i){return Su.set(r,i),r}:br,P1=bu?function(r,i){return bu(r,"toString",{configurable:!0,enumerable:!1,value:no(i),writable:!0})}:br;function T1(r){return Wu(bi(r))}function Vr(r,i,h){var D=-1,E=r.length;i<0&&(i=-i>E?0:E+i),h=h>E?E:h,h<0&&(h+=E),E=i>h?0:h-i>>>0,i>>>=0;for(var C=W(E);++D<E;)C[D]=r[D+i];return C}function N1(r,i){var h;return Nn(r,function(D,E,C){return h=i(D,E,C),!h}),!!h}function Iu(r,i,h){var D=0,E=r==null?D:r.length;if(typeof i=="number"&&i===i&&E<=Te){for(;D<E;){var C=D+E>>>1,N=r[C];N!==null&&!Tr(N)&&(h?N<=i:N<i)?D=C+1:E=C}return E}return Ps(r,i,br,h)}function Ps(r,i,h,D){var E=0,C=r==null?0:r.length;if(C===0)return 0;i=h(i);for(var N=i!==i,x=i===null,z=Tr(i),J=i===n;E<C;){var X=Cu((E+C)/2),ne=h(r[X]),pe=ne!==n,De=ne===null,Fe=ne===ne,Ie=Tr(ne);if(N)var Ce=D||Fe;else J?Ce=Fe&&(D||pe):x?Ce=Fe&&pe&&(D||!De):z?Ce=Fe&&pe&&!De&&(D||!Ie):De||Ie?Ce=!1:Ce=D?ne<=i:ne<i;Ce?E=X+1:C=X}return cr(C,Ue)}function Sf(r,i){for(var h=-1,D=r.length,E=0,C=[];++h<D;){var N=r[h],x=i?i(N):N;if(!h||!Yr(x,z)){var z=x;C[E++]=N===0?0:N}}return C}function Of(r){return typeof r=="number"?r:Tr(r)?Ae:+r}function Pr(r){if(typeof r=="string")return r;if(Be(r))return dt(r,Pr)+"";if(Tr(r))return af?af.call(r):"";var i=r+"";return i=="0"&&1/r==-oe?"-0":i}function In(r,i,h){var D=-1,E=du,C=r.length,N=!0,x=[],z=x;if(h)N=!1,E=as;else if(C>=a){var J=i?null:k1(r);if(J)return vu(J);N=!1,E=Vi,z=new ei}else z=i?[]:x;e:for(;++D<C;){var X=r[D],ne=i?i(X):X;if(X=h||X!==0?X:0,N&&ne===ne){for(var pe=z.length;pe--;)if(z[pe]===ne)continue e;i&&z.push(ne),x.push(X)}else E(z,ne,h)||(z!==x&&z.push(ne),x.push(X))}return x}function Ts(r,i){return i=xn(i,r),r=rc(r,i),r==null||delete r[un(jr(i))]}function Mf(r,i,h,D){return Ji(r,i,h(ri(r,i)),D)}function xu(r,i,h,D){for(var E=r.length,C=D?E:-1;(D?C--:++C<E)&&i(r[C],C,r););return h?Vr(r,D?0:C,D?C+1:E):Vr(r,D?C+1:0,D?E:C)}function Bf(r,i){var h=r;return h instanceof je&&(h=h.value()),ss(i,function(D,E){return E.func.apply(E.thisArg,Bn([D],E.args))},h)}function Ns(r,i,h){var D=r.length;if(D<2)return D?In(r[0]):[];for(var E=-1,C=W(D);++E<D;)for(var N=r[E],x=-1;++x<D;)x!=E&&(C[E]=Ki(C[E]||N,r[x],i,h));return In(rr(C,1),i,h)}function Pf(r,i,h){for(var D=-1,E=r.length,C=i.length,N={};++D<E;){var x=D<C?i[D]:n;h(N,r[D],x)}return N}function Is(r){return Pt(r)?r:[]}function xs(r){return typeof r=="function"?r:br}function xn(r,i){return Be(r)?r:ks(r,i)?[r]:ac(rt(r))}var I1=Re;function Rn(r,i,h){var D=r.length;return h=h===n?D:h,!i&&h>=D?r:Vr(r,i,h)}var Tf=Ap||function(r){return tr.clearTimeout(r)};function Nf(r,i){if(i)return r.slice();var h=r.length,D=Ql?Ql(h):new r.constructor(h);return r.copy(D),D}function Rs(r){var i=new r.constructor(r.byteLength);return new Au(i).set(new Au(r)),i}function x1(r,i){var h=i?Rs(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.byteLength)}function R1(r){var i=new r.constructor(r.source,lu.exec(r));return i.lastIndex=r.lastIndex,i}function U1(r){return Gi?ot(Gi.call(r)):{}}function If(r,i){var h=i?Rs(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.length)}function xf(r,i){if(r!==i){var h=r!==n,D=r===null,E=r===r,C=Tr(r),N=i!==n,x=i===null,z=i===i,J=Tr(i);if(!x&&!J&&!C&&r>i||C&&N&&z&&!x&&!J||D&&N&&z||!h&&z||!E)return 1;if(!D&&!C&&!J&&r<i||J&&h&&E&&!D&&!C||x&&h&&E||!N&&E||!z)return-1}return 0}function L1(r,i,h){for(var D=-1,E=r.criteria,C=i.criteria,N=E.length,x=h.length;++D<N;){var z=xf(E[D],C[D]);if(z){if(D>=x)return z;var J=h[D];return z*(J=="desc"?-1:1)}}return r.index-i.index}function Rf(r,i,h,D){for(var E=-1,C=r.length,N=h.length,x=-1,z=i.length,J=kt(C-N,0),X=W(z+J),ne=!D;++x<z;)X[x]=i[x];for(;++E<N;)(ne||E<C)&&(X[h[E]]=r[E]);for(;J--;)X[x++]=r[E++];return X}function Uf(r,i,h,D){for(var E=-1,C=r.length,N=-1,x=h.length,z=-1,J=i.length,X=kt(C-x,0),ne=W(X+J),pe=!D;++E<X;)ne[E]=r[E];for(var De=E;++z<J;)ne[De+z]=i[z];for(;++N<x;)(pe||E<C)&&(ne[De+h[N]]=r[E++]);return ne}function Ar(r,i){var h=-1,D=r.length;for(i||(i=W(D));++h<D;)i[h]=r[h];return i}function nn(r,i,h,D){var E=!h;h||(h={});for(var C=-1,N=i.length;++C<N;){var x=i[C],z=D?D(h[x],r[x],x,h,r):n;z===n&&(z=r[x]),E?gn(h,x,z):$i(h,x,z)}return h}function z1(r,i){return nn(r,Ws(r),i)}function q1(r,i){return nn(r,Zf(r),i)}function Ru(r,i){return function(h,D){var E=Be(h)?Hd:o1,C=i?i():{};return E(h,r,ye(D,2),C)}}function wi(r){return Re(function(i,h){var D=-1,E=h.length,C=E>1?h[E-1]:n,N=E>2?h[2]:n;for(C=r.length>3&&typeof C=="function"?(E--,C):n,N&&Dr(h[0],h[1],N)&&(C=E<3?n:C,E=1),i=ot(i);++D<E;){var x=h[D];x&&r(i,x,D,C)}return i})}function Lf(r,i){return function(h,D){if(h==null)return h;if(!Er(h))return r(h,D);for(var E=h.length,C=i?E:-1,N=ot(h);(i?C--:++C<E)&&D(N[C],C,N)!==!1;);return h}}function zf(r){return function(i,h,D){for(var E=-1,C=ot(i),N=D(i),x=N.length;x--;){var z=N[r?x:++E];if(h(C[z],z,C)===!1)break}return i}}function V1(r,i,h){var D=i&_,E=Xi(r);function C(){var N=this&&this!==tr&&this instanceof C?E:r;return N.apply(D?h:this,arguments)}return C}function qf(r){return function(i){i=rt(i);var h=di(i)?$r(i):n,D=h?h[0]:i.charAt(0),E=h?Rn(h,1).join(""):i.slice(1);return D[r]()+E}}function Ai(r){return function(i){return ss(Lc(Uc(i).replace(Pd,"")),r,"")}}function Xi(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var h=_i(r.prototype),D=r.apply(h,i);return vt(D)?D:h}}function j1(r,i,h){var D=Xi(r);function E(){for(var C=arguments.length,N=W(C),x=C,z=Ei(E);x--;)N[x]=arguments[x];var J=C<3&&N[0]!==z&&N[C-1]!==z?[]:Pn(N,z);if(C-=J.length,C<h)return Hf(r,i,Uu,E.placeholder,n,N,J,n,n,h-C);var X=this&&this!==tr&&this instanceof E?D:r;return Mr(X,this,N)}return E}function Vf(r){return function(i,h,D){var E=ot(i);if(!Er(i)){var C=ye(h,3);i=$t(i),h=function(x){return C(E[x],x,E)}}var N=r(i,h,D);return N>-1?E[C?i[N]:N]:n}}function jf(r){return Dn(function(i){var h=i.length,D=h,E=zr.prototype.thru;for(r&&i.reverse();D--;){var C=i[D];if(typeof C!="function")throw new Lr(l);if(E&&!N&&Vu(C)=="wrapper")var N=new zr([],!0)}for(D=N?D:h;++D<h;){C=i[D];var x=Vu(C),z=x=="wrapper"?Vs(C):n;z&&Hs(z[0])&&z[1]==(P|b|F|B)&&!z[4].length&&z[9]==1?N=N[Vu(z[0])].apply(N,z[3]):N=C.length==1&&Hs(C)?N[x]():N.thru(C)}return function(){var J=arguments,X=J[0];if(N&&J.length==1&&Be(X))return N.plant(X).value();for(var ne=0,pe=h?i[ne].apply(this,J):X;++ne<h;)pe=i[ne].call(this,pe);return pe}})}function Uu(r,i,h,D,E,C,N,x,z,J){var X=i&P,ne=i&_,pe=i&A,De=i&(b|M),Fe=i&I,Ie=pe?n:Xi(r);function Ce(){for(var Le=arguments.length,ke=W(Le),Nr=Le;Nr--;)ke[Nr]=arguments[Nr];if(De)var _r=Ei(Ce),Ir=ep(ke,_r);if(D&&(ke=Rf(ke,D,E,De)),C&&(ke=Uf(ke,C,N,De)),Le-=Ir,De&&Le<J){var Tt=Pn(ke,_r);return Hf(r,i,Uu,Ce.placeholder,h,ke,Tt,x,z,J-Le)}var Zr=ne?h:this,En=pe?Zr[r]:r;return Le=ke.length,x?ke=ov(ke,x):Fe&&Le>1&&ke.reverse(),X&&z<Le&&(ke.length=z),this&&this!==tr&&this instanceof Ce&&(En=Ie||Xi(En)),En.apply(Zr,ke)}return Ce}function Wf(r,i){return function(h,D){return g1(h,r,i(D),{})}}function Lu(r,i){return function(h,D){var E;if(h===n&&D===n)return i;if(h!==n&&(E=h),D!==n){if(E===n)return D;typeof h=="string"||typeof D=="string"?(h=Pr(h),D=Pr(D)):(h=Of(h),D=Of(D)),E=r(h,D)}return E}}function Us(r){return Dn(function(i){return i=dt(i,Br(ye())),Re(function(h){var D=this;return r(i,function(E){return Mr(E,D,h)})})})}function zu(r,i){i=i===n?" ":Pr(i);var h=i.length;if(h<2)return h?Bs(i,r):i;var D=Bs(i,Fu(r/pi(i)));return di(i)?Rn($r(D),0,r).join(""):D.slice(0,r)}function W1(r,i,h,D){var E=i&_,C=Xi(r);function N(){for(var x=-1,z=arguments.length,J=-1,X=D.length,ne=W(X+z),pe=this&&this!==tr&&this instanceof N?C:r;++J<X;)ne[J]=D[J];for(;z--;)ne[J++]=arguments[++x];return Mr(pe,E?h:this,ne)}return N}function kf(r){return function(i,h,D){return D&&typeof D!="number"&&Dr(i,h,D)&&(h=D=n),i=An(i),h===n?(h=i,i=0):h=An(h),D=D===n?i<h?1:-1:An(D),O1(i,h,D,r)}}function qu(r){return function(i,h){return typeof i=="string"&&typeof h=="string"||(i=Wr(i),h=Wr(h)),r(i,h)}}function Hf(r,i,h,D,E,C,N,x,z,J){var X=i&b,ne=X?N:n,pe=X?n:N,De=X?C:n,Fe=X?n:C;i|=X?F:S,i&=~(X?S:F),i&O||(i&=~(_|A));var Ie=[r,i,E,De,ne,Fe,pe,x,z,J],Ce=h.apply(n,Ie);return Hs(r)&&nc(Ce,Ie),Ce.placeholder=D,ic(Ce,r,i)}function Ls(r){var i=Wt[r];return function(h,D){if(h=Wr(h),D=D==null?0:cr(Ne(D),292),D&&nf(h)){var E=(rt(h)+"e").split("e"),C=i(E[0]+"e"+(+E[1]+D));return E=(rt(C)+"e").split("e"),+(E[0]+"e"+(+E[1]-D))}return i(h)}}var k1=mi&&1/vu(new mi([,-0]))[1]==oe?function(r){return new mi(r)}:ao;function Gf(r){return function(i){var h=hr(i);return h==Ye?ps(i):h==It?sp(i):Qd(i,r(i))}}function mn(r,i,h,D,E,C,N,x){var z=i&A;if(!z&&typeof r!="function")throw new Lr(l);var J=D?D.length:0;if(J||(i&=~(F|S),D=E=n),N=N===n?N:kt(Ne(N),0),x=x===n?x:Ne(x),J-=E?E.length:0,i&S){var X=D,ne=E;D=E=n}var pe=z?n:Vs(r),De=[r,i,h,D,E,X,ne,C,N,x];if(pe&&uv(De,pe),r=De[0],i=De[1],h=De[2],D=De[3],E=De[4],x=De[9]=De[9]===n?z?0:r.length:kt(De[9]-J,0),!x&&i&(b|M)&&(i&=~(b|M)),!i||i==_)var Fe=V1(r,i,h);else i==b||i==M?Fe=j1(r,i,x):(i==F||i==(_|F))&&!E.length?Fe=W1(r,i,h,D):Fe=Uu.apply(n,De);var Ie=pe?Cf:nc;return ic(Ie(Fe,De),r,i)}function $f(r,i,h,D){return r===n||Yr(r,gi[h])&&!ut.call(D,h)?i:r}function Kf(r,i,h,D,E,C){return vt(r)&&vt(i)&&(C.set(i,r),Nu(r,i,n,Kf,C),C.delete(i)),r}function H1(r){return tu(r)?n:r}function Yf(r,i,h,D,E,C){var N=h&w,x=r.length,z=i.length;if(x!=z&&!(N&&z>x))return!1;var J=C.get(r),X=C.get(i);if(J&&X)return J==i&&X==r;var ne=-1,pe=!0,De=h&g?new ei:n;for(C.set(r,i),C.set(i,r);++ne<x;){var Fe=r[ne],Ie=i[ne];if(D)var Ce=N?D(Ie,Fe,ne,i,r,C):D(Fe,Ie,ne,r,i,C);if(Ce!==n){if(Ce)continue;pe=!1;break}if(De){if(!os(i,function(Le,ke){if(!Vi(De,ke)&&(Fe===Le||E(Fe,Le,h,D,C)))return De.push(ke)})){pe=!1;break}}else if(!(Fe===Ie||E(Fe,Ie,h,D,C))){pe=!1;break}}return C.delete(r),C.delete(i),pe}function G1(r,i,h,D,E,C,N){switch(h){case ie:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case te:return!(r.byteLength!=i.byteLength||!C(new Au(r),new Au(i)));case pt:case qe:case Nt:return Yr(+r,+i);case qt:return r.name==i.name&&r.message==i.message;case Ot:case Qt:return r==i+"";case Ye:var x=ps;case It:var z=D&w;if(x||(x=vu),r.size!=i.size&&!z)return!1;var J=N.get(r);if(J)return J==i;D|=g,N.set(r,i);var X=Yf(x(r),x(i),D,E,C,N);return N.delete(r),X;case T:if(Gi)return Gi.call(r)==Gi.call(i)}return!1}function $1(r,i,h,D,E,C){var N=h&w,x=zs(r),z=x.length,J=zs(i),X=J.length;if(z!=X&&!N)return!1;for(var ne=z;ne--;){var pe=x[ne];if(!(N?pe in i:ut.call(i,pe)))return!1}var De=C.get(r),Fe=C.get(i);if(De&&Fe)return De==i&&Fe==r;var Ie=!0;C.set(r,i),C.set(i,r);for(var Ce=N;++ne<z;){pe=x[ne];var Le=r[pe],ke=i[pe];if(D)var Nr=N?D(ke,Le,pe,i,r,C):D(Le,ke,pe,r,i,C);if(!(Nr===n?Le===ke||E(Le,ke,h,D,C):Nr)){Ie=!1;break}Ce||(Ce=pe=="constructor")}if(Ie&&!Ce){var _r=r.constructor,Ir=i.constructor;_r!=Ir&&"constructor"in r&&"constructor"in i&&!(typeof _r=="function"&&_r instanceof _r&&typeof Ir=="function"&&Ir instanceof Ir)&&(Ie=!1)}return C.delete(r),C.delete(i),Ie}function Dn(r){return $s(tc(r,n,fc),r+"")}function zs(r){return vf(r,$t,Ws)}function qs(r){return vf(r,yr,Zf)}var Vs=Su?function(r){return Su.get(r)}:ao;function Vu(r){for(var i=r.name+"",h=Di[i],D=ut.call(Di,i)?h.length:0;D--;){var E=h[D],C=E.func;if(C==null||C==r)return E.name}return i}function Ei(r){var i=ut.call(y,"placeholder")?y:r;return i.placeholder}function ye(){var r=y.iteratee||io;return r=r===io?Df:r,arguments.length?r(arguments[0],arguments[1]):r}function ju(r,i){var h=r.__data__;return tv(i)?h[typeof i=="string"?"string":"hash"]:h.map}function js(r){for(var i=$t(r),h=i.length;h--;){var D=i[h],E=r[D];i[h]=[D,E,Qf(E)]}return i}function ni(r,i){var h=ip(r,i);return mf(h)?h:n}function K1(r){var i=ut.call(r,Xn),h=r[Xn];try{r[Xn]=n;var D=!0}catch{}var E=_u.call(r);return D&&(i?r[Xn]=h:delete r[Xn]),E}var Ws=gs?function(r){return r==null?[]:(r=ot(r),Mn(gs(r),function(i){return tf.call(r,i)}))}:so,Zf=gs?function(r){for(var i=[];r;)Bn(i,Ws(r)),r=Eu(r);return i}:so,hr=mr;(ms&&hr(new ms(new ArrayBuffer(1)))!=ie||Wi&&hr(new Wi)!=Ye||Ds&&hr(Ds.resolve())!=ve||mi&&hr(new mi)!=It||ki&&hr(new ki)!=V)&&(hr=function(r){var i=mr(r),h=i==St?r.constructor:n,D=h?ii(h):"";if(D)switch(D){case Bp:return ie;case Pp:return Ye;case Tp:return ve;case Np:return It;case Ip:return V}return i});function Y1(r,i,h){for(var D=-1,E=h.length;++D<E;){var C=h[D],N=C.size;switch(C.type){case"drop":r+=N;break;case"dropRight":i-=N;break;case"take":i=cr(i,r+N);break;case"takeRight":r=kt(r,i-N);break}}return{start:r,end:i}}function Z1(r){var i=r.match(La);return i?i[1].split(za):[]}function Jf(r,i,h){i=xn(i,r);for(var D=-1,E=i.length,C=!1;++D<E;){var N=un(i[D]);if(!(C=r!=null&&h(r,N)))break;r=r[N]}return C||++D!=E?C:(E=r==null?0:r.length,!!E&&Yu(E)&&_n(N,E)&&(Be(r)||ui(r)))}function J1(r){var i=r.length,h=new r.constructor(i);return i&&typeof r[0]=="string"&&ut.call(r,"index")&&(h.index=r.index,h.input=r.input),h}function Xf(r){return typeof r.constructor=="function"&&!Qi(r)?_i(Eu(r)):{}}function X1(r,i,h){var D=r.constructor;switch(i){case te:return Rs(r);case pt:case qe:return new D(+r);case ie:return x1(r,h);case le:case ee:case ae:case _e:case Pe:case de:case Vt:case Mt:case xt:return If(r,h);case Ye:return new D;case Nt:case Qt:return new D(r);case Ot:return R1(r);case It:return new D;case T:return U1(r)}}function Q1(r,i){var h=i.length;if(!h)return r;var D=h-1;return i[D]=(h>1?"& ":"")+i[D],i=i.join(h>2?", ":" "),r.replace(Ua,`{
/* [wrapped with `+i+`] */
`)}function ev(r){return Be(r)||ui(r)||!!(rf&&r&&r[rf])}function _n(r,i){var h=typeof r;return i=i??fe,!!i&&(h=="number"||h!="symbol"&&$a.test(r))&&r>-1&&r%1==0&&r<i}function Dr(r,i,h){if(!vt(h))return!1;var D=typeof i;return(D=="number"?Er(h)&&_n(i,h.length):D=="string"&&i in h)?Yr(h[i],r):!1}function ks(r,i){if(Be(r))return!1;var h=typeof r;return h=="number"||h=="symbol"||h=="boolean"||r==null||Tr(r)?!0:Na.test(r)||!Kn.test(r)||i!=null&&r in ot(i)}function tv(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Hs(r){var i=Vu(r),h=y[i];if(typeof h!="function"||!(i in je.prototype))return!1;if(r===h)return!0;var D=Vs(h);return!!D&&r===D[0]}function rv(r){return!!Xl&&Xl in r}var nv=mu?wn:oo;function Qi(r){var i=r&&r.constructor,h=typeof i=="function"&&i.prototype||gi;return r===h}function Qf(r){return r===r&&!vt(r)}function ec(r,i){return function(h){return h==null?!1:h[r]===i&&(i!==n||r in ot(h))}}function iv(r){var i=$u(r,function(D){return h.size===v&&h.clear(),D}),h=i.cache;return i}function uv(r,i){var h=r[1],D=i[1],E=h|D,C=E<(_|A|P),N=D==P&&h==b||D==P&&h==B&&r[7].length<=i[8]||D==(P|B)&&i[7].length<=i[8]&&h==b;if(!(C||N))return r;D&_&&(r[2]=i[2],E|=h&_?0:O);var x=i[3];if(x){var z=r[3];r[3]=z?Rf(z,x,i[4]):x,r[4]=z?Pn(r[3],f):i[4]}return x=i[5],x&&(z=r[5],r[5]=z?Uf(z,x,i[6]):x,r[6]=z?Pn(r[5],f):i[6]),x=i[7],x&&(r[7]=x),D&P&&(r[8]=r[8]==null?i[8]:cr(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=E,r}function av(r){var i=[];if(r!=null)for(var h in ot(r))i.push(h);return i}function sv(r){return _u.call(r)}function tc(r,i,h){return i=kt(i===n?r.length-1:i,0),function(){for(var D=arguments,E=-1,C=kt(D.length-i,0),N=W(C);++E<C;)N[E]=D[i+E];E=-1;for(var x=W(i+1);++E<i;)x[E]=D[E];return x[i]=h(N),Mr(r,this,x)}}function rc(r,i){return i.length<2?r:ri(r,Vr(i,0,-1))}function ov(r,i){for(var h=r.length,D=cr(i.length,h),E=Ar(r);D--;){var C=i[D];r[D]=_n(C,h)?E[C]:n}return r}function Gs(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var nc=uc(Cf),eu=yp||function(r,i){return tr.setTimeout(r,i)},$s=uc(P1);function ic(r,i,h){var D=i+"";return $s(r,Q1(D,lv(Z1(D),h)))}function uc(r){var i=0,h=0;return function(){var D=Sp(),E=se-(D-h);if(h=D,E>0){if(++i>=k)return arguments[0]}else i=0;return r.apply(n,arguments)}}function Wu(r,i){var h=-1,D=r.length,E=D-1;for(i=i===n?D:i;++h<i;){var C=Ms(h,E),N=r[C];r[C]=r[h],r[h]=N}return r.length=i,r}var ac=iv(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(Ia,function(h,D,E,C){i.push(E?C.replace(Va,"$1"):D||h)}),i});function un(r){if(typeof r=="string"||Tr(r))return r;var i=r+"";return i=="0"&&1/r==-oe?"-0":i}function ii(r){if(r!=null){try{return Du.call(r)}catch{}try{return r+""}catch{}}return""}function lv(r,i){return Ur(nt,function(h){var D="_."+h[0];i&h[1]&&!du(r,D)&&r.push(D)}),r.sort()}function sc(r){if(r instanceof je)return r.clone();var i=new zr(r.__wrapped__,r.__chain__);return i.__actions__=Ar(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function fv(r,i,h){(h?Dr(r,i,h):i===n)?i=1:i=kt(Ne(i),0);var D=r==null?0:r.length;if(!D||i<1)return[];for(var E=0,C=0,N=W(Fu(D/i));E<D;)N[C++]=Vr(r,E,E+=i);return N}function cv(r){for(var i=-1,h=r==null?0:r.length,D=0,E=[];++i<h;){var C=r[i];C&&(E[D++]=C)}return E}function hv(){var r=arguments.length;if(!r)return[];for(var i=W(r-1),h=arguments[0],D=r;D--;)i[D-1]=arguments[D];return Bn(Be(h)?Ar(h):[h],rr(i,1))}var dv=Re(function(r,i){return Pt(r)?Ki(r,rr(i,1,Pt,!0)):[]}),pv=Re(function(r,i){var h=jr(i);return Pt(h)&&(h=n),Pt(r)?Ki(r,rr(i,1,Pt,!0),ye(h,2)):[]}),vv=Re(function(r,i){var h=jr(i);return Pt(h)&&(h=n),Pt(r)?Ki(r,rr(i,1,Pt,!0),n,h):[]});function gv(r,i,h){var D=r==null?0:r.length;return D?(i=h||i===n?1:Ne(i),Vr(r,i<0?0:i,D)):[]}function mv(r,i,h){var D=r==null?0:r.length;return D?(i=h||i===n?1:Ne(i),i=D-i,Vr(r,0,i<0?0:i)):[]}function Dv(r,i){return r&&r.length?xu(r,ye(i,3),!0,!0):[]}function _v(r,i){return r&&r.length?xu(r,ye(i,3),!0):[]}function wv(r,i,h,D){var E=r==null?0:r.length;return E?(h&&typeof h!="number"&&Dr(r,i,h)&&(h=0,D=E),h1(r,i,h,D)):[]}function oc(r,i,h){var D=r==null?0:r.length;if(!D)return-1;var E=h==null?0:Ne(h);return E<0&&(E=kt(D+E,0)),pu(r,ye(i,3),E)}function lc(r,i,h){var D=r==null?0:r.length;if(!D)return-1;var E=D-1;return h!==n&&(E=Ne(h),E=h<0?kt(D+E,0):cr(E,D-1)),pu(r,ye(i,3),E,!0)}function fc(r){var i=r==null?0:r.length;return i?rr(r,1):[]}function Av(r){var i=r==null?0:r.length;return i?rr(r,oe):[]}function Ev(r,i){var h=r==null?0:r.length;return h?(i=i===n?1:Ne(i),rr(r,i)):[]}function yv(r){for(var i=-1,h=r==null?0:r.length,D={};++i<h;){var E=r[i];D[E[0]]=E[1]}return D}function cc(r){return r&&r.length?r[0]:n}function bv(r,i,h){var D=r==null?0:r.length;if(!D)return-1;var E=h==null?0:Ne(h);return E<0&&(E=kt(D+E,0)),hi(r,i,E)}function Fv(r){var i=r==null?0:r.length;return i?Vr(r,0,-1):[]}var Cv=Re(function(r){var i=dt(r,Is);return i.length&&i[0]===r[0]?bs(i):[]}),Sv=Re(function(r){var i=jr(r),h=dt(r,Is);return i===jr(h)?i=n:h.pop(),h.length&&h[0]===r[0]?bs(h,ye(i,2)):[]}),Ov=Re(function(r){var i=jr(r),h=dt(r,Is);return i=typeof i=="function"?i:n,i&&h.pop(),h.length&&h[0]===r[0]?bs(h,n,i):[]});function Mv(r,i){return r==null?"":Fp.call(r,i)}function jr(r){var i=r==null?0:r.length;return i?r[i-1]:n}function Bv(r,i,h){var D=r==null?0:r.length;if(!D)return-1;var E=D;return h!==n&&(E=Ne(h),E=E<0?kt(D+E,0):cr(E,D-1)),i===i?lp(r,i,E):pu(r,kl,E,!0)}function Pv(r,i){return r&&r.length?Ef(r,Ne(i)):n}var Tv=Re(hc);function hc(r,i){return r&&r.length&&i&&i.length?Os(r,i):r}function Nv(r,i,h){return r&&r.length&&i&&i.length?Os(r,i,ye(h,2)):r}function Iv(r,i,h){return r&&r.length&&i&&i.length?Os(r,i,n,h):r}var xv=Dn(function(r,i){var h=r==null?0:r.length,D=ws(r,i);return Ff(r,dt(i,function(E){return _n(E,h)?+E:E}).sort(xf)),D});function Rv(r,i){var h=[];if(!(r&&r.length))return h;var D=-1,E=[],C=r.length;for(i=ye(i,3);++D<C;){var N=r[D];i(N,D,r)&&(h.push(N),E.push(D))}return Ff(r,E),h}function Ks(r){return r==null?r:Mp.call(r)}function Uv(r,i,h){var D=r==null?0:r.length;return D?(h&&typeof h!="number"&&Dr(r,i,h)?(i=0,h=D):(i=i==null?0:Ne(i),h=h===n?D:Ne(h)),Vr(r,i,h)):[]}function Lv(r,i){return Iu(r,i)}function zv(r,i,h){return Ps(r,i,ye(h,2))}function qv(r,i){var h=r==null?0:r.length;if(h){var D=Iu(r,i);if(D<h&&Yr(r[D],i))return D}return-1}function Vv(r,i){return Iu(r,i,!0)}function jv(r,i,h){return Ps(r,i,ye(h,2),!0)}function Wv(r,i){var h=r==null?0:r.length;if(h){var D=Iu(r,i,!0)-1;if(Yr(r[D],i))return D}return-1}function kv(r){return r&&r.length?Sf(r):[]}function Hv(r,i){return r&&r.length?Sf(r,ye(i,2)):[]}function Gv(r){var i=r==null?0:r.length;return i?Vr(r,1,i):[]}function $v(r,i,h){return r&&r.length?(i=h||i===n?1:Ne(i),Vr(r,0,i<0?0:i)):[]}function Kv(r,i,h){var D=r==null?0:r.length;return D?(i=h||i===n?1:Ne(i),i=D-i,Vr(r,i<0?0:i,D)):[]}function Yv(r,i){return r&&r.length?xu(r,ye(i,3),!1,!0):[]}function Zv(r,i){return r&&r.length?xu(r,ye(i,3)):[]}var Jv=Re(function(r){return In(rr(r,1,Pt,!0))}),Xv=Re(function(r){var i=jr(r);return Pt(i)&&(i=n),In(rr(r,1,Pt,!0),ye(i,2))}),Qv=Re(function(r){var i=jr(r);return i=typeof i=="function"?i:n,In(rr(r,1,Pt,!0),n,i)});function eg(r){return r&&r.length?In(r):[]}function tg(r,i){return r&&r.length?In(r,ye(i,2)):[]}function rg(r,i){return i=typeof i=="function"?i:n,r&&r.length?In(r,n,i):[]}function Ys(r){if(!(r&&r.length))return[];var i=0;return r=Mn(r,function(h){if(Pt(h))return i=kt(h.length,i),!0}),hs(i,function(h){return dt(r,ls(h))})}function dc(r,i){if(!(r&&r.length))return[];var h=Ys(r);return i==null?h:dt(h,function(D){return Mr(i,n,D)})}var ng=Re(function(r,i){return Pt(r)?Ki(r,i):[]}),ig=Re(function(r){return Ns(Mn(r,Pt))}),ug=Re(function(r){var i=jr(r);return Pt(i)&&(i=n),Ns(Mn(r,Pt),ye(i,2))}),ag=Re(function(r){var i=jr(r);return i=typeof i=="function"?i:n,Ns(Mn(r,Pt),n,i)}),sg=Re(Ys);function og(r,i){return Pf(r||[],i||[],$i)}function lg(r,i){return Pf(r||[],i||[],Ji)}var fg=Re(function(r){var i=r.length,h=i>1?r[i-1]:n;return h=typeof h=="function"?(r.pop(),h):n,dc(r,h)});function pc(r){var i=y(r);return i.__chain__=!0,i}function cg(r,i){return i(r),r}function ku(r,i){return i(r)}var hg=Dn(function(r){var i=r.length,h=i?r[0]:0,D=this.__wrapped__,E=function(C){return ws(C,r)};return i>1||this.__actions__.length||!(D instanceof je)||!_n(h)?this.thru(E):(D=D.slice(h,+h+(i?1:0)),D.__actions__.push({func:ku,args:[E],thisArg:n}),new zr(D,this.__chain__).thru(function(C){return i&&!C.length&&C.push(n),C}))});function dg(){return pc(this)}function pg(){return new zr(this.value(),this.__chain__)}function vg(){this.__values__===n&&(this.__values__=Oc(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function gg(){return this}function mg(r){for(var i,h=this;h instanceof Mu;){var D=sc(h);D.__index__=0,D.__values__=n,i?E.__wrapped__=D:i=D;var E=D;h=h.__wrapped__}return E.__wrapped__=r,i}function Dg(){var r=this.__wrapped__;if(r instanceof je){var i=r;return this.__actions__.length&&(i=new je(this)),i=i.reverse(),i.__actions__.push({func:ku,args:[Ks],thisArg:n}),new zr(i,this.__chain__)}return this.thru(Ks)}function _g(){return Bf(this.__wrapped__,this.__actions__)}var wg=Ru(function(r,i,h){ut.call(r,h)?++r[h]:gn(r,h,1)});function Ag(r,i,h){var D=Be(r)?jl:c1;return h&&Dr(r,i,h)&&(i=n),D(r,ye(i,3))}function Eg(r,i){var h=Be(r)?Mn:df;return h(r,ye(i,3))}var yg=Vf(oc),bg=Vf(lc);function Fg(r,i){return rr(Hu(r,i),1)}function Cg(r,i){return rr(Hu(r,i),oe)}function Sg(r,i,h){return h=h===n?1:Ne(h),rr(Hu(r,i),h)}function vc(r,i){var h=Be(r)?Ur:Nn;return h(r,ye(i,3))}function gc(r,i){var h=Be(r)?Gd:hf;return h(r,ye(i,3))}var Og=Ru(function(r,i,h){ut.call(r,h)?r[h].push(i):gn(r,h,[i])});function Mg(r,i,h,D){r=Er(r)?r:bi(r),h=h&&!D?Ne(h):0;var E=r.length;return h<0&&(h=kt(E+h,0)),Zu(r)?h<=E&&r.indexOf(i,h)>-1:!!E&&hi(r,i,h)>-1}var Bg=Re(function(r,i,h){var D=-1,E=typeof i=="function",C=Er(r)?W(r.length):[];return Nn(r,function(N){C[++D]=E?Mr(i,N,h):Yi(N,i,h)}),C}),Pg=Ru(function(r,i,h){gn(r,h,i)});function Hu(r,i){var h=Be(r)?dt:_f;return h(r,ye(i,3))}function Tg(r,i,h,D){return r==null?[]:(Be(i)||(i=i==null?[]:[i]),h=D?n:h,Be(h)||(h=h==null?[]:[h]),yf(r,i,h))}var Ng=Ru(function(r,i,h){r[h?0:1].push(i)},function(){return[[],[]]});function Ig(r,i,h){var D=Be(r)?ss:Gl,E=arguments.length<3;return D(r,ye(i,4),h,E,Nn)}function xg(r,i,h){var D=Be(r)?$d:Gl,E=arguments.length<3;return D(r,ye(i,4),h,E,hf)}function Rg(r,i){var h=Be(r)?Mn:df;return h(r,Ku(ye(i,3)))}function Ug(r){var i=Be(r)?of:M1;return i(r)}function Lg(r,i,h){(h?Dr(r,i,h):i===n)?i=1:i=Ne(i);var D=Be(r)?a1:B1;return D(r,i)}function zg(r){var i=Be(r)?s1:T1;return i(r)}function qg(r){if(r==null)return 0;if(Er(r))return Zu(r)?pi(r):r.length;var i=hr(r);return i==Ye||i==It?r.size:Cs(r).length}function Vg(r,i,h){var D=Be(r)?os:N1;return h&&Dr(r,i,h)&&(i=n),D(r,ye(i,3))}var jg=Re(function(r,i){if(r==null)return[];var h=i.length;return h>1&&Dr(r,i[0],i[1])?i=[]:h>2&&Dr(i[0],i[1],i[2])&&(i=[i[0]]),yf(r,rr(i,1),[])}),Gu=Ep||function(){return tr.Date.now()};function Wg(r,i){if(typeof i!="function")throw new Lr(l);return r=Ne(r),function(){if(--r<1)return i.apply(this,arguments)}}function mc(r,i,h){return i=h?n:i,i=r&&i==null?r.length:i,mn(r,P,n,n,n,n,i)}function Dc(r,i){var h;if(typeof i!="function")throw new Lr(l);return r=Ne(r),function(){return--r>0&&(h=i.apply(this,arguments)),r<=1&&(i=n),h}}var Zs=Re(function(r,i,h){var D=_;if(h.length){var E=Pn(h,Ei(Zs));D|=F}return mn(r,D,i,h,E)}),_c=Re(function(r,i,h){var D=_|A;if(h.length){var E=Pn(h,Ei(_c));D|=F}return mn(i,D,r,h,E)});function wc(r,i,h){i=h?n:i;var D=mn(r,b,n,n,n,n,n,i);return D.placeholder=wc.placeholder,D}function Ac(r,i,h){i=h?n:i;var D=mn(r,M,n,n,n,n,n,i);return D.placeholder=Ac.placeholder,D}function Ec(r,i,h){var D,E,C,N,x,z,J=0,X=!1,ne=!1,pe=!0;if(typeof r!="function")throw new Lr(l);i=Wr(i)||0,vt(h)&&(X=!!h.leading,ne="maxWait"in h,C=ne?kt(Wr(h.maxWait)||0,i):C,pe="trailing"in h?!!h.trailing:pe);function De(Tt){var Zr=D,En=E;return D=E=n,J=Tt,N=r.apply(En,Zr),N}function Fe(Tt){return J=Tt,x=eu(Le,i),X?De(Tt):N}function Ie(Tt){var Zr=Tt-z,En=Tt-J,Vc=i-Zr;return ne?cr(Vc,C-En):Vc}function Ce(Tt){var Zr=Tt-z,En=Tt-J;return z===n||Zr>=i||Zr<0||ne&&En>=C}function Le(){var Tt=Gu();if(Ce(Tt))return ke(Tt);x=eu(Le,Ie(Tt))}function ke(Tt){return x=n,pe&&D?De(Tt):(D=E=n,N)}function Nr(){x!==n&&Tf(x),J=0,D=z=E=x=n}function _r(){return x===n?N:ke(Gu())}function Ir(){var Tt=Gu(),Zr=Ce(Tt);if(D=arguments,E=this,z=Tt,Zr){if(x===n)return Fe(z);if(ne)return Tf(x),x=eu(Le,i),De(z)}return x===n&&(x=eu(Le,i)),N}return Ir.cancel=Nr,Ir.flush=_r,Ir}var kg=Re(function(r,i){return cf(r,1,i)}),Hg=Re(function(r,i,h){return cf(r,Wr(i)||0,h)});function Gg(r){return mn(r,I)}function $u(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new Lr(l);var h=function(){var D=arguments,E=i?i.apply(this,D):D[0],C=h.cache;if(C.has(E))return C.get(E);var N=r.apply(this,D);return h.cache=C.set(E,N)||C,N};return h.cache=new($u.Cache||vn),h}$u.Cache=vn;function Ku(r){if(typeof r!="function")throw new Lr(l);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function $g(r){return Dc(2,r)}var Kg=I1(function(r,i){i=i.length==1&&Be(i[0])?dt(i[0],Br(ye())):dt(rr(i,1),Br(ye()));var h=i.length;return Re(function(D){for(var E=-1,C=cr(D.length,h);++E<C;)D[E]=i[E].call(this,D[E]);return Mr(r,this,D)})}),Js=Re(function(r,i){var h=Pn(i,Ei(Js));return mn(r,F,n,i,h)}),yc=Re(function(r,i){var h=Pn(i,Ei(yc));return mn(r,S,n,i,h)}),Yg=Dn(function(r,i){return mn(r,B,n,n,n,i)});function Zg(r,i){if(typeof r!="function")throw new Lr(l);return i=i===n?i:Ne(i),Re(r,i)}function Jg(r,i){if(typeof r!="function")throw new Lr(l);return i=i==null?0:kt(Ne(i),0),Re(function(h){var D=h[i],E=Rn(h,0,i);return D&&Bn(E,D),Mr(r,this,E)})}function Xg(r,i,h){var D=!0,E=!0;if(typeof r!="function")throw new Lr(l);return vt(h)&&(D="leading"in h?!!h.leading:D,E="trailing"in h?!!h.trailing:E),Ec(r,i,{leading:D,maxWait:i,trailing:E})}function Qg(r){return mc(r,1)}function em(r,i){return Js(xs(i),r)}function tm(){if(!arguments.length)return[];var r=arguments[0];return Be(r)?r:[r]}function rm(r){return qr(r,m)}function nm(r,i){return i=typeof i=="function"?i:n,qr(r,m,i)}function im(r){return qr(r,o|m)}function um(r,i){return i=typeof i=="function"?i:n,qr(r,o|m,i)}function am(r,i){return i==null||ff(r,i,$t(i))}function Yr(r,i){return r===i||r!==r&&i!==i}var sm=qu(ys),om=qu(function(r,i){return r>=i}),ui=gf(function(){return arguments}())?gf:function(r){return yt(r)&&ut.call(r,"callee")&&!tf.call(r,"callee")},Be=W.isArray,lm=Rl?Br(Rl):m1;function Er(r){return r!=null&&Yu(r.length)&&!wn(r)}function Pt(r){return yt(r)&&Er(r)}function fm(r){return r===!0||r===!1||yt(r)&&mr(r)==pt}var Un=bp||oo,cm=Ul?Br(Ul):D1;function hm(r){return yt(r)&&r.nodeType===1&&!tu(r)}function dm(r){if(r==null)return!0;if(Er(r)&&(Be(r)||typeof r=="string"||typeof r.splice=="function"||Un(r)||yi(r)||ui(r)))return!r.length;var i=hr(r);if(i==Ye||i==It)return!r.size;if(Qi(r))return!Cs(r).length;for(var h in r)if(ut.call(r,h))return!1;return!0}function pm(r,i){return Zi(r,i)}function vm(r,i,h){h=typeof h=="function"?h:n;var D=h?h(r,i):n;return D===n?Zi(r,i,n,h):!!D}function Xs(r){if(!yt(r))return!1;var i=mr(r);return i==qt||i==$e||typeof r.message=="string"&&typeof r.name=="string"&&!tu(r)}function gm(r){return typeof r=="number"&&nf(r)}function wn(r){if(!vt(r))return!1;var i=mr(r);return i==ht||i==Ke||i==it||i==Ve}function bc(r){return typeof r=="number"&&r==Ne(r)}function Yu(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=fe}function vt(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function yt(r){return r!=null&&typeof r=="object"}var Fc=Ll?Br(Ll):w1;function mm(r,i){return r===i||Fs(r,i,js(i))}function Dm(r,i,h){return h=typeof h=="function"?h:n,Fs(r,i,js(i),h)}function _m(r){return Cc(r)&&r!=+r}function wm(r){if(nv(r))throw new Me(s);return mf(r)}function Am(r){return r===null}function Em(r){return r==null}function Cc(r){return typeof r=="number"||yt(r)&&mr(r)==Nt}function tu(r){if(!yt(r)||mr(r)!=St)return!1;var i=Eu(r);if(i===null)return!0;var h=ut.call(i,"constructor")&&i.constructor;return typeof h=="function"&&h instanceof h&&Du.call(h)==Dp}var Qs=zl?Br(zl):A1;function ym(r){return bc(r)&&r>=-fe&&r<=fe}var Sc=ql?Br(ql):E1;function Zu(r){return typeof r=="string"||!Be(r)&&yt(r)&&mr(r)==Qt}function Tr(r){return typeof r=="symbol"||yt(r)&&mr(r)==T}var yi=Vl?Br(Vl):y1;function bm(r){return r===n}function Fm(r){return yt(r)&&hr(r)==V}function Cm(r){return yt(r)&&mr(r)==Z}var Sm=qu(Ss),Om=qu(function(r,i){return r<=i});function Oc(r){if(!r)return[];if(Er(r))return Zu(r)?$r(r):Ar(r);if(ji&&r[ji])return ap(r[ji]());var i=hr(r),h=i==Ye?ps:i==It?vu:bi;return h(r)}function An(r){if(!r)return r===0?r:0;if(r=Wr(r),r===oe||r===-oe){var i=r<0?-1:1;return i*ge}return r===r?r:0}function Ne(r){var i=An(r),h=i%1;return i===i?h?i-h:i:0}function Mc(r){return r?ti(Ne(r),0,Se):0}function Wr(r){if(typeof r=="number")return r;if(Tr(r))return Ae;if(vt(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=vt(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=$l(r);var h=ka.test(r);return h||Ga.test(r)?Wd(r.slice(2),h?2:8):Wa.test(r)?Ae:+r}function Bc(r){return nn(r,yr(r))}function Mm(r){return r?ti(Ne(r),-fe,fe):r===0?r:0}function rt(r){return r==null?"":Pr(r)}var Bm=wi(function(r,i){if(Qi(i)||Er(i)){nn(i,$t(i),r);return}for(var h in i)ut.call(i,h)&&$i(r,h,i[h])}),Pc=wi(function(r,i){nn(i,yr(i),r)}),Ju=wi(function(r,i,h,D){nn(i,yr(i),r,D)}),Pm=wi(function(r,i,h,D){nn(i,$t(i),r,D)}),Tm=Dn(ws);function Nm(r,i){var h=_i(r);return i==null?h:lf(h,i)}var Im=Re(function(r,i){r=ot(r);var h=-1,D=i.length,E=D>2?i[2]:n;for(E&&Dr(i[0],i[1],E)&&(D=1);++h<D;)for(var C=i[h],N=yr(C),x=-1,z=N.length;++x<z;){var J=N[x],X=r[J];(X===n||Yr(X,gi[J])&&!ut.call(r,J))&&(r[J]=C[J])}return r}),xm=Re(function(r){return r.push(n,Kf),Mr(Tc,n,r)});function Rm(r,i){return Wl(r,ye(i,3),rn)}function Um(r,i){return Wl(r,ye(i,3),Es)}function Lm(r,i){return r==null?r:As(r,ye(i,3),yr)}function zm(r,i){return r==null?r:pf(r,ye(i,3),yr)}function qm(r,i){return r&&rn(r,ye(i,3))}function Vm(r,i){return r&&Es(r,ye(i,3))}function jm(r){return r==null?[]:Tu(r,$t(r))}function Wm(r){return r==null?[]:Tu(r,yr(r))}function eo(r,i,h){var D=r==null?n:ri(r,i);return D===n?h:D}function km(r,i){return r!=null&&Jf(r,i,d1)}function to(r,i){return r!=null&&Jf(r,i,p1)}var Hm=Wf(function(r,i,h){i!=null&&typeof i.toString!="function"&&(i=_u.call(i)),r[i]=h},no(br)),Gm=Wf(function(r,i,h){i!=null&&typeof i.toString!="function"&&(i=_u.call(i)),ut.call(r,i)?r[i].push(h):r[i]=[h]},ye),$m=Re(Yi);function $t(r){return Er(r)?sf(r):Cs(r)}function yr(r){return Er(r)?sf(r,!0):b1(r)}function Km(r,i){var h={};return i=ye(i,3),rn(r,function(D,E,C){gn(h,i(D,E,C),D)}),h}function Ym(r,i){var h={};return i=ye(i,3),rn(r,function(D,E,C){gn(h,E,i(D,E,C))}),h}var Zm=wi(function(r,i,h){Nu(r,i,h)}),Tc=wi(function(r,i,h,D){Nu(r,i,h,D)}),Jm=Dn(function(r,i){var h={};if(r==null)return h;var D=!1;i=dt(i,function(C){return C=xn(C,r),D||(D=C.length>1),C}),nn(r,qs(r),h),D&&(h=qr(h,o|p|m,H1));for(var E=i.length;E--;)Ts(h,i[E]);return h});function Xm(r,i){return Nc(r,Ku(ye(i)))}var Qm=Dn(function(r,i){return r==null?{}:C1(r,i)});function Nc(r,i){if(r==null)return{};var h=dt(qs(r),function(D){return[D]});return i=ye(i),bf(r,h,function(D,E){return i(D,E[0])})}function eD(r,i,h){i=xn(i,r);var D=-1,E=i.length;for(E||(E=1,r=n);++D<E;){var C=r==null?n:r[un(i[D])];C===n&&(D=E,C=h),r=wn(C)?C.call(r):C}return r}function tD(r,i,h){return r==null?r:Ji(r,i,h)}function rD(r,i,h,D){return D=typeof D=="function"?D:n,r==null?r:Ji(r,i,h,D)}var Ic=Gf($t),xc=Gf(yr);function nD(r,i,h){var D=Be(r),E=D||Un(r)||yi(r);if(i=ye(i,4),h==null){var C=r&&r.constructor;E?h=D?new C:[]:vt(r)?h=wn(C)?_i(Eu(r)):{}:h={}}return(E?Ur:rn)(r,function(N,x,z){return i(h,N,x,z)}),h}function iD(r,i){return r==null?!0:Ts(r,i)}function uD(r,i,h){return r==null?r:Mf(r,i,xs(h))}function aD(r,i,h,D){return D=typeof D=="function"?D:n,r==null?r:Mf(r,i,xs(h),D)}function bi(r){return r==null?[]:ds(r,$t(r))}function sD(r){return r==null?[]:ds(r,yr(r))}function oD(r,i,h){return h===n&&(h=i,i=n),h!==n&&(h=Wr(h),h=h===h?h:0),i!==n&&(i=Wr(i),i=i===i?i:0),ti(Wr(r),i,h)}function lD(r,i,h){return i=An(i),h===n?(h=i,i=0):h=An(h),r=Wr(r),v1(r,i,h)}function fD(r,i,h){if(h&&typeof h!="boolean"&&Dr(r,i,h)&&(i=h=n),h===n&&(typeof i=="boolean"?(h=i,i=n):typeof r=="boolean"&&(h=r,r=n)),r===n&&i===n?(r=0,i=1):(r=An(r),i===n?(i=r,r=0):i=An(i)),r>i){var D=r;r=i,i=D}if(h||r%1||i%1){var E=uf();return cr(r+E*(i-r+jd("1e-"+((E+"").length-1))),i)}return Ms(r,i)}var cD=Ai(function(r,i,h){return i=i.toLowerCase(),r+(h?Rc(i):i)});function Rc(r){return ro(rt(r).toLowerCase())}function Uc(r){return r=rt(r),r&&r.replace(Ka,tp).replace(Td,"")}function hD(r,i,h){r=rt(r),i=Pr(i);var D=r.length;h=h===n?D:ti(Ne(h),0,D);var E=h;return h-=i.length,h>=0&&r.slice(h,E)==i}function dD(r){return r=rt(r),r&&hn.test(r)?r.replace(Gt,rp):r}function pD(r){return r=rt(r),r&&xa.test(r)?r.replace(Ui,"\\$&"):r}var vD=Ai(function(r,i,h){return r+(h?"-":"")+i.toLowerCase()}),gD=Ai(function(r,i,h){return r+(h?" ":"")+i.toLowerCase()}),mD=qf("toLowerCase");function DD(r,i,h){r=rt(r),i=Ne(i);var D=i?pi(r):0;if(!i||D>=i)return r;var E=(i-D)/2;return zu(Cu(E),h)+r+zu(Fu(E),h)}function _D(r,i,h){r=rt(r),i=Ne(i);var D=i?pi(r):0;return i&&D<i?r+zu(i-D,h):r}function wD(r,i,h){r=rt(r),i=Ne(i);var D=i?pi(r):0;return i&&D<i?zu(i-D,h)+r:r}function AD(r,i,h){return h||i==null?i=0:i&&(i=+i),Op(rt(r).replace(Li,""),i||0)}function ED(r,i,h){return(h?Dr(r,i,h):i===n)?i=1:i=Ne(i),Bs(rt(r),i)}function yD(){var r=arguments,i=rt(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var bD=Ai(function(r,i,h){return r+(h?"_":"")+i.toLowerCase()});function FD(r,i,h){return h&&typeof h!="number"&&Dr(r,i,h)&&(i=h=n),h=h===n?Se:h>>>0,h?(r=rt(r),r&&(typeof i=="string"||i!=null&&!Qs(i))&&(i=Pr(i),!i&&di(r))?Rn($r(r),0,h):r.split(i,h)):[]}var CD=Ai(function(r,i,h){return r+(h?" ":"")+ro(i)});function SD(r,i,h){return r=rt(r),h=h==null?0:ti(Ne(h),0,r.length),i=Pr(i),r.slice(h,h+i.length)==i}function OD(r,i,h){var D=y.templateSettings;h&&Dr(r,i,h)&&(i=n),r=rt(r),i=Ju({},i,D,$f);var E=Ju({},i.imports,D.imports,$f),C=$t(E),N=ds(E,C),x,z,J=0,X=i.interpolate||oi,ne="__p += '",pe=vs((i.escape||oi).source+"|"+X.source+"|"+(X===$n?ja:oi).source+"|"+(i.evaluate||oi).source+"|$","g"),De="//# sourceURL="+(ut.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ud+"]")+`
`;r.replace(pe,function(Ce,Le,ke,Nr,_r,Ir){return ke||(ke=Nr),ne+=r.slice(J,Ir).replace(Ya,np),Le&&(x=!0,ne+=`' +
__e(`+Le+`) +
'`),_r&&(z=!0,ne+=`';
`+_r+`;
__p += '`),ke&&(ne+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),J=Ir+Ce.length,Ce}),ne+=`';
`;var Fe=ut.call(i,"variable")&&i.variable;if(!Fe)ne=`with (obj) {
`+ne+`
}
`;else if(qa.test(Fe))throw new Me(c);ne=(z?ne.replace(Bt,""):ne).replace(or,"$1").replace(Rt,"$1;"),ne="function("+(Fe||"obj")+`) {
`+(Fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var Ie=zc(function(){return Qe(C,De+"return "+ne).apply(n,N)});if(Ie.source=ne,Xs(Ie))throw Ie;return Ie}function MD(r){return rt(r).toLowerCase()}function BD(r){return rt(r).toUpperCase()}function PD(r,i,h){if(r=rt(r),r&&(h||i===n))return $l(r);if(!r||!(i=Pr(i)))return r;var D=$r(r),E=$r(i),C=Kl(D,E),N=Yl(D,E)+1;return Rn(D,C,N).join("")}function TD(r,i,h){if(r=rt(r),r&&(h||i===n))return r.slice(0,Jl(r)+1);if(!r||!(i=Pr(i)))return r;var D=$r(r),E=Yl(D,$r(i))+1;return Rn(D,0,E).join("")}function ND(r,i,h){if(r=rt(r),r&&(h||i===n))return r.replace(Li,"");if(!r||!(i=Pr(i)))return r;var D=$r(r),E=Kl(D,$r(i));return Rn(D,E).join("")}function ID(r,i){var h=q,D=$;if(vt(i)){var E="separator"in i?i.separator:E;h="length"in i?Ne(i.length):h,D="omission"in i?Pr(i.omission):D}r=rt(r);var C=r.length;if(di(r)){var N=$r(r);C=N.length}if(h>=C)return r;var x=h-pi(D);if(x<1)return D;var z=N?Rn(N,0,x).join(""):r.slice(0,x);if(E===n)return z+D;if(N&&(x+=z.length-x),Qs(E)){if(r.slice(x).search(E)){var J,X=z;for(E.global||(E=vs(E.source,rt(lu.exec(E))+"g")),E.lastIndex=0;J=E.exec(X);)var ne=J.index;z=z.slice(0,ne===n?x:ne)}}else if(r.indexOf(Pr(E),x)!=x){var pe=z.lastIndexOf(E);pe>-1&&(z=z.slice(0,pe))}return z+D}function xD(r){return r=rt(r),r&&er.test(r)?r.replace(gr,fp):r}var RD=Ai(function(r,i,h){return r+(h?" ":"")+i.toUpperCase()}),ro=qf("toUpperCase");function Lc(r,i,h){return r=rt(r),i=h?n:i,i===n?up(r)?dp(r):Zd(r):r.match(i)||[]}var zc=Re(function(r,i){try{return Mr(r,n,i)}catch(h){return Xs(h)?h:new Me(h)}}),UD=Dn(function(r,i){return Ur(i,function(h){h=un(h),gn(r,h,Zs(r[h],r))}),r});function LD(r){var i=r==null?0:r.length,h=ye();return r=i?dt(r,function(D){if(typeof D[1]!="function")throw new Lr(l);return[h(D[0]),D[1]]}):[],Re(function(D){for(var E=-1;++E<i;){var C=r[E];if(Mr(C[0],this,D))return Mr(C[1],this,D)}})}function zD(r){return f1(qr(r,o))}function no(r){return function(){return r}}function qD(r,i){return r==null||r!==r?i:r}var VD=jf(),jD=jf(!0);function br(r){return r}function io(r){return Df(typeof r=="function"?r:qr(r,o))}function WD(r){return wf(qr(r,o))}function kD(r,i){return Af(r,qr(i,o))}var HD=Re(function(r,i){return function(h){return Yi(h,r,i)}}),GD=Re(function(r,i){return function(h){return Yi(r,h,i)}});function uo(r,i,h){var D=$t(i),E=Tu(i,D);h==null&&!(vt(i)&&(E.length||!D.length))&&(h=i,i=r,r=this,E=Tu(i,$t(i)));var C=!(vt(h)&&"chain"in h)||!!h.chain,N=wn(r);return Ur(E,function(x){var z=i[x];r[x]=z,N&&(r.prototype[x]=function(){var J=this.__chain__;if(C||J){var X=r(this.__wrapped__),ne=X.__actions__=Ar(this.__actions__);return ne.push({func:z,args:arguments,thisArg:r}),X.__chain__=J,X}return z.apply(r,Bn([this.value()],arguments))})}),r}function $D(){return tr._===this&&(tr._=_p),this}function ao(){}function KD(r){return r=Ne(r),Re(function(i){return Ef(i,r)})}var YD=Us(dt),ZD=Us(jl),JD=Us(os);function qc(r){return ks(r)?ls(un(r)):S1(r)}function XD(r){return function(i){return r==null?n:ri(r,i)}}var QD=kf(),e_=kf(!0);function so(){return[]}function oo(){return!1}function t_(){return{}}function r_(){return""}function n_(){return!0}function i_(r,i){if(r=Ne(r),r<1||r>fe)return[];var h=Se,D=cr(r,Se);i=ye(i),r-=Se;for(var E=hs(D,i);++h<r;)i(h);return E}function u_(r){return Be(r)?dt(r,un):Tr(r)?[r]:Ar(ac(rt(r)))}function a_(r){var i=++mp;return rt(r)+i}var s_=Lu(function(r,i){return r+i},0),o_=Ls("ceil"),l_=Lu(function(r,i){return r/i},1),f_=Ls("floor");function c_(r){return r&&r.length?Pu(r,br,ys):n}function h_(r,i){return r&&r.length?Pu(r,ye(i,2),ys):n}function d_(r){return Hl(r,br)}function p_(r,i){return Hl(r,ye(i,2))}function v_(r){return r&&r.length?Pu(r,br,Ss):n}function g_(r,i){return r&&r.length?Pu(r,ye(i,2),Ss):n}var m_=Lu(function(r,i){return r*i},1),D_=Ls("round"),__=Lu(function(r,i){return r-i},0);function w_(r){return r&&r.length?cs(r,br):0}function A_(r,i){return r&&r.length?cs(r,ye(i,2)):0}return y.after=Wg,y.ary=mc,y.assign=Bm,y.assignIn=Pc,y.assignInWith=Ju,y.assignWith=Pm,y.at=Tm,y.before=Dc,y.bind=Zs,y.bindAll=UD,y.bindKey=_c,y.castArray=tm,y.chain=pc,y.chunk=fv,y.compact=cv,y.concat=hv,y.cond=LD,y.conforms=zD,y.constant=no,y.countBy=wg,y.create=Nm,y.curry=wc,y.curryRight=Ac,y.debounce=Ec,y.defaults=Im,y.defaultsDeep=xm,y.defer=kg,y.delay=Hg,y.difference=dv,y.differenceBy=pv,y.differenceWith=vv,y.drop=gv,y.dropRight=mv,y.dropRightWhile=Dv,y.dropWhile=_v,y.fill=wv,y.filter=Eg,y.flatMap=Fg,y.flatMapDeep=Cg,y.flatMapDepth=Sg,y.flatten=fc,y.flattenDeep=Av,y.flattenDepth=Ev,y.flip=Gg,y.flow=VD,y.flowRight=jD,y.fromPairs=yv,y.functions=jm,y.functionsIn=Wm,y.groupBy=Og,y.initial=Fv,y.intersection=Cv,y.intersectionBy=Sv,y.intersectionWith=Ov,y.invert=Hm,y.invertBy=Gm,y.invokeMap=Bg,y.iteratee=io,y.keyBy=Pg,y.keys=$t,y.keysIn=yr,y.map=Hu,y.mapKeys=Km,y.mapValues=Ym,y.matches=WD,y.matchesProperty=kD,y.memoize=$u,y.merge=Zm,y.mergeWith=Tc,y.method=HD,y.methodOf=GD,y.mixin=uo,y.negate=Ku,y.nthArg=KD,y.omit=Jm,y.omitBy=Xm,y.once=$g,y.orderBy=Tg,y.over=YD,y.overArgs=Kg,y.overEvery=ZD,y.overSome=JD,y.partial=Js,y.partialRight=yc,y.partition=Ng,y.pick=Qm,y.pickBy=Nc,y.property=qc,y.propertyOf=XD,y.pull=Tv,y.pullAll=hc,y.pullAllBy=Nv,y.pullAllWith=Iv,y.pullAt=xv,y.range=QD,y.rangeRight=e_,y.rearg=Yg,y.reject=Rg,y.remove=Rv,y.rest=Zg,y.reverse=Ks,y.sampleSize=Lg,y.set=tD,y.setWith=rD,y.shuffle=zg,y.slice=Uv,y.sortBy=jg,y.sortedUniq=kv,y.sortedUniqBy=Hv,y.split=FD,y.spread=Jg,y.tail=Gv,y.take=$v,y.takeRight=Kv,y.takeRightWhile=Yv,y.takeWhile=Zv,y.tap=cg,y.throttle=Xg,y.thru=ku,y.toArray=Oc,y.toPairs=Ic,y.toPairsIn=xc,y.toPath=u_,y.toPlainObject=Bc,y.transform=nD,y.unary=Qg,y.union=Jv,y.unionBy=Xv,y.unionWith=Qv,y.uniq=eg,y.uniqBy=tg,y.uniqWith=rg,y.unset=iD,y.unzip=Ys,y.unzipWith=dc,y.update=uD,y.updateWith=aD,y.values=bi,y.valuesIn=sD,y.without=ng,y.words=Lc,y.wrap=em,y.xor=ig,y.xorBy=ug,y.xorWith=ag,y.zip=sg,y.zipObject=og,y.zipObjectDeep=lg,y.zipWith=fg,y.entries=Ic,y.entriesIn=xc,y.extend=Pc,y.extendWith=Ju,uo(y,y),y.add=s_,y.attempt=zc,y.camelCase=cD,y.capitalize=Rc,y.ceil=o_,y.clamp=oD,y.clone=rm,y.cloneDeep=im,y.cloneDeepWith=um,y.cloneWith=nm,y.conformsTo=am,y.deburr=Uc,y.defaultTo=qD,y.divide=l_,y.endsWith=hD,y.eq=Yr,y.escape=dD,y.escapeRegExp=pD,y.every=Ag,y.find=yg,y.findIndex=oc,y.findKey=Rm,y.findLast=bg,y.findLastIndex=lc,y.findLastKey=Um,y.floor=f_,y.forEach=vc,y.forEachRight=gc,y.forIn=Lm,y.forInRight=zm,y.forOwn=qm,y.forOwnRight=Vm,y.get=eo,y.gt=sm,y.gte=om,y.has=km,y.hasIn=to,y.head=cc,y.identity=br,y.includes=Mg,y.indexOf=bv,y.inRange=lD,y.invoke=$m,y.isArguments=ui,y.isArray=Be,y.isArrayBuffer=lm,y.isArrayLike=Er,y.isArrayLikeObject=Pt,y.isBoolean=fm,y.isBuffer=Un,y.isDate=cm,y.isElement=hm,y.isEmpty=dm,y.isEqual=pm,y.isEqualWith=vm,y.isError=Xs,y.isFinite=gm,y.isFunction=wn,y.isInteger=bc,y.isLength=Yu,y.isMap=Fc,y.isMatch=mm,y.isMatchWith=Dm,y.isNaN=_m,y.isNative=wm,y.isNil=Em,y.isNull=Am,y.isNumber=Cc,y.isObject=vt,y.isObjectLike=yt,y.isPlainObject=tu,y.isRegExp=Qs,y.isSafeInteger=ym,y.isSet=Sc,y.isString=Zu,y.isSymbol=Tr,y.isTypedArray=yi,y.isUndefined=bm,y.isWeakMap=Fm,y.isWeakSet=Cm,y.join=Mv,y.kebabCase=vD,y.last=jr,y.lastIndexOf=Bv,y.lowerCase=gD,y.lowerFirst=mD,y.lt=Sm,y.lte=Om,y.max=c_,y.maxBy=h_,y.mean=d_,y.meanBy=p_,y.min=v_,y.minBy=g_,y.stubArray=so,y.stubFalse=oo,y.stubObject=t_,y.stubString=r_,y.stubTrue=n_,y.multiply=m_,y.nth=Pv,y.noConflict=$D,y.noop=ao,y.now=Gu,y.pad=DD,y.padEnd=_D,y.padStart=wD,y.parseInt=AD,y.random=fD,y.reduce=Ig,y.reduceRight=xg,y.repeat=ED,y.replace=yD,y.result=eD,y.round=D_,y.runInContext=L,y.sample=Ug,y.size=qg,y.snakeCase=bD,y.some=Vg,y.sortedIndex=Lv,y.sortedIndexBy=zv,y.sortedIndexOf=qv,y.sortedLastIndex=Vv,y.sortedLastIndexBy=jv,y.sortedLastIndexOf=Wv,y.startCase=CD,y.startsWith=SD,y.subtract=__,y.sum=w_,y.sumBy=A_,y.template=OD,y.times=i_,y.toFinite=An,y.toInteger=Ne,y.toLength=Mc,y.toLower=MD,y.toNumber=Wr,y.toSafeInteger=Mm,y.toString=rt,y.toUpper=BD,y.trim=PD,y.trimEnd=TD,y.trimStart=ND,y.truncate=ID,y.unescape=xD,y.uniqueId=a_,y.upperCase=RD,y.upperFirst=ro,y.each=vc,y.eachRight=gc,y.first=cc,uo(y,function(){var r={};return rn(y,function(i,h){ut.call(y.prototype,h)||(r[h]=i)}),r}(),{chain:!1}),y.VERSION=u,Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),Ur(["drop","take"],function(r,i){je.prototype[r]=function(h){h=h===n?1:kt(Ne(h),0);var D=this.__filtered__&&!i?new je(this):this.clone();return D.__filtered__?D.__takeCount__=cr(h,D.__takeCount__):D.__views__.push({size:cr(h,Se),type:r+(D.__dir__<0?"Right":"")}),D},je.prototype[r+"Right"]=function(h){return this.reverse()[r](h).reverse()}}),Ur(["filter","map","takeWhile"],function(r,i){var h=i+1,D=h==G||h==H;je.prototype[r]=function(E){var C=this.clone();return C.__iteratees__.push({iteratee:ye(E,3),type:h}),C.__filtered__=C.__filtered__||D,C}}),Ur(["head","last"],function(r,i){var h="take"+(i?"Right":"");je.prototype[r]=function(){return this[h](1).value()[0]}}),Ur(["initial","tail"],function(r,i){var h="drop"+(i?"":"Right");je.prototype[r]=function(){return this.__filtered__?new je(this):this[h](1)}}),je.prototype.compact=function(){return this.filter(br)},je.prototype.find=function(r){return this.filter(r).head()},je.prototype.findLast=function(r){return this.reverse().find(r)},je.prototype.invokeMap=Re(function(r,i){return typeof r=="function"?new je(this):this.map(function(h){return Yi(h,r,i)})}),je.prototype.reject=function(r){return this.filter(Ku(ye(r)))},je.prototype.slice=function(r,i){r=Ne(r);var h=this;return h.__filtered__&&(r>0||i<0)?new je(h):(r<0?h=h.takeRight(-r):r&&(h=h.drop(r)),i!==n&&(i=Ne(i),h=i<0?h.dropRight(-i):h.take(i-r)),h)},je.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},je.prototype.toArray=function(){return this.take(Se)},rn(je.prototype,function(r,i){var h=/^(?:filter|find|map|reject)|While$/.test(i),D=/^(?:head|last)$/.test(i),E=y[D?"take"+(i=="last"?"Right":""):i],C=D||/^find/.test(i);E&&(y.prototype[i]=function(){var N=this.__wrapped__,x=D?[1]:arguments,z=N instanceof je,J=x[0],X=z||Be(N),ne=function(Le){var ke=E.apply(y,Bn([Le],x));return D&&pe?ke[0]:ke};X&&h&&typeof J=="function"&&J.length!=1&&(z=X=!1);var pe=this.__chain__,De=!!this.__actions__.length,Fe=C&&!pe,Ie=z&&!De;if(!C&&X){N=Ie?N:new je(this);var Ce=r.apply(N,x);return Ce.__actions__.push({func:ku,args:[ne],thisArg:n}),new zr(Ce,pe)}return Fe&&Ie?r.apply(this,x):(Ce=this.thru(ne),Fe?D?Ce.value()[0]:Ce.value():Ce)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(r){var i=gu[r],h=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",D=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var E=arguments;if(D&&!this.__chain__){var C=this.value();return i.apply(Be(C)?C:[],E)}return this[h](function(N){return i.apply(Be(N)?N:[],E)})}}),rn(je.prototype,function(r,i){var h=y[i];if(h){var D=h.name+"";ut.call(Di,D)||(Di[D]=[]),Di[D].push({name:i,func:h})}}),Di[Uu(n,A).name]=[{name:"wrapper",func:n}],je.prototype.clone=xp,je.prototype.reverse=Rp,je.prototype.value=Up,y.prototype.at=hg,y.prototype.chain=dg,y.prototype.commit=pg,y.prototype.next=vg,y.prototype.plant=mg,y.prototype.reverse=Dg,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=_g,y.prototype.first=y.prototype.head,ji&&(y.prototype[ji]=gg),y},vi=pp();Jn?((Jn.exports=vi)._=vi,is._=vi):tr._=vi}).call(ar)})(Vy,ma);const jy=ma,go="panelModeStore";function Wy(){const e=Sn("select"),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[go]||""),{subscribe:t,updateMode:s=>{!s||!a||(localStorage[go]=s,n(s))},getMode:()=>Ct(e),resetMode:()=>{a&&(delete localStorage[go],n("select"))}}}const fn=Wy(),ky=Cn(fn,e=>Ct(fn)),mo="selectedPromptStore";function Hy(){const e=Sn(""),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[mo]||""),{subscribe:t,updateId:s=>{!s||!a||(localStorage[mo]=s,n(s))},getId:()=>Ct(e),clearId:()=>{a&&(delete localStorage[mo],n(""))}}}const Xo=Hy(),Gy=Cn(Xo,e=>Ct(Xo));function _h(e,t,n){const u=e.slice();return u[6]=t[n][0],u[7]=t[n][1],u}function wh(e,t,n){const u=e.slice();return u[10]=t[n][0],u[11]=t[n][1],u}function Ah(e){let t=e[11].text+"",n,u,a,s=ai(e[11],e[7].weightMode)+"",l,c;return{c(){n=Ze(t),u=Ze("::"),a=ce("b"),l=Ze(s),c=et()},l(d){n=Je(d,t),u=Je(d,"::"),a=he(d,"B",{});var v=ue(a);l=Je(v,s),v.forEach(j),c=tt(d)},m(d,v){Ee(d,n,v),Ee(d,u,v),Ee(d,a,v),Q(a,l),Ee(d,c,v)},p(d,v){v&1&&t!==(t=d[11].text+"")&&Fn(n,t),v&1&&s!==(s=ai(d[11],d[7].weightMode)+"")&&Fn(l,s)},d(d){d&&j(n),d&&j(u),d&&j(a),d&&j(c)}}}function Eh(e,t){let n,u,a,s,l,c=Object.entries(t[7].weightedPrompts),d=[];for(let f=0;f<c.length;f+=1)d[f]=Ah(wh(t,c,f));function v(){return t[4](t[6],t[7])}return{key:e,first:null,c(){n=ce("li"),u=ce("a");for(let f=0;f<d.length;f+=1)d[f].c();a=et(),this.h()},l(f){n=he(f,"LI",{});var o=ue(n);u=he(o,"A",{class:!0});var p=ue(u);for(let m=0;m<d.length;m+=1)d[m].l(p);p.forEach(j),a=tt(o),o.forEach(j),this.h()},h(){U(u,"class","text-xs inline-block"),this.first=n},m(f,o){Ee(f,n,o),Q(n,u);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(u,null);Q(n,a),s||(l=xe(u,"click",v),s=!0)},p(f,o){if(t=f,o&3){c=Object.entries(t[7].weightedPrompts);let p;for(p=0;p<c.length;p+=1){const m=wh(t,c,p);d[p]?d[p].p(m,o):(d[p]=Ah(m),d[p].c(),d[p].m(u,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=c.length}},d(f){f&&j(n),h0(d,f),s=!1,l()}}}function $y(e){let t,n,u,a,s,l=[],c=new Map,d,v,f=e[1](e[0],yh,"desc");const o=p=>p[6];for(let p=0;p<f.length;p+=1){let m=_h(e,f,p),w=o(m);c.set(w,l[p]=Eh(w,m))}return{c(){t=ce("ul"),n=ce("li"),u=ce("a"),a=Ze("New +"),s=et();for(let p=0;p<l.length;p+=1)l[p].c();this.h()},l(p){t=he(p,"UL",{class:!0});var m=ue(t);n=he(m,"LI",{});var w=ue(n);u=he(w,"A",{class:!0});var g=ue(u);a=Je(g,"New +"),g.forEach(j),w.forEach(j),s=tt(m);for(let _=0;_<l.length;_+=1)l[_].l(m);m.forEach(j),this.h()},h(){U(u,"class","text-xs inline-block"),U(t,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(p,m){Ee(p,t,m),Q(t,n),Q(n,u),Q(u,a),Q(t,s);for(let w=0;w<l.length;w+=1)l[w]&&l[w].m(t,null);d||(v=xe(u,"click",e[2]),d=!0)},p(p,[m]){m&11&&(f=p[1](p[0],yh,"desc"),l=Ri(l,m,o,1,p,f,c,t,su,Eh,null,_h))},i:Xe,o:Xe,d(p){p&&j(t);for(let m=0;m<l.length;m+=1)l[m].d();d=!1,v()}}}const yh=e=>e[1].date;function Ky(e,t,n){let u,a;Jt(e,Hn,v=>n(5,u=v)),Jt(e,qy,v=>n(0,a=v));const{orderBy:s}=jy;function l(){Xt.updateActivePrompt(xi({},u.weightMode)),fn.updateMode("edit")}function c(v,f){Xo.updateId(v),Xt.updateActivePrompt({...f}),fn.updateMode("edit")}return[a,s,l,c,(v,f)=>c(v,f)]}class Yy extends Ut{constructor(t){super(),Lt(this,t,Ky,$y,zt,{})}}let ta;const Zy=new Uint8Array(16);function Jy(){if(!ta&&(ta=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ta))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ta(Zy)}const ir=[];for(let e=0;e<256;++e)ir.push((e+256).toString(16).slice(1));function Xy(e,t=0){return(ir[e[t+0]]+ir[e[t+1]]+ir[e[t+2]]+ir[e[t+3]]+"-"+ir[e[t+4]]+ir[e[t+5]]+"-"+ir[e[t+6]]+ir[e[t+7]]+"-"+ir[e[t+8]]+ir[e[t+9]]+"-"+ir[e[t+10]]+ir[e[t+11]]+ir[e[t+12]]+ir[e[t+13]]+ir[e[t+14]]+ir[e[t+15]]).toLowerCase()}const Qy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bh={randomUUID:Qy};function Q0(e,t,n){if(bh.randomUUID&&!t&&!e)return bh.randomUUID();e=e||{};const u=e.random||(e.rng||Jy)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,t){n=n||0;for(let a=0;a<16;++a)t[n+a]=u[a];return t}return Xy(u)}function e2(e){const t=[],n=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let u;for(;(u=n.exec(e))!==null;){const a=u[1].trim(),s=u[2]?parseFloat(u[2]):1;a&&t.push([a,s])}return t}function Qo(e){if(e=e.replace(/^\n+|\n+$/g,""),e.includes("::"))return e2(e);if(e.includes(`
`))return e.split(`
`).map(s=>s.trim()).map(s=>[s,1]);const t=e.match(/[^.!?]+[.!?]+/g)||[],n=t.length,u=e.split(",").map(s=>s.trim()),a=u.length-1;return n>a?t.map(s=>s.trim()).map(s=>[s,1]):u.map(s=>[s,1])}function t2(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ed=t2,r2=typeof ar=="object"&&ar&&ar.Object===Object&&ar,n2=r2,i2=n2,u2=typeof self=="object"&&self&&self.Object===Object&&self,a2=i2||u2||Function("return this")(),td=a2,s2=td,o2=function(){return s2.Date.now()},l2=o2,f2=/\s/;function c2(e){for(var t=e.length;t--&&f2.test(e.charAt(t)););return t}var h2=c2,d2=h2,p2=/^\s+/;function v2(e){return e&&e.slice(0,d2(e)+1).replace(p2,"")}var g2=v2,m2=td,D2=m2.Symbol,rd=D2,Fh=rd,nd=Object.prototype,_2=nd.hasOwnProperty,w2=nd.toString,ru=Fh?Fh.toStringTag:void 0;function A2(e){var t=_2.call(e,ru),n=e[ru];try{e[ru]=void 0;var u=!0}catch{}var a=w2.call(e);return u&&(t?e[ru]=n:delete e[ru]),a}var E2=A2,y2=Object.prototype,b2=y2.toString;function F2(e){return b2.call(e)}var C2=F2,Ch=rd,S2=E2,O2=C2,M2="[object Null]",B2="[object Undefined]",Sh=Ch?Ch.toStringTag:void 0;function P2(e){return e==null?e===void 0?B2:M2:Sh&&Sh in Object(e)?S2(e):O2(e)}var T2=P2;function N2(e){return e!=null&&typeof e=="object"}var I2=N2,x2=T2,R2=I2,U2="[object Symbol]";function L2(e){return typeof e=="symbol"||R2(e)&&x2(e)==U2}var z2=L2,q2=g2,Oh=ed,V2=z2,Mh=0/0,j2=/^[-+]0x[0-9a-f]+$/i,W2=/^0b[01]+$/i,k2=/^0o[0-7]+$/i,H2=parseInt;function G2(e){if(typeof e=="number")return e;if(V2(e))return Mh;if(Oh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=q2(e);var n=W2.test(e);return n||k2.test(e)?H2(e.slice(2),n?2:8):j2.test(e)?Mh:+e}var $2=G2,K2=ed,Do=l2,Bh=$2,Y2="Expected a function",Z2=Math.max,J2=Math.min;function X2(e,t,n){var u,a,s,l,c,d,v=0,f=!1,o=!1,p=!0;if(typeof e!="function")throw new TypeError(Y2);t=Bh(t)||0,K2(n)&&(f=!!n.leading,o="maxWait"in n,s=o?Z2(Bh(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p);function m(S){var P=u,B=a;return u=a=void 0,v=S,l=e.apply(B,P),l}function w(S){return v=S,c=setTimeout(A,t),f?m(S):l}function g(S){var P=S-d,B=S-v,I=t-P;return o?J2(I,s-B):I}function _(S){var P=S-d,B=S-v;return d===void 0||P>=t||P<0||o&&B>=s}function A(){var S=Do();if(_(S))return O(S);c=setTimeout(A,g(S))}function O(S){return c=void 0,p&&u?m(S):(u=a=void 0,l)}function b(){c!==void 0&&clearTimeout(c),v=0,u=d=a=c=void 0}function M(){return c===void 0?l:O(Do())}function F(){var S=Do(),P=_(S);if(u=arguments,a=this,d=S,P){if(c===void 0)return w(d);if(o)return clearTimeout(c),c=setTimeout(A,t),m(d)}return c===void 0&&(c=setTimeout(A,t)),l}return F.cancel=b,F.flush=M,F}var Ph=X2;function Th(e,t,n){const u=e.slice();return u[13]=t[n].id,u[14]=t[n].text,u}function Nh(e,t){let n,u,a,s,l;function c(...d){return t[9](t[13],...d)}return{key:e,first:null,c(){n=ce("li"),u=ce("input"),this.h()},l(d){n=he(d,"LI",{class:!0});var v=ue(n);u=he(v,"INPUT",{type:!0,placeholder:!0,class:!0}),v.forEach(j),this.h()},h(){u.value=a=t[14],U(u,"type","text"),U(u,"placeholder",""),U(u,"class","input input-bordered input-sm w-full"),U(n,"class","p-1"),this.first=n},m(d,v){Ee(d,n,v),Q(n,u),s||(l=xe(u,"input",c),s=!0)},p(d,v){t=d,v&2&&a!==(a=t[14])&&u.value!==a&&(u.value=a)},d(d){d&&j(n),s=!1,l()}}}function Q2(e){let t,n,u,a,s,l,c,d,v,f,o,p=[],m=new Map,w,g,_,A,O,b=e[1];const M=F=>F[13];for(let F=0;F<b.length;F+=1){let S=Th(e,b,F),P=M(S);m.set(P,p[F]=Nh(P,S))}return{c(){t=ce("div"),n=ce("button"),u=Ze("Paste"),a=et(),s=ce("button"),l=Ze("Save"),c=et(),d=ce("button"),v=Ze("Delete"),f=et(),o=ce("ul");for(let F=0;F<p.length;F+=1)p[F].c();w=et(),g=ce("li"),_=ce("input"),this.h()},l(F){t=he(F,"DIV",{class:!0});var S=ue(t);n=he(S,"BUTTON",{class:!0});var P=ue(n);u=Je(P,"Paste"),P.forEach(j),a=tt(S),s=he(S,"BUTTON",{class:!0});var B=ue(s);l=Je(B,"Save"),B.forEach(j),c=tt(S),d=he(S,"BUTTON",{class:!0});var I=ue(d);v=Je(I,"Delete"),I.forEach(j),S.forEach(j),f=tt(F),o=he(F,"UL",{class:!0});var q=ue(o);for(let k=0;k<p.length;k+=1)p[k].l(q);w=tt(q),g=he(q,"LI",{class:!0});var $=ue(g);_=he($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(j),q.forEach(j),this.h()},h(){U(n,"class","btn btn-sm btn-info mx-2"),U(s,"class","btn btn-sm btn-success mx-2"),U(d,"class","btn btn-sm btn-error mx-2"),U(t,"class","flex px-8 py-2 justify-center bg-base-100"),U(_,"type","text"),U(_,"placeholder","Add prompt"),U(_,"class","input input-bordered input-sm w-full italic"),U(g,"class","p-1"),U(o,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(F,S){Ee(F,t,S),Q(t,n),Q(n,u),Q(t,a),Q(t,s),Q(s,l),Q(t,c),Q(t,d),Q(d,v),Ee(F,f,S),Ee(F,o,S);for(let P=0;P<p.length;P+=1)p[P]&&p[P].m(o,null);Q(o,w),Q(o,g),Q(g,_),Vn(_,e[0]),A||(O=[xe(n,"click",e[3]),xe(s,"click",e[2]),xe(d,"click",e[4]),xe(_,"input",e[10]),xe(_,"input",e[11])],A=!0)},p(F,[S]){S&34&&(b=F[1],p=Ri(p,S,M,1,F,b,m,o,su,Nh,w,Th)),S&1&&_.value!==F[0]&&Vn(_,F[0])},i:Xe,o:Xe,d(F){F&&j(t),F&&j(f),F&&j(o);for(let S=0;S<p.length;S+=1)p[S].d();A=!1,en(O)}}}function eb(e,t,n){let u,a,s;Jt(e,Hn,_=>n(8,a=_)),Jt(e,Gy,_=>n(12,s=_));let l="",c=Object.keys(a.weightedPrompts).length;function d(){ga.updatePrompt(Q0(),{...a,date:Date.now()}),fn.updateMode("select")}function v(){navigator.clipboard.readText().then(_=>{const A=Qo(_),O=Math.max(...A.map(([M,F])=>F)),b=A.reduce((M,[F,S],P)=>(M[P]=Kt(P,F,S,S/O),M),{});Xt.updateActivePrompt(xi(b,a.weightMode))})}function f(){s&&ga.deletePrompt(s),fn.updateMode("select"),Xt.deleteActivePrompt()}const o=Ph((_,A)=>{const O={...a.weightedPrompts},b={...O[_],text:A};O[_]=b,Xt.updateActivePrompt({...a,weightedPrompts:O})},500),p=Ph(_=>{const A=Object.keys(a.weightedPrompts).length,O={...a.weightedPrompts},b=Kt(A,_,1);O[A]=b,Xt.updateActivePrompt({...a,weightedPrompts:O})},500),m=(_,A)=>o(_,A.target.value);function w(){l=this.value,n(0,l),n(8,a),n(7,c)}const g=_=>p(_.target.value);return e.$$.update=()=>{if(e.$$.dirty&384){const _=Object.keys(a.weightedPrompts).length;_>c&&(n(7,c=_),n(0,l=""))}e.$$.dirty&256&&n(1,u=Object.entries(a.weightedPrompts).map(([_,A])=>({id:_,text:A.text})))},[l,u,d,v,f,o,p,c,a,m,w,g]}class tb extends Ut{constructor(t){super(),Lt(this,t,eb,Q2,zt,{})}}const rb=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,nb=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,ib=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,ub=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,ab=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function sb(){const e=Sn({}),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&Object.keys(localStorage).reduce((s,l)=>{if(l.startsWith("directive")){const c=l.split("_")[1];s[c]=JSON.parse(localStorage[l])}return s},{})||{}),{subscribe:t,updateDirective:(s,l)=>{const c=Ct(e),v={...c[s]||{},...l};a&&(localStorage[`directive_${s}`]=JSON.stringify(v));const f={...c,[s]:v};n(f)},getDirective:s=>Ct(e)[s],deleteDirective:s=>{a&&delete localStorage[`directive_${s}`];const l={...Ct(e)};delete l[s],n(l)}}}const Da=sb(),ob=Cn(Da,e=>Object.entries(Ct(Da))),_o="preferredModelStore";function lb(){const e=Sn(""),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[_o]||""),{subscribe:t,updateModel:s=>{!s||!a||(localStorage[_o]=s,n(s))},getModel:()=>Ct(e),deleteModel:()=>{a&&(delete localStorage[_o],n(""))}}}const el=lb(),id=Cn(el,e=>Ct(el)),wo="preferredDirectiveStore";function fb(){const e=Sn(""),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[wo]||""),{subscribe:t,updateDirectiveKey:s=>{!s||!a||(localStorage[wo]=s,n(s))},getDirectiveKey:()=>Ct(e),deleteDirectiveKey:()=>{a&&(delete localStorage[wo],n(""))}}}const tl=fb(),cb=Cn(tl,e=>Ct(tl)),Ao="metaPromptStore";function hb(){const e=Sn(""),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[Ao]||""),{subscribe:t,updateMetaPrompt:s=>{!s||!a||(localStorage[Ao]=s,n(s))},getMetaPrompt:()=>Ct(e),deleteMetaPrompt:()=>{a&&(delete localStorage[Ao],n(""))}}}const rl=hb(),db=Cn(rl,e=>Ct(rl));var nl={},ud={},_a={},pb={get exports(){return _a},set exports(e){_a=e}},wa={},vb={get exports(){return wa},set exports(e){wa=e}},ad=function(t,n){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return t.apply(n,a)}},gb=ad,Gn=Object.prototype.toString;function gl(e){return Array.isArray(e)}function il(e){return typeof e>"u"}function mb(e){return e!==null&&!il(e)&&e.constructor!==null&&!il(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function sd(e){return Gn.call(e)==="[object ArrayBuffer]"}function Db(e){return Gn.call(e)==="[object FormData]"}function _b(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sd(e.buffer),t}function wb(e){return typeof e=="string"}function Ab(e){return typeof e=="number"}function od(e){return e!==null&&typeof e=="object"}function na(e){if(Gn.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Eb(e){return Gn.call(e)==="[object Date]"}function yb(e){return Gn.call(e)==="[object File]"}function bb(e){return Gn.call(e)==="[object Blob]"}function ld(e){return Gn.call(e)==="[object Function]"}function Fb(e){return od(e)&&ld(e.pipe)}function Cb(e){return Gn.call(e)==="[object URLSearchParams]"}function Sb(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Ob(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ml(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),gl(e))for(var n=0,u=e.length;n<u;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function ul(){var e={};function t(a,s){na(e[s])&&na(a)?e[s]=ul(e[s],a):na(a)?e[s]=ul({},a):gl(a)?e[s]=a.slice():e[s]=a}for(var n=0,u=arguments.length;n<u;n++)ml(arguments[n],t);return e}function Mb(e,t,n){return ml(t,function(a,s){n&&typeof a=="function"?e[s]=gb(a,n):e[s]=a}),e}function Bb(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Sr={isArray:gl,isArrayBuffer:sd,isBuffer:mb,isFormData:Db,isArrayBufferView:_b,isString:wb,isNumber:Ab,isObject:od,isPlainObject:na,isUndefined:il,isDate:Eb,isFile:yb,isBlob:bb,isFunction:ld,isStream:Fb,isURLSearchParams:Cb,isStandardBrowserEnv:Ob,forEach:ml,merge:ul,extend:Mb,trim:Sb,stripBOM:Bb},Ci=Sr;function Ih(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fd=function(t,n,u){if(!n)return t;var a;if(u)a=u(n);else if(Ci.isURLSearchParams(n))a=n.toString();else{var s=[];Ci.forEach(n,function(d,v){d===null||typeof d>"u"||(Ci.isArray(d)?v=v+"[]":d=[d],Ci.forEach(d,function(o){Ci.isDate(o)?o=o.toISOString():Ci.isObject(o)&&(o=JSON.stringify(o)),s.push(Ih(v)+"="+Ih(o))}))}),a=s.join("&")}if(a){var l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},Pb=Sr;function Oa(){this.handlers=[]}Oa.prototype.use=function(t,n,u){return this.handlers.push({fulfilled:t,rejected:n,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1};Oa.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Oa.prototype.forEach=function(t){Pb.forEach(this.handlers,function(u){u!==null&&t(u)})};var Tb=Oa,Nb=Sr,Ib=function(t,n){Nb.forEach(t,function(a,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(t[n]=a,delete t[s])})},cd=function(t,n,u,a,s){return t.config=n,u&&(t.code=u),t.request=a,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},hd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eo,xh;function dd(){if(xh)return Eo;xh=1;var e=cd;return Eo=function(n,u,a,s,l){var c=new Error(n);return e(c,u,a,s,l)},Eo}var yo,Rh;function xb(){if(Rh)return yo;Rh=1;var e=dd();return yo=function(n,u,a){var s=a.config.validateStatus;!a.status||!s||s(a.status)?n(a):u(e("Request failed with status code "+a.status,a.config,null,a.request,a))},yo}var bo,Uh;function Rb(){if(Uh)return bo;Uh=1;var e=Sr;return bo=e.isStandardBrowserEnv()?function(){return{write:function(u,a,s,l,c,d){var v=[];v.push(u+"="+encodeURIComponent(a)),e.isNumber(s)&&v.push("expires="+new Date(s).toGMTString()),e.isString(l)&&v.push("path="+l),e.isString(c)&&v.push("domain="+c),d===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(u){var a=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(u){this.write(u,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),bo}var Fo,Lh;function Ub(){return Lh||(Lh=1,Fo=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Fo}var Co,zh;function Lb(){return zh||(zh=1,Co=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),Co}var So,qh;function zb(){if(qh)return So;qh=1;var e=Ub(),t=Lb();return So=function(u,a){return u&&!e(a)?t(u,a):a},So}var Oo,Vh;function qb(){if(Vh)return Oo;Vh=1;var e=Sr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Oo=function(u){var a={},s,l,c;return u&&e.forEach(u.split(`
`),function(v){if(c=v.indexOf(":"),s=e.trim(v.substr(0,c)).toLowerCase(),l=e.trim(v.substr(c+1)),s){if(a[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?a[s]=(a[s]?a[s]:[]).concat([l]):a[s]=a[s]?a[s]+", "+l:l}}),a},Oo}var Mo,jh;function Vb(){if(jh)return Mo;jh=1;var e=Sr;return Mo=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),u=document.createElement("a"),a;function s(l){var c=l;return n&&(u.setAttribute("href",c),c=u.href),u.setAttribute("href",c),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return a=s(window.location.href),function(c){var d=e.isString(c)?s(c):c;return d.protocol===a.protocol&&d.host===a.host}}():function(){return function(){return!0}}(),Mo}var Bo,Wh;function Ma(){if(Wh)return Bo;Wh=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Bo=e,Bo}var Po,kh;function Hh(){if(kh)return Po;kh=1;var e=Sr,t=xb(),n=Rb(),u=fd,a=zb(),s=qb(),l=Vb(),c=dd(),d=hd,v=Ma();return Po=function(o){return new Promise(function(m,w){var g=o.data,_=o.headers,A=o.responseType,O;function b(){o.cancelToken&&o.cancelToken.unsubscribe(O),o.signal&&o.signal.removeEventListener("abort",O)}e.isFormData(g)&&delete _["Content-Type"];var M=new XMLHttpRequest;if(o.auth){var F=o.auth.username||"",S=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";_.Authorization="Basic "+btoa(F+":"+S)}var P=a(o.baseURL,o.url);M.open(o.method.toUpperCase(),u(P,o.params,o.paramsSerializer),!0),M.timeout=o.timeout;function B(){if(M){var q="getAllResponseHeaders"in M?s(M.getAllResponseHeaders()):null,$=!A||A==="text"||A==="json"?M.responseText:M.response,k={data:$,status:M.status,statusText:M.statusText,headers:q,config:o,request:M};t(function(G){m(G),b()},function(G){w(G),b()},k),M=null}}if("onloadend"in M?M.onloadend=B:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(B)},M.onabort=function(){M&&(w(c("Request aborted",o,"ECONNABORTED",M)),M=null)},M.onerror=function(){w(c("Network Error",o,null,M)),M=null},M.ontimeout=function(){var $=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",k=o.transitional||d;o.timeoutErrorMessage&&($=o.timeoutErrorMessage),w(c($,o,k.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",M)),M=null},e.isStandardBrowserEnv()){var I=(o.withCredentials||l(P))&&o.xsrfCookieName?n.read(o.xsrfCookieName):void 0;I&&(_[o.xsrfHeaderName]=I)}"setRequestHeader"in M&&e.forEach(_,function($,k){typeof g>"u"&&k.toLowerCase()==="content-type"?delete _[k]:M.setRequestHeader(k,$)}),e.isUndefined(o.withCredentials)||(M.withCredentials=!!o.withCredentials),A&&A!=="json"&&(M.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&M.addEventListener("progress",o.onDownloadProgress),typeof o.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",o.onUploadProgress),(o.cancelToken||o.signal)&&(O=function(q){M&&(w(!q||q&&q.type?new v("canceled"):q),M.abort(),M=null)},o.cancelToken&&o.cancelToken.subscribe(O),o.signal&&(o.signal.aborted?O():o.signal.addEventListener("abort",O))),g||(g=null),M.send(g)})},Po}var ur=Sr,Gh=Ib,jb=cd,Wb=hd,kb={"Content-Type":"application/x-www-form-urlencoded"};function $h(e,t){!ur.isUndefined(e)&&ur.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Hb(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Hh()),e}function Gb(e,t,n){if(ur.isString(e))try{return(t||JSON.parse)(e),ur.trim(e)}catch(u){if(u.name!=="SyntaxError")throw u}return(n||JSON.stringify)(e)}var Ba={transitional:Wb,adapter:Hb(),transformRequest:[function(t,n){return Gh(n,"Accept"),Gh(n,"Content-Type"),ur.isFormData(t)||ur.isArrayBuffer(t)||ur.isBuffer(t)||ur.isStream(t)||ur.isFile(t)||ur.isBlob(t)?t:ur.isArrayBufferView(t)?t.buffer:ur.isURLSearchParams(t)?($h(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ur.isObject(t)||n&&n["Content-Type"]==="application/json"?($h(n,"application/json"),Gb(t)):t}],transformResponse:[function(t){var n=this.transitional||Ba.transitional,u=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,s=!u&&this.responseType==="json";if(s||a&&ur.isString(t)&&t.length)try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?jb(l,this,"E_JSON_PARSE"):l}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ur.forEach(["delete","get","head"],function(t){Ba.headers[t]={}});ur.forEach(["post","put","patch"],function(t){Ba.headers[t]=ur.merge(kb)});var Dl=Ba,$b=Sr,Kb=Dl,Yb=function(t,n,u){var a=this||Kb;return $b.forEach(u,function(l){t=l.call(a,t,n)}),t},To,Kh;function pd(){return Kh||(Kh=1,To=function(t){return!!(t&&t.__CANCEL__)}),To}var Yh=Sr,No=Yb,Zb=pd(),Jb=Dl,Xb=Ma();function Io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xb("canceled")}var Qb=function(t){Io(t),t.headers=t.headers||{},t.data=No.call(t,t.data,t.headers,t.transformRequest),t.headers=Yh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Yh.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var n=t.adapter||Jb.adapter;return n(t).then(function(a){return Io(t),a.data=No.call(t,a.data,a.headers,t.transformResponse),a},function(a){return Zb(a)||(Io(t),a&&a.response&&(a.response.data=No.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},xr=Sr,vd=function(t,n){n=n||{};var u={};function a(f,o){return xr.isPlainObject(f)&&xr.isPlainObject(o)?xr.merge(f,o):xr.isPlainObject(o)?xr.merge({},o):xr.isArray(o)?o.slice():o}function s(f){if(xr.isUndefined(n[f])){if(!xr.isUndefined(t[f]))return a(void 0,t[f])}else return a(t[f],n[f])}function l(f){if(!xr.isUndefined(n[f]))return a(void 0,n[f])}function c(f){if(xr.isUndefined(n[f])){if(!xr.isUndefined(t[f]))return a(void 0,t[f])}else return a(void 0,n[f])}function d(f){if(f in n)return a(t[f],n[f]);if(f in t)return a(void 0,t[f])}var v={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return xr.forEach(Object.keys(t).concat(Object.keys(n)),function(o){var p=v[o]||s,m=p(o);xr.isUndefined(m)&&p!==d||(u[o]=m)}),u},xo,Zh;function gd(){return Zh||(Zh=1,xo={version:"0.26.1"}),xo}var eF=gd().version,_l={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){_l[e]=function(u){return typeof u===e||"a"+(t<1?"n ":" ")+e}});var Jh={};_l.transitional=function(t,n,u){function a(s,l){return"[Axios v"+eF+"] Transitional option '"+s+"'"+l+(u?". "+u:"")}return function(s,l,c){if(t===!1)throw new Error(a(l," has been removed"+(n?" in "+n:"")));return n&&!Jh[l]&&(Jh[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,l,c):!0}};function tF(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var u=Object.keys(e),a=u.length;a-- >0;){var s=u[a],l=t[s];if(l){var c=e[s],d=c===void 0||l(c,s,e);if(d!==!0)throw new TypeError("option "+s+" must be "+d);continue}if(n!==!0)throw Error("Unknown option "+s)}}var rF={assertOptions:tF,validators:_l},md=Sr,nF=fd,Xh=Tb,Qh=Qb,Pa=vd,Dd=rF,Si=Dd.validators;function ou(e){this.defaults=e,this.interceptors={request:new Xh,response:new Xh}}ou.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Pa(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var u=n.transitional;u!==void 0&&Dd.assertOptions(u,{silentJSONParsing:Si.transitional(Si.boolean),forcedJSONParsing:Si.transitional(Si.boolean),clarifyTimeoutError:Si.transitional(Si.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(s=s&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});var l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});var c;if(!s){var d=[Qh,void 0];for(Array.prototype.unshift.apply(d,a),d=d.concat(l),c=Promise.resolve(n);d.length;)c=c.then(d.shift(),d.shift());return c}for(var v=n;a.length;){var f=a.shift(),o=a.shift();try{v=f(v)}catch(p){o(p);break}}try{c=Qh(v)}catch(p){return Promise.reject(p)}for(;l.length;)c=c.then(l.shift(),l.shift());return c};ou.prototype.getUri=function(t){return t=Pa(this.defaults,t),nF(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};md.forEach(["delete","get","head","options"],function(t){ou.prototype[t]=function(n,u){return this.request(Pa(u||{},{method:t,url:n,data:(u||{}).data}))}});md.forEach(["post","put","patch"],function(t){ou.prototype[t]=function(n,u,a){return this.request(Pa(a||{},{method:t,url:n,data:u}))}});var iF=ou,Ro,e0;function uF(){if(e0)return Ro;e0=1;var e=Ma();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var u;this.promise=new Promise(function(l){u=l});var a=this;this.promise.then(function(s){if(a._listeners){var l,c=a._listeners.length;for(l=0;l<c;l++)a._listeners[l](s);a._listeners=null}}),this.promise.then=function(s){var l,c=new Promise(function(d){a.subscribe(d),l=d}).then(s);return c.cancel=function(){a.unsubscribe(l)},c},n(function(l){a.reason||(a.reason=new e(l),u(a.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]},t.prototype.unsubscribe=function(u){if(this._listeners){var a=this._listeners.indexOf(u);a!==-1&&this._listeners.splice(a,1)}},t.source=function(){var u,a=new t(function(l){u=l});return{token:a,cancel:u}},Ro=t,Ro}var Uo,t0;function aF(){return t0||(t0=1,Uo=function(t){return function(u){return t.apply(null,u)}}),Uo}var Lo,r0;function sF(){if(r0)return Lo;r0=1;var e=Sr;return Lo=function(n){return e.isObject(n)&&n.isAxiosError===!0},Lo}var n0=Sr,oF=ad,ia=iF,lF=vd,fF=Dl;function _d(e){var t=new ia(e),n=oF(ia.prototype.request,t);return n0.extend(n,ia.prototype,t),n0.extend(n,t),n.create=function(a){return _d(lF(e,a))},n}var cn=_d(fF);cn.Axios=ia;cn.Cancel=Ma();cn.CancelToken=uF();cn.isCancel=pd();cn.VERSION=gd().version;cn.all=function(t){return Promise.all(t)};cn.spread=aF();cn.isAxiosError=sF();vb.exports=cn;wa.default=cn;(function(e){e.exports=wa})(pb);var Ft={},wl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=_a;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class n{constructor(s,l=e.BASE_PATH,c=t.default){this.basePath=l,this.axios=c,s&&(this.configuration=s,this.basePath=s.basePath||this.basePath)}}e.BaseAPI=n;class u extends Error{constructor(s,l){super(l),this.field=s,this.name="RequiredError"}}e.RequiredError=u})(wl);var Al=ar&&ar.__awaiter||function(e,t,n,u){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(f){try{v(u.next(f))}catch(o){l(o)}}function d(f){try{v(u.throw(f))}catch(o){l(o)}}function v(f){f.done?s(f.value):a(f.value).then(c,d)}v((u=u.apply(e,t||[])).next())})};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.createRequestFunction=Ft.toPathString=Ft.serializeDataIfNeeded=Ft.setSearchParams=Ft.setOAuthToObject=Ft.setBearerAuthToObject=Ft.setBasicAuthToObject=Ft.setApiKeyToObject=Ft.assertParamExists=Ft.DUMMY_BASE_URL=void 0;const cF=wl;Ft.DUMMY_BASE_URL="https://example.com";Ft.assertParamExists=function(e,t,n){if(n==null)throw new cF.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};Ft.setApiKeyToObject=function(e,t,n){return Al(this,void 0,void 0,function*(){if(n&&n.apiKey){const u=typeof n.apiKey=="function"?yield n.apiKey(t):yield n.apiKey;e[t]=u}})};Ft.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};Ft.setBearerAuthToObject=function(e,t){return Al(this,void 0,void 0,function*(){if(t&&t.accessToken){const n=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}})};Ft.setOAuthToObject=function(e,t,n,u){return Al(this,void 0,void 0,function*(){if(u&&u.accessToken){const a=typeof u.accessToken=="function"?yield u.accessToken(t,n):yield u.accessToken;e.Authorization="Bearer "+a}})};function al(e,t,n=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(u=>al(e,u,n)):Object.keys(t).forEach(u=>al(e,t[u],`${n}${n!==""?".":""}${u}`)):e.has(n)?e.append(n,t):e.set(n,t))}Ft.setSearchParams=function(e,...t){const n=new URLSearchParams(e.search);al(n,t),e.search=n.toString()};Ft.serializeDataIfNeeded=function(e,t,n){const u=typeof e!="string";return(u&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):u)?JSON.stringify(e!==void 0?e:{}):e||""};Ft.toPathString=function(e){return e.pathname+e.search+e.hash};Ft.createRequestFunction=function(e,t,n,u){return(a=t,s=n)=>{const l=Object.assign(Object.assign({},e.options),{url:((u==null?void 0:u.basePath)||s)+e.url});return a.request(l)}};(function(e){var t=ar&&ar.__awaiter||function(l,c,d,v){function f(o){return o instanceof d?o:new d(function(p){p(o)})}return new(d||(d=Promise))(function(o,p){function m(_){try{g(v.next(_))}catch(A){p(A)}}function w(_){try{g(v.throw(_))}catch(A){p(A)}}function g(_){_.done?o(_.value):f(_.value).then(m,w)}g((v=v.apply(l,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const n=_a,u=Ft,a=wl;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(l){return{cancelFineTune:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("cancelFineTune","fineTuneId",c);const v="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),createAnswer:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createAnswer","createAnswerRequest",c);const v="/answers",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createChatCompletion:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createChatCompletion","createChatCompletionRequest",c);const v="/chat/completions",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createClassification:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createClassification","createClassificationRequest",c);const v="/classifications",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createCompletion:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createCompletion","createCompletionRequest",c);const v="/completions",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createEdit:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createEdit","createEditRequest",c);const v="/edits",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createEmbedding:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createEmbedding","createEmbeddingRequest",c);const v="/embeddings",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createFile:(c,d,v={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createFile","file",c),u.assertParamExists("createFile","purpose",d);const f="/files",o=new URL(f,u.DUMMY_BASE_URL);let p;l&&(p=l.baseOptions);const m=Object.assign(Object.assign({method:"POST"},p),v),w={},g={},_=new(l&&l.formDataCtor||FormData);c!==void 0&&_.append("file",c),d!==void 0&&_.append("purpose",d),w["Content-Type"]="multipart/form-data",u.setSearchParams(o,g);let A=p&&p.headers?p.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),_.getHeaders()),A),v.headers),m.data=_,{url:u.toPathString(o),options:m}}),createFineTune:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createFineTune","createFineTuneRequest",c);const v="/fine-tunes",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createImage:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createImage","createImageRequest",c);const v="/images/generations",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createImageEdit:(c,d,v,f,o,p,m,w={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createImageEdit","image",c),u.assertParamExists("createImageEdit","prompt",d);const g="/images/edits",_=new URL(g,u.DUMMY_BASE_URL);let A;l&&(A=l.baseOptions);const O=Object.assign(Object.assign({method:"POST"},A),w),b={},M={},F=new(l&&l.formDataCtor||FormData);c!==void 0&&F.append("image",c),v!==void 0&&F.append("mask",v),d!==void 0&&F.append("prompt",d),f!==void 0&&F.append("n",f),o!==void 0&&F.append("size",o),p!==void 0&&F.append("response_format",p),m!==void 0&&F.append("user",m),b["Content-Type"]="multipart/form-data",u.setSearchParams(_,M);let S=A&&A.headers?A.headers:{};return O.headers=Object.assign(Object.assign(Object.assign(Object.assign({},b),F.getHeaders()),S),w.headers),O.data=F,{url:u.toPathString(_),options:O}}),createImageVariation:(c,d,v,f,o,p={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createImageVariation","image",c);const m="/images/variations",w=new URL(m,u.DUMMY_BASE_URL);let g;l&&(g=l.baseOptions);const _=Object.assign(Object.assign({method:"POST"},g),p),A={},O={},b=new(l&&l.formDataCtor||FormData);c!==void 0&&b.append("image",c),d!==void 0&&b.append("n",d),v!==void 0&&b.append("size",v),f!==void 0&&b.append("response_format",f),o!==void 0&&b.append("user",o),A["Content-Type"]="multipart/form-data",u.setSearchParams(w,O);let M=g&&g.headers?g.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),b.getHeaders()),M),p.headers),_.data=b,{url:u.toPathString(w),options:_}}),createModeration:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createModeration","createModerationRequest",c);const v="/moderations",f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"POST"},o),d),m={},w={};m["Content-Type"]="application/json",u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),p.data=u.serializeDataIfNeeded(c,p,l),{url:u.toPathString(f),options:p}}),createSearch:(c,d,v={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createSearch","engineId",c),u.assertParamExists("createSearch","createSearchRequest",d);const f="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(c))),o=new URL(f,u.DUMMY_BASE_URL);let p;l&&(p=l.baseOptions);const m=Object.assign(Object.assign({method:"POST"},p),v),w={},g={};w["Content-Type"]="application/json",u.setSearchParams(o,g);let _=p&&p.headers?p.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},w),_),v.headers),m.data=u.serializeDataIfNeeded(d,m,l),{url:u.toPathString(o),options:m}}),createTranscription:(c,d,v,f,o,p,m={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createTranscription","file",c),u.assertParamExists("createTranscription","model",d);const w="/audio/transcriptions",g=new URL(w,u.DUMMY_BASE_URL);let _;l&&(_=l.baseOptions);const A=Object.assign(Object.assign({method:"POST"},_),m),O={},b={},M=new(l&&l.formDataCtor||FormData);c!==void 0&&M.append("file",c),d!==void 0&&M.append("model",d),v!==void 0&&M.append("prompt",v),f!==void 0&&M.append("response_format",f),o!==void 0&&M.append("temperature",o),p!==void 0&&M.append("language",p),O["Content-Type"]="multipart/form-data",u.setSearchParams(g,b);let F=_&&_.headers?_.headers:{};return A.headers=Object.assign(Object.assign(Object.assign(Object.assign({},O),M.getHeaders()),F),m.headers),A.data=M,{url:u.toPathString(g),options:A}}),createTranslation:(c,d,v,f,o,p={})=>t(this,void 0,void 0,function*(){u.assertParamExists("createTranslation","file",c),u.assertParamExists("createTranslation","model",d);const m="/audio/translations",w=new URL(m,u.DUMMY_BASE_URL);let g;l&&(g=l.baseOptions);const _=Object.assign(Object.assign({method:"POST"},g),p),A={},O={},b=new(l&&l.formDataCtor||FormData);c!==void 0&&b.append("file",c),d!==void 0&&b.append("model",d),v!==void 0&&b.append("prompt",v),f!==void 0&&b.append("response_format",f),o!==void 0&&b.append("temperature",o),A["Content-Type"]="multipart/form-data",u.setSearchParams(w,O);let M=g&&g.headers?g.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),b.getHeaders()),M),p.headers),_.data=b,{url:u.toPathString(w),options:_}}),deleteFile:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("deleteFile","fileId",c);const v="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),deleteModel:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("deleteModel","model",c);const v="/models/{model}".replace("{model}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),downloadFile:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("downloadFile","fileId",c);const v="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"GET"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),listEngines:(c={})=>t(this,void 0,void 0,function*(){const d="/engines",v=new URL(d,u.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},f),c),p={},m={};u.setSearchParams(v,m);let w=f&&f.headers?f.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},p),w),c.headers),{url:u.toPathString(v),options:o}}),listFiles:(c={})=>t(this,void 0,void 0,function*(){const d="/files",v=new URL(d,u.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},f),c),p={},m={};u.setSearchParams(v,m);let w=f&&f.headers?f.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},p),w),c.headers),{url:u.toPathString(v),options:o}}),listFineTuneEvents:(c,d,v={})=>t(this,void 0,void 0,function*(){u.assertParamExists("listFineTuneEvents","fineTuneId",c);const f="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(c))),o=new URL(f,u.DUMMY_BASE_URL);let p;l&&(p=l.baseOptions);const m=Object.assign(Object.assign({method:"GET"},p),v),w={},g={};d!==void 0&&(g.stream=d),u.setSearchParams(o,g);let _=p&&p.headers?p.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},w),_),v.headers),{url:u.toPathString(o),options:m}}),listFineTunes:(c={})=>t(this,void 0,void 0,function*(){const d="/fine-tunes",v=new URL(d,u.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},f),c),p={},m={};u.setSearchParams(v,m);let w=f&&f.headers?f.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},p),w),c.headers),{url:u.toPathString(v),options:o}}),listModels:(c={})=>t(this,void 0,void 0,function*(){const d="/models",v=new URL(d,u.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},f),c),p={},m={};u.setSearchParams(v,m);let w=f&&f.headers?f.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},p),w),c.headers),{url:u.toPathString(v),options:o}}),retrieveEngine:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("retrieveEngine","engineId",c);const v="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"GET"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),retrieveFile:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("retrieveFile","fileId",c);const v="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"GET"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),retrieveFineTune:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("retrieveFineTune","fineTuneId",c);const v="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"GET"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}}),retrieveModel:(c,d={})=>t(this,void 0,void 0,function*(){u.assertParamExists("retrieveModel","model",c);const v="/models/{model}".replace("{model}",encodeURIComponent(String(c))),f=new URL(v,u.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const p=Object.assign(Object.assign({method:"GET"},o),d),m={},w={};u.setSearchParams(f,w);let g=o&&o.headers?o.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:u.toPathString(f),options:p}})}},e.OpenAIApiFp=function(l){const c=e.OpenAIApiAxiosParamCreator(l);return{cancelFineTune(d,v){return t(this,void 0,void 0,function*(){const f=yield c.cancelFineTune(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createAnswer(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createAnswer(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createChatCompletion(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createChatCompletion(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createClassification(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createClassification(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createCompletion(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createCompletion(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createEdit(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createEdit(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createEmbedding(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createEmbedding(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createFile(d,v,f){return t(this,void 0,void 0,function*(){const o=yield c.createFile(d,v,f);return u.createRequestFunction(o,n.default,a.BASE_PATH,l)})},createFineTune(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createFineTune(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createImage(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createImage(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createImageEdit(d,v,f,o,p,m,w,g){return t(this,void 0,void 0,function*(){const _=yield c.createImageEdit(d,v,f,o,p,m,w,g);return u.createRequestFunction(_,n.default,a.BASE_PATH,l)})},createImageVariation(d,v,f,o,p,m){return t(this,void 0,void 0,function*(){const w=yield c.createImageVariation(d,v,f,o,p,m);return u.createRequestFunction(w,n.default,a.BASE_PATH,l)})},createModeration(d,v){return t(this,void 0,void 0,function*(){const f=yield c.createModeration(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},createSearch(d,v,f){return t(this,void 0,void 0,function*(){const o=yield c.createSearch(d,v,f);return u.createRequestFunction(o,n.default,a.BASE_PATH,l)})},createTranscription(d,v,f,o,p,m,w){return t(this,void 0,void 0,function*(){const g=yield c.createTranscription(d,v,f,o,p,m,w);return u.createRequestFunction(g,n.default,a.BASE_PATH,l)})},createTranslation(d,v,f,o,p,m){return t(this,void 0,void 0,function*(){const w=yield c.createTranslation(d,v,f,o,p,m);return u.createRequestFunction(w,n.default,a.BASE_PATH,l)})},deleteFile(d,v){return t(this,void 0,void 0,function*(){const f=yield c.deleteFile(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},deleteModel(d,v){return t(this,void 0,void 0,function*(){const f=yield c.deleteModel(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},downloadFile(d,v){return t(this,void 0,void 0,function*(){const f=yield c.downloadFile(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},listEngines(d){return t(this,void 0,void 0,function*(){const v=yield c.listEngines(d);return u.createRequestFunction(v,n.default,a.BASE_PATH,l)})},listFiles(d){return t(this,void 0,void 0,function*(){const v=yield c.listFiles(d);return u.createRequestFunction(v,n.default,a.BASE_PATH,l)})},listFineTuneEvents(d,v,f){return t(this,void 0,void 0,function*(){const o=yield c.listFineTuneEvents(d,v,f);return u.createRequestFunction(o,n.default,a.BASE_PATH,l)})},listFineTunes(d){return t(this,void 0,void 0,function*(){const v=yield c.listFineTunes(d);return u.createRequestFunction(v,n.default,a.BASE_PATH,l)})},listModels(d){return t(this,void 0,void 0,function*(){const v=yield c.listModels(d);return u.createRequestFunction(v,n.default,a.BASE_PATH,l)})},retrieveEngine(d,v){return t(this,void 0,void 0,function*(){const f=yield c.retrieveEngine(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},retrieveFile(d,v){return t(this,void 0,void 0,function*(){const f=yield c.retrieveFile(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},retrieveFineTune(d,v){return t(this,void 0,void 0,function*(){const f=yield c.retrieveFineTune(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})},retrieveModel(d,v){return t(this,void 0,void 0,function*(){const f=yield c.retrieveModel(d,v);return u.createRequestFunction(f,n.default,a.BASE_PATH,l)})}}},e.OpenAIApiFactory=function(l,c,d){const v=e.OpenAIApiFp(l);return{cancelFineTune(f,o){return v.cancelFineTune(f,o).then(p=>p(d,c))},createAnswer(f,o){return v.createAnswer(f,o).then(p=>p(d,c))},createChatCompletion(f,o){return v.createChatCompletion(f,o).then(p=>p(d,c))},createClassification(f,o){return v.createClassification(f,o).then(p=>p(d,c))},createCompletion(f,o){return v.createCompletion(f,o).then(p=>p(d,c))},createEdit(f,o){return v.createEdit(f,o).then(p=>p(d,c))},createEmbedding(f,o){return v.createEmbedding(f,o).then(p=>p(d,c))},createFile(f,o,p){return v.createFile(f,o,p).then(m=>m(d,c))},createFineTune(f,o){return v.createFineTune(f,o).then(p=>p(d,c))},createImage(f,o){return v.createImage(f,o).then(p=>p(d,c))},createImageEdit(f,o,p,m,w,g,_,A){return v.createImageEdit(f,o,p,m,w,g,_,A).then(O=>O(d,c))},createImageVariation(f,o,p,m,w,g){return v.createImageVariation(f,o,p,m,w,g).then(_=>_(d,c))},createModeration(f,o){return v.createModeration(f,o).then(p=>p(d,c))},createSearch(f,o,p){return v.createSearch(f,o,p).then(m=>m(d,c))},createTranscription(f,o,p,m,w,g,_){return v.createTranscription(f,o,p,m,w,g,_).then(A=>A(d,c))},createTranslation(f,o,p,m,w,g){return v.createTranslation(f,o,p,m,w,g).then(_=>_(d,c))},deleteFile(f,o){return v.deleteFile(f,o).then(p=>p(d,c))},deleteModel(f,o){return v.deleteModel(f,o).then(p=>p(d,c))},downloadFile(f,o){return v.downloadFile(f,o).then(p=>p(d,c))},listEngines(f){return v.listEngines(f).then(o=>o(d,c))},listFiles(f){return v.listFiles(f).then(o=>o(d,c))},listFineTuneEvents(f,o,p){return v.listFineTuneEvents(f,o,p).then(m=>m(d,c))},listFineTunes(f){return v.listFineTunes(f).then(o=>o(d,c))},listModels(f){return v.listModels(f).then(o=>o(d,c))},retrieveEngine(f,o){return v.retrieveEngine(f,o).then(p=>p(d,c))},retrieveFile(f,o){return v.retrieveFile(f,o).then(p=>p(d,c))},retrieveFineTune(f,o){return v.retrieveFineTune(f,o).then(p=>p(d,c))},retrieveModel(f,o){return v.retrieveModel(f,o).then(p=>p(d,c))}}};class s extends a.BaseAPI{cancelFineTune(c,d){return e.OpenAIApiFp(this.configuration).cancelFineTune(c,d).then(v=>v(this.axios,this.basePath))}createAnswer(c,d){return e.OpenAIApiFp(this.configuration).createAnswer(c,d).then(v=>v(this.axios,this.basePath))}createChatCompletion(c,d){return e.OpenAIApiFp(this.configuration).createChatCompletion(c,d).then(v=>v(this.axios,this.basePath))}createClassification(c,d){return e.OpenAIApiFp(this.configuration).createClassification(c,d).then(v=>v(this.axios,this.basePath))}createCompletion(c,d){return e.OpenAIApiFp(this.configuration).createCompletion(c,d).then(v=>v(this.axios,this.basePath))}createEdit(c,d){return e.OpenAIApiFp(this.configuration).createEdit(c,d).then(v=>v(this.axios,this.basePath))}createEmbedding(c,d){return e.OpenAIApiFp(this.configuration).createEmbedding(c,d).then(v=>v(this.axios,this.basePath))}createFile(c,d,v){return e.OpenAIApiFp(this.configuration).createFile(c,d,v).then(f=>f(this.axios,this.basePath))}createFineTune(c,d){return e.OpenAIApiFp(this.configuration).createFineTune(c,d).then(v=>v(this.axios,this.basePath))}createImage(c,d){return e.OpenAIApiFp(this.configuration).createImage(c,d).then(v=>v(this.axios,this.basePath))}createImageEdit(c,d,v,f,o,p,m,w){return e.OpenAIApiFp(this.configuration).createImageEdit(c,d,v,f,o,p,m,w).then(g=>g(this.axios,this.basePath))}createImageVariation(c,d,v,f,o,p){return e.OpenAIApiFp(this.configuration).createImageVariation(c,d,v,f,o,p).then(m=>m(this.axios,this.basePath))}createModeration(c,d){return e.OpenAIApiFp(this.configuration).createModeration(c,d).then(v=>v(this.axios,this.basePath))}createSearch(c,d,v){return e.OpenAIApiFp(this.configuration).createSearch(c,d,v).then(f=>f(this.axios,this.basePath))}createTranscription(c,d,v,f,o,p,m){return e.OpenAIApiFp(this.configuration).createTranscription(c,d,v,f,o,p,m).then(w=>w(this.axios,this.basePath))}createTranslation(c,d,v,f,o,p){return e.OpenAIApiFp(this.configuration).createTranslation(c,d,v,f,o,p).then(m=>m(this.axios,this.basePath))}deleteFile(c,d){return e.OpenAIApiFp(this.configuration).deleteFile(c,d).then(v=>v(this.axios,this.basePath))}deleteModel(c,d){return e.OpenAIApiFp(this.configuration).deleteModel(c,d).then(v=>v(this.axios,this.basePath))}downloadFile(c,d){return e.OpenAIApiFp(this.configuration).downloadFile(c,d).then(v=>v(this.axios,this.basePath))}listEngines(c){return e.OpenAIApiFp(this.configuration).listEngines(c).then(d=>d(this.axios,this.basePath))}listFiles(c){return e.OpenAIApiFp(this.configuration).listFiles(c).then(d=>d(this.axios,this.basePath))}listFineTuneEvents(c,d,v){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(c,d,v).then(f=>f(this.axios,this.basePath))}listFineTunes(c){return e.OpenAIApiFp(this.configuration).listFineTunes(c).then(d=>d(this.axios,this.basePath))}listModels(c){return e.OpenAIApiFp(this.configuration).listModels(c).then(d=>d(this.axios,this.basePath))}retrieveEngine(c,d){return e.OpenAIApiFp(this.configuration).retrieveEngine(c,d).then(v=>v(this.axios,this.basePath))}retrieveFile(c,d){return e.OpenAIApiFp(this.configuration).retrieveFile(c,d).then(v=>v(this.axios,this.basePath))}retrieveFineTune(c,d){return e.OpenAIApiFp(this.configuration).retrieveFineTune(c,d).then(v=>v(this.axios,this.basePath))}retrieveModel(c,d){return e.OpenAIApiFp(this.configuration).retrieveModel(c,d).then(v=>v(this.axios,this.basePath))}}e.OpenAIApi=s})(ud);var Ta={};const hF="openai",dF="3.2.1",pF="Node.js library for the OpenAI API",vF={type:"git",url:"git@github.com:openai/openai-node.git"},gF=["openai","open","ai","gpt-3","gpt3"],mF="OpenAI",DF="MIT",_F="./dist/index.js",wF="./dist/index.d.ts",AF={build:"tsc --outDir dist/"},EF={axios:"^0.26.0","form-data":"^4.0.0"},yF={"@types/node":"^12.11.5",typescript:"^3.6.4"},bF={name:hF,version:dF,description:pF,repository:vF,keywords:gF,author:mF,license:DF,main:_F,types:wF,scripts:AF,dependencies:EF,devDependencies:yF};var zo,i0;function FF(){return i0||(i0=1,zo=typeof self=="object"?self.FormData:window.FormData),zo}Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Configuration=void 0;const CF=bF;class SF{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${CF.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=FF())}isJsonMime(t){const n=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(n.test(t)||t.toLowerCase()==="application/json-patch+json")}}Ta.Configuration=SF;(function(e){var t=ar&&ar.__createBinding||(Object.create?function(u,a,s,l){l===void 0&&(l=s),Object.defineProperty(u,l,{enumerable:!0,get:function(){return a[s]}})}:function(u,a,s,l){l===void 0&&(l=s),u[l]=a[s]}),n=ar&&ar.__exportStar||function(u,a){for(var s in u)s!=="default"&&!a.hasOwnProperty(s)&&t(a,u,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(ud,e),n(Ta,e)})(nl);function wd(e){const t=new nl.Configuration({apiKey:e});return new nl.OpenAIApi(t)}async function OF(e,t,n){return await e.createCompletion({model:"text-davinci-003",prompt:n,temperature:.8,max_tokens:250})}async function MF(e,t,n){return await e.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"user",content:n}],temperature:.8,max_tokens:250})}async function BF(e){return await e.listModels()}const qo="oKeyStore";function PF(){const e=Sn(""),{subscribe:t,set:n,update:u}=e,a=typeof window<"u";return n(a&&localStorage[qo]||""),{subscribe:t,updateKey:s=>{!s||!a||(localStorage[qo]=s,n(s))},getKey:()=>Ct(e),deleteKey:()=>{a&&(delete localStorage[qo],n(""))}}}const sl=PF(),Ad=Cn(sl,e=>Ct(sl));function u0(e,t,n){const u=e.slice();return u[28]=t[n][0],u[29]=t[n][1],u}function TF(e){let t,n,u;return{c(){t=ce("div"),n=ce("p"),u=Ze("Open AI Key must be provided in settings."),this.h()},l(a){t=he(a,"DIV",{class:!0});var s=ue(t);n=he(s,"P",{});var l=ue(n);u=Je(l,"Open AI Key must be provided in settings."),l.forEach(j),s.forEach(j),this.h()},h(){U(t,"class","w-full p-2 flex justify-center")},m(a,s){Ee(a,t,s),Q(t,n),Q(n,u)},p:Xe,d(a){a&&j(t)}}}function NF(e){let t,n,u,a,s,l,c,d,v,f,o=[],p=new Map,m,w,g,_,A,O,b,M=Object.entries(e[1]);const F=P=>P[28];for(let P=0;P<M.length;P+=1){let B=u0(e,M,P),I=F(B);p.set(I,o[P]=a0(I,B))}let S=e[0]&&s0(e);return{c(){t=ce("div"),n=ce("div"),u=ce("label"),a=ce("span"),s=Ze("Pick a directive for prompt creation"),l=et(),c=ce("select"),d=ce("option"),v=Ze("Pick one");for(let P=0;P<o.length;P+=1)o[P].c();m=ce("option"),w=Ze("New"),_=et(),S&&S.c(),A=on(),this.h()},l(P){t=he(P,"DIV",{class:!0});var B=ue(t);n=he(B,"DIV",{class:!0});var I=ue(n);u=he(I,"LABEL",{class:!0});var q=ue(u);a=he(q,"SPAN",{class:!0});var $=ue(a);s=Je($,"Pick a directive for prompt creation"),$.forEach(j),q.forEach(j),l=tt(I),c=he(I,"SELECT",{class:!0});var k=ue(c);d=he(k,"OPTION",{});var se=ue(d);v=Je(se,"Pick one"),se.forEach(j);for(let K=0;K<o.length;K+=1)o[K].l(k);m=he(k,"OPTION",{});var G=ue(m);w=Je(G,"New"),G.forEach(j),k.forEach(j),I.forEach(j),B.forEach(j),_=tt(P),S&&S.l(P),A=on(),this.h()},h(){U(a,"class","label-text"),U(u,"class","label"),d.disabled=!0,d.selected=f=e[0]===null,d.__value="Pick one",d.value=d.__value,m.__value="new",m.value=m.__value,m.selected=g=e[0]==="new",U(c,"class","select select-bordered"),U(n,"class","form-control w-full max-w-xs mb-4"),U(t,"class","flex justify-center")},m(P,B){Ee(P,t,B),Q(t,n),Q(n,u),Q(u,a),Q(a,s),Q(n,l),Q(n,c),Q(c,d),Q(d,v);for(let I=0;I<o.length;I+=1)o[I]&&o[I].m(c,null);Q(c,m),Q(m,w),ua(c,e[0]),Ee(P,_,B),S&&S.m(P,B),Ee(P,A,B),O||(b=xe(c,"change",e[10]),O=!0)},p(P,B){B[0]&3&&f!==(f=P[0]===null)&&(d.selected=f),B[0]&3&&(M=Object.entries(P[1]),o=Ri(o,B,F,1,P,M,p,c,su,a0,m,u0)),B[0]&3&&g!==(g=P[0]==="new")&&(m.selected=g),B[0]&3&&ua(c,P[0]),P[0]?S?S.p(P,B):(S=s0(P),S.c(),S.m(A.parentNode,A)):S&&(S.d(1),S=null)},d(P){P&&j(t);for(let B=0;B<o.length;B+=1)o[B].d();P&&j(_),S&&S.d(P),P&&j(A),O=!1,b()}}}function a0(e,t){let n,u=t[29].name+"",a,s=t[29].builtIn?" (Built-In)":" (User)",l,c,d;return{key:e,first:null,c(){n=ce("option"),a=Ze(u),l=Ze(s),this.h()},l(v){n=he(v,"OPTION",{});var f=ue(n);a=Je(f,u),l=Je(f,s),f.forEach(j),this.h()},h(){n.__value=c=t[28],n.value=n.__value,n.selected=d=t[0]===t[28],this.first=n},m(v,f){Ee(v,n,f),Q(n,a),Q(n,l)},p(v,f){t=v,f[0]&2&&u!==(u=t[29].name+"")&&Fn(a,u),f[0]&2&&s!==(s=t[29].builtIn?" (Built-In)":" (User)")&&Fn(l,s),f[0]&2&&c!==(c=t[28])&&(n.__value=c,n.value=n.__value),f[0]&3&&d!==(d=t[0]===t[28])&&(n.selected=d)},d(v){v&&j(n)}}}function s0(e){let t,n,u,a,s,l,c,d,v,f,o=!e[5]&&o0(e);function p(g,_){return g[4]?xF:IF}let m=p(e),w=m(e);return{c(){o&&o.c(),t=et(),n=ce("div"),u=ce("textarea"),a=et(),s=ce("div"),l=ce("textarea"),c=et(),w.c(),d=on(),this.h()},l(g){o&&o.l(g),t=tt(g),n=he(g,"DIV",{class:!0});var _=ue(n);u=he(_,"TEXTAREA",{class:!0,placeholder:!0}),ue(u).forEach(j),_.forEach(j),a=tt(g),s=he(g,"DIV",{class:!0});var A=ue(s);l=he(A,"TEXTAREA",{class:!0,placeholder:!0}),ue(l).forEach(j),A.forEach(j),c=tt(g),w.l(g),d=on(),this.h()},h(){U(u,"class","textarea textarea-bordered w-full h-full"),U(u,"placeholder","GPT Directives"),U(n,"class","w-full p-2 h-1/2"),l.value=e[6],U(l,"class","textarea textarea-bordered w-full h-full"),U(l,"placeholder","Describe the prompt to generate."),U(s,"class","w-full p-2 h-1/5")},m(g,_){o&&o.m(g,_),Ee(g,t,_),Ee(g,n,_),Q(n,u),Vn(u,e[3]),Ee(g,a,_),Ee(g,s,_),Q(s,l),Ee(g,c,_),w.m(g,_),Ee(g,d,_),v||(f=[xe(u,"input",e[16]),xe(l,"input",e[17])],v=!0)},p(g,_){g[5]?o&&(o.d(1),o=null):o?o.p(g,_):(o=o0(g),o.c(),o.m(t.parentNode,t)),_[0]&8&&Vn(u,g[3]),_[0]&64&&(l.value=g[6]),m===(m=p(g))&&w?w.p(g,_):(w.d(1),w=m(g),w&&(w.c(),w.m(d.parentNode,d)))},d(g){o&&o.d(g),g&&j(t),g&&j(n),g&&j(a),g&&j(s),g&&j(c),w.d(g),g&&j(d),v=!1,en(f)}}}function o0(e){let t,n,u,a,s,l,c;return{c(){t=ce("div"),n=ce("input"),u=et(),a=ce("button"),s=Ze("Save"),this.h()},l(d){t=he(d,"DIV",{class:!0});var v=ue(t);n=he(v,"INPUT",{type:!0,placeholder:!0,class:!0}),u=tt(v),a=he(v,"BUTTON",{class:!0});var f=ue(a);s=Je(f,"Save"),f.forEach(j),v.forEach(j),this.h()},h(){U(n,"type","text"),U(n,"placeholder","Name"),U(n,"class","input input-bordered input-sm w-full max-w-xs"),U(a,"class","btn btn-sm btn-primary ml-4"),U(t,"class","w-full p-2 h-12 flex justify-between")},m(d,v){Ee(d,t,v),Q(t,n),Vn(n,e[2]),Q(t,u),Q(t,a),Q(a,s),l||(c=[xe(n,"input",e[15]),xe(a,"click",e[8])],l=!0)},p(d,v){v[0]&4&&n.value!==d[2]&&Vn(n,d[2])},d(d){d&&j(t),l=!1,en(c)}}}function IF(e){let t,n,u,a,s;return{c(){t=ce("div"),n=ce("button"),u=Ze("Generate"),this.h()},l(l){t=he(l,"DIV",{class:!0});var c=ue(t);n=he(c,"BUTTON",{class:!0});var d=ue(n);u=Je(d,"Generate"),d.forEach(j),c.forEach(j),this.h()},h(){U(n,"class","btn btn-sm btn-primary ml-4"),U(t,"class","w-full p-2 h-12 flex justify-end")},m(l,c){Ee(l,t,c),Q(t,n),Q(n,u),a||(s=xe(n,"click",e[11]),a=!0)},p:Xe,d(l){l&&j(t),a=!1,s()}}}function xF(e){let t,n,u,a,s,l,c,d;return{c(){t=ce("div"),n=ce("button"),u=Ze("Delete"),a=et(),s=ce("button"),l=Ze("Generate"),this.h()},l(v){t=he(v,"DIV",{class:!0});var f=ue(t);n=he(f,"BUTTON",{class:!0});var o=ue(n);u=Je(o,"Delete"),o.forEach(j),a=tt(f),s=he(f,"BUTTON",{class:!0});var p=ue(s);l=Je(p,"Generate"),p.forEach(j),f.forEach(j),this.h()},h(){U(n,"class","btn btn-sm btn-error ml-4"),U(s,"class","btn btn-sm btn-primary ml-4"),U(t,"class","w-full p-2 h-12 flex justify-between")},m(v,f){Ee(v,t,f),Q(t,n),Q(n,u),Q(t,a),Q(t,s),Q(s,l),c||(d=[xe(n,"click",e[9]),xe(s,"click",e[11])],c=!0)},p:Xe,d(v){v&&j(t),c=!1,en(d)}}}function RF(e){let t;function n(s,l){return s[7]?NF:TF}let a=n(e)(e);return{c(){t=ce("div"),a.c(),this.h()},l(s){t=he(s,"DIV",{class:!0});var l=ue(t);a.l(l),l.forEach(j),this.h()},h(){U(t,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(s,l){Ee(s,t,l),a.m(t,null)},p(s,l){a.p(s,l)},i:Xe,o:Xe,d(s){s&&j(t),a.d()}}}function UF(e,t,n){let u,a,s,l,c,d,v,f,o,p;Jt(e,db,G=>n(6,c=G)),Jt(e,Hn,G=>n(18,d=G)),Jt(e,cb,G=>n(13,v=G)),Jt(e,ob,G=>n(14,f=G)),Jt(e,id,G=>n(19,o=G)),Jt(e,Ad,G=>n(20,p=G));let m=p,w=o;const g=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let _={C:{name:"Five Sentences",text:rb,builtIn:!0},D:{name:"Ten Sentences",text:nb,builtIn:!0},E:{name:"Fragments",text:ib,builtIn:!0},F:{name:"Fragment Shotgun",text:ub,builtIn:!0},G:{name:"Poetic Accents",text:ab,builtIn:!0}},A=null,O="",b="";function M(){const G=A==="new"?Q0():A;Da.updateDirective(G,{name:O,text:b,builtIn:!1}),A==="new"&&n(0,A=G)}function F(){Da.deleteDirective(A),n(0,A=null)}function S(G){n(0,A=G),tl.updateDirectiveKey(G),G&&G!=="new"?(n(2,O=a[G].name),n(3,b=a[G].text)):G==="new"&&(n(2,O=""),n(3,b=""))}function P(G){n(0,A=G.target.value),S(A)}function B(G,K){MF(G,w||"gpt-3.5-turbo",K).then(fe=>{console.log(fe),fe.data.choices.forEach((ge,Ae)=>{const Se=Qo(ge.message.content);console.log(Se);const Ue=Se.reduce((Te,[nt,We],Ge)=>(Te[Ge]=Kt(Ge,nt,We),Te),{});Xt.updateActivePrompt(xi(Ue,d.weightMode)),fn.updateMode("edit")})})}function I(G,K){OF(G,w||"text-davinci-003",K).then(fe=>{console.log(fe),fe.data.choices.forEach((ge,Ae)=>{const Se=Qo(ge.text);console.log(Se);const Ue=Se.reduce((Te,[nt,We],Ge)=>(Te[Ge]=Kt(Ge,nt,We),Te),{});Xt.updateActivePrompt(xi(Ue,d.weightMode)),fn.updateMode("edit")})})}function q(){if(!m||!b||!c)return;const G=wd(m),K=`${b}

        Using the above rules create a prompt from:
        ${c}
        `;g.includes(w)?I(G,K):B(G,K)}function $(){O=this.value,n(2,O)}function k(){b=this.value,n(3,b)}const se=G=>rl.updateMetaPrompt(G.target.value);return e.$$.update=()=>{e.$$.dirty[0]&16384&&n(12,u=f.reduce((G,[K,H])=>(G[K]={name:H.name,text:H.text,builtIn:!1},G),{})),e.$$.dirty[0]&4096&&n(1,a=Object.entries({..._,...u}).reduce((G,[K,H])=>(G[K]=H,G),{})),e.$$.dirty[0]&8193&&(A===null&&n(0,A=v),S(A)),e.$$.dirty[0]&3&&n(5,s=A&&A!=="new"&&a[A].builtIn),e.$$.dirty[0]&3&&n(4,l=A&&A!=="new"&&!a[A].builtIn)},[A,a,O,b,l,s,c,m,M,F,P,q,u,v,f,$,k,se]}class LF extends Ut{constructor(t){super(),Lt(this,t,UF,RF,zt,{},null,[-1,-1])}}function l0(e,t,n){const u=e.slice();return u[9]=t[n],u}function f0(e){let t,n,u,a,s,l,c,d,v,f,o=[],p=new Map,m,w,g=e[0];const _=A=>A[9];for(let A=0;A<g.length;A+=1){let O=l0(e,g,A),b=_(O);p.set(b,o[A]=c0(b,O))}return{c(){t=ce("div"),n=ce("div"),u=ce("label"),a=ce("span"),s=Ze("Pick a model to use for model generation"),l=et(),c=ce("select"),d=ce("option"),v=Ze("Pick one");for(let A=0;A<o.length;A+=1)o[A].c();this.h()},l(A){t=he(A,"DIV",{class:!0});var O=ue(t);n=he(O,"DIV",{class:!0});var b=ue(n);u=he(b,"LABEL",{class:!0});var M=ue(u);a=he(M,"SPAN",{class:!0});var F=ue(a);s=Je(F,"Pick a model to use for model generation"),F.forEach(j),M.forEach(j),l=tt(b),c=he(b,"SELECT",{class:!0});var S=ue(c);d=he(S,"OPTION",{});var P=ue(d);v=Je(P,"Pick one"),P.forEach(j);for(let B=0;B<o.length;B+=1)o[B].l(S);S.forEach(j),b.forEach(j),O.forEach(j),this.h()},h(){U(a,"class","label-text"),U(u,"class","label"),d.disabled=!0,d.selected=f=e[1]===null,d.__value="Pick one",d.value=d.__value,U(c,"class","select select-bordered"),U(n,"class","form-control w-full max-w-xs mb-4"),U(t,"class","flex justify-center")},m(A,O){Ee(A,t,O),Q(t,n),Q(n,u),Q(u,a),Q(a,s),Q(n,l),Q(n,c),Q(c,d),Q(d,v);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(c,null);ua(c,e[1]),m||(w=xe(c,"change",e[3]),m=!0)},p(A,O){O&3&&f!==(f=A[1]===null)&&(d.selected=f),O&3&&(g=A[0],o=Ri(o,O,_,1,A,g,p,c,su,c0,null,l0)),O&3&&ua(c,A[1])},d(A){A&&j(t);for(let O=0;O<o.length;O+=1)o[O].d();m=!1,w()}}}function c0(e,t){let n,u=t[9]+"",a,s,l;return{key:e,first:null,c(){n=ce("option"),a=Ze(u),this.h()},l(c){n=he(c,"OPTION",{});var d=ue(n);a=Je(d,u),d.forEach(j),this.h()},h(){n.__value=s=t[9],n.value=n.__value,n.selected=l=t[1]===t[9],this.first=n},m(c,d){Ee(c,n,d),Q(n,a)},p(c,d){t=c,d&1&&u!==(u=t[9]+"")&&Fn(a,u),d&1&&s!==(s=t[9])&&(n.__value=s,n.value=n.__value),d&3&&l!==(l=t[1]===t[9])&&(n.selected=l)},d(c){c&&j(n)}}}function zF(e){let t,n,u,a,s,l,c,d,v,f,o,p=e[0].length>0&&f0(e);return{c(){t=ce("div"),n=ce("div"),u=ce("div"),a=ce("label"),s=ce("span"),l=Ze("Open AI Key"),c=et(),d=ce("input"),v=et(),p&&p.c(),this.h()},l(m){t=he(m,"DIV",{class:!0});var w=ue(t);n=he(w,"DIV",{class:!0});var g=ue(n);u=he(g,"DIV",{class:!0});var _=ue(u);a=he(_,"LABEL",{class:!0});var A=ue(a);s=he(A,"SPAN",{class:!0});var O=ue(s);l=Je(O,"Open AI Key"),O.forEach(j),A.forEach(j),c=tt(_),d=he(_,"INPUT",{type:!0,placeholder:!0,class:!0}),_.forEach(j),g.forEach(j),v=tt(w),p&&p.l(w),w.forEach(j),this.h()},h(){U(s,"class","label-text-alt"),U(a,"class","label"),d.value=e[2],U(d,"type","password"),U(d,"placeholder","Open AI Key"),U(d,"class","input input-bordered w-full max-w-xs"),U(u,"class","form-control w-full max-w-xs"),U(n,"class","flex justify-center"),U(t,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(m,w){Ee(m,t,w),Q(t,n),Q(n,u),Q(u,a),Q(a,s),Q(s,l),Q(u,c),Q(u,d),Q(t,v),p&&p.m(t,null),f||(o=xe(d,"input",e[4]),f=!0)},p(m,[w]){w&4&&d.value!==m[2]&&(d.value=m[2]),m[0].length>0?p?p.p(m,w):(p=f0(m),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i:Xe,o:Xe,d(m){m&&j(t),p&&p.d(),f=!1,o()}}}function qF(e,t,n){let u,a;Jt(e,id,p=>n(5,u=p)),Jt(e,Ad,p=>n(2,a=p));const s=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"];let l=a,c=[],d=u;async function v(p){if(!p||c.length)return;const m=wd(p),w=await BF(m);w.data&&n(0,c=w.data.data.map(({id:g})=>g).filter(g=>s.includes(g)))}function f(p){n(1,d=p.target.value),el.updateModel(d)}const o=p=>sl.updateKey(p.target.value);return v(l),[c,d,a,f,o]}class VF extends Ut{constructor(t){super(),Lt(this,t,qF,zF,zt,{})}}function jF(e){let t,n;return t=new VF({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function WF(e){let t,n;return t=new LF({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function kF(e){let t,n;return t=new tb({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function HF(e){let t,n;return t=new Yy({}),{c(){_t(t.$$.fragment)},l(u){wt(t.$$.fragment,u)},m(u,a){At(t,u,a),n=!0},i(u){n||(ze(t.$$.fragment,u),n=!0)},o(u){He(t.$$.fragment,u),n=!1},d(u){Et(t,u)}}}function GF(e){let t,n,u,a,s,l,c,d,v,f,o,p,m,w,g,_,A,O,b,M,F,S,P,B;const I=[HF,kF,WF,jF],q=[];function $(k,se){return k[0]==="select"?0:k[0]==="edit"?1:k[0]==="generate"?2:k[0]==="settings"?3:-1}return~(M=$(e))&&(F=q[M]=I[M](e)),{c(){t=ce("div"),n=ce("div"),u=ce("div"),a=ce("button"),s=Ze("Select"),c=et(),d=ce("button"),v=Ze("Edit"),o=et(),p=ce("button"),m=Ze("Generate"),g=et(),_=ce("button"),A=Ze("Settings"),b=et(),F&&F.c(),this.h()},l(k){t=he(k,"DIV",{class:!0});var se=ue(t);n=he(se,"DIV",{class:!0});var G=ue(n);u=he(G,"DIV",{class:!0});var K=ue(u);a=he(K,"BUTTON",{class:!0});var H=ue(a);s=Je(H,"Select"),H.forEach(j),c=tt(K),d=he(K,"BUTTON",{class:!0});var oe=ue(d);v=Je(oe,"Edit"),oe.forEach(j),o=tt(K),p=he(K,"BUTTON",{class:!0});var fe=ue(p);m=Je(fe,"Generate"),fe.forEach(j),g=tt(K),_=he(K,"BUTTON",{class:!0});var ge=ue(_);A=Je(ge,"Settings"),ge.forEach(j),K.forEach(j),b=tt(G),F&&F.l(G),G.forEach(j),se.forEach(j),this.h()},h(){U(a,"class",l=e[0]==="select"?"btn btn-active":"btn"),U(d,"class",f=e[0]==="edit"?"btn btn-active":"btn"),U(p,"class",w=e[0]==="generate"?"btn btn-active":"btn"),U(_,"class",O=e[0]==="settings"?"btn btn-active":"btn"),U(u,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),U(n,"class","h-screen overflow-y-auto flex flex-col"),U(t,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(k,se){Ee(k,t,se),Q(t,n),Q(n,u),Q(u,a),Q(a,s),Q(u,c),Q(u,d),Q(d,v),Q(u,o),Q(u,p),Q(p,m),Q(u,g),Q(u,_),Q(_,A),Q(n,b),~M&&q[M].m(n,null),S=!0,P||(B=[xe(a,"click",e[2]),xe(d,"click",e[3]),xe(p,"click",e[4]),xe(_,"click",e[5])],P=!0)},p(k,[se]){(!S||se&1&&l!==(l=k[0]==="select"?"btn btn-active":"btn"))&&U(a,"class",l),(!S||se&1&&f!==(f=k[0]==="edit"?"btn btn-active":"btn"))&&U(d,"class",f),(!S||se&1&&w!==(w=k[0]==="generate"?"btn btn-active":"btn"))&&U(p,"class",w),(!S||se&1&&O!==(O=k[0]==="settings"?"btn btn-active":"btn"))&&U(_,"class",O);let G=M;M=$(k),M!==G&&(F&&(Pi(),He(q[G],1,1,()=>{q[G]=null}),Ti()),~M?(F=q[M],F||(F=q[M]=I[M](k),F.c()),ze(F,1),F.m(n,null)):F=null)},i(k){S||(ze(F),S=!0)},o(k){He(F),S=!1},d(k){k&&j(t),~M&&q[M].d(),P=!1,en(B)}}}function $F(e,t,n){let u;Jt(e,ky,v=>n(0,u=v));function a(v){fn.updateMode(v)}const s=()=>a("select"),l=()=>a("edit"),c=()=>a("generate"),d=()=>a("settings");return e.$$.update=()=>{e.$$.dirty&1&&(u||fn.updateMode("select"))},[u,a,s,l,c,d]}class KF extends Ut{constructor(t){super(),Lt(this,t,$F,GF,zt,{})}}function YF(e){let t,n,u,a;return t=new KF({}),u=new Ly({}),{c(){_t(t.$$.fragment),n=et(),_t(u.$$.fragment)},l(s){wt(t.$$.fragment,s),n=tt(s),wt(u.$$.fragment,s)},m(s,l){At(t,s,l),Ee(s,n,l),At(u,s,l),a=!0},p:Xe,i(s){a||(ze(t.$$.fragment,s),ze(u.$$.fragment,s),a=!0)},o(s){He(t.$$.fragment,s),He(u.$$.fragment,s),a=!1},d(s){Et(t,s),s&&j(n),Et(u,s)}}}class XF extends Ut{constructor(t){super(),Lt(this,t,null,YF,zt,{})}}export{XF as default};
