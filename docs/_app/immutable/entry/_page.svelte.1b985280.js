import{J as Bt,S as Pt,i as xt,s as Tt,K as Ft,L as St,m as ne,h as R,n as x,p as er,b as we,H as Te,M as ke,N as Nr,k as ue,q as He,l as ae,r as Ge,G as H,u as En,a as ze,c as We,g as Pe,v as an,d as Le,f as sn,I as Dt,y as dt,e as Yt,z as pt,A as vt,B as gt,O as cf,P as Os,Q as Ms,R as Ei,T as ty,U as nl,V as Bi,W as kd,X as Ci,Y as Ps,Z as zt,_ as bu,$ as gu}from"../chunks/index.98d4e505.js";import{d as on,w as ln}from"../chunks/index.29baef3a.js";var wt=(e=>(e.Circle="circle",e.Bars="bars",e.Embed="embed",e.Pie="pie",e))(wt||{});function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var Ld={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function tr(e){return typeof e=="number"}function wn(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Rd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Ud(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Vd(e){return e&&e.constructor.prototype.isUnit===!0||!1}function qn(e){return typeof e=="string"}var Jt=Array.isArray;function Vr(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function is(e){return Array.isArray(e)||Vr(e)}function ry(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ny(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function iy(e){return e&&e.constructor.prototype.isRange===!0||!1}function hf(e){return e&&e.constructor.prototype.isIndex===!0||!1}function uy(e){return typeof e=="boolean"}function ay(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function sy(e){return e&&e.constructor.prototype.isHelp===!0||!1}function oy(e){return typeof e=="function"}function ly(e){return e instanceof Date}function fy(e){return e instanceof RegExp}function cy(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Rd(e)&&!Ud(e))}function hy(e){return e===null}function jd(e){return e===void 0}function dy(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function py(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function vy(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function gy(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function my(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function _y(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Dy(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function by(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function yy(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ay(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function wy(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ey(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Cy(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fy(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sy(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function By(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oy(e){return e&&e.constructor.prototype.isChain===!0||!1}function Qu(e){var t=typeof e;return t==="object"?e===null?"null":wn(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function yr(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return yr(r)});if(e instanceof Date)return new Date(e.valueOf());if(wn(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return My(e,yr)}function My(e,t){var r={};for(var n in e)ea(e,n)&&(r[n]=t(e[n]));return r}function Py(e,t){for(var r in t)ea(t,r)&&(e[r]=t[r]);return e}function us(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!us(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!us(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function ea(e,t){return e&&Object.hasOwnProperty.call(e,t)}function xy(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],a=e[u];a!==void 0&&(r[u]=a)}return r}var Ty=["Matrix","Array"],Iy=["number","BigNumber","Fraction"],xs=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ld)};Ul(xs,Ld,{MATRIX_OPTIONS:Ty,NUMBER_OPTIONS:Iy});function xn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ny(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,o;return{s:function(){r=r.call(e)},n:function(){var p=r.next();return a=p.done,p},e:function(p){l=!0,o=p},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(l)throw o}}}}function Ny(e,t){if(e){if(typeof e=="string")return Hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hh(e,t)}}function Hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hu(e){return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function Gh(){return!0}function yn(){return!1}function lu(){}var Kh="Argument is not a typed-function.";function qd(){function e(L){return hu(L)==="object"&&L!==null&&L.constructor===Object}var t=[{name:"number",test:function(j){return typeof j=="number"}},{name:"string",test:function(j){return typeof j=="string"}},{name:"boolean",test:function(j){return typeof j=="boolean"}},{name:"Function",test:function(j){return typeof j=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(j){return j instanceof Date}},{name:"RegExp",test:function(j){return j instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(j){return j===null}},{name:"undefined",test:function(j){return j===void 0}}],r={name:"any",test:Gh,isAny:!0},n,u,a=0,l={createCount:0};function o(L){var j=n.get(L);if(j)return j;var $='Unknown type "'+L+'"',fe=L.toLowerCase(),ie,he=xn(u),se;try{for(he.s();!(se=he.n()).done;)if(ie=se.value,ie.toLowerCase()===fe){$+='. Did you mean "'+ie+'" ?';break}}catch(ce){he.e(ce)}finally{he.f()}throw new TypeError($)}function h(L){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",$=j?o(j).index:u.length,fe=[],ie=0;ie<L.length;++ie){if(!L[ie]||typeof L[ie].name!="string"||typeof L[ie].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var he=L[ie].name;if(n.has(he))throw new TypeError('Duplicate type name "'+he+'"');fe.push(he),n.set(he,{name:he,test:L[ie].test,isAny:L[ie].isAny,index:$+ie,conversionsTo:[]})}var se=u.slice($);u=u.slice(0,$).concat(fe).concat(se);for(var ce=$+fe.length;ce<u.length;++ce)n.get(u[ce]).index=ce}function p(){n=new Map,u=[],a=0,h([r],!1)}p(),h(t);function f(){var L,j=xn(u),$;try{for(j.s();!($=j.n()).done;)L=$.value,n.get(L).conversionsTo=[]}catch(fe){j.e(fe)}finally{j.f()}a=0}function c(L){var j=u.filter(function($){var fe=n.get($);return!fe.isAny&&fe.test(L)});return j.length?j:["any"]}function d(L){return L&&typeof L=="function"&&"_typedFunctionData"in L}function g(L,j,$){if(!d(L))throw new TypeError(Kh);var fe=$&&$.exact,ie=Array.isArray(j)?j.join(","):j,he=B(ie),se=_(he);if(!fe||se in L.signatures){var ce=L._typedFunctionData.signatureMap.get(se);if(ce)return ce}var ye=he.length,Me;if(fe){Me=[];var Xe;for(Xe in L.signatures)Me.push(L._typedFunctionData.signatureMap.get(Xe))}else Me=L._typedFunctionData.signatures;for(var Ee=0;Ee<ye;++Ee){var jt=he[Ee],Ot=[],rr=void 0,$t=xn(Me),mr;try{for($t.s();!(mr=$t.n()).done;){rr=mr.value;var Zt=I(rr.params,Ee);if(!(!Zt||jt.restParam&&!Zt.restParam)){if(!Zt.hasAny){var _r=function(){var dr=w(Zt);if(jt.types.some(function(Fn){return!dr.has(Fn.name)}))return"continue"}();if(_r==="continue")continue}Ot.push(rr)}}}catch(dr){$t.e(dr)}finally{$t.f()}if(Me=Ot,Me.length===0)break}var fr,cr=xn(Me),fn;try{for(cr.s();!(fn=cr.n()).done;)if(fr=fn.value,fr.params.length<=ye)return fr}catch(dr){cr.e(dr)}finally{cr.f()}throw new TypeError("Signature not found (signature: "+(L.name||"unnamed")+"("+_(he,", ")+"))")}function y(L,j,$){return g(L,j,$).implementation}function m(L,j){var $=o(j);if($.test(L))return L;var fe=$.conversionsTo;if(fe.length===0)throw new Error("There are no conversions to "+j+" defined.");for(var ie=0;ie<fe.length;ie++){var he=o(fe[ie].from);if(he.test(L))return fe[ie].convert(L)}throw new Error("Cannot convert "+L+" to "+j)}function _(L){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return L.map(function($){return $.name}).join(j)}function D(L){var j=L.indexOf("...")===0,$=j?L.length>3?L.slice(3):"any":L,fe=$.split("|").map(function(ce){return o(ce.trim())}),ie=!1,he=j?"...":"",se=fe.map(function(ce){return ie=ce.isAny||ie,he+=ce.name+"|",{name:ce.name,typeIndex:ce.index,test:ce.test,isAny:ce.isAny,conversion:null,conversionIndex:-1}});return{types:se,name:he.slice(0,-1),hasAny:ie,hasConversion:!1,restParam:j}}function E(L){var j=L.types.map(function(se){return se.name}),$=Q(j),fe=L.hasAny,ie=L.name,he=$.map(function(se){var ce=o(se.from);return fe=ce.isAny||fe,ie+="|"+se.from,{name:se.from,typeIndex:ce.index,test:ce.test,isAny:ce.isAny,conversion:se,conversionIndex:se.index}});return{types:L.types.concat(he),name:ie,hasAny:fe,hasConversion:he.length>0,restParam:L.restParam}}function w(L){return L.typeSet||(L.typeSet=new Set,L.types.forEach(function(j){return L.typeSet.add(j.name)})),L.typeSet}function B(L){var j=[];if(typeof L!="string")throw new TypeError("Signatures must be strings");var $=L.trim();if($==="")return j;for(var fe=$.split(","),ie=0;ie<fe.length;++ie){var he=D(fe[ie].trim());if(he.restParam&&ie!==fe.length-1)throw new SyntaxError('Unexpected rest parameter "'+fe[ie]+'": only allowed for the last parameter');if(he.types.length===0)return null;j.push(he)}return j}function F(L){var j=Ne(L);return j?j.restParam:!1}function O(L){if(!L||L.types.length===0)return Gh;if(L.types.length===1)return o(L.types[0].name).test;if(L.types.length===2){var j=o(L.types[0].name).test,$=o(L.types[1].name).test;return function(he){return j(he)||$(he)}}else{var fe=L.types.map(function(ie){return o(ie.name).test});return function(he){for(var se=0;se<fe.length;se++)if(fe[se](he))return!0;return!1}}}function P(L){var j,$,fe;if(F(L)){j=je(L).map(O);var ie=j.length,he=O(Ne(L)),se=function(ye){for(var Me=ie;Me<ye.length;Me++)if(!he(ye[Me]))return!1;return!0};return function(ye){for(var Me=0;Me<j.length;Me++)if(!j[Me](ye[Me]))return!1;return se(ye)&&ye.length>=ie+1}}else return L.length===0?function(ye){return ye.length===0}:L.length===1?($=O(L[0]),function(ye){return $(ye[0])&&ye.length===1}):L.length===2?($=O(L[0]),fe=O(L[1]),function(ye){return $(ye[0])&&fe(ye[1])&&ye.length===2}):(j=L.map(O),function(ye){for(var Me=0;Me<j.length;Me++)if(!j[Me](ye[Me]))return!1;return ye.length===j.length})}function I(L,j){return j<L.length?L[j]:F(L)?Ne(L):null}function k(L,j){var $=I(L,j);return $?w($):new Set}function Y(L){return L.conversion===null||L.conversion===void 0}function q(L,j){var $=new Set;return L.forEach(function(fe){var ie=k(fe.params,j),he,se=xn(ie),ce;try{for(se.s();!(ce=se.n()).done;)he=ce.value,$.add(he)}catch(ye){se.e(ye)}finally{se.f()}}),$.has("any")?["any"]:Array.from($)}function z(L,j,$){var fe,ie,he=L||"unnamed",se=$,ce,ye=function(){var $t=[];if(se.forEach(function(Zt){var _r=I(Zt.params,ce),fr=O(_r);(ce<Zt.params.length||F(Zt.params))&&fr(j[ce])&&$t.push(Zt)}),$t.length===0){if(ie=q(se,ce),ie.length>0){var mr=c(j[ce]);return fe=new TypeError("Unexpected type of argument in function "+he+" (expected: "+ie.join(" or ")+", actual: "+mr.join(" | ")+", index: "+ce+")"),fe.data={category:"wrongType",fn:he,index:ce,actual:mr,expected:ie},{v:fe}}}else se=$t};for(ce=0;ce<j.length;ce++){var Me=ye();if(hu(Me)==="object")return Me.v}var Xe=se.map(function(rr){return F(rr.params)?1/0:rr.params.length});if(j.length<Math.min.apply(null,Xe))return ie=q(se,ce),fe=new TypeError("Too few arguments in function "+he+" (expected: "+ie.join(" or ")+", index: "+j.length+")"),fe.data={category:"tooFewArgs",fn:he,index:j.length,expected:ie},fe;var Ee=Math.max.apply(null,Xe);if(j.length>Ee)return fe=new TypeError("Too many arguments in function "+he+" (expected: "+Ee+", actual: "+j.length+")"),fe.data={category:"tooManyArgs",fn:he,index:j.length,expectedLength:Ee},fe;for(var jt=[],Ot=0;Ot<j.length;++Ot)jt.push(c(j[Ot]).join("|"));return fe=new TypeError('Arguments of type "'+jt.join(", ")+'" do not match any of the defined signatures of function '+he+"."),fe.data={category:"mismatch",actual:jt},fe}function Z(L){for(var j=u.length+1,$=0;$<L.types.length;$++)Y(L.types[$])&&(j=Math.min(j,L.types[$].typeIndex));return j}function W(L){for(var j=a+1,$=0;$<L.types.length;$++)Y(L.types[$])||(j=Math.min(j,L.types[$].conversionIndex));return j}function V(L,j){if(L.hasAny){if(!j.hasAny)return 1}else if(j.hasAny)return-1;if(L.restParam){if(!j.restParam)return 1}else if(j.restParam)return-1;if(L.hasConversion){if(!j.hasConversion)return 1}else if(j.hasConversion)return-1;var $=Z(L)-Z(j);if($<0)return-1;if($>0)return 1;var fe=W(L)-W(j);return fe<0?-1:fe>0?1:0}function G(L,j){var $=L.params,fe=j.params,ie=Ne($),he=Ne(fe),se=F($),ce=F(fe);if(se&&ie.hasAny){if(!ce||!he.hasAny)return 1}else if(ce&&he.hasAny)return-1;var ye=0,Me=0,Xe,Ee=xn($),jt;try{for(Ee.s();!(jt=Ee.n()).done;)Xe=jt.value,Xe.hasAny&&++ye,Xe.hasConversion&&++Me}catch(Nn){Ee.e(Nn)}finally{Ee.f()}var Ot=0,rr=0,$t=xn(fe),mr;try{for($t.s();!(mr=$t.n()).done;)Xe=mr.value,Xe.hasAny&&++Ot,Xe.hasConversion&&++rr}catch(Nn){$t.e(Nn)}finally{$t.f()}if(ye!==Ot)return ye-Ot;if(se&&ie.hasConversion){if(!ce||!he.hasConversion)return 1}else if(ce&&he.hasConversion)return-1;if(Me!==rr)return Me-rr;if(se){if(!ce)return 1}else if(ce)return-1;var Zt=($.length-fe.length)*(se?-1:1);if(Zt!==0)return Zt;for(var _r=[],fr=0,cr=0;cr<$.length;++cr){var fn=V($[cr],fe[cr]);_r.push(fn),fr+=fn}if(fr!==0)return fr;for(var dr,Fn=0,Kn=_r;Fn<Kn.length;Fn++)if(dr=Kn[Fn],dr!==0)return dr;return 0}function Q(L){if(L.length===0)return[];var j=L.map(o);L.length>1&&j.sort(function(ye,Me){return ye.index-Me.index});var $=j[0].conversionsTo;if(L.length===1)return $;$=$.concat([]);for(var fe=new Set(L),ie=1;ie<j.length;++ie){var he=void 0,se=xn(j[ie].conversionsTo),ce;try{for(se.s();!(ce=se.n()).done;)he=ce.value,fe.has(he.from)||($.push(he),fe.add(he.from))}catch(ye){se.e(ye)}finally{se.f()}}return $}function X(L,j){var $=j;if(L.some(function(ce){return ce.hasConversion})){var fe=F(L),ie=L.map(J);$=function(){for(var ye=[],Me=fe?arguments.length-1:arguments.length,Xe=0;Xe<Me;Xe++)ye[Xe]=ie[Xe](arguments[Xe]);return fe&&(ye[Me]=arguments[Me].map(ie[Me])),j.apply(this,ye)}}var he=$;if(F(L)){var se=L.length-1;he=function(){return $.apply(this,Re(arguments,0,se).concat([Re(arguments,se)]))}}return he}function J(L){var j,$,fe,ie,he=[],se=[];switch(L.types.forEach(function(ce){ce.conversion&&(he.push(o(ce.conversion.from).test),se.push(ce.conversion.convert))}),se.length){case 0:return function(ye){return ye};case 1:return j=he[0],fe=se[0],function(ye){return j(ye)?fe(ye):ye};case 2:return j=he[0],$=he[1],fe=se[0],ie=se[1],function(ye){return j(ye)?fe(ye):$(ye)?ie(ye):ye};default:return function(ye){for(var Me=0;Me<se.length;Me++)if(he[Me](ye))return se[Me](ye);return ye}}}function le(L){function j($,fe,ie){if(fe<$.length){var he=$[fe],se=[];if(he.restParam){var ce=he.types.filter(Y);ce.length<he.types.length&&se.push({types:ce,name:"..."+ce.map(function(ye){return ye.name}).join("|"),hasAny:ce.some(function(ye){return ye.isAny}),hasConversion:!1,restParam:!0}),se.push(he)}else se=he.types.map(function(ye){return{types:[ye],name:ye.name,hasAny:ye.isAny,hasConversion:ye.conversion,restParam:!1}});return tt(se,function(ye){return j($,fe+1,ie.concat([ye]))})}else return[ie]}return j(L,0,[])}function me(L,j){for(var $=Math.max(L.length,j.length),fe=0;fe<$;fe++){var ie=k(L,fe),he=k(j,fe),se=!1,ce=void 0,ye=xn(he),Me;try{for(ye.s();!(Me=ye.n()).done;)if(ce=Me.value,ie.has(ce)){se=!0;break}}catch(rr){ye.e(rr)}finally{ye.f()}if(!se)return!1}var Xe=L.length,Ee=j.length,jt=F(L),Ot=F(j);return jt?Ot?Xe===Ee:Ee>=Xe:Ot?Xe>=Ee:Xe===Ee}function Ce(L){return L.map(function(j){return Ye(j)?nt(j.referToSelf.callback):Ke(j)?rt(j.referTo.references,j.referTo.callback):j})}function be(L,j,$){var fe=[],ie,he=xn(L),se;try{for(he.s();!(se=he.n()).done;){ie=se.value;var ce=$[ie];if(typeof ce!="number")throw new TypeError('No definition for referenced signature "'+ie+'"');if(ce=j[ce],typeof ce!="function")return!1;fe.push(ce)}}catch(ye){he.e(ye)}finally{he.f()}return fe}function Ie(L,j,$){for(var fe=Ce(L),ie=new Array(fe.length).fill(!1),he=!0;he;){he=!1;for(var se=!0,ce=0;ce<fe.length;++ce)if(!ie[ce]){var ye=fe[ce];if(Ye(ye))fe[ce]=ye.referToSelf.callback($),fe[ce].referToSelf=ye.referToSelf,ie[ce]=!0,se=!1;else if(Ke(ye)){var Me=be(ye.referTo.references,fe,j);Me?(fe[ce]=ye.referTo.callback.apply(this,Me),fe[ce].referTo=ye.referTo,ie[ce]=!0,se=!1):he=!0}}if(se&&he)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return fe}function Ve(L){var j=/\bthis(\(|\.signatures\b)/;Object.keys(L).forEach(function($){var fe=L[$];if(j.test(fe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Oe(L,j){if(l.createCount++,Object.keys(j).length===0)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&Ve(j);var $=[],fe=[],ie={},he=[],se,ce=function(){if(!Object.prototype.hasOwnProperty.call(j,se))return"continue";var ar=B(se);if(!ar)return"continue";$.forEach(function(hn){if(me(hn,ar))throw new TypeError('Conflicting signatures "'+_(hn)+'" and "'+_(ar)+'".')}),$.push(ar);var kr=fe.length;fe.push(j[se]);var Ti=ar.map(E),$n=void 0,Rn=xn(le(Ti)),Ii;try{for(Rn.s();!(Ii=Rn.n()).done;){$n=Ii.value;var Sn=_($n);he.push({params:$n,name:Sn,fn:kr}),$n.every(function(hn){return!hn.hasConversion})&&(ie[Sn]=kr)}}catch(hn){Rn.e(hn)}finally{Rn.f()}};for(se in j)var ye=ce();he.sort(G);var Me=Ie(fe,ie,Ln),Xe;for(Xe in ie)Object.prototype.hasOwnProperty.call(ie,Xe)&&(ie[Xe]=Me[ie[Xe]]);for(var Ee=[],jt=new Map,Ot=0,rr=he;Ot<rr.length;Ot++)Xe=rr[Ot],jt.has(Xe.name)||(Xe.fn=Me[Xe.fn],Ee.push(Xe),jt.set(Xe.name,Xe));for(var $t=Ee[0]&&Ee[0].params.length<=2&&!F(Ee[0].params),mr=Ee[1]&&Ee[1].params.length<=2&&!F(Ee[1].params),Zt=Ee[2]&&Ee[2].params.length<=2&&!F(Ee[2].params),_r=Ee[3]&&Ee[3].params.length<=2&&!F(Ee[3].params),fr=Ee[4]&&Ee[4].params.length<=2&&!F(Ee[4].params),cr=Ee[5]&&Ee[5].params.length<=2&&!F(Ee[5].params),fn=$t&&mr&&Zt&&_r&&fr&&cr,dr=0;dr<Ee.length;++dr)Ee[dr].test=P(Ee[dr].params);for(var Fn=$t?O(Ee[0].params[0]):yn,Kn=mr?O(Ee[1].params[0]):yn,Nn=Zt?O(Ee[2].params[0]):yn,kn=_r?O(Ee[3].params[0]):yn,Gi=fr?O(Ee[4].params[0]):yn,Pi=cr?O(Ee[5].params[0]):yn,Au=$t?O(Ee[0].params[1]):yn,wr=mr?O(Ee[1].params[1]):yn,nr=Zt?O(Ee[2].params[1]):yn,wu=_r?O(Ee[3].params[1]):yn,si=fr?O(Ee[4].params[1]):yn,cn=cr?O(Ee[5].params[1]):yn,Yn=0;Yn<Ee.length;++Yn)Ee[Yn].implementation=X(Ee[Yn].params,Ee[Yn].fn);var xi=$t?Ee[0].implementation:lu,Eu=mr?Ee[1].implementation:lu,Cu=Zt?Ee[2].implementation:lu,Ki=_r?Ee[3].implementation:lu,Fu=fr?Ee[4].implementation:lu,Su=cr?Ee[5].implementation:lu,Bu=$t?Ee[0].params.length:-1,Ou=mr?Ee[1].params.length:-1,Mu=Zt?Ee[2].params.length:-1,Pu=_r?Ee[3].params.length:-1,oi=fr?Ee[4].params.length:-1,xu=cr?Ee[5].params.length:-1,li=fn?6:0,Tu=Ee.length,Iu=Ee.map(function(Dr){return Dr.test}),Nu=Ee.map(function(Dr){return Dr.implementation}),Yi=function(){for(var ar=li;ar<Tu;ar++)if(Iu[ar](arguments))return Nu[ar].apply(this,arguments);return l.onMismatch(L,arguments,Ee)};function Ln(Dr,ar){return arguments.length===Bu&&Fn(Dr)&&Au(ar)?xi.apply(this,arguments):arguments.length===Ou&&Kn(Dr)&&wr(ar)?Eu.apply(this,arguments):arguments.length===Mu&&Nn(Dr)&&nr(ar)?Cu.apply(this,arguments):arguments.length===Pu&&kn(Dr)&&wu(ar)?Ki.apply(this,arguments):arguments.length===oi&&Gi(Dr)&&si(ar)?Fu.apply(this,arguments):arguments.length===xu&&Pi(Dr)&&cn(ar)?Su.apply(this,arguments):Yi.apply(this,arguments)}try{Object.defineProperty(Ln,"name",{value:L})}catch{}return Ln.signatures=ie,Ln._typedFunctionData={signatures:Ee,signatureMap:jt},Ln}function et(L,j,$){throw z(L,j,$)}function je(L){return Re(L,0,L.length-1)}function Ne(L){return L[L.length-1]}function Re(L,j,$){return Array.prototype.slice.call(L,j,$)}function lt(L,j){for(var $=0;$<L.length;$++)if(j(L[$]))return L[$]}function tt(L,j){return Array.prototype.concat.apply([],L.map(j))}function ut(){var L=je(arguments).map(function($){return _(B($))}),j=Ne(arguments);if(typeof j!="function")throw new TypeError("Callback function expected as last argument");return rt(L,j)}function rt(L,j){return{referTo:{references:L,callback:j}}}function nt(L){if(typeof L!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:L}}}function Ke(L){return L&&hu(L.referTo)==="object"&&Array.isArray(L.referTo.references)&&typeof L.referTo.callback=="function"}function Ye(L){return L&&hu(L.referToSelf)==="object"&&typeof L.referToSelf.callback=="function"}function Ae(L,j){if(!L)return j;if(j&&j!==L){var $=new Error("Function names do not match (expected: "+L+", actual: "+j+")");throw $.data={actual:j,expected:L},$}return L}function Se(L){var j;for(var $ in L)Object.prototype.hasOwnProperty.call(L,$)&&(d(L[$])||typeof L[$].signature=="string")&&(j=Ae(j,L[$].name));return j}function At(L,j){var $;for($ in j)if(Object.prototype.hasOwnProperty.call(j,$)){if($ in L&&j[$]!==L[$]){var fe=new Error('Signature "'+$+'" is defined twice');throw fe.data={signature:$,sourceFunction:j[$],destFunction:L[$]},fe}L[$]=j[$]}}var Lt=l;l=function(j){for(var $=typeof j=="string",fe=$?1:0,ie=$?j:"",he={},se=fe;se<arguments.length;++se){var ce=arguments[se],ye={},Me=void 0;if(typeof ce=="function"?(Me=ce.name,typeof ce.signature=="string"?ye[ce.signature]=ce:d(ce)&&(ye=ce.signatures)):e(ce)&&(ye=ce,$||(Me=Se(ce))),Object.keys(ye).length===0){var Xe=new TypeError("Argument to 'typed' at index "+se+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Xe.data={index:se,argument:ce},Xe}$||(ie=Ae(ie,Me)),At(he,ye)}return Oe(ie||"",he)},l.create=qd,l.createCount=Lt.createCount,l.onMismatch=et,l.throwMismatchError=et,l.createError=z,l.clear=p,l.clearConversions=f,l.addTypes=h,l._findType=o,l.referTo=ut,l.referToSelf=nt,l.convert=m,l.findSignature=g,l.find=y,l.isTypedFunction=d,l.warnAgainstDeprecatedThis=!0,l.addType=function(L,j){var $="any";j!==!1&&n.has("Object")&&($="Object"),l.addTypes([L],$)};function Wt(L){if(!L||typeof L.from!="string"||typeof L.to!="string"||typeof L.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(L.to===L.from)throw new SyntaxError('Illegal to define conversion from "'+L.from+'" to itself.')}return l.addConversion=function(L){Wt(L);var j=o(L.to);if(j.conversionsTo.every(function($){return $.from!==L.from}))j.conversionsTo.push({from:L.from,convert:L.convert,index:a++});else throw new Error('There is already a conversion from "'+L.from+'" to "'+j.name+'"')},l.addConversions=function(L){L.forEach(l.addConversion)},l.removeConversion=function(L){Wt(L);var j=o(L.to),$=lt(j.conversionsTo,function(ie){return ie.from===L.from});if(!$)throw new Error("Attempt to remove nonexistent conversion from "+L.from+" to "+L.to);if($.convert!==L.convert)throw new Error("Conversion to remove does not match existing conversion");var fe=j.conversionsTo.indexOf($);j.conversionsTo.splice(fe,1)},l.resolve=function(L,j){if(!d(L))throw new TypeError(Kh);for(var $=L._typedFunctionData.signatures,fe=0;fe<$.length;++fe)if($[fe].test(j))return $[fe];return null},l}const Yh=qd();function Ar(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function il(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ar(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ar(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var l="";return e<0&&(e=-e,l="-"),"".concat(l).concat(u).concat(e.toString(t)).concat(a)}function Vl(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",n,u;if(t&&(t.notation&&(r=t.notation),tr(t)?n=t:tr(t.precision)&&(n=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Ly(e,n);case"exponential":return zd(e,n);case"engineering":return ky(e,n);case"bin":return il(e,2,u);case"oct":return il(e,8,u);case"hex":return il(e,16,u);case"auto":return Ry(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],l=arguments[4];return a!=="."?a+l:l});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ts(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),a=n.indexOf(".");u+=a!==-1?a-1:n.length-1;var l=n.replace(".","").replace(/^0*/,function(o){return u-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return l.length===0&&(l.push(0),u++),{sign:r,coefficients:l,exponent:u}}function ky(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ts(e),n=Is(r,t),u=n.exponent,a=n.coefficients,l=u%3===0?u:u<0?u-3-u%3:u-u%3;if(tr(t))for(;t>a.length||u-l+1>a.length;)a.push(0);else for(var o=Math.abs(u-l)-(a.length-1),h=0;h<o;h++)a.push(0);for(var p=Math.abs(u-l),f=1;p>0;)f++,p--;var c=a.slice(f).join(""),d=tr(t)&&c.length||c.match(/[1-9]/)?"."+c:"",g=a.slice(0,f).join("")+d+"e"+(u>=0?"+":"")+l.toString();return n.sign+g}function Ly(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ts(e),n=typeof t=="number"?Is(r,r.exponent+1+t):r,u=n.coefficients,a=n.exponent+1,l=a+(t||0);return u.length<l&&(u=u.concat(pu(l-u.length))),a<0&&(u=pu(-a+1).concat(u),a=1),a<u.length&&u.splice(a,0,a===0?"0.":"."),n.sign+u.join("")}function zd(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ts(e),n=t?Is(r,t):r,u=n.coefficients,a=n.exponent;u.length<t&&(u=u.concat(pu(t-u.length)));var l=u.shift();return n.sign+l+(u.length>0?"."+u.join(""):"")+"e"+(a>=0?"+":"")+a}function Ry(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5,a=Ts(e),l=t?Is(a,t):a;if(l.exponent<n||l.exponent>=u)return zd(e,t);var o=l.coefficients,h=l.exponent;o.length<t&&(o=o.concat(pu(t-o.length))),o=o.concat(pu(h-o.length+1+(o.length<t?t-o.length:0))),o=pu(-h).concat(o);var p=h>0?h:0;return p<o.length-1&&o.splice(p+1,0,"."),l.sign+o.join("")}function Is(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function pu(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Uy(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Vy=Number.EPSILON||2220446049250313e-31;function as(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<Vy?!0:n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function ul(e,t,r){var n=e.constructor,u=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ar(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function jy(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",n,u;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?n=t:t.precision&&(n=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return zy(e,n);case"exponential":return $h(e,n);case"engineering":return qy(e,n);case"bin":return ul(e,2,u);case"oct":return ul(e,8,u);case"hex":return ul(e,16,u);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,l=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var o,h=e.toSignificantDigits(n),p=h.e;return p>=a&&p<l?o=h.toFixed():o=$h(e,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],c=arguments[4];return f!=="."?f+c:c})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qy(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),a=u.toPrecision(t);return a.indexOf("e")!==-1&&(a=u.toString()),a+"e"+(r>=0?"+":"")+n.toString()}function $h(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function zy(e,t){return e.toFixed(t)}function Gr(e,t){var r=Wy(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Wy(e,t){if(typeof e=="number")return Vl(e,t);if(wn(e))return jy(e,t);if(Hy(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Wd(e,t);if(qn(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>'"'+n+'": '+Gr(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Wd(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=Wd(e[u],t);return r+="]",r}else return Gr(e,t)}function Hy(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function It(e,t,r){if(!(this instanceof It))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}It.prototype=new RangeError;It.prototype.constructor=RangeError;It.prototype.name="DimensionError";It.prototype.isDimensionError=!0;function Hi(e,t,r){if(!(this instanceof Hi))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Hi.prototype=new RangeError;Hi.prototype.constructor=RangeError;Hi.prototype.name="IndexError";Hi.prototype.isIndexError=!0;function Fi(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Hd(e,t,r){var n,u=e.length;if(u!==t[r])throw new It(u,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<u;n++){var l=e[n];if(!Array.isArray(l))throw new It(t.length-1,t.length,"<");Hd(e[n],t,a)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new It(t.length+1,t.length,">")}function Zh(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new It(e.length,0)}else Hd(e,t,0)}function Qt(e,t){if(!tr(e)||!Ar(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Hi(e,t)}function Xh(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!tr(u)||!Ar(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Gr(t)+")")});var n=r!==void 0?r:0;return jl(e,t,0,n),e}function jl(e,t,r,n){var u,a,l=e.length,o=t[r],h=Math.min(l,o);if(e.length=o,r<t.length-1){var p=r+1;for(u=0;u<h;u++)a=e[u],Array.isArray(a)||(a=[a],e[u]=a),jl(a,t,p,n);for(u=h;u<o;u++)a=[],e[u]=a,jl(a,t,p,n)}else{for(u=0;u<h;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=h;u<o;u++)e[u]=n}}function Gy(e,t){var r=Yy(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new It(0,n,"!=");t=df(t,n);var u=Gd(t);if(n!==u)throw new It(u,n,"!=");try{return Ky(r,t)}catch(a){throw a instanceof It?new It(u,n,"!="):a}}function df(e,t){var r=Gd(e),n=e.slice(),u=-1,a=e.indexOf(u),l=e.indexOf(u,a+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var o=a>=0,h=t%r===0;if(o)if(h)n[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Gd(e){return e.reduce((t,r)=>t*r,1)}function Ky(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var a=t[u];n=[];for(var l=r.length/a,o=0;o<l;o++)n.push(r.slice(o*a,(o+1)*a));r=n}return r}function Kd(e,t,r,n){var u=n||Fi(e);if(r)for(var a=0;a<r;a++)e=[e],u.unshift(1);for(e=Yd(e,t,0);u.length<t;)u.push(1);return e}function Yd(e,t,r){var n,u;if(Array.isArray(e)){var a=r+1;for(n=0,u=e.length;n<u;n++)e[n]=Yd(e[n],t,a)}else for(var l=r;l<t;l++)e=[e];return e}function Yy(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function ss(e,t){for(var r,n=0,u=0;u<e.length;u++){var a=e[u],l=Array.isArray(a);if(u===0&&l&&(n=a.length),l&&a.length!==n)return;var o=l?ss(a,t):t(a);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function kt(e,t,r,n){function u(a){var l=xy(a,t.map(Xy));return $y(e,t,a),r(l)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function $y(e,t,r){var n=t.filter(a=>!Zy(a)).every(a=>r[a]!==void 0);if(!n){var u=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Zy(e){return e&&e[0]==="?"}function Xy(e){return e&&e[0]==="?"?e.slice(1):e}function Jy(e,t){if(Zd(e)&&$d(e,t))return e[t];throw typeof e[t]=="function"&&tA(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Qy(e,t,r){if(Zd(e)&&$d(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function eA(e,t){return t in e}function $d(e,t){return!e||typeof e!="object"?!1:ea(rA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function tA(e,t){return e==null||typeof e[t]!="function"||ea(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:ea(nA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Zd(e){return typeof e=="object"&&e&&e.constructor===Object}var rA={length:!0,name:!0},nA={toString:!0,valueOf:!0,toLocaleString:!0};class iA{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Jy(this.wrappedObject,t)}set(t,r){return Qy(this.wrappedObject,t,r),this}has(t){return eA(this.wrappedObject,t)}}function uA(e){return e?e instanceof Map||e instanceof iA||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Xd=function(){return Xd=Yh.create,Yh},aA=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],sA=kt("typed",aA,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:a}=t,l=Xd();return l.clear(),l.addTypes([{name:"number",test:tr},{name:"Complex",test:Rd},{name:"BigNumber",test:wn},{name:"Fraction",test:Ud},{name:"Unit",test:Vd},{name:"identifier",test:o=>qn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(o)},{name:"string",test:qn},{name:"Chain",test:Oy},{name:"Array",test:Jt},{name:"Matrix",test:Vr},{name:"DenseMatrix",test:ry},{name:"SparseMatrix",test:ny},{name:"Range",test:iy},{name:"Index",test:hf},{name:"boolean",test:uy},{name:"ResultSet",test:ay},{name:"Help",test:sy},{name:"function",test:oy},{name:"Date",test:ly},{name:"RegExp",test:fy},{name:"null",test:hy},{name:"undefined",test:jd},{name:"AccessorNode",test:dy},{name:"ArrayNode",test:py},{name:"AssignmentNode",test:vy},{name:"BlockNode",test:gy},{name:"ConditionalNode",test:my},{name:"ConstantNode",test:_y},{name:"FunctionNode",test:by},{name:"FunctionAssignmentNode",test:Dy},{name:"IndexNode",test:yy},{name:"Node",test:Ay},{name:"ObjectNode",test:wy},{name:"OperatorNode",test:Ey},{name:"ParenthesisNode",test:Cy},{name:"RangeNode",test:Fy},{name:"RelationalNode",test:Sy},{name:"SymbolNode",test:By},{name:"Map",test:uA},{name:"Object",test:cy}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(h){if(r||al(h),Uy(h)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+h+"). Use function bignumber(x) to convert to BigNumber.");return new r(h)}},{from:"number",to:"Complex",convert:function(h){return n||Ga(h),new n(h,0)}},{from:"BigNumber",to:"Complex",convert:function(h){return n||Ga(h),new n(h.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(h){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(h){return n||Ga(h),new n(h.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(h){a||sl(h);var p=new a(h);if(p.valueOf()!==h)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+h+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(h){var p=Number(h);if(isNaN(p))throw new Error('Cannot convert "'+h+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(h){r||al(h);try{return new r(h)}catch{throw new Error('Cannot convert "'+h+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(h){a||sl(h);try{return new a(h)}catch{throw new Error('Cannot convert "'+h+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(h){n||Ga(h);try{return new n(h)}catch{throw new Error('Cannot convert "'+h+'" to Complex')}}},{from:"boolean",to:"number",convert:function(h){return+h}},{from:"boolean",to:"BigNumber",convert:function(h){return r||al(h),new r(+h)}},{from:"boolean",to:"Fraction",convert:function(h){return a||sl(h),new a(+h)}},{from:"boolean",to:"string",convert:function(h){return String(h)}},{from:"Array",to:"Matrix",convert:function(h){return u||oA(),new u(h)}},{from:"Matrix",to:"Array",convert:function(h){return h.valueOf()}}]),l.onMismatch=(o,h,p)=>{var f=l.createError(o,h,p);if(["wrongType","mismatch"].includes(f.data.category)&&h.length===1&&is(h[0])&&p.some(d=>!d.params.includes(","))){var c=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw c.data=f.data,c}throw f},l.onMismatch=(o,h,p)=>{var f=l.createError(o,h,p);if(["wrongType","mismatch"].includes(f.data.category)&&h.length===1&&is(h[0])&&p.some(d=>!d.params.includes(","))){var c=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw c.data=f.data,c}throw f},l});function al(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Ga(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function oA(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function sl(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var du=9e15,Oi=1e9,ql="0123456789abcdef",os="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ls="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-du,maxE:du,crypto:!1},Jd,ai,it=!0,Ns="[DecimalError] ",Si=Ns+"Invalid argument: ",Qd=Ns+"Precision limit exceeded",ep=Ns+"crypto unavailable",tp="[object Decimal]",Ir=Math.floor,gr=Math.pow,lA=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,fA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,cA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rp=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In=1e7,Ze=7,hA=9007199254740991,dA=os.length-1,Wl=ls.length-1,_e={toStringTag:tp};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),qe(e)};_e.ceil=function(){return qe(new this.constructor(this),this.e+1,2)};_e.clampedTo=_e.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(Si+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};_e.comparedTo=_e.cmp=function(e){var t,r,n,u,a=this,l=a.d,o=(e=new a.constructor(e)).d,h=a.s,p=e.s;if(!l||!o)return!h||!p?NaN:h!==p?h:l===o?0:!l^h<0?1:-1;if(!l[0]||!o[0])return l[0]?h:o[0]?-p:0;if(h!==p)return h;if(a.e!==e.e)return a.e>e.e^h<0?1:-1;for(n=l.length,u=o.length,t=0,r=n<u?n:u;t<r;++t)if(l[t]!==o[t])return l[t]>o[t]^h<0?1:-1;return n===u?0:n>u^h<0?1:-1};_e.cosine=_e.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ze,n.rounding=1,r=pA(n,sp(n,r)),n.precision=e,n.rounding=t,qe(ai==2||ai==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};_e.cubeRoot=_e.cbrt=function(){var e,t,r,n,u,a,l,o,h,p,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(it=!1,a=f.s*gr(f.s*f,1/3),!a||Math.abs(a)==1/0?(r=Mr(f.d),e=f.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=gr(r,1/3),e=Ir((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new c(r),n.s=f.s):n=new c(a.toString()),l=(e=c.precision)+3;;)if(o=n,h=o.times(o).times(o),p=h.plus(f),n=Vt(p.plus(f).times(o),p.plus(h),l+2,1),Mr(o.d).slice(0,l)===(r=Mr(n.d)).slice(0,l))if(r=r.slice(l-3,l+1),r=="9999"||!u&&r=="4999"){if(!u&&(qe(o,e+1,0),o.times(o).times(o).eq(f))){n=o;break}l+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(qe(n,e+1,1),t=!n.times(n).times(n).eq(f));break}return it=!0,qe(n,e,c.rounding,t)};_e.decimalPlaces=_e.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Ir(this.e/Ze))*Ze,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};_e.dividedBy=_e.div=function(e){return Vt(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.divToInt=function(e){var t=this,r=t.constructor;return qe(Vt(t,new r(e),0,1,1),r.precision,r.rounding)};_e.equals=_e.eq=function(e){return this.cmp(e)===0};_e.floor=function(){return qe(new this.constructor(this),this.e+1,3)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){var t=this.cmp(e);return t==1||t===0};_e.hyperbolicCosine=_e.cosh=function(){var e,t,r,n,u,a=this,l=a.constructor,o=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return o;r=l.precision,n=l.rounding,l.precision=r+Math.max(a.e,a.sd())+4,l.rounding=1,u=a.d.length,u<32?(e=Math.ceil(u/3),t=(1/Ls(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=mu(l,1,a.times(t),new l(1),!0);for(var h,p=e,f=new l(8);p--;)h=a.times(a),a=o.minus(h.times(f.minus(h.times(f))));return qe(a,l.precision=r,l.rounding=n,!0)};_e.hyperbolicSine=_e.sinh=function(){var e,t,r,n,u=this,a=u.constructor;if(!u.isFinite()||u.isZero())return new a(u);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(u.e,u.sd())+4,a.rounding=1,n=u.d.length,n<3)u=mu(a,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/Ls(5,e)),u=mu(a,2,u,u,!0);for(var l,o=new a(5),h=new a(16),p=new a(20);e--;)l=u.times(u),u=u.times(o.plus(l.times(h.times(l).plus(p))))}return a.precision=t,a.rounding=r,qe(u,t,r,!0)};_e.hyperbolicTangent=_e.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Vt(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};_e.inverseCosine=_e.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),u=r.precision,a=r.rounding;return n!==-1?n===0?t.isNeg()?Tn(r,u,a):new r(0):new r(NaN):t.isZero()?Tn(r,u+4,a).times(.5):(r.precision=u+6,r.rounding=1,t=t.asin(),e=Tn(r,u+4,a).times(.5),r.precision=u,r.rounding=a,e.minus(t))};_e.inverseHyperbolicCosine=_e.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,it=!1,r=r.times(r).minus(1).sqrt().plus(r),it=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};_e.inverseHyperbolicSine=_e.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,it=!1,r=r.times(r).plus(1).sqrt().plus(r),it=!0,n.precision=e,n.rounding=t,r.ln())};_e.inverseHyperbolicTangent=_e.atanh=function(){var e,t,r,n,u=this,a=u.constructor;return u.isFinite()?u.e>=0?new a(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=a.precision,t=a.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?qe(new a(u),e,t,!0):(a.precision=r=n-u.e,u=Vt(u.plus(1),new a(1).minus(u),r+e,1),a.precision=e+4,a.rounding=1,u=u.ln(),a.precision=e,a.rounding=t,u.times(.5))):new a(NaN)};_e.inverseSine=_e.asin=function(){var e,t,r,n,u=this,a=u.constructor;return u.isZero()?new a(u):(t=u.abs().cmp(1),r=a.precision,n=a.rounding,t!==-1?t===0?(e=Tn(a,r+4,n).times(.5),e.s=u.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,u=u.div(new a(1).minus(u.times(u)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,u.times(2)))};_e.inverseTangent=_e.atan=function(){var e,t,r,n,u,a,l,o,h,p=this,f=p.constructor,c=f.precision,d=f.rounding;if(p.isFinite()){if(p.isZero())return new f(p);if(p.abs().eq(1)&&c+4<=Wl)return l=Tn(f,c+4,d).times(.25),l.s=p.s,l}else{if(!p.s)return new f(NaN);if(c+4<=Wl)return l=Tn(f,c+4,d).times(.5),l.s=p.s,l}for(f.precision=o=c+10,f.rounding=1,r=Math.min(28,o/Ze+2|0),e=r;e;--e)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(it=!1,t=Math.ceil(o/Ze),n=1,h=p.times(p),l=new f(p),u=p;e!==-1;)if(u=u.times(h),a=l.minus(u.div(n+=2)),u=u.times(h),l=a.plus(u.div(n+=2)),l.d[t]!==void 0)for(e=t;l.d[e]===a.d[e]&&e--;);return r&&(l=l.times(2<<r-1)),it=!0,qe(l,f.precision=c,f.rounding=d,!0)};_e.isFinite=function(){return!!this.d};_e.isInteger=_e.isInt=function(){return!!this.d&&Ir(this.e/Ze)>this.d.length-2};_e.isNaN=function(){return!this.s};_e.isNegative=_e.isNeg=function(){return this.s<0};_e.isPositive=_e.isPos=function(){return this.s>0};_e.isZero=function(){return!!this.d&&this.d[0]===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r,n,u,a,l,o,h,p=this,f=p.constructor,c=f.precision,d=f.rounding,g=5;if(e==null)e=new f(10),t=!0;else{if(e=new f(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new f(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(u=r[0];u%10===0;)u/=10;a=u!==1}if(it=!1,o=c+g,l=bi(p,o),n=t?fs(f,o+10):bi(e,o),h=Vt(l,n,o,1),ta(h.d,u=c,d))do if(o+=10,l=bi(p,o),n=t?fs(f,o+10):bi(e,o),h=Vt(l,n,o,1),!a){+Mr(h.d).slice(u+1,u+15)+1==1e14&&(h=qe(h,c+1,0));break}while(ta(h.d,u+=10,d));return it=!0,qe(h,c,d)};_e.minus=_e.sub=function(e){var t,r,n,u,a,l,o,h,p,f,c,d,g=this,y=g.constructor;if(e=new y(e),!g.d||!e.d)return!g.s||!e.s?e=new y(NaN):g.d?e.s=-e.s:e=new y(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(p=g.d,d=e.d,o=y.precision,h=y.rounding,!p[0]||!d[0]){if(d[0])e.s=-e.s;else if(p[0])e=new y(g);else return new y(h===3?-0:0);return it?qe(e,o,h):e}if(r=Ir(e.e/Ze),f=Ir(g.e/Ze),p=p.slice(),a=f-r,a){for(c=a<0,c?(t=p,a=-a,l=d.length):(t=d,r=f,l=p.length),n=Math.max(Math.ceil(o/Ze),l)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=p.length,l=d.length,c=n<l,c&&(l=n),n=0;n<l;n++)if(p[n]!=d[n]){c=p[n]<d[n];break}a=0}for(c&&(t=p,p=d,d=t,e.s=-e.s),l=p.length,n=d.length-l;n>0;--n)p[l++]=0;for(n=d.length;n>a;){if(p[--n]<d[n]){for(u=n;u&&p[--u]===0;)p[u]=In-1;--p[u],p[n]+=In}p[n]-=d[n]}for(;p[--l]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(e.d=p,e.e=ks(p,r),it?qe(e,o,h):e):new y(h===3?-0:0)};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?qe(new n(r),n.precision,n.rounding):(it=!1,n.modulo==9?(t=Vt(r,e.abs(),0,3,1),t.s*=e.s):t=Vt(r,e,0,n.modulo,1),t=t.times(e),it=!0,r.minus(t))};_e.naturalExponential=_e.exp=function(){return Hl(this)};_e.naturalLogarithm=_e.ln=function(){return bi(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s,qe(e)};_e.plus=_e.add=function(e){var t,r,n,u,a,l,o,h,p,f,c=this,d=c.constructor;if(e=new d(e),!c.d||!e.d)return!c.s||!e.s?e=new d(NaN):c.d||(e=new d(e.d||c.s===e.s?c:NaN)),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(p=c.d,f=e.d,o=d.precision,h=d.rounding,!p[0]||!f[0])return f[0]||(e=new d(c)),it?qe(e,o,h):e;if(a=Ir(c.e/Ze),n=Ir(e.e/Ze),p=p.slice(),u=a-n,u){for(u<0?(r=p,u=-u,l=f.length):(r=f,n=a,l=p.length),a=Math.ceil(o/Ze),l=a>l?a+1:l+1,u>l&&(u=l,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(l=p.length,u=f.length,l-u<0&&(u=l,r=f,f=p,p=r),t=0;u;)t=(p[--u]=p[u]+f[u]+t)/In|0,p[u]%=In;for(t&&(p.unshift(t),++n),l=p.length;p[--l]==0;)p.pop();return e.d=p,e.e=ks(p,n),it?qe(e,o,h):e};_e.precision=_e.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Si+e);return r.d?(t=np(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};_e.round=function(){var e=this,t=e.constructor;return qe(new t(e),e.e+1,t.rounding)};_e.sine=_e.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ze,n.rounding=1,r=gA(n,sp(n,r)),n.precision=e,n.rounding=t,qe(ai>2?r.neg():r,e,t,!0)):new n(NaN)};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,u,a,l=this,o=l.d,h=l.e,p=l.s,f=l.constructor;if(p!==1||!o||!o[0])return new f(!p||p<0&&(!o||o[0])?NaN:o?l:1/0);for(it=!1,p=Math.sqrt(+l),p==0||p==1/0?(t=Mr(o),(t.length+h)%2==0&&(t+="0"),p=Math.sqrt(t),h=Ir((h+1)/2)-(h<0||h%2),p==1/0?t="5e"+h:(t=p.toExponential(),t=t.slice(0,t.indexOf("e")+1)+h),n=new f(t)):n=new f(p.toString()),r=(h=f.precision)+3;;)if(a=n,n=a.plus(Vt(l,a,r+2,1)).times(.5),Mr(a.d).slice(0,r)===(t=Mr(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(qe(a,h+1,0),a.times(a).eq(l))){n=a;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(qe(n,h+1,1),e=!n.times(n).eq(l));break}return it=!0,qe(n,h,f.rounding,e)};_e.tangent=_e.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Vt(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,qe(ai==2||ai==4?r.neg():r,e,t,!0)):new n(NaN)};_e.times=_e.mul=function(e){var t,r,n,u,a,l,o,h,p,f=this,c=f.constructor,d=f.d,g=(e=new c(e)).d;if(e.s*=f.s,!d||!d[0]||!g||!g[0])return new c(!e.s||d&&!d[0]&&!g||g&&!g[0]&&!d?NaN:!d||!g?e.s/0:e.s*0);for(r=Ir(f.e/Ze)+Ir(e.e/Ze),h=d.length,p=g.length,h<p&&(a=d,d=g,g=a,l=h,h=p,p=l),a=[],l=h+p,n=l;n--;)a.push(0);for(n=p;--n>=0;){for(t=0,u=h+n;u>n;)o=a[u]+g[n]*d[u-n-1]+t,a[u--]=o%In|0,t=o/In|0;a[u]=(a[u]+t)%In|0}for(;!a[--l];)a.pop();return t?++r:a.shift(),e.d=a,e.e=ks(a,r),it?qe(e,c.precision,c.rounding):e};_e.toBinary=function(e,t){return pf(this,2,e,t)};_e.toDecimalPlaces=_e.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yr(e,0,Oi),t===void 0?t=n.rounding:Yr(t,0,8),qe(r,e+r.e+1,t))};_e.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Wn(n,!0):(Yr(e,0,Oi),t===void 0?t=u.rounding:Yr(t,0,8),n=qe(new u(n),e+1,t),r=Wn(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};_e.toFixed=function(e,t){var r,n,u=this,a=u.constructor;return e===void 0?r=Wn(u):(Yr(e,0,Oi),t===void 0?t=a.rounding:Yr(t,0,8),n=qe(new a(u),e+u.e+1,t),r=Wn(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};_e.toFraction=function(e){var t,r,n,u,a,l,o,h,p,f,c,d,g=this,y=g.d,m=g.constructor;if(!y)return new m(g);if(p=r=new m(1),n=h=new m(0),t=new m(n),a=t.e=np(y)-g.e-1,l=a%Ze,t.d[0]=gr(10,l<0?Ze+l:l),e==null)e=a>0?t:p;else{if(o=new m(e),!o.isInt()||o.lt(p))throw Error(Si+o);e=o.gt(t)?a>0?t:p:o}for(it=!1,o=new m(Mr(y)),f=m.precision,m.precision=a=y.length*Ze*2;c=Vt(o,t,0,1,1),u=r.plus(c.times(n)),u.cmp(e)!=1;)r=n,n=u,u=p,p=h.plus(c.times(u)),h=u,u=t,t=o.minus(c.times(u)),o=u;return u=Vt(e.minus(r),n,0,1,1),h=h.plus(u.times(p)),r=r.plus(u.times(n)),h.s=p.s=g.s,d=Vt(p,n,a,1).minus(g).abs().cmp(Vt(h,r,a,1).minus(g).abs())<1?[p,n]:[h,r],m.precision=f,it=!0,d};_e.toHexadecimal=_e.toHex=function(e,t){return pf(this,16,e,t)};_e.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Yr(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(it=!1,r=Vt(r,e,0,t,1).times(e),it=!0,qe(r)):(e.s=r.s,r=e),r};_e.toNumber=function(){return+this};_e.toOctal=function(e,t){return pf(this,8,e,t)};_e.toPower=_e.pow=function(e){var t,r,n,u,a,l,o=this,h=o.constructor,p=+(e=new h(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new h(gr(+o,p));if(o=new h(o),o.eq(1))return o;if(n=h.precision,a=h.rounding,e.eq(1))return qe(o,n,a);if(t=Ir(e.e/Ze),t>=e.d.length-1&&(r=p<0?-p:p)<=hA)return u=ip(h,o,r,n),e.s<0?new h(1).div(u):qe(u,n,a);if(l=o.s,l<0){if(t<e.d.length-1)return new h(NaN);if(e.d[t]&1||(l=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=l,o}return r=gr(+o,p),t=r==0||!isFinite(r)?Ir(p*(Math.log("0."+Mr(o.d))/Math.LN10+o.e+1)):new h(r+"").e,t>h.maxE+1||t<h.minE-1?new h(t>0?l/0:0):(it=!1,h.rounding=o.s=1,r=Math.min(12,(t+"").length),u=Hl(e.times(bi(o,n+r)),n),u.d&&(u=qe(u,n+5,1),ta(u.d,n,a)&&(t=n+10,u=qe(Hl(e.times(bi(o,t+r)),t),t+5,1),+Mr(u.d).slice(n+1,n+15)+1==1e14&&(u=qe(u,n+1,0)))),u.s=l,it=!0,h.rounding=a,qe(u,n,a))};_e.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Wn(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Yr(e,1,Oi),t===void 0?t=u.rounding:Yr(t,0,8),n=qe(new u(n),e,t),r=Wn(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};_e.toSignificantDigits=_e.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yr(e,1,Oi),t===void 0?t=n.rounding:Yr(t,0,8)),qe(new n(r),e,t)};_e.toString=function(){var e=this,t=e.constructor,r=Wn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};_e.truncated=_e.trunc=function(){return qe(new this.constructor(this),this.e+1,1)};_e.valueOf=_e.toJSON=function(){var e=this,t=e.constructor,r=Wn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Mr(e){var t,r,n,u=e.length-1,a="",l=e[0];if(u>0){for(a+=l,t=1;t<u;t++)n=e[t]+"",r=Ze-n.length,r&&(a+=Di(r)),a+=n;l=e[t],n=l+"",r=Ze-n.length,r&&(a+=Di(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function Yr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Si+e)}function ta(e,t,r,n){var u,a,l,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Ze,u=0):(u=Math.ceil((t+1)/Ze),t%=Ze),a=gr(10,Ze-t),o=e[u]%a|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),l=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):l=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[u+1]/a/100|0)==gr(10,t-2)-1||(o==a/2||o==0)&&(e[u+1]/a/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),l=(n||r<4)&&o==9999||!n&&r>3&&o==4999):l=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[u+1]/a/1e3|0)==gr(10,t-3)-1,l}function Qa(e,t,r){for(var n,u=[0],a,l=0,o=e.length;l<o;){for(a=u.length;a--;)u[a]*=t;for(u[0]+=ql.indexOf(e.charAt(l++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function pA(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/Ls(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=mu(e,1,t.times(u),new e(1));for(var a=r;a--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=r,t}var Vt=function(){function e(n,u,a){var l,o=0,h=n.length;for(n=n.slice();h--;)l=n[h]*u+o,n[h]=l%a|0,o=l/a|0;return o&&n.unshift(o),n}function t(n,u,a,l){var o,h;if(a!=l)h=a>l?1:-1;else for(o=h=0;o<a;o++)if(n[o]!=u[o]){h=n[o]>u[o]?1:-1;break}return h}function r(n,u,a,l){for(var o=0;a--;)n[a]-=o,o=n[a]<u[a]?1:0,n[a]=o*l+n[a]-u[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,a,l,o,h){var p,f,c,d,g,y,m,_,D,E,w,B,F,O,P,I,k,Y,q,z,Z=n.constructor,W=n.s==u.s?1:-1,V=n.d,G=u.d;if(!V||!V[0]||!G||!G[0])return new Z(!n.s||!u.s||(V?G&&V[0]==G[0]:!G)?NaN:V&&V[0]==0||!G?W*0:W/0);for(h?(g=1,f=n.e-u.e):(h=In,g=Ze,f=Ir(n.e/g)-Ir(u.e/g)),q=G.length,k=V.length,D=new Z(W),E=D.d=[],c=0;G[c]==(V[c]||0);c++);if(G[c]>(V[c]||0)&&f--,a==null?(O=a=Z.precision,l=Z.rounding):o?O=a+(n.e-u.e)+1:O=a,O<0)E.push(1),y=!0;else{if(O=O/g+2|0,c=0,q==1){for(d=0,G=G[0],O++;(c<k||d)&&O--;c++)P=d*h+(V[c]||0),E[c]=P/G|0,d=P%G|0;y=d||c<k}else{for(d=h/(G[0]+1)|0,d>1&&(G=e(G,d,h),V=e(V,d,h),q=G.length,k=V.length),I=q,w=V.slice(0,q),B=w.length;B<q;)w[B++]=0;z=G.slice(),z.unshift(0),Y=G[0],G[1]>=h/2&&++Y;do d=0,p=t(G,w,q,B),p<0?(F=w[0],q!=B&&(F=F*h+(w[1]||0)),d=F/Y|0,d>1?(d>=h&&(d=h-1),m=e(G,d,h),_=m.length,B=w.length,p=t(m,w,_,B),p==1&&(d--,r(m,q<_?z:G,_,h))):(d==0&&(p=d=1),m=G.slice()),_=m.length,_<B&&m.unshift(0),r(w,m,B,h),p==-1&&(B=w.length,p=t(G,w,q,B),p<1&&(d++,r(w,q<B?z:G,B,h))),B=w.length):p===0&&(d++,w=[0]),E[c++]=d,p&&w[0]?w[B++]=V[I]||0:(w=[V[I]],B=1);while((I++<k||w[0]!==void 0)&&O--);y=w[0]!==void 0}E[0]||E.shift()}if(g==1)D.e=f,Jd=y;else{for(c=1,d=E[0];d>=10;d/=10)c++;D.e=c+f*g-1,qe(D,o?a+D.e+1:a,l,y)}return D}}();function qe(e,t,r,n){var u,a,l,o,h,p,f,c,d,g=e.constructor;e:if(t!=null){if(c=e.d,!c)return e;for(u=1,o=c[0];o>=10;o/=10)u++;if(a=t-u,a<0)a+=Ze,l=t,f=c[d=0],h=f/gr(10,u-l-1)%10|0;else if(d=Math.ceil((a+1)/Ze),o=c.length,d>=o)if(n){for(;o++<=d;)c.push(0);f=h=0,u=1,a%=Ze,l=a-Ze+1}else break e;else{for(f=o=c[d],u=1;o>=10;o/=10)u++;a%=Ze,l=a-Ze+u,h=l<0?0:f/gr(10,u-l-1)%10|0}if(n=n||t<0||c[d+1]!==void 0||(l<0?f:f%gr(10,u-l-1)),p=r<4?(h||n)&&(r==0||r==(e.s<0?3:2)):h>5||h==5&&(r==4||n||r==6&&(a>0?l>0?f/gr(10,u-l):0:c[d-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,p?(t-=e.e+1,c[0]=gr(10,(Ze-t%Ze)%Ze),e.e=-t||0):c[0]=e.e=0,e;if(a==0?(c.length=d,o=1,d--):(c.length=d+1,o=gr(10,Ze-a),c[d]=l>0?(f/gr(10,u-l)%gr(10,l)|0)*o:0),p)for(;;)if(d==0){for(a=1,l=c[0];l>=10;l/=10)a++;for(l=c[0]+=o,o=1;l>=10;l/=10)o++;a!=o&&(e.e++,c[0]==In&&(c[0]=1));break}else{if(c[d]+=o,c[d]!=In)break;c[d--]=0,o=1}for(a=c.length;c[--a]===0;)c.pop()}return it&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function Wn(e,t,r){if(!e.isFinite())return ap(e);var n,u=e.e,a=Mr(e.d),l=a.length;return t?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+Di(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):u<0?(a="0."+Di(-u-1)+a,r&&(n=r-l)>0&&(a+=Di(n))):u>=l?(a+=Di(u+1-l),r&&(n=r-u-1)>0&&(a=a+"."+Di(n))):((n=u+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(u+1===l&&(a+="."),a+=Di(n))),a}function ks(e,t){var r=e[0];for(t*=Ze;r>=10;r/=10)t++;return t}function fs(e,t,r){if(t>dA)throw it=!0,r&&(e.precision=r),Error(Qd);return qe(new e(os),t,1,!0)}function Tn(e,t,r){if(t>Wl)throw Error(Qd);return qe(new e(ls),t,r,!0)}function np(e){var t=e.length-1,r=t*Ze+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Di(e){for(var t="";e--;)t+="0";return t}function ip(e,t,r,n){var u,a=new e(1),l=Math.ceil(n/Ze+4);for(it=!1;;){if(r%2&&(a=a.times(t),Qh(a.d,l)&&(u=!0)),r=Ir(r/2),r===0){r=a.d.length-1,u&&a.d[r]===0&&++a.d[r];break}t=t.times(t),Qh(t.d,l)}return it=!0,a}function Jh(e){return e.d[e.d.length-1]&1}function up(e,t,r){for(var n,u=new e(t[0]),a=0;++a<t.length;)if(n=new e(t[a]),n.s)u[r](n)&&(u=n);else{u=n;break}return u}function Hl(e,t){var r,n,u,a,l,o,h,p=0,f=0,c=0,d=e.constructor,g=d.rounding,y=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(it=!1,h=y):h=t,o=new d(.03125);e.e>-2;)e=e.times(o),c+=5;for(n=Math.log(gr(2,c))/Math.LN10*2+5|0,h+=n,r=a=l=new d(1),d.precision=h;;){if(a=qe(a.times(e),h,1),r=r.times(++f),o=l.plus(Vt(a,r,h,1)),Mr(o.d).slice(0,h)===Mr(l.d).slice(0,h)){for(u=c;u--;)l=qe(l.times(l),h,1);if(t==null)if(p<3&&ta(l.d,h-n,g,p))d.precision=h+=10,r=a=o=new d(1),f=0,p++;else return qe(l,d.precision=y,g,it=!0);else return d.precision=y,l}l=o}}function bi(e,t){var r,n,u,a,l,o,h,p,f,c,d,g=1,y=10,m=e,_=m.d,D=m.constructor,E=D.rounding,w=D.precision;if(m.s<0||!_||!_[0]||!m.e&&_[0]==1&&_.length==1)return new D(_&&!_[0]?-1/0:m.s!=1?NaN:_?0:m);if(t==null?(it=!1,f=w):f=t,D.precision=f+=y,r=Mr(_),n=r.charAt(0),Math.abs(a=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Mr(m.d),n=r.charAt(0),g++;a=m.e,n>1?(m=new D("0."+r),a++):m=new D(n+"."+r.slice(1))}else return p=fs(D,f+2,w).times(a+""),m=bi(new D(n+"."+r.slice(1)),f-y).plus(p),D.precision=w,t==null?qe(m,w,E,it=!0):m;for(c=m,h=l=m=Vt(m.minus(1),m.plus(1),f,1),d=qe(m.times(m),f,1),u=3;;){if(l=qe(l.times(d),f,1),p=h.plus(Vt(l,new D(u),f,1)),Mr(p.d).slice(0,f)===Mr(h.d).slice(0,f))if(h=h.times(2),a!==0&&(h=h.plus(fs(D,f+2,w).times(a+""))),h=Vt(h,new D(g),f,1),t==null)if(ta(h.d,f-y,E,o))D.precision=f+=y,p=l=m=Vt(c.minus(1),c.plus(1),f,1),d=qe(m.times(m),f,1),u=o=1;else return qe(h,D.precision=w,E,it=!0);else return D.precision=w,h;h=p,u+=2}}function ap(e){return String(e.s*e.s/0)}function Gl(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=Ze;n<u;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),it&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function vA(e,t){var r,n,u,a,l,o,h,p,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),rp.test(t))return Gl(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(fA.test(t))r=16,t=t.toLowerCase();else if(lA.test(t))r=2;else if(cA.test(t))r=8;else throw Error(Si+t);for(a=t.search(/p/i),a>0?(h=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),l=a>=0,n=e.constructor,l&&(t=t.replace(".",""),o=t.length,a=o-a,u=ip(n,new n(r),a,a*2)),p=Qa(t,r,In),f=p.length-1,a=f;p[a]===0;--a)p.pop();return a<0?new n(e.s*0):(e.e=ks(p,f),e.d=p,it=!1,l&&(e=Vt(e,u,o*4)),h&&(e=e.times(Math.abs(h)<54?gr(2,h):_u.pow(2,h))),it=!0,e)}function gA(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:mu(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Ls(5,r)),t=mu(e,2,t,t);for(var u,a=new e(5),l=new e(16),o=new e(20);r--;)u=t.times(t),t=t.times(a.plus(u.times(l.times(u).minus(o))));return t}function mu(e,t,r,n,u){var a,l,o,h,p=e.precision,f=Math.ceil(p/Ze);for(it=!1,h=r.times(r),o=new e(n);;){if(l=Vt(o.times(h),new e(t++*t++),p,1),o=u?n.plus(l):n.minus(l),n=Vt(l.times(h),new e(t++*t++),p,1),l=o.plus(n),l.d[f]!==void 0){for(a=f;l.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=n,n=l,l=a}return it=!0,l.d.length=f+1,l}function Ls(e,t){for(var r=e;--t;)r*=e;return r}function sp(e,t){var r,n=t.s<0,u=Tn(e,e.precision,1),a=u.times(.5);if(t=t.abs(),t.lte(a))return ai=n?4:1,t;if(r=t.divToInt(u),r.isZero())ai=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(a))return ai=Jh(r)?n?2:3:n?4:1,t;ai=Jh(r)?n?1:4:n?3:2}return t.minus(u).abs()}function pf(e,t,r,n){var u,a,l,o,h,p,f,c,d,g=e.constructor,y=r!==void 0;if(y?(Yr(r,1,Oi),n===void 0?n=g.rounding:Yr(n,0,8)):(r=g.precision,n=g.rounding),!e.isFinite())f=ap(e);else{for(f=Wn(e),l=f.indexOf("."),y?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,l>=0&&(f=f.replace(".",""),d=new g(1),d.e=f.length-l,d.d=Qa(Wn(d),10,u),d.e=d.d.length),c=Qa(f,10,u),a=h=c.length;c[--h]==0;)c.pop();if(!c[0])f=y?"0p+0":"0";else{if(l<0?a--:(e=new g(e),e.d=c,e.e=a,e=Vt(e,d,r,n,0,u),c=e.d,a=e.e,p=Jd),l=c[r],o=u/2,p=p||c[r+1]!==void 0,p=n<4?(l!==void 0||p)&&(n===0||n===(e.s<0?3:2)):l>o||l===o&&(n===4||p||n===6&&c[r-1]&1||n===(e.s<0?8:7)),c.length=r,p)for(;++c[--r]>u-1;)c[r]=0,r||(++a,c.unshift(1));for(h=c.length;!c[h-1];--h);for(l=0,f="";l<h;l++)f+=ql.charAt(c[l]);if(y){if(h>1)if(t==16||t==8){for(l=t==16?4:3,--h;h%l;h++)f+="0";for(c=Qa(f,u,t),h=c.length;!c[h-1];--h);for(l=1,f="1.";l<h;l++)f+=ql.charAt(c[l])}else f=f.charAt(0)+"."+f.slice(1);f=f+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)f="0"+f;f="0."+f}else if(++a>h)for(a-=h;a--;)f+="0";else a<h&&(f=f.slice(0,a)+"."+f.slice(a))}f=(t==16?"0x":t==2?"0b":t==8?"0o":"")+f}return e.s<0?"-"+f:f}function Qh(e,t){if(e.length>t)return e.length=t,!0}function mA(e){return new this(e).abs()}function _A(e){return new this(e).acos()}function DA(e){return new this(e).acosh()}function bA(e,t){return new this(e).plus(t)}function yA(e){return new this(e).asin()}function AA(e){return new this(e).asinh()}function wA(e){return new this(e).atan()}function EA(e){return new this(e).atanh()}function CA(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,a=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Tn(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Tn(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Tn(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(Vt(e,t,a,1)),t=Tn(this,a,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Vt(e,t,a,1)),r}function FA(e){return new this(e).cbrt()}function SA(e){return qe(e=new this(e),e.e+1,2)}function BA(e,t,r){return new this(e).clamp(t,r)}function OA(e){if(!e||typeof e!="object")throw Error(Ns+"Object expected");var t,r,n,u=e.defaults===!0,a=["precision",1,Oi,"rounding",0,8,"toExpNeg",-du,0,"toExpPos",0,du,"maxE",0,du,"minE",-du,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],u&&(this[r]=zl[r]),(n=e[r])!==void 0)if(Ir(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Si+r+": "+n);if(r="crypto",u&&(this[r]=zl[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(ep);else this[r]=!1;else throw Error(Si+r+": "+n);return this}function MA(e){return new this(e).cos()}function PA(e){return new this(e).cosh()}function op(e){var t,r,n;function u(a){var l,o,h,p=this;if(!(p instanceof u))return new u(a);if(p.constructor=u,e0(a)){p.s=a.s,it?!a.d||a.e>u.maxE?(p.e=NaN,p.d=null):a.e<u.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(h=typeof a,h==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(l=0,o=a;o>=10;o/=10)l++;it?l>u.maxE?(p.e=NaN,p.d=null):l<u.minE?(p.e=0,p.d=[0]):(p.e=l,p.d=[a]):(p.e=l,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return Gl(p,a.toString())}else if(h!=="string")throw Error(Si+a);return(o=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(o===43&&(a=a.slice(1)),p.s=1),rp.test(a)?Gl(p,a):vA(p,a)}if(u.prototype=_e,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=OA,u.clone=op,u.isDecimal=e0,u.abs=mA,u.acos=_A,u.acosh=DA,u.add=bA,u.asin=yA,u.asinh=AA,u.atan=wA,u.atanh=EA,u.atan2=CA,u.cbrt=FA,u.ceil=SA,u.clamp=BA,u.cos=MA,u.cosh=PA,u.div=xA,u.exp=TA,u.floor=IA,u.hypot=NA,u.ln=kA,u.log=LA,u.log10=UA,u.log2=RA,u.max=VA,u.min=jA,u.mod=qA,u.mul=zA,u.pow=WA,u.random=HA,u.round=GA,u.sign=KA,u.sin=YA,u.sinh=$A,u.sqrt=ZA,u.sub=XA,u.sum=JA,u.tan=QA,u.tanh=ew,u.trunc=tw,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function xA(e,t){return new this(e).div(t)}function TA(e){return new this(e).exp()}function IA(e){return qe(e=new this(e),e.e+1,3)}function NA(){var e,t,r=new this(0);for(it=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return it=!0,new this(1/0);r=t}return it=!0,r.sqrt()}function e0(e){return e instanceof _u||e&&e.toStringTag===tp||!1}function kA(e){return new this(e).ln()}function LA(e,t){return new this(e).log(t)}function RA(e){return new this(e).log(2)}function UA(e){return new this(e).log(10)}function VA(){return up(this,arguments,"lt")}function jA(){return up(this,arguments,"gt")}function qA(e,t){return new this(e).mod(t)}function zA(e,t){return new this(e).mul(t)}function WA(e,t){return new this(e).pow(t)}function HA(e){var t,r,n,u,a=0,l=new this(1),o=[];if(e===void 0?e=this.precision:Yr(e,1,Oi),n=Math.ceil(e/Ze),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)u=t[a],u>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)u=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(u%1e7),a+=4);a=n/4}else throw Error(ep);else for(;a<n;)o[a++]=Math.random()*1e7|0;for(n=o[--a],e%=Ze,n&&e&&(u=gr(10,Ze-e),o[a]=(n/u|0)*u);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=Ze)o.shift();for(n=1,u=o[0];u>=10;u/=10)n++;n<Ze&&(r-=Ze-n)}return l.e=r,l.d=o,l}function GA(e){return qe(e=new this(e),e.e+1,this.rounding)}function KA(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function YA(e){return new this(e).sin()}function $A(e){return new this(e).sinh()}function ZA(e){return new this(e).sqrt()}function XA(e,t){return new this(e).sub(t)}function JA(){var e=0,t=arguments,r=new this(t[e]);for(it=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return it=!0,qe(r,this.precision,this.rounding)}function QA(e){return new this(e).tan()}function ew(e){return new this(e).tanh()}function tw(e){return qe(e=new this(e),e.e+1,1)}_e[Symbol.for("nodejs.util.inspect.custom")]=_e.toString;_e[Symbol.toStringTag]="Decimal";var _u=_e.constructor=op(zl);os=new _u(os);ls=new _u(ls);var rw="BigNumber",nw=["?on","config"],iw=kt(rw,nw,e=>{var{on:t,config:r}=e,n=_u.clone({precision:r.precision,modulo:_u.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,a){u.precision!==a.precision&&n.config({precision:u.precision})}),n},{isClass:!0}),hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kl={},uw={get exports(){return Kl},set exports(e){Kl=e}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=Math.cosh||function(c){return Math.abs(c)<1e-9?1-c:(Math.exp(c)+Math.exp(-c))*.5},u=Math.sinh||function(c){return Math.abs(c)<1e-9?c:(Math.exp(c)-Math.exp(-c))*.5},a=function(c){var d=Math.PI/4;if(-d>c||c>d)return Math.cos(c)-1;var g=c*c;return g*(g*(g*(g*(g*(g*(g*(g/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},l=function(c,d){var g=Math.abs(c),y=Math.abs(d);return g<3e3&&y<3e3?Math.sqrt(g*g+y*y):(g<y?(g=y,y=c/d):y=d/c,g*Math.sqrt(1+y*y))},o=function(){throw SyntaxError("Invalid Param")};function h(c,d){var g=Math.abs(c),y=Math.abs(d);return c===0?Math.log(y):d===0?Math.log(g):g<3e3&&y<3e3?Math.log(c*c+d*d)*.5:(c=c/2,d=d/2,.5*Math.log(c*c+d*d)+Math.LN2)}var p=function(c,d){var g={re:0,im:0};if(c==null)g.re=g.im=0;else if(d!==void 0)g.re=c,g.im=d;else switch(typeof c){case"object":if("im"in c&&"re"in c)g.re=c.re,g.im=c.im;else if("abs"in c&&"arg"in c){if(!Number.isFinite(c.abs)&&Number.isFinite(c.arg))return f.INFINITY;g.re=c.abs*Math.cos(c.arg),g.im=c.abs*Math.sin(c.arg)}else if("r"in c&&"phi"in c){if(!Number.isFinite(c.r)&&Number.isFinite(c.phi))return f.INFINITY;g.re=c.r*Math.cos(c.phi),g.im=c.r*Math.sin(c.phi)}else c.length===2?(g.re=c[0],g.im=c[1]):o();break;case"string":g.im=g.re=0;var y=c.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,_=0;y===null&&o();for(var D=0;D<y.length;D++){var E=y[D];E===" "||E==="	"||E===`
`||(E==="+"?m++:E==="-"?_++:E==="i"||E==="I"?(m+_===0&&o(),y[D+1]!==" "&&!isNaN(y[D+1])?(g.im+=parseFloat((_%2?"-":"")+y[D+1]),D++):g.im+=parseFloat((_%2?"-":"")+"1"),m=_=0):((m+_===0||isNaN(E))&&o(),y[D+1]==="i"||y[D+1]==="I"?(g.im+=parseFloat((_%2?"-":"")+E),D++):g.re+=parseFloat((_%2?"-":"")+E),m=_=0))}m+_>0&&o();break;case"number":g.im=0,g.re=c;break;default:o()}return isNaN(g.re)||isNaN(g.im),g};function f(c,d){if(!(this instanceof f))return new f(c,d);var g=p(c,d);this.re=g.re,this.im=g.im}f.prototype={re:0,im:0,sign:function(){var c=this.abs();return new f(this.re/c,this.im/c)},add:function(c,d){var g=new f(c,d);return this.isInfinite()&&g.isInfinite()?f.NAN:this.isInfinite()||g.isInfinite()?f.INFINITY:new f(this.re+g.re,this.im+g.im)},sub:function(c,d){var g=new f(c,d);return this.isInfinite()&&g.isInfinite()?f.NAN:this.isInfinite()||g.isInfinite()?f.INFINITY:new f(this.re-g.re,this.im-g.im)},mul:function(c,d){var g=new f(c,d);return this.isInfinite()&&g.isZero()||this.isZero()&&g.isInfinite()?f.NAN:this.isInfinite()||g.isInfinite()?f.INFINITY:g.im===0&&this.im===0?new f(this.re*g.re,0):new f(this.re*g.re-this.im*g.im,this.re*g.im+this.im*g.re)},div:function(c,d){var g=new f(c,d);if(this.isZero()&&g.isZero()||this.isInfinite()&&g.isInfinite())return f.NAN;if(this.isInfinite()||g.isZero())return f.INFINITY;if(this.isZero()||g.isInfinite())return f.ZERO;c=this.re,d=this.im;var y=g.re,m=g.im,_,D;return m===0?new f(c/y,d/y):Math.abs(y)<Math.abs(m)?(D=y/m,_=y*D+m,new f((c*D+d)/_,(d*D-c)/_)):(D=m/y,_=m*D+y,new f((c+d*D)/_,(d-c*D)/_))},pow:function(c,d){var g=new f(c,d);if(c=this.re,d=this.im,g.isZero())return f.ONE;if(g.im===0){if(d===0&&c>0)return new f(Math.pow(c,g.re),0);if(c===0)switch((g.re%4+4)%4){case 0:return new f(Math.pow(d,g.re),0);case 1:return new f(0,Math.pow(d,g.re));case 2:return new f(-Math.pow(d,g.re),0);case 3:return new f(0,-Math.pow(d,g.re))}}if(c===0&&d===0&&g.re>0&&g.im>=0)return f.ZERO;var y=Math.atan2(d,c),m=h(c,d);return c=Math.exp(g.re*m-g.im*y),d=g.im*m+g.re*y,new f(c*Math.cos(d),c*Math.sin(d))},sqrt:function(){var c=this.re,d=this.im,g=this.abs(),y,m;if(c>=0){if(d===0)return new f(Math.sqrt(c),0);y=.5*Math.sqrt(2*(g+c))}else y=Math.abs(d)/Math.sqrt(2*(g-c));return c<=0?m=.5*Math.sqrt(2*(g-c)):m=Math.abs(d)/Math.sqrt(2*(g+c)),new f(y,d<0?-m:m)},exp:function(){var c=Math.exp(this.re);return this.im,new f(c*Math.cos(this.im),c*Math.sin(this.im))},expm1:function(){var c=this.re,d=this.im;return new f(Math.expm1(c)*Math.cos(d)+a(d),Math.exp(c)*Math.sin(d))},log:function(){var c=this.re,d=this.im;return new f(h(c,d),Math.atan2(d,c))},abs:function(){return l(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var c=this.re,d=this.im;return new f(Math.sin(c)*n(d),Math.cos(c)*u(d))},cos:function(){var c=this.re,d=this.im;return new f(Math.cos(c)*n(d),-Math.sin(c)*u(d))},tan:function(){var c=2*this.re,d=2*this.im,g=Math.cos(c)+n(d);return new f(Math.sin(c)/g,u(d)/g)},cot:function(){var c=2*this.re,d=2*this.im,g=Math.cos(c)-n(d);return new f(-Math.sin(c)/g,u(d)/g)},sec:function(){var c=this.re,d=this.im,g=.5*n(2*d)+.5*Math.cos(2*c);return new f(Math.cos(c)*n(d)/g,Math.sin(c)*u(d)/g)},csc:function(){var c=this.re,d=this.im,g=.5*n(2*d)-.5*Math.cos(2*c);return new f(Math.sin(c)*n(d)/g,-Math.cos(c)*u(d)/g)},asin:function(){var c=this.re,d=this.im,g=new f(d*d-c*c+1,-2*c*d).sqrt(),y=new f(g.re-d,g.im+c).log();return new f(y.im,-y.re)},acos:function(){var c=this.re,d=this.im,g=new f(d*d-c*c+1,-2*c*d).sqrt(),y=new f(g.re-d,g.im+c).log();return new f(Math.PI/2-y.im,y.re)},atan:function(){var c=this.re,d=this.im;if(c===0){if(d===1)return new f(0,1/0);if(d===-1)return new f(0,-1/0)}var g=c*c+(1-d)*(1-d),y=new f((1-d*d-c*c)/g,-2*c/g).log();return new f(-.5*y.im,.5*y.re)},acot:function(){var c=this.re,d=this.im;if(d===0)return new f(Math.atan2(1,c),0);var g=c*c+d*d;return g!==0?new f(c/g,-d/g).atan():new f(c!==0?c/0:0,d!==0?-d/0:0).atan()},asec:function(){var c=this.re,d=this.im;if(c===0&&d===0)return new f(0,1/0);var g=c*c+d*d;return g!==0?new f(c/g,-d/g).acos():new f(c!==0?c/0:0,d!==0?-d/0:0).acos()},acsc:function(){var c=this.re,d=this.im;if(c===0&&d===0)return new f(Math.PI/2,1/0);var g=c*c+d*d;return g!==0?new f(c/g,-d/g).asin():new f(c!==0?c/0:0,d!==0?-d/0:0).asin()},sinh:function(){var c=this.re,d=this.im;return new f(u(c)*Math.cos(d),n(c)*Math.sin(d))},cosh:function(){var c=this.re,d=this.im;return new f(n(c)*Math.cos(d),u(c)*Math.sin(d))},tanh:function(){var c=2*this.re,d=2*this.im,g=n(c)+Math.cos(d);return new f(u(c)/g,Math.sin(d)/g)},coth:function(){var c=2*this.re,d=2*this.im,g=n(c)-Math.cos(d);return new f(u(c)/g,-Math.sin(d)/g)},csch:function(){var c=this.re,d=this.im,g=Math.cos(2*d)-n(2*c);return new f(-2*u(c)*Math.cos(d)/g,2*n(c)*Math.sin(d)/g)},sech:function(){var c=this.re,d=this.im,g=Math.cos(2*d)+n(2*c);return new f(2*n(c)*Math.cos(d)/g,-2*u(c)*Math.sin(d)/g)},asinh:function(){var c=this.im;this.im=-this.re,this.re=c;var d=this.asin();return this.re=-this.im,this.im=c,c=d.re,d.re=-d.im,d.im=c,d},acosh:function(){var c=this.acos();if(c.im<=0){var d=c.re;c.re=-c.im,c.im=d}else{var d=c.im;c.im=-c.re,c.re=d}return c},atanh:function(){var c=this.re,d=this.im,g=c>1&&d===0,y=1-c,m=1+c,_=y*y+d*d,D=_!==0?new f((m*y-d*d)/_,(d*y+m*d)/_):new f(c!==-1?c/0:0,d!==0?d/0:0),E=D.re;return D.re=h(D.re,D.im)/2,D.im=Math.atan2(D.im,E)/2,g&&(D.im=-D.im),D},acoth:function(){var c=this.re,d=this.im;if(c===0&&d===0)return new f(0,Math.PI/2);var g=c*c+d*d;return g!==0?new f(c/g,-d/g).atanh():new f(c!==0?c/0:0,d!==0?-d/0:0).atanh()},acsch:function(){var c=this.re,d=this.im;if(d===0)return new f(c!==0?Math.log(c+Math.sqrt(c*c+1)):1/0,0);var g=c*c+d*d;return g!==0?new f(c/g,-d/g).asinh():new f(c!==0?c/0:0,d!==0?-d/0:0).asinh()},asech:function(){var c=this.re,d=this.im;if(this.isZero())return f.INFINITY;var g=c*c+d*d;return g!==0?new f(c/g,-d/g).acosh():new f(c!==0?c/0:0,d!==0?-d/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var c=this.re,d=this.im,g=c*c+d*d;return new f(c/g,-d/g)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(c){return c=Math.pow(10,c||0),new f(Math.ceil(this.re*c)/c,Math.ceil(this.im*c)/c)},floor:function(c){return c=Math.pow(10,c||0),new f(Math.floor(this.re*c)/c,Math.floor(this.im*c)/c)},round:function(c){return c=Math.pow(10,c||0),new f(Math.round(this.re*c)/c,Math.round(this.im*c)/c)},equals:function(c,d){var g=new f(c,d);return Math.abs(g.re-this.re)<=f.EPSILON&&Math.abs(g.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var c=this.re,d=this.im,g="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(c)<f.EPSILON&&(c=0),Math.abs(d)<f.EPSILON&&(d=0),d===0?g+c:(c!==0?(g+=c,g+=" ",d<0?(d=-d,g+="-"):g+="+",g+=" "):d<0&&(d=-d,g+="-"),d!==1&&(g+=d),g+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-15,Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Complex=f,e.exports=f})()})(uw);const Fr=vf(Kl);var aw="Complex",sw=[],ow=kt(aw,sw,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(e){var t="",r=this.im,n=this.re,u=Vl(this.re,e),a=Vl(this.im,e),l=tr(e)?e:e?e.precision:null;if(l!==null){var o=Math.pow(10,-l);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=u+" - i":t=u+" - "+a.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+a+"i",t},Fr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Fr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(tr(r)){if(Vd(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),tr(n))return new Fr({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(e){return new Fr(e)},Fr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Fr),{isClass:!0}),Yl={},lw={get exports(){return Yl},set exports(e){Yl=e}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=2e3,u={s:1,n:0,d:1};function a(y,m){if(isNaN(y=parseInt(y,10)))throw g.InvalidParameter;return y*m}function l(y,m){if(m===0)throw g.DivisionByZero;var _=Object.create(g.prototype);_.s=y<0?-1:1,y=y<0?-y:y;var D=d(y,m);return _.n=y/D,_.d=m/D,_}function o(y){for(var m={},_=y,D=2,E=4;E<=_;){for(;_%D===0;)_/=D,m[D]=(m[D]||0)+1;E+=1+2*D++}return _!==y?_>1&&(m[_]=(m[_]||0)+1):m[y]=(m[y]||0)+1,m}var h=function(y,m){var _=0,D=1,E=1,w=0,B=0,F=0,O=1,P=1,I=0,k=1,Y=1,q=1,z=1e7,Z;if(y!=null)if(m!==void 0){if(_=y,D=m,E=_*D,_%1!==0||D%1!==0)throw g.NonIntegerParameter}else switch(typeof y){case"object":{if("d"in y&&"n"in y)_=y.n,D=y.d,"s"in y&&(_*=y.s);else if(0 in y)_=y[0],1 in y&&(D=y[1]);else throw g.InvalidParameter;E=_*D;break}case"number":{if(y<0&&(E=y,y=-y),y%1===0)_=y;else if(y>0){for(y>=1&&(P=Math.pow(10,Math.floor(1+Math.log(y)/Math.LN10)),y/=P);k<=z&&q<=z;)if(Z=(I+Y)/(k+q),y===Z){k+q<=z?(_=I+Y,D=k+q):q>k?(_=Y,D=q):(_=I,D=k);break}else y>Z?(I+=Y,k+=q):(Y+=I,q+=k),k>z?(_=Y,D=q):(_=I,D=k);_*=P}else(isNaN(y)||isNaN(m))&&(D=_=NaN);break}case"string":{if(k=y.match(/\d+|./g),k===null)throw g.InvalidParameter;if(k[I]==="-"?(E=-1,I++):k[I]==="+"&&I++,k.length===I+1?B=a(k[I++],E):k[I+1]==="."||k[I]==="."?(k[I]!=="."&&(w=a(k[I++],E)),I++,(I+1===k.length||k[I+1]==="("&&k[I+3]===")"||k[I+1]==="'"&&k[I+3]==="'")&&(B=a(k[I],E),O=Math.pow(10,k[I].length),I++),(k[I]==="("&&k[I+2]===")"||k[I]==="'"&&k[I+2]==="'")&&(F=a(k[I+1],E),P=Math.pow(10,k[I+1].length)-1,I+=3)):k[I+1]==="/"||k[I+1]===":"?(B=a(k[I],E),O=a(k[I+2],1),I+=3):k[I+3]==="/"&&k[I+1]===" "&&(w=a(k[I],E),B=a(k[I+2],E),O=a(k[I+4],1),I+=5),k.length<=I){D=O*P,E=_=F+D*w+P*B;break}}default:throw g.InvalidParameter}if(D===0)throw g.DivisionByZero;u.s=E<0?-1:1,u.n=Math.abs(_),u.d=Math.abs(D)};function p(y,m,_){for(var D=1;m>0;y=y*y%_,m>>=1)m&1&&(D=D*y%_);return D}function f(y,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var _=10%m,D=1;_!==1;D++)if(_=_*10%m,D>n)return 0;return D}function c(y,m,_){for(var D=1,E=p(10,_,m),w=0;w<300;w++){if(D===E)return w;D=D*10%m,E=E*10%m}return 0}function d(y,m){if(!y)return m;if(!m)return y;for(;;){if(y%=m,!y)return m;if(m%=y,!m)return y}}function g(y,m){if(h(y,m),this instanceof g)y=d(u.d,u.n),this.s=u.s,this.n=u.n/y,this.d=u.d/y;else return l(u.s*u.n,u.d)}g.DivisionByZero=new Error("Division by Zero"),g.InvalidParameter=new Error("Invalid argument"),g.NonIntegerParameter=new Error("Parameters must be integer"),g.prototype={s:1,n:0,d:1,abs:function(){return l(this.n,this.d)},neg:function(){return l(-this.s*this.n,this.d)},add:function(y,m){return h(y,m),l(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(y,m){return h(y,m),l(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(y,m){return h(y,m),l(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(y,m){return h(y,m),l(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return l(this.s*this.n,this.d)},mod:function(y,m){if(isNaN(this.n)||isNaN(this.d))return new g(NaN);if(y===void 0)return l(this.s*this.n%this.d,1);if(h(y,m),u.n===0&&this.d===0)throw g.DivisionByZero;return l(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(y,m){return h(y,m),l(d(u.n,this.n)*d(u.d,this.d),u.d*this.d)},lcm:function(y,m){return h(y,m),u.n===0&&this.n===0?l(0,1):l(u.n*this.n,d(u.n,this.n)*d(u.d,this.d))},ceil:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):l(Math.ceil(y*this.s*this.n/this.d),y)},floor:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):l(Math.floor(y*this.s*this.n/this.d),y)},round:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):l(Math.round(y*this.s*this.n/this.d),y)},inverse:function(){return l(this.s*this.d,this.n)},pow:function(y,m){if(h(y,m),u.d===1)return u.s<0?l(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):l(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var _=o(this.n),D=o(this.d),E=1,w=1;for(var B in _)if(B!=="1"){if(B==="0"){E=0;break}if(_[B]*=u.n,_[B]%u.d===0)_[B]/=u.d;else return null;E*=Math.pow(B,_[B])}for(var B in D)if(B!=="1"){if(D[B]*=u.n,D[B]%u.d===0)D[B]/=u.d;else return null;w*=Math.pow(B,D[B])}return u.s<0?l(w,E):l(E,w)},equals:function(y,m){return h(y,m),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(y,m){h(y,m);var _=this.s*this.n*u.d-u.s*u.n*this.d;return(0<_)-(_<0)},simplify:function(y){if(isNaN(this.n)||isNaN(this.d))return this;y=y||.001;for(var m=this.abs(),_=m.toContinued(),D=1;D<_.length;D++){for(var E=l(_[D-1],1),w=D-2;w>=0;w--)E=E.inverse().add(_[w]);if(E.sub(m).abs().valueOf()<y)return E.mul(this.s)}return this},divisible:function(y,m){return h(y,m),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(y){var m,_="",D=this.n,E=this.d;return this.s<0&&(_+="-"),E===1?_+=D:(y&&(m=Math.floor(D/E))>0&&(_+=m,_+=" ",D%=E),_+=D,_+="/",_+=E),_},toLatex:function(y){var m,_="",D=this.n,E=this.d;return this.s<0&&(_+="-"),E===1?_+=D:(y&&(m=Math.floor(D/E))>0&&(_+=m,D%=E),_+="\\frac{",_+=D,_+="}{",_+=E,_+="}"),_},toContinued:function(){var y,m=this.n,_=this.d,D=[];if(isNaN(m)||isNaN(_))return D;do D.push(Math.floor(m/_)),y=m%_,m=_,_=y;while(m!==1);return D},toString:function(y){var m=this.n,_=this.d;if(isNaN(m)||isNaN(_))return"NaN";y=y||15;var D=f(m,_),E=c(m,_,D),w=this.s<0?"-":"";if(w+=m/_|0,m%=_,m*=10,m&&(w+="."),D){for(var B=E;B--;)w+=m/_|0,m%=_,m*=10;w+="(";for(var B=D;B--;)w+=m/_|0,m%=_,m*=10;w+=")"}else for(var B=y;m&&B--;)w+=m/_|0,m%=_,m*=10;return w}},Object.defineProperty(g,"__esModule",{value:!0}),g.default=g,g.Fraction=g,e.exports=g})()})(lw);const ui=vf(Yl);var fw="Fraction",cw=[],hw=kt(fw,cw,()=>(Object.defineProperty(ui,"name",{value:"Fraction"}),ui.prototype.constructor=ui,ui.prototype.type="Fraction",ui.prototype.isFraction=!0,ui.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ui.fromJSON=function(e){return new ui(e)},ui),{isClass:!0}),dw="Matrix",pw=[],vw=kt(dw,pw,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function lp(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var gw="DenseMatrix",mw=["Matrix"],_w=kt(gw,mw,e=>{var{Matrix:t}=e;function r(f,c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(c&&!qn(c))throw new Error("Invalid datatype: "+c);if(Vr(f))f.type==="DenseMatrix"?(this._data=yr(f._data),this._size=yr(f._size),this._datatype=c||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=c||f._datatype);else if(f&&Jt(f.data)&&Jt(f.size))this._data=f.data,this._size=f.size,Zh(this._data,this._size),this._datatype=c||f.datatype;else if(Jt(f))this._data=p(f),this._size=Fi(this._data),Zh(this._data,this._size),this._datatype=c;else{if(f)throw new TypeError("Unsupported type of data ("+Qu(f)+")");this._data=[],this._size=[0],this._datatype=c}}r.prototype=new t,r.prototype.createDenseMatrix=function(f,c){return new r(f,c)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return ss(this._data,Qu)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,c){return new r(f,c)},r.prototype.subset=function(f,c,d){switch(arguments.length){case 1:return n(this,f);case 2:case 3:return a(this,f,c,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(f){if(!Jt(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new It(f.length,this._size.length);for(var c=0;c<f.length;c++)Qt(f[c],this._size[c]);for(var d=this._data,g=0,y=f.length;g<y;g++){var m=f[g];Qt(m,d.length),d=d[m]}return d},r.prototype.set=function(f,c,d){if(!Jt(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new It(f.length,this._size.length,"<");var g,y,m,_=f.map(function(E){return E+1});h(this,_,d);var D=this._data;for(g=0,y=f.length-1;g<y;g++)m=f[g],Qt(m,D.length),D=D[m];return m=f[f.length-1],Qt(m,D.length),D[m]=c,this};function n(f,c){if(!hf(c))throw new TypeError("Invalid index");var d=c.isScalar();if(d)return f.get(c.min());var g=c.size();if(g.length!==f._size.length)throw new It(g.length,f._size.length);for(var y=c.min(),m=c.max(),_=0,D=f._size.length;_<D;_++)Qt(y[_],f._size[_]),Qt(m[_],f._size[_]);return new r(u(f._data,c,g.length,0),f._datatype)}function u(f,c,d,g){var y=g===d-1,m=c.dimension(g);return y?m.map(function(_){return Qt(_,f.length),f[_]}).valueOf():m.map(function(_){Qt(_,f.length);var D=f[_];return u(D,c,d,g+1)}).valueOf()}function a(f,c,d,g){if(!c||c.isIndex!==!0)throw new TypeError("Invalid index");var y=c.size(),m=c.isScalar(),_;if(Vr(d)?(_=d.size(),d=d.valueOf()):_=Fi(d),m){if(_.length!==0)throw new TypeError("Scalar expected");f.set(c.min(),d,g)}else{if(y.length<f._size.length)throw new It(y.length,f._size.length,"<");if(_.length<y.length){for(var D=0,E=0;y[D]===1&&_[D]===1;)D++;for(;y[D]===1;)E++,D++;d=Kd(d,y.length,E,_)}if(!us(y,_))throw new It(y,_,">");var w=c.max().map(function(O){return O+1});h(f,w,g);var B=y.length,F=0;l(f._data,c,d,B,F)}return f}function l(f,c,d,g,y){var m=y===g-1,_=c.dimension(y);m?_.forEach(function(D,E){Qt(D),f[D]=d[E[0]]}):_.forEach(function(D,E){Qt(D),l(f[D],c,d[E[0]],g,y+1)})}r.prototype.resize=function(f,c,d){if(!is(f))throw new TypeError("Array or Matrix expected");var g=f.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),y=d?this.clone():this;return o(y,g,c)};function o(f,c,d){if(c.length===0){for(var g=f._data;Jt(g);)g=g[0];return g}return f._size=c.slice(0),f._data=Xh(f._data,f._size,d),f}r.prototype.reshape=function(f,c){var d=c?this.clone():this;d._data=Gy(d._data,f);var g=d._size.reduce((y,m)=>y*m);return d._size=df(f,g),d};function h(f,c,d){for(var g=f._size.slice(0),y=!1;g.length<c.length;)g.push(0),y=!0;for(var m=0,_=c.length;m<_;m++)c[m]>g[m]&&(g[m]=c[m],y=!0);y&&o(f,g,d)}r.prototype.clone=function(){var f=new r({data:yr(this._data),size:yr(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(f){var c=this,d=lp(f),g=function _(D,E){return Jt(D)?D.map(function(w,B){return _(w,E.concat(B))}):d===1?f(D):d===2?f(D,E):f(D,E,c)},y=g(this._data,[]),m=this._datatype!==void 0?ss(y,Qu):void 0;return new r(y,m)},r.prototype.forEach=function(f){var c=this,d=function g(y,m){Jt(y)?y.forEach(function(_,D){g(_,m.concat(D))}):f(y,m,c)};d(this._data,[])},r.prototype[Symbol.iterator]=function*(){var f=function*c(d,g){if(Jt(d))for(var y=0;y<d.length;y++)yield*c(d[y],g.concat(y));else yield{value:d,index:g}};yield*f(this._data,[])},r.prototype.rows=function(){var f=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var g of d)f.push(new r([g],this._datatype));return f},r.prototype.columns=function(){var f=this,c=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,y=function(D){var E=g.map(w=>[w[D]]);c.push(new r(E,f._datatype))},m=0;m<d[1];m++)y(m);return c},r.prototype.toArray=function(){return yr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(f){return Gr(this._data,f)},r.prototype.toString=function(){return Gr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(wn(f)&&(f=f.toNumber()),!tr(f)||!Ar(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var c=f>0?f:0,d=f<0?-f:0,g=this._size[0],y=this._size[1],m=Math.min(g-d,y-c),_=[],D=0;D<m;D++)_[D]=this._data[D+d][D+c];return new r({data:_,size:[m],datatype:this._datatype})},r.diagonal=function(f,c,d,g){if(!Jt(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(P){if(wn(P)&&(P=P.toNumber()),!tr(P)||!Ar(P)||P<1)throw new Error("Size values must be positive integers");return P}),d){if(wn(d)&&(d=d.toNumber()),!tr(d)||!Ar(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var y=d>0?d:0,m=d<0?-d:0,_=f[0],D=f[1],E=Math.min(_-m,D-y),w;if(Jt(c)){if(c.length!==E)throw new Error("Invalid value array length");w=function(I){return c[I]}}else if(Vr(c)){var B=c.size();if(B.length!==1||B[0]!==E)throw new Error("Invalid matrix length");w=function(I){return c.get([I])}}else w=function(){return c};g||(g=wn(w(0))?w(0).mul(0):0);var F=[];if(f.length>0){F=Xh(F,f,g);for(var O=0;O<E;O++)F[O+m][O+y]=w(O)}return new r({data:F,size:[_,D]})},r.fromJSON=function(f){return new r(f)},r.prototype.swapRows=function(f,c){if(!tr(f)||!Ar(f)||!tr(c)||!Ar(c))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Qt(f,this._size[0]),Qt(c,this._size[0]),r._swapRows(f,c,this._data),this},r._swapRows=function(f,c,d){var g=d[f];d[f]=d[c],d[c]=g};function p(f){for(var c=0,d=f.length;c<d;c++){var g=f[c];Jt(g)?f[c]=p(g):g&&g.isMatrix===!0&&(f[c]=p(g.valueOf()))}return f}return r},{isClass:!0});function gf(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return gf(n,t)}):t(e)}var t0="isInteger",Dw=["typed"],bw=kt(t0,Dw,e=>{var{typed:t}=e;return t(t0,{number:Ar,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":t.referToSelf(r=>n=>gf(n,r))})}),fp="number, number";function cp(e,t){return e+t}cp.signature=fp;function hp(e,t){return e*t}hp.signature=fp;function yw(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var u=e.constructor.max(e.abs(),t.abs());return n.lte(u.times(r))}return!1}function Aw(e,t,r){return as(e.re,t.re,r)&&as(e.im,t.im,r)}var ww=kt("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),cs="equalScalar",Ew=["typed","config"],Cw=kt(cs,Ew,e=>{var{typed:t,config:r}=e,n=ww({typed:t});return t(cs,{"boolean, boolean":function(a,l){return a===l},"number, number":function(a,l){return as(a,l,r.epsilon)},"BigNumber, BigNumber":function(a,l){return a.eq(l)||yw(a,l,r.epsilon)},"Fraction, Fraction":function(a,l){return a.equals(l)},"Complex, Complex":function(a,l){return Aw(a,l,r.epsilon)}},n)});kt(cs,["typed","config"],e=>{var{typed:t,config:r}=e;return t(cs,{"number, number":function(u,a){return as(u,a,r.epsilon)}})});var Fw="SparseMatrix",Sw=["typed","equalScalar","Matrix"],Bw=kt(Fw,Sw,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(m,_){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(_&&!qn(_))throw new Error("Invalid datatype: "+_);if(Vr(m))a(this,m,_);else if(m&&Jt(m.index)&&Jt(m.ptr)&&Jt(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=_||m.datatype;else if(Jt(m))l(this,m,_);else{if(m)throw new TypeError("Unsupported type of data ("+Qu(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=_}}function a(m,_,D){_.type==="SparseMatrix"?(m._values=_._values?yr(_._values):void 0,m._index=yr(_._index),m._ptr=yr(_._ptr),m._size=yr(_._size),m._datatype=D||_._datatype):l(m,_.valueOf(),D||_._datatype)}function l(m,_,D){m._values=[],m._index=[],m._ptr=[],m._datatype=D;var E=_.length,w=0,B=r,F=0;if(qn(D)&&(B=t.find(r,[D,D])||r,F=t.convert(0,D)),E>0){var O=0;do{m._ptr.push(m._index.length);for(var P=0;P<E;P++){var I=_[P];if(Jt(I)){if(O===0&&w<I.length&&(w=I.length),O<I.length){var k=I[O];B(k,F)||(m._values.push(k),m._index.push(P))}}else O===0&&w<1&&(w=1),B(I,F)||(m._values.push(I),m._index.push(P))}O++}while(O<w)}m._ptr.push(m._index.length),m._size=[E,w]}u.prototype=new n,u.prototype.createSparseMatrix=function(m,_){return new u(m,_)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return ss(this._values,Qu)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(m,_){return new u(m,_)},u.prototype.density=function(){var m=this._size[0],_=this._size[1];return m!==0&&_!==0?this._index.length/(m*_):0},u.prototype.subset=function(m,_,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,m);case 2:case 3:return h(this,m,_,D);default:throw new SyntaxError("Wrong number of arguments")}};function o(m,_){if(!hf(_))throw new TypeError("Invalid index");var D=_.isScalar();if(D)return m.get(_.min());var E=_.size();if(E.length!==m._size.length)throw new It(E.length,m._size.length);var w,B,F,O,P=_.min(),I=_.max();for(w=0,B=m._size.length;w<B;w++)Qt(P[w],m._size[w]),Qt(I[w],m._size[w]);var k=m._values,Y=m._index,q=m._ptr,z=_.dimension(0),Z=_.dimension(1),W=[],V=[];z.forEach(function(J,le){V[J]=le[0],W[J]=!0});var G=k?[]:void 0,Q=[],X=[];return Z.forEach(function(J){for(X.push(Q.length),F=q[J],O=q[J+1];F<O;F++)w=Y[F],W[w]===!0&&(Q.push(V[w]),G&&G.push(k[F]))}),X.push(Q.length),new u({values:G,index:Q,ptr:X,size:E,datatype:m._datatype})}function h(m,_,D,E){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var w=_.size(),B=_.isScalar(),F;if(Vr(D)?(F=D.size(),D=D.toArray()):F=Fi(D),B){if(F.length!==0)throw new TypeError("Scalar expected");m.set(_.min(),D,E)}else{if(w.length!==1&&w.length!==2)throw new It(w.length,m._size.length,"<");if(F.length<w.length){for(var O=0,P=0;w[O]===1&&F[O]===1;)O++;for(;w[O]===1;)P++,O++;D=Kd(D,w.length,P,F)}if(!us(w,F))throw new It(w,F,">");if(w.length===1){var I=_.dimension(0);I.forEach(function(q,z){Qt(q),m.set([q,0],D[z[0]],E)})}else{var k=_.dimension(0),Y=_.dimension(1);k.forEach(function(q,z){Qt(q),Y.forEach(function(Z,W){Qt(Z),m.set([q,Z],D[z[0]][W[0]],E)})})}}return m}u.prototype.get=function(m){if(!Jt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new It(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var _=m[0],D=m[1];Qt(_,this._size[0]),Qt(D,this._size[1]);var E=p(_,this._ptr[D],this._ptr[D+1],this._index);return E<this._ptr[D+1]&&this._index[E]===_?this._values[E]:0},u.prototype.set=function(m,_,D){if(!Jt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new It(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=m[0],w=m[1],B=this._size[0],F=this._size[1],O=r,P=0;qn(this._datatype)&&(O=t.find(r,[this._datatype,this._datatype])||r,P=t.convert(0,this._datatype)),(E>B-1||w>F-1)&&(d(this,Math.max(E+1,B),Math.max(w+1,F),D),B=this._size[0],F=this._size[1]),Qt(E,B),Qt(w,F);var I=p(E,this._ptr[w],this._ptr[w+1],this._index);return I<this._ptr[w+1]&&this._index[I]===E?O(_,P)?f(I,w,this._values,this._index,this._ptr):this._values[I]=_:O(_,P)||c(I,E,w,_,this._values,this._index,this._ptr),this};function p(m,_,D,E){if(D-_===0)return D;for(var w=_;w<D;w++)if(E[w]===m)return w;return _}function f(m,_,D,E,w){D.splice(m,1),E.splice(m,1);for(var B=_+1;B<w.length;B++)w[B]--}function c(m,_,D,E,w,B,F){w.splice(m,0,E),B.splice(m,0,_);for(var O=D+1;O<F.length;O++)F[O]++}u.prototype.resize=function(m,_,D){if(!is(m))throw new TypeError("Array or Matrix expected");var E=m.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(B){if(!tr(B)||!Ar(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Gr(E)+")")});var w=D?this.clone():this;return d(w,E[0],E[1],_)};function d(m,_,D,E){var w=E||0,B=r,F=0;qn(m._datatype)&&(B=t.find(r,[m._datatype,m._datatype])||r,F=t.convert(0,m._datatype),w=t.convert(w,m._datatype));var O=!B(w,F),P=m._size[0],I=m._size[1],k,Y,q;if(D>I){for(Y=I;Y<D;Y++)if(m._ptr[Y]=m._values.length,O)for(k=0;k<P;k++)m._values.push(w),m._index.push(k);m._ptr[D]=m._values.length}else D<I&&(m._ptr.splice(D+1,I-D),m._values.splice(m._ptr[D],m._values.length),m._index.splice(m._ptr[D],m._index.length));if(I=D,_>P){if(O){var z=0;for(Y=0;Y<I;Y++){m._ptr[Y]=m._ptr[Y]+z,q=m._ptr[Y+1]+z;var Z=0;for(k=P;k<_;k++,Z++)m._values.splice(q+Z,0,w),m._index.splice(q+Z,0,k),z++}m._ptr[I]=m._values.length}}else if(_<P){var W=0;for(Y=0;Y<I;Y++){m._ptr[Y]=m._ptr[Y]-W;var V=m._ptr[Y],G=m._ptr[Y+1]-W;for(q=V;q<G;q++)k=m._index[q],k>_-1&&(m._values.splice(q,1),m._index.splice(q,1),W++)}m._ptr[Y]=m._values.length}return m._size[0]=_,m._size[1]=D,m}u.prototype.reshape=function(m,_){if(!Jt(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(J){if(!tr(J)||!Ar(J)||J<=-2||J===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Gr(m)+")")});var D=this._size[0]*this._size[1];m=df(m,D);var E=m[0]*m[1];if(D!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=_?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return w;for(var B=[],F=0;F<w._ptr.length;F++)for(var O=0;O<w._ptr[F+1]-w._ptr[F];O++)B.push(F);for(var P=w._values.slice(),I=w._index.slice(),k=0;k<w._index.length;k++){var Y=I[k],q=B[k],z=Y*w._size[1]+q;B[k]=z%m[1],I[k]=Math.floor(z/m[1])}w._values.length=0,w._index.length=0,w._ptr.length=m[1]+1,w._size=m.slice();for(var Z=0;Z<w._ptr.length;Z++)w._ptr[Z]=0;for(var W=0;W<P.length;W++){var V=I[W],G=B[W],Q=P[W],X=p(V,w._ptr[G],w._ptr[G+1],w._index);c(X,V,G,Q,w._values,w._index,w._ptr)}return w},u.prototype.clone=function(){var m=new u({values:this._values?yr(this._values):void 0,index:yr(this._index),ptr:yr(this._ptr),size:yr(this._size),datatype:this._datatype});return m},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(m,_){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,E=this._size[0],w=this._size[1],B=lp(m),F=function(P,I,k){return B===1?m(P):B===2?m(P,[I,k]):m(P,[I,k],D)};return g(this,0,E-1,0,w-1,F,_)};function g(m,_,D,E,w,B,F){var O=[],P=[],I=[],k=r,Y=0;qn(m._datatype)&&(k=t.find(r,[m._datatype,m._datatype])||r,Y=t.convert(0,m._datatype));for(var q=function(be,Ie,Ve){be=B(be,Ie,Ve),k(be,Y)||(O.push(be),P.push(Ie))},z=E;z<=w;z++){I.push(O.length);var Z=m._ptr[z],W=m._ptr[z+1];if(F)for(var V=Z;V<W;V++){var G=m._index[V];G>=_&&G<=D&&q(m._values[V],G-_,z-E)}else{for(var Q={},X=Z;X<W;X++){var J=m._index[X];Q[J]=m._values[X]}for(var le=_;le<=D;le++){var me=le in Q?Q[le]:0;q(me,le-_,z-E)}}}return I.push(O.length),new u({values:O,index:P,ptr:I,size:[D-_+1,w-E+1]})}u.prototype.forEach=function(m,_){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,E=this._size[0],w=this._size[1],B=0;B<w;B++){var F=this._ptr[B],O=this._ptr[B+1];if(_)for(var P=F;P<O;P++){var I=this._index[P];m(this._values[P],[I,B],D)}else{for(var k={},Y=F;Y<O;Y++){var q=this._index[Y];k[q]=this._values[Y]}for(var z=0;z<E;z++){var Z=z in k?k[z]:0;m(Z,[z,B],D)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],_=0;_<m;_++)for(var D=this._ptr[_],E=this._ptr[_+1],w=D;w<E;w++){var B=this._index[w];yield{value:this._values[w],index:[B,_]}}},u.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(m,_,D,E,w){var B=E[0],F=E[1],O=[],P,I;for(P=0;P<B;P++)for(O[P]=[],I=0;I<F;I++)O[P][I]=0;for(I=0;I<F;I++)for(var k=D[I],Y=D[I+1],q=k;q<Y;q++)P=_[q],O[P][I]=m?w?yr(m[q]):m[q]:1;return O}return u.prototype.format=function(m){for(var _=this._size[0],D=this._size[1],E=this.density(),w="Sparse Matrix ["+Gr(_,m)+" x "+Gr(D,m)+"] density: "+Gr(E,m)+`
`,B=0;B<D;B++)for(var F=this._ptr[B],O=this._ptr[B+1],P=F;P<O;P++){var I=this._index[P];w+=`
    (`+Gr(I,m)+", "+Gr(B,m)+") ==> "+(this._values?Gr(this._values[P],m):"X")}return w},u.prototype.toString=function(){return Gr(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(m){if(m){if(wn(m)&&(m=m.toNumber()),!tr(m)||!Ar(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var _=m>0?m:0,D=m<0?-m:0,E=this._size[0],w=this._size[1],B=Math.min(E-D,w-_),F=[],O=[],P=[];P[0]=0;for(var I=_;I<w&&F.length<B;I++)for(var k=this._ptr[I],Y=this._ptr[I+1],q=k;q<Y;q++){var z=this._index[q];if(z===I-_+D){F.push(this._values[q]),O[F.length-1]=z-D;break}}return P.push(F.length),new u({values:F,index:O,ptr:P,size:[B,1]})},u.fromJSON=function(m){return new u(m)},u.diagonal=function(m,_,D,E,w){if(!Jt(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(J){if(wn(J)&&(J=J.toNumber()),!tr(J)||!Ar(J)||J<1)throw new Error("Size values must be positive integers");return J}),D){if(wn(D)&&(D=D.toNumber()),!tr(D)||!Ar(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var B=r,F=0;qn(w)&&(B=t.find(r,[w,w])||r,F=t.convert(0,w));var O=D>0?D:0,P=D<0?-D:0,I=m[0],k=m[1],Y=Math.min(I-P,k-O),q;if(Jt(_)){if(_.length!==Y)throw new Error("Invalid value array length");q=function(le){return _[le]}}else if(Vr(_)){var z=_.size();if(z.length!==1||z[0]!==Y)throw new Error("Invalid matrix length");q=function(le){return _.get([le])}}else q=function(){return _};for(var Z=[],W=[],V=[],G=0;G<k;G++){V.push(Z.length);var Q=G-O;if(Q>=0&&Q<Y){var X=q(Q);B(X,F)||(W.push(Q+P),Z.push(X))}}return V.push(Z.length),new u({values:Z,index:W,ptr:V,size:[I,k]})},u.prototype.swapRows=function(m,_){if(!tr(m)||!Ar(m)||!tr(_)||!Ar(_))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Qt(m,this._size[0]),Qt(_,this._size[0]),u._swapRows(m,_,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(m,_,D,E,w){for(var B=E[m],F=E[m+1],O=B;O<F;O++)w(D[O],_[O])},u._swapRows=function(m,_,D,E,w,B){for(var F=0;F<D;F++){var O=B[F],P=B[F+1],I=p(m,O,P,w),k=p(_,O,P,w);if(I<P&&k<P&&w[I]===m&&w[k]===_){if(E){var Y=E[I];E[I]=E[k],E[k]=Y}continue}if(I<P&&w[I]===m&&(k>=P||w[k]!==_)){var q=E?E[I]:void 0;w.splice(k,0,_),E&&E.splice(k,0,q),w.splice(k<=I?I+1:I,1),E&&E.splice(k<=I?I+1:I,1);continue}if(k<P&&w[k]===_&&(I>=P||w[I]!==m)){var z=E?E[k]:void 0;w.splice(I,0,m),E&&E.splice(I,0,z),w.splice(I<=k?k+1:k,1),E&&E.splice(I<=k?k+1:k,1)}}},u},{isClass:!0}),r0="matrix",Ow=["typed","Matrix","DenseMatrix","SparseMatrix"],Mw=kt(r0,Ow,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(r0,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,h){return a([],o,h)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(l,o,h){if(o==="dense"||o==="default"||o===void 0)return new n(l,h);if(o==="sparse")return new u(l,h);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),n0="addScalar",Pw=["typed"],xw=kt(n0,Pw,e=>{var{typed:t}=e;return t(n0,{"number, number":cp,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),u.valueType()])(a.value,u.value),a.fixPrefix=!1,a})})}),Tw="matAlgo11xS0s",Iw=["typed","equalScalar"],Nw=kt(Tw,Iw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,l,o){var h=u._values,p=u._index,f=u._ptr,c=u._size,d=u._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=c[0],y=c[1],m,_=r,D=0,E=l;typeof d=="string"&&(m=d,_=t.find(r,[m,m]),D=t.convert(0,m),a=t.convert(a,m),E=t.find(l,[m,m]));for(var w=[],B=[],F=[],O=0;O<y;O++){F[O]=B.length;for(var P=f[O],I=f[O+1],k=P;k<I;k++){var Y=p[k],q=o?E(a,h[k]):E(h[k],a);_(q,D)||(B.push(Y),w.push(q))}}return F[y]=B.length,u.createSparseMatrix({values:w,index:B,ptr:F,size:[g,y],datatype:m})}}),kw="matAlgo14xDs",Lw=["typed"],dp=kt(kw,Lw,e=>{var{typed:t}=e;return function(u,a,l,o){var h=u._data,p=u._size,f=u._datatype,c,d=l;typeof f=="string"&&(c=f,a=t.convert(a,c),d=t.find(l,[c,c]));var g=p.length>0?r(d,0,p,p[0],h,a,o):[];return u.createDenseMatrix({data:g,size:yr(p),datatype:c})};function r(n,u,a,l,o,h,p){var f=[];if(u===a.length-1)for(var c=0;c<l;c++)f[c]=p?n(h,o[c]):n(o[c],h);else for(var d=0;d<l;d++)f[d]=r(n,u+1,a,a[u+1],o[d],h,p);return f}}),Rw="matAlgo01xDSid",Uw=["typed"],Vw=kt(Rw,Uw,e=>{var{typed:t}=e;return function(n,u,a,l){var o=n._data,h=n._size,p=n._datatype,f=u._values,c=u._index,d=u._ptr,g=u._size,y=u._datatype;if(h.length!==g.length)throw new It(h.length,g.length);if(h[0]!==g[0]||h[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+g+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=h[0],_=h[1],D=typeof p=="string"&&p===y?p:void 0,E=D?t.find(a,[D,D]):a,w,B,F=[];for(w=0;w<m;w++)F[w]=[];var O=[],P=[];for(B=0;B<_;B++){for(var I=B+1,k=d[B],Y=d[B+1],q=k;q<Y;q++)w=c[q],O[w]=l?E(f[q],o[w][B]):E(o[w][B],f[q]),P[w]=I;for(w=0;w<m;w++)P[w]===I?F[w][B]=O[w]:F[w][B]=o[w][B]}return n.createDenseMatrix({data:F,size:[m,_],datatype:D})}}),jw="matAlgo04xSidSid",qw=["typed","equalScalar"],zw=kt(jw,qw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,l){var o=u._values,h=u._index,p=u._ptr,f=u._size,c=u._datatype,d=a._values,g=a._index,y=a._ptr,m=a._size,_=a._datatype;if(f.length!==m.length)throw new It(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var D=f[0],E=f[1],w,B=r,F=0,O=l;typeof c=="string"&&c===_&&(w=c,B=t.find(r,[w,w]),F=t.convert(0,w),O=t.find(l,[w,w]));var P=o&&d?[]:void 0,I=[],k=[],Y=o&&d?[]:void 0,q=o&&d?[]:void 0,z=[],Z=[],W,V,G,Q,X;for(V=0;V<E;V++){k[V]=I.length;var J=V+1;for(Q=p[V],X=p[V+1],G=Q;G<X;G++)W=h[G],I.push(W),z[W]=J,Y&&(Y[W]=o[G]);for(Q=y[V],X=y[V+1],G=Q;G<X;G++)if(W=g[G],z[W]===J){if(Y){var le=O(Y[W],d[G]);B(le,F)?z[W]=null:Y[W]=le}}else I.push(W),Z[W]=J,q&&(q[W]=d[G]);if(Y&&q)for(G=k[V];G<I.length;)W=I[G],z[W]===J?(P[G]=Y[W],G++):Z[W]===J?(P[G]=q[W],G++):I.splice(G,1)}return k[E]=I.length,u.createSparseMatrix({values:P,index:I,ptr:k,size:[D,E],datatype:w})}}),Ww="matAlgo10xSids",Hw=["typed","DenseMatrix"],Gw=kt(Ww,Hw,e=>{var{typed:t,DenseMatrix:r}=e;return function(u,a,l,o){var h=u._values,p=u._index,f=u._ptr,c=u._size,d=u._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=c[0],y=c[1],m,_=l;typeof d=="string"&&(m=d,a=t.convert(a,m),_=t.find(l,[m,m]));for(var D=[],E=[],w=[],B=0;B<y;B++){for(var F=B+1,O=f[B],P=f[B+1],I=O;I<P;I++){var k=p[I];E[k]=h[I],w[k]=F}for(var Y=0;Y<g;Y++)B===0&&(D[Y]=[]),w[Y]===F?D[Y][B]=o?_(a,E[Y]):_(E[Y],a):D[Y][B]=a}return new r({data:D,size:[g,y],datatype:m})}}),Kw="matAlgo13xDD",Yw=["typed"],$w=kt(Kw,Yw,e=>{var{typed:t}=e;return function(u,a,l){var o=u._data,h=u._size,p=u._datatype,f=a._data,c=a._size,d=a._datatype,g=[];if(h.length!==c.length)throw new It(h.length,c.length);for(var y=0;y<h.length;y++){if(h[y]!==c[y])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+c+")");g[y]=h[y]}var m,_=l;typeof p=="string"&&p===d&&(m=p,_=t.find(l,[m,m]));var D=g.length>0?r(_,0,g,g[0],o,f):[];return u.createDenseMatrix({data:D,size:g,datatype:m})};function r(n,u,a,l,o,h){var p=[];if(u===a.length-1)for(var f=0;f<l;f++)p[f]=n(o[f],h[f]);else for(var c=0;c<l;c++)p[c]=r(n,u+1,a,a[u+1],o[c],h[c]);return p}}),Zw="broadcast",Xw=["concat"],Jw=kt(Zw,Xw,e=>{var{concat:t}=e;return function(a,l){var o=Math.max(a._size.length,l._size.length);if(a._size.length===l._size.length&&a._size.every((_,D)=>_===l._size[D]))return[a,l];for(var h=r(a._size,o,0),p=r(l._size,o,0),f=[],c=0;c<o;c++)f[c]=Math.max(h[c],p[c]);for(var d=0;d<o;d++)u(h,f,d),u(p,f,d);var g=a.clone(),y=l.clone();g._size.length<o?g.reshape(r(g._size,o,1)):y._size.length<o&&y.reshape(r(y._size,o,1));for(var m=0;m<o;m++)g._size[m]<f[m]&&(g=n(g,f[m],m)),y._size[m]<f[m]&&(y=n(y,f[m],m));return[g,y]};function r(a,l,o){return[...Array(l-a.length).fill(o),...a]}function n(a,l,o){return t(...Array(l).fill(a),o)}function u(a,l,o){if(a[o]<l[o]&a[o]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(o," with size ").concat(a[o]," to size ").concat(l[o]))}}),Qw="matrixAlgorithmSuite",eE=["typed","matrix","concat"],tE=kt(Qw,eE,e=>{var{typed:t,matrix:r,concat:n}=e,u=$w({typed:t}),a=dp({typed:t}),l=Jw({concat:n});return function(h){var p=h.elop,f=h.SD||h.DS,c;p?(c={"DenseMatrix, DenseMatrix":(m,_)=>u(...l(m,_),p),"Array, Array":(m,_)=>u(...l(r(m),r(_)),p).valueOf(),"Array, DenseMatrix":(m,_)=>u(...l(r(m),_),p),"DenseMatrix, Array":(m,_)=>u(...l(m,r(_)),p)},h.SS&&(c["SparseMatrix, SparseMatrix"]=(m,_)=>h.SS(...l(m,_),p,!1)),h.DS&&(c["DenseMatrix, SparseMatrix"]=(m,_)=>h.DS(...l(m,_),p,!1),c["Array, SparseMatrix"]=(m,_)=>h.DS(...l(r(m),_),p,!1)),f&&(c["SparseMatrix, DenseMatrix"]=(m,_)=>f(...l(_,m),p,!0),c["SparseMatrix, Array"]=(m,_)=>f(...l(r(_),m),p,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(m=>(_,D)=>u(...l(_,D),m)),"Array, Array":t.referToSelf(m=>(_,D)=>u(...l(r(_),r(D)),m).valueOf()),"Array, DenseMatrix":t.referToSelf(m=>(_,D)=>u(...l(r(_),D),m)),"DenseMatrix, Array":t.referToSelf(m=>(_,D)=>u(...l(_,r(D)),m))},h.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(m=>(_,D)=>h.SS(...l(_,D),m,!1))),h.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(m=>(_,D)=>h.DS(...l(_,D),m,!1)),c["Array, SparseMatrix"]=t.referToSelf(m=>(_,D)=>h.DS(...l(r(_),D),m,!1))),f&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(m=>(_,D)=>f(...l(D,_),m,!0)),c["SparseMatrix, Array"]=t.referToSelf(m=>(_,D)=>f(...l(r(D),_),m,!0))));var d=h.scalar||"any",g=h.Ds||h.Ss;g&&(p?(c["DenseMatrix,"+d]=(m,_)=>a(m,_,p,!1),c[d+", DenseMatrix"]=(m,_)=>a(_,m,p,!0),c["Array,"+d]=(m,_)=>a(r(m),_,p,!1).valueOf(),c[d+", Array"]=(m,_)=>a(r(_),m,p,!0).valueOf()):(c["DenseMatrix,"+d]=t.referToSelf(m=>(_,D)=>a(_,D,m,!1)),c[d+", DenseMatrix"]=t.referToSelf(m=>(_,D)=>a(D,_,m,!0)),c["Array,"+d]=t.referToSelf(m=>(_,D)=>a(r(_),D,m,!1).valueOf()),c[d+", Array"]=t.referToSelf(m=>(_,D)=>a(r(D),_,m,!0).valueOf())));var y=h.sS!==void 0?h.sS:h.Ss;return p?(h.Ss&&(c["SparseMatrix,"+d]=(m,_)=>h.Ss(m,_,p,!1)),y&&(c[d+", SparseMatrix"]=(m,_)=>y(_,m,p,!0))):(h.Ss&&(c["SparseMatrix,"+d]=t.referToSelf(m=>(_,D)=>h.Ss(_,D,m,!1))),y&&(c[d+", SparseMatrix"]=t.referToSelf(m=>(_,D)=>y(D,_,m,!0)))),p&&p.signatures&&Py(c,p.signatures),c}}),rE="multiplyScalar",nE=["typed"],iE=kt(rE,nE,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":hp,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),i0="multiply",uE=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],aE=kt(i0,uE,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:a,dot:l}=e,o=Nw({typed:t,equalScalar:a}),h=dp({typed:t});function p(F,O){switch(F.length){case 1:switch(O.length){case 1:if(F[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(F[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+O[0]+")");break;case 2:if(F[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function f(F,O,P){if(P===0)throw new Error("Cannot multiply two empty vectors");return l(F,O)}function c(F,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(F,O)}function d(F,O){var P=F._data,I=F._size,k=F._datatype,Y=O._data,q=O._size,z=O._datatype,Z=I[0],W=q[1],V,G=n,Q=u;k&&z&&k===z&&typeof k=="string"&&(V=k,G=t.find(n,[V,V]),Q=t.find(u,[V,V]));for(var X=[],J=0;J<W;J++){for(var le=Q(P[0],Y[0][J]),me=1;me<Z;me++)le=G(le,Q(P[me],Y[me][J]));X[J]=le}return F.createDenseMatrix({data:X,size:[W],datatype:V})}var g=t("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":E}),y=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":_,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":B});function m(F,O){var P=F._data,I=F._size,k=F._datatype,Y=O._data,q=O._datatype,z=I[0],Z=I[1],W,V=n,G=u;k&&q&&k===q&&typeof k=="string"&&(W=k,V=t.find(n,[W,W]),G=t.find(u,[W,W]));for(var Q=[],X=0;X<z;X++){for(var J=P[X],le=G(J[0],Y[0]),me=1;me<Z;me++)le=V(le,G(J[me],Y[me]));Q[X]=le}return F.createDenseMatrix({data:Q,size:[z],datatype:W})}function _(F,O){var P=F._data,I=F._size,k=F._datatype,Y=O._data,q=O._size,z=O._datatype,Z=I[0],W=I[1],V=q[1],G,Q=n,X=u;k&&z&&k===z&&typeof k=="string"&&(G=k,Q=t.find(n,[G,G]),X=t.find(u,[G,G]));for(var J=[],le=0;le<Z;le++){var me=P[le];J[le]=[];for(var Ce=0;Ce<V;Ce++){for(var be=X(me[0],Y[0][Ce]),Ie=1;Ie<W;Ie++)be=Q(be,X(me[Ie],Y[Ie][Ce]));J[le][Ce]=be}}return F.createDenseMatrix({data:J,size:[Z,V],datatype:G})}function D(F,O){var P=F._data,I=F._size,k=F._datatype,Y=O._values,q=O._index,z=O._ptr,Z=O._size,W=O._datatype;if(!Y)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=I[0],G=Z[1],Q,X=n,J=u,le=a,me=0;k&&W&&k===W&&typeof k=="string"&&(Q=k,X=t.find(n,[Q,Q]),J=t.find(u,[Q,Q]),le=t.find(a,[Q,Q]),me=t.convert(0,Q));for(var Ce=[],be=[],Ie=[],Ve=O.createSparseMatrix({values:Ce,index:be,ptr:Ie,size:[V,G],datatype:Q}),Oe=0;Oe<G;Oe++){Ie[Oe]=be.length;var et=z[Oe],je=z[Oe+1];if(je>et)for(var Ne=0,Re=0;Re<V;Re++){for(var lt=Re+1,tt=void 0,ut=et;ut<je;ut++){var rt=q[ut];Ne!==lt?(tt=J(P[Re][rt],Y[ut]),Ne=lt):tt=X(tt,J(P[Re][rt],Y[ut]))}Ne===lt&&!le(tt,me)&&(be.push(Re),Ce.push(tt))}}return Ie[G]=be.length,Ve}function E(F,O){var P=F._values,I=F._index,k=F._ptr,Y=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var q=O._data,z=O._datatype,Z=F._size[0],W=O._size[0],V=[],G=[],Q=[],X,J=n,le=u,me=a,Ce=0;Y&&z&&Y===z&&typeof Y=="string"&&(X=Y,J=t.find(n,[X,X]),le=t.find(u,[X,X]),me=t.find(a,[X,X]),Ce=t.convert(0,X));var be=[],Ie=[];Q[0]=0;for(var Ve=0;Ve<W;Ve++){var Oe=q[Ve];if(!me(Oe,Ce))for(var et=k[Ve],je=k[Ve+1],Ne=et;Ne<je;Ne++){var Re=I[Ne];Ie[Re]?be[Re]=J(be[Re],le(Oe,P[Ne])):(Ie[Re]=!0,G.push(Re),be[Re]=le(Oe,P[Ne]))}}for(var lt=G.length,tt=0;tt<lt;tt++){var ut=G[tt];V[tt]=be[ut]}return Q[1]=G.length,F.createSparseMatrix({values:V,index:G,ptr:Q,size:[Z,1],datatype:X})}function w(F,O){var P=F._values,I=F._index,k=F._ptr,Y=F._datatype;if(!P)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var q=O._data,z=O._datatype,Z=F._size[0],W=O._size[0],V=O._size[1],G,Q=n,X=u,J=a,le=0;Y&&z&&Y===z&&typeof Y=="string"&&(G=Y,Q=t.find(n,[G,G]),X=t.find(u,[G,G]),J=t.find(a,[G,G]),le=t.convert(0,G));for(var me=[],Ce=[],be=[],Ie=F.createSparseMatrix({values:me,index:Ce,ptr:be,size:[Z,V],datatype:G}),Ve=[],Oe=[],et=0;et<V;et++){be[et]=Ce.length;for(var je=et+1,Ne=0;Ne<W;Ne++){var Re=q[Ne][et];if(!J(Re,le))for(var lt=k[Ne],tt=k[Ne+1],ut=lt;ut<tt;ut++){var rt=I[ut];Oe[rt]!==je?(Oe[rt]=je,Ce.push(rt),Ve[rt]=X(Re,P[ut])):Ve[rt]=Q(Ve[rt],X(Re,P[ut]))}}for(var nt=be[et],Ke=Ce.length,Ye=nt;Ye<Ke;Ye++){var Ae=Ce[Ye];me[Ye]=Ve[Ae]}}return be[V]=Ce.length,Ie}function B(F,O){var P=F._values,I=F._index,k=F._ptr,Y=F._datatype,q=O._values,z=O._index,Z=O._ptr,W=O._datatype,V=F._size[0],G=O._size[1],Q=P&&q,X,J=n,le=u;Y&&W&&Y===W&&typeof Y=="string"&&(X=Y,J=t.find(n,[X,X]),le=t.find(u,[X,X]));for(var me=Q?[]:void 0,Ce=[],be=[],Ie=F.createSparseMatrix({values:me,index:Ce,ptr:be,size:[V,G],datatype:X}),Ve=Q?[]:void 0,Oe=[],et,je,Ne,Re,lt,tt,ut,rt,nt=0;nt<G;nt++){be[nt]=Ce.length;var Ke=nt+1;for(lt=Z[nt],tt=Z[nt+1],Re=lt;Re<tt;Re++)if(rt=z[Re],Q)for(je=k[rt],Ne=k[rt+1],et=je;et<Ne;et++)ut=I[et],Oe[ut]!==Ke?(Oe[ut]=Ke,Ce.push(ut),Ve[ut]=le(q[Re],P[et])):Ve[ut]=J(Ve[ut],le(q[Re],P[et]));else for(je=k[rt],Ne=k[rt+1],et=je;et<Ne;et++)ut=I[et],Oe[ut]!==Ke&&(Oe[ut]=Ke,Ce.push(ut));if(Q)for(var Ye=be[nt],Ae=Ce.length,Se=Ye;Se<Ae;Se++){var At=Ce[Se];me[Se]=Ve[At]}}return be[G]=Ce.length,Ie}return t(i0,u,{"Array, Array":t.referTo("Matrix, Matrix",F=>(O,P)=>{p(Fi(O),Fi(P));var I=F(r(O),r(P));return Vr(I)?I.valueOf():I}),"Matrix, Matrix":function(O,P){var I=O.size(),k=P.size();return p(I,k),I.length===1?k.length===1?f(O,P,I[0]):c(O,P):k.length===1?g(O,P):y(O,P)},"Matrix, Array":t.referTo("Matrix,Matrix",F=>(O,P)=>F(O,r(P))),"Array, Matrix":t.referToSelf(F=>(O,P)=>F(r(O,P.storage()),P)),"SparseMatrix, any":function(O,P){return o(O,P,u,!1)},"DenseMatrix, any":function(O,P){return h(O,P,u,!1)},"any, SparseMatrix":function(O,P){return o(P,O,u,!0)},"any, DenseMatrix":function(O,P){return h(P,O,u,!0)},"Array, any":function(O,P){return h(r(O),P,u,!1).valueOf()},"any, Array":function(O,P){return h(r(P),O,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(F=>(O,P,I)=>{for(var k=F(O,P),Y=0;Y<I.length;Y++)k=F(k,I[Y]);return k})})}),u0="conj",sE=["typed"],oE=kt(u0,sE,e=>{var{typed:t}=e;return t(u0,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>gf(n,r))})}),a0="concat",lE=["typed","matrix","isInteger"],fE=kt(a0,lE,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(a0,{"...Array | Matrix | number | BigNumber":function(a){var l,o=a.length,h=-1,p,f=!1,c=[];for(l=0;l<o;l++){var d=a[l];if(Vr(d)&&(f=!0),tr(d)||wn(d)){if(l!==o-1)throw new Error("Dimension must be specified as last argument");if(p=h,h=d.valueOf(),!n(h))throw new TypeError("Integer number expected for dimension");if(h<0||l>0&&h>p)throw new Hi(h,p+1)}else{var g=yr(d).valueOf(),y=Fi(g);if(c[l]=g,p=h,h=y.length-1,l>0&&h!==p)throw new It(p+1,h+1)}}if(c.length===0)throw new SyntaxError("At least one matrix expected");for(var m=c.shift();c.length;)m=pp(m,c.shift(),h,0);return f?r(m):m},"...string":function(a){return a.join("")}})});function pp(e,t,r,n){if(n<r){if(e.length!==t.length)throw new It(e.length,t.length);for(var u=[],a=0;a<e.length;a++)u[a]=pp(e[a],t[a],r,n+1);return u}else return e.concat(t)}function cE(){throw new Error('No "matrix" implementation available')}var s0="size",hE=["typed","config","?matrix"],dE=kt(s0,hE,e=>{var{typed:t,config:r,matrix:n}=e;return t(s0,{Matrix:function(a){return a.create(a.size())},Array:Fi,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):cE()}})}),o0="add",pE=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],vE=kt(o0,pE,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:u,DenseMatrix:a,SparseMatrix:l,concat:o}=e,h=Vw({typed:t}),p=zw({typed:t,equalScalar:u}),f=Gw({typed:t,DenseMatrix:a}),c=tE({typed:t,matrix:r,concat:o});return t(o0,{"any, any":n,"any, any, ...any":t.referToSelf(d=>(g,y,m)=>{for(var _=d(g,y),D=0;D<m.length;D++)_=d(_,m[D]);return _})},c({elop:n,DS:h,SS:p,Ss:f}))}),l0="dot",gE=["typed","addScalar","multiplyScalar","conj","size"],mE=kt(l0,gE,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:a}=e;return t(l0,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":h});function l(f,c){var d=p(f),g=p(c),y,m;if(d.length===1)y=d[0];else if(d.length===2&&d[1]===1)y=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(g.length===1)m=g[0];else if(g.length===2&&g[1]===1)m=g[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");if(y!==m)throw new RangeError("Vectors must have equal length ("+y+" != "+m+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function o(f,c){var d=l(f,c),g=Vr(f)?f._data:f,y=Vr(f)?f._datatype:void 0,m=Vr(c)?c._data:c,_=Vr(c)?c._datatype:void 0,D=p(f).length===2,E=p(c).length===2,w=r,B=n;if(y&&_&&y===_&&typeof y=="string"){var F=y;w=t.find(r,[F,F]),B=t.find(n,[F,F])}if(!D&&!E){for(var O=B(u(g[0]),m[0]),P=1;P<d;P++)O=w(O,B(u(g[P]),m[P]));return O}if(!D&&E){for(var I=B(u(g[0]),m[0][0]),k=1;k<d;k++)I=w(I,B(u(g[k]),m[k][0]));return I}if(D&&!E){for(var Y=B(u(g[0][0]),m[0]),q=1;q<d;q++)Y=w(Y,B(u(g[q][0]),m[q]));return Y}if(D&&E){for(var z=B(u(g[0][0]),m[0][0]),Z=1;Z<d;Z++)z=w(z,B(u(g[Z][0]),m[Z][0]));return z}}function h(f,c){l(f,c);for(var d=f._index,g=f._values,y=c._index,m=c._values,_=0,D=r,E=n,w=0,B=0;w<d.length&&B<y.length;){var F=d[w],O=y[B];if(F<O){w++;continue}if(F>O){B++;continue}F===O&&(_=D(_,E(g[w],m[B])),w++,B++)}return _}function p(f){return Vr(f)?f.size():a(f)}}),_E=iw({config:xs}),DE=ow({}),bE=hw({}),mf=vw({}),_f=_w({Matrix:mf}),Cn=sA({BigNumber:_E,Complex:DE,DenseMatrix:_f,Fraction:bE}),Df=xw({typed:Cn}),yE=oE({typed:Cn}),bf=Cw({config:xs,typed:Cn}),AE=bw({typed:Cn}),vp=iE({typed:Cn}),gp=Bw({Matrix:mf,equalScalar:bf,typed:Cn}),Rs=Mw({DenseMatrix:_f,Matrix:mf,SparseMatrix:gp,typed:Cn}),wE=dE({matrix:Rs,config:xs,typed:Cn}),EE=fE({isInteger:AE,matrix:Rs,typed:Cn}),Kr=vE({DenseMatrix:_f,SparseMatrix:gp,addScalar:Df,concat:EE,equalScalar:bf,matrix:Rs,typed:Cn}),CE=mE({addScalar:Df,conj:yE,multiplyScalar:vp,size:wE,typed:Cn}),An=aE({addScalar:Df,dot:CE,equalScalar:bf,matrix:Rs,multiplyScalar:vp,typed:Cn});const ol="selectedPromptStore";function FE(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[ol]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[ol]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[ol],r(""))}}}const Du=FE(),mp=on(Du,e=>Bt(Du));function SE(){const e=ln({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,l)=>{if(l.startsWith("prompt")){const o=l.split("_")[1];a[o]=JSON.parse(localStorage[l])}return a},{})||{}),{subscribe:t,update:(a,l)=>{const o=Bt(e),p={...o[a]||{},...l};u&&(localStorage[`prompt_${a}`]=JSON.stringify(p));const f={...o,[a]:p};r(f)},get:a=>Bt(e)[a],delete:a=>{u&&delete localStorage[`prompt_${a}`];const l={...Bt(e)};delete l[a],r(l)}}}const ra=SE(),BE=on(ra,e=>Object.entries(Bt(ra))),Ka="activePromptStore";function Br(e,t,r,n=1){return{id:e,text:t,barWeight:n,parsedWeight:r}}function f0(){return{0:Br(0,"Magic potion in a mystical bottle",1),1:Br(1,"A crystalline decanter",1),2:Br(2,"An ornate tequila bottle",1),3:Br(3,"An antique sake bottle",1),4:Br(4,"A colorful perfume bottle",1),5:Br(5,"A glass vase full of vibrant flowers",1),6:Br(6,"A minimalist glass tea kettle",1),7:Br(7,"Chihuly glass art",1),8:Br(8,"A fine wine bottle",1),9:Br(9,"A gourmet vinegar bottle",1),10:Br(10,"A stunning fishbowl",1),11:Br(11,"A striking piece of tourmaline",1),12:Br(12,"A finely cut piece of sapphire",1),13:Br(13,"Iittala glass art",1)}}function yi(e,t=wt.Pie){return{weightedPrompts:e||{},weightMode:t,pieAngles:{},circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0,embedExponentialScaling:!0,embedWeightScaling:2,embedClusters:0,embedPromptLimit:Object.keys(e).length}}function OE(){const e=ln({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u",a=u&&localStorage[Ka]?JSON.parse(localStorage[Ka]):yi(f0());return r({...yi({}),...a}),{subscribe:t,update:l=>{const o=Du.get();o&&ra.update(o,l),!(!l||!u)&&(localStorage[Ka]=JSON.stringify(l),r({...yi({}),...l}))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Ka],r(yi(f0())))}}}const Ut=OE(),$r=on(Ut,e=>Bt(Ut));function ME(e){let t,r,n;return{c(){t=Ft("circle"),this.h()},l(u){t=St(u,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),ne(t).forEach(R),this.h()},h(){x(t,"cx",r=e[0][0]),x(t,"cy",n=e[0][1]),x(t,"r",e[1]),x(t,"stroke",e[3]),x(t,"stroke-width",e[2]),er(t,"fill","rgba(0,0,0,0)")},m(u,a){we(u,t,a)},p(u,[a]){a&1&&r!==(r=u[0][0])&&x(t,"cx",r),a&1&&n!==(n=u[0][1])&&x(t,"cy",n),a&2&&x(t,"r",u[1]),a&8&&x(t,"stroke",u[3]),a&4&&x(t,"stroke-width",u[2])},i:Te,o:Te,d(u){u&&R(t)}}}function PE(e,t,r){let{xy:n=[500,500]}=t,{radius:u=400}=t,{stroke:a=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=o=>{"xy"in o&&r(0,n=o.xy),"radius"in o&&r(1,u=o.radius),"stroke"in o&&r(2,a=o.stroke),"color"in o&&r(3,l=o.color)},[n,u,a,l]}class _p extends Pt{constructor(t){super(),xt(this,t,PE,ME,Tt,{xy:0,radius:1,stroke:2,color:3})}}function xE(e){let t,r,n,u,a;return{c(){t=Ft("circle"),this.h()},l(l){t=St(l,"circle",{cx:!0,cy:!0,r:!0}),ne(t).forEach(R),this.h()},h(){x(t,"cx",r=e[0][0]),x(t,"cy",n=e[0][1]),x(t,"r",e[1]),er(t,"fill",e[2])},m(l,o){we(l,t,o),u||(a=[ke(t,"mouseover",e[3]),ke(t,"mouseout",e[4]),ke(t,"mousedown",e[5])],u=!0)},p(l,[o]){o&1&&r!==(r=l[0][0])&&x(t,"cx",r),o&1&&n!==(n=l[0][1])&&x(t,"cy",n),o&2&&x(t,"r",l[1]),o&4&&er(t,"fill",l[2])},i:Te,o:Te,d(l){l&&R(t),u=!1,Nr(a)}}}function TE(e,t,r){let{xy:n=[100,100]}=t,{radius:u=5}=t,{color:a="black"}=t,{hoverColor:l="white"}=t,{handleMouseDown:o=d=>{}}=t,h=a;function p(){r(2,h=l)}function f(){r(2,h=a)}function c(d){o(d)}return e.$$set=d=>{"xy"in d&&r(0,n=d.xy),"radius"in d&&r(1,u=d.radius),"color"in d&&r(6,a=d.color),"hoverColor"in d&&r(7,l=d.hoverColor),"handleMouseDown"in d&&r(8,o=d.handleMouseDown)},[n,u,h,p,f,c,a,l,o]}class ia extends Pt{constructor(t){super(),xt(this,t,TE,xE,Tt,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function IE(e){let t,r,n,u,a;return{c(){t=Ft("line"),this.h()},l(l){t=St(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),ne(t).forEach(R),this.h()},h(){x(t,"x1",r=e[0][0]),x(t,"y1",n=e[0][1]),x(t,"x2",u=e[1][0]),x(t,"y2",a=e[1][1]),x(t,"stroke",e[3]),x(t,"stroke-dasharray","10,10"),x(t,"stroke-width",e[2])},m(l,o){we(l,t,o)},p(l,[o]){o&1&&r!==(r=l[0][0])&&x(t,"x1",r),o&1&&n!==(n=l[0][1])&&x(t,"y1",n),o&2&&u!==(u=l[1][0])&&x(t,"x2",u),o&2&&a!==(a=l[1][1])&&x(t,"y2",a),o&8&&x(t,"stroke",l[3]),o&4&&x(t,"stroke-width",l[2])},i:Te,o:Te,d(l){l&&R(t)}}}function NE(e,t,r){let{p1:n=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=o=>{"p1"in o&&r(0,n=o.p1),"p2"in o&&r(1,u=o.p2),"stroke"in o&&r(2,a=o.stroke),"color"in o&&r(3,l=o.color)},[n,u,a,l]}class Dp extends Pt{constructor(t){super(),xt(this,t,NE,IE,Tt,{p1:0,p2:1,stroke:2,color:3})}}function kE(e){let t,r,n,u,a,l,o,h;return{c(){t=Ft("foreignObject"),r=ue("div"),n=ue("p"),u=He(e[2]),this.h()},l(p){t=St(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var f=ne(t);r=ae(f,"DIV",{class:!0});var c=ne(r);n=ae(c,"P",{});var d=ne(n);u=Ge(d,e[2]),d.forEach(R),c.forEach(R),f.forEach(R),this.h()},h(){er(n,"color",e[3]),er(n,"user-select","none"),er(n,"margin","0"),er(n,"pointer-events","none"),er(n,"text-align",e[4]),er(n,"font-size",`${e[5]}px`),er(n,"font-family","sans-serif"),er(n,"font-style","italic"),x(r,"class","h-full flex flex-col justify-center"),x(t,"x",a=e[0][0]),x(t,"y",l=e[0][1]),x(t,"width",o=e[1][0]),x(t,"height",h=e[1][1])},m(p,f){we(p,t,f),H(t,r),H(r,n),H(n,u)},p(p,[f]){f&4&&En(u,p[2]),f&8&&er(n,"color",p[3]),f&16&&er(n,"text-align",p[4]),f&32&&er(n,"font-size",`${p[5]}px`),f&1&&a!==(a=p[0][0])&&x(t,"x",a),f&1&&l!==(l=p[0][1])&&x(t,"y",l),f&2&&o!==(o=p[1][0])&&x(t,"width",o),f&2&&h!==(h=p[1][1])&&x(t,"height",h)},i:Te,o:Te,d(p){p&&R(t)}}}function LE(e,t,r){let{xy:n=[100,100]}=t,{wh:u=[100,100]}=t,{text:a=""}=t,{color:l="rgba(96,117,151, 1)"}=t,{textAlign:o="center"}=t,{fontSize:h=12}=t;return e.$$set=p=>{"xy"in p&&r(0,n=p.xy),"wh"in p&&r(1,u=p.wh),"text"in p&&r(2,a=p.text),"color"in p&&r(3,l=p.color),"textAlign"in p&&r(4,o=p.textAlign),"fontSize"in p&&r(5,h=p.fontSize)},[n,u,a,l,o,h]}class Us extends Pt{constructor(t){super(),xt(this,t,LE,kE,Tt,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function RE(e){let t,r,n,u,a,l,o,h,p,f,c;return{c(){t=Ft("circle"),u=ze(),a=Ft("foreignObject"),l=ue("p"),o=He(e[4]),this.h()},l(d){t=St(d,"circle",{cx:!0,cy:!0,r:!0}),ne(t).forEach(R),u=We(d),a=St(d,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var g=ne(a);l=ae(g,"P",{style:!0,class:!0});var y=ne(l);o=Ge(y,e[4]),y.forEach(R),g.forEach(R),this.h()},h(){x(t,"cx",r=e[0][0]),x(t,"cy",n=e[0][1]),x(t,"r",e[1]),er(t,"fill",e[3]),er(l,"color",e[2]),er(l,"user-select","none"),er(l,"margin","0"),x(l,"class","heavy svelte-6if1p2"),x(a,"x",h=e[0][0]-e[1]),x(a,"y",p=e[0][1]-e[1]),x(a,"width",f=e[1]*2),x(a,"height",c=e[1]*2)},m(d,g){we(d,t,g),we(d,u,g),we(d,a,g),H(a,l),H(l,o)},p(d,[g]){g&1&&r!==(r=d[0][0])&&x(t,"cx",r),g&1&&n!==(n=d[0][1])&&x(t,"cy",n),g&2&&x(t,"r",d[1]),g&8&&er(t,"fill",d[3]),g&16&&En(o,d[4]),g&4&&er(l,"color",d[2]),g&3&&h!==(h=d[0][0]-d[1])&&x(a,"x",h),g&3&&p!==(p=d[0][1]-d[1])&&x(a,"y",p),g&2&&f!==(f=d[1]*2)&&x(a,"width",f),g&2&&c!==(c=d[1]*2)&&x(a,"height",c)},i:Te,o:Te,d(d){d&&R(t),d&&R(u),d&&R(a)}}}function UE(e,t,r){let{xy:n=[100,100]}=t,{radius:u=25}=t,{textColor:a="rgba(96,117,151, 1)"}=t,{bgColor:l="black"}=t,{weight:o=""}=t;return e.$$set=h=>{"xy"in h&&r(0,n=h.xy),"radius"in h&&r(1,u=h.radius),"textColor"in h&&r(2,a=h.textColor),"bgColor"in h&&r(3,l=h.bgColor),"weight"in h&&r(4,o=h.weight)},[n,u,a,l,o]}class VE extends Pt{constructor(t){super(),xt(this,t,UE,RE,Tt,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function Ai(e,t,r){const n=e[0]-t[0],u=e[1]-t[1],a=360+Math.atan2(u,n)*180/Math.PI,l=Math.sqrt(n*n+u*u);return[a%360,l/r]}function zn(e,t,r){const n=t[0]%360*Math.PI/180,u=[r*t[1]*Math.cos(n),r*t[1]*Math.sin(n)];return Kr(e,u)}function $l(e,t,r){const n=e[0]-t[0],u=e[1]-t[1],a=Math.sqrt(n*n+u*u),l=r/a,o=t[0]+n*l,h=t[1]+u*l;return[o,h]}function jE(e,t,r){const n=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(n*n+u*u)<r}function bp(e,t){const r=t%360*Math.PI/180;let n,u;const a=Math.cos(r),l=Math.sin(r);return n=(e[0]+5)*-1.2*a,u=(e[1]+5)*-1.2*l,n-=e[0],u-=e[1],[n,u]}function qE(e){return Math.round(e*100)}function Tr(e){return Math.round(Math.max(1-Math.pow(1-e,2),.25)*100)/100}function zE(e){const t=e.weightMode;let r="parsedWeight";switch(t){case wt.Circle:r="circleWeight";break;case wt.Bars:r="barWeight";break;case wt.Embed:r="embedWeight";break;case wt.Pie:r="pieWeight";break}return e.weightedPrompts?Math.max(...Object.values(e.weightedPrompts).map(n=>n[r])):0}function WE(e){const t=e.weightMode;let r="parsedWeight";switch(t){case wt.Circle:r="circleWeight";break;case wt.Bars:r="barWeight";break;case wt.Embed:r="embedWeight";break;case wt.Pie:r="pieWeight";break}return e.weightedPrompts?Object.values(e.weightedPrompts).reduce((n,u)=>n+u[r],0):0}function c0(e,t){const r=e.weightMode;let n="parsedWeight";switch(r){case wt.Circle:n="circleWeight";break;case wt.Bars:n="barWeight";break;case wt.Embed:n="embedWeight";break;case wt.Pie:n="pieWeight";break}return e.weightedPrompts[t]?e.weightedPrompts[t][n]/zE(e):0}function wi(e,t){const r=e.weightMode;let n="parsedWeight";switch(r){case"circle":n="circleWeight";break;case"bars":n="barWeight";break;case"embed":n="embedWeight";break;case"pie":n="pieWeight";break}if(!e.weightedPrompts[t])return 0;const u=e.weightedPrompts[t][n];return qE((u||0)/WE(e))}function HE(e,t,r){const a=r*.6,l=Math.floor(e/a);return Math.ceil(t/l)*r*1.2}function un(e,t,r){const n=HE(e,t,r)+10;return[e,n]}function es(e,t){const r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function Vs(e){return An(e,.5)}function Wi(e){const t=e.currentTarget;if(!t)throw new Error("No SVG element found");var r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const n=t.getScreenCTM();if(!n)throw new Error("No DOM Matrix found");const u=r.matrixTransform(n.inverse());return[u.x,u.y]}function h0(e,t,r){const n=e.slice();return n[18]=t[r][0],n[19]=t[r][1],n}function d0(e){let t,r,n=Object.entries(e[5].weightedPrompts).length>0,u,a;t=new _p({props:{xy:e[0],radius:e[1]}});let l=Object.entries(e[5].weightedPrompts),o=[];for(let f=0;f<l.length;f+=1)o[f]=p0(h0(e,l,f));const h=f=>Le(o[f],1,1,()=>{o[f]=null});let p=n&&v0(e);return{c(){dt(t.$$.fragment);for(let f=0;f<o.length;f+=1)o[f].c();r=Yt(),p&&p.c(),u=Yt()},l(f){pt(t.$$.fragment,f);for(let c=0;c<o.length;c+=1)o[c].l(f);r=Yt(),p&&p.l(f),u=Yt()},m(f,c){vt(t,f,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(f,c);we(f,r,c),p&&p.m(f,c),we(f,u,c),a=!0},p(f,c){const d={};if(c&1&&(d.xy=f[0]),c&2&&(d.radius=f[1]),t.$set(d),c&895){l=Object.entries(f[5].weightedPrompts);let g;for(g=0;g<l.length;g+=1){const y=h0(f,l,g);o[g]?(o[g].p(y,c),Pe(o[g],1)):(o[g]=p0(y),o[g].c(),Pe(o[g],1),o[g].m(r.parentNode,r))}for(an(),g=l.length;g<o.length;g+=1)h(g);sn()}c&32&&(n=Object.entries(f[5].weightedPrompts).length>0),n?p?(p.p(f,c),c&32&&Pe(p,1)):(p=v0(f),p.c(),Pe(p,1),p.m(u.parentNode,u)):p&&(an(),Le(p,1,1,()=>{p=null}),sn())},i(f){if(!a){Pe(t.$$.fragment,f);for(let c=0;c<l.length;c+=1)Pe(o[c]);Pe(p),a=!0}},o(f){Le(t.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)Le(o[c]);Le(p),a=!1},d(f){gt(t,f),cf(o,f),f&&R(r),p&&p.d(f),f&&R(u)}}}function p0(e){let t,r,n,u,a;t=new Dp({props:{p1:zn(e[0],e[5].circleMarker,e[1]),p2:e[6][e[18]].xy}});function l(){return e[12](e[18])}return r=new ia({props:{xy:e[6][e[18]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:l}}),n=new Us({props:{xy:e[9](e[6][e[18]].xy,un(e[3],e[19].text.length,e[4])),color:`rgba(255,255,255,${Tr(e[6][e[18]].unitWeight)}`,wh:un(e[3],e[19].text.length,e[4]),fontSize:e[4],text:e[19].text}}),u=new VE({props:{xy:An(Kr(zn(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5),weight:wi(e[5],e[18]),radius:15,textColor:`rgba(255,255,255,${Tr(e[6][e[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){dt(t.$$.fragment),dt(r.$$.fragment),dt(n.$$.fragment),dt(u.$$.fragment)},l(o){pt(t.$$.fragment,o),pt(r.$$.fragment,o),pt(n.$$.fragment,o),pt(u.$$.fragment,o)},m(o,h){vt(t,o,h),vt(r,o,h),vt(n,o,h),vt(u,o,h),a=!0},p(o,h){e=o;const p={};h&35&&(p.p1=zn(e[0],e[5].circleMarker,e[1])),h&96&&(p.p2=e[6][e[18]].xy),t.$set(p);const f={};h&96&&(f.xy=e[6][e[18]].xy),h&4&&(f.radius=e[2]),h&32&&(f.handleMouseDown=l),r.$set(f);const c={};h&120&&(c.xy=e[9](e[6][e[18]].xy,un(e[3],e[19].text.length,e[4]))),h&96&&(c.color=`rgba(255,255,255,${Tr(e[6][e[18]].unitWeight)}`),h&56&&(c.wh=un(e[3],e[19].text.length,e[4])),h&16&&(c.fontSize=e[4]),h&32&&(c.text=e[19].text),n.$set(c);const d={};h&99&&(d.xy=An(Kr(zn(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5)),h&32&&(d.weight=wi(e[5],e[18])),h&96&&(d.textColor=`rgba(255,255,255,${Tr(e[6][e[18]].unitWeight)}`),u.$set(d)},i(o){a||(Pe(t.$$.fragment,o),Pe(r.$$.fragment,o),Pe(n.$$.fragment,o),Pe(u.$$.fragment,o),a=!0)},o(o){Le(t.$$.fragment,o),Le(r.$$.fragment,o),Le(n.$$.fragment,o),Le(u.$$.fragment,o),a=!1},d(o){gt(t,o),gt(r,o),gt(n,o),gt(u,o)}}}function v0(e){let t,r;return t=new ia({props:{xy:zn(e[0],e[5].circleMarker,e[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:e[13]}}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},p(n,u){const a={};u&35&&(a.xy=zn(n[0],n[5].circleMarker,n[1])),t.$set(a)},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function GE(e){let t,r,n,u,a=e[6]&&e[5].weightedPrompts&&d0(e);return{c(){t=Ft("svg"),a&&a.c(),this.h()},l(l){t=St(l,"svg",{id:!0,class:!0});var o=ne(t);a&&a.l(o),o.forEach(R),this.h()},h(){x(t,"id","svg"),x(t,"class","w-full h-full")},m(l,o){we(l,t,o),a&&a.m(t,null),r=!0,n||(u=[ke(t,"mousemove",e[10]),ke(t,"mouseup",e[7]),ke(t,"dblclick",e[11])],n=!0)},p(l,[o]){l[6]&&l[5].weightedPrompts?a?(a.p(l,o),o&96&&Pe(a,1)):(a=d0(l),a.c(),Pe(a,1),a.m(t,null)):a&&(an(),Le(a,1,1,()=>{a=null}),sn())},i(l){r||(Pe(a),r=!0)},o(l){Le(a),r=!1},d(l){l&&R(t),a&&a.d(),n=!1,Nr(u)}}}function g0(e,t){return e?Object.entries(e).reduce((r,[n,u],a)=>{const l=r[n]||a*(360/Object.keys(e).length)-90;return r[n]=l,r},t):null}function KE(e,t,r){let n,u;Dt(e,$r,F=>r(5,u=F));let{center:a=[450,450]}=t,{radius:l=250}=t,{pointRadius:o=10}=t,{textWidth:h=150}=t,{fontSize:p=13}=t,f=[0,0],c=null;function d(F){c=null}function g(F){c=F}function y(F,O){let P=Ai(F,a,l)[0]-180;P<0&&(P+=360);const I=bp(Vs(O),P);return Kr(F,I)}function m(F){const O=jE(F,a,l)?Ai(F,a,l):Ai($l(F,a,l),a,l);r(6,n=E(u.weightedPrompts,a,l,u.circleWeightScaling,u.circleExponentialScaling,O,u.circleAngles))}function _(F){if(f=Wi(F),c==="main")m(f);else if(c){const O={...u.weightedPrompts[c]},P=$l(f,a,l),I=Ai(P,a,l)[0],k={...u.circleAngles};k[O.id]=I;const Y={...u.weightedPrompts};Y[c]=O,r(6,n=E(Y,a,l,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,k))}}function D(F){f=Wi(F),m(f)}function E(F,O,P,I,k,Y,q){if(!F||!O||!P||!I||!Y)return null;let z=Object.entries(F).reduce((V,[G,Q])=>(V[G]={xy:zn(O,[q[G],1],P)},V),{});z=Object.entries(z).reduce((V,[G,Q])=>(V[G]={...V[G],distance:es(Q.xy,zn(O,Y,P))},V),z);const Z=Object.values(z).reduce((V,G)=>V+G.distance,0);z=Object.entries(z).reduce((V,[G,Q])=>(V[G]={...V[G],unitDistance:Math.round(Q.distance/Z*100)/100},V),z),z=Object.entries(z).reduce((V,[G,Q])=>(V[G]={...V[G],invertedUnitDistance:Math.round((1-Q.unitDistance)*100)/100},V),z),z=Object.entries(z).reduce((V,[G,Q])=>(k?V[G]={...V[G],unitWeight:Math.round(Math.pow(1-Q.distance/(2*P),I)*100)/100}:V[G]={...V[G],unitWeight:Math.round((1-Q.distance/(2*P))*100)/100},V),z);const W={...F};return Object.entries(z).forEach(([V,G])=>{W[V].circleWeight=G.unitWeight}),Ut.update({...u,circleMarker:Y,weightedPrompts:W,circleAngles:q}),z}const w=F=>g(F),B=()=>g("main");return e.$$set=F=>{"center"in F&&r(0,a=F.center),"radius"in F&&r(1,l=F.radius),"pointRadius"in F&&r(2,o=F.pointRadius),"textWidth"in F&&r(3,h=F.textWidth),"fontSize"in F&&r(4,p=F.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.circleAngles).length!==Object.keys(u.weightedPrompts).length&&Ut.update({...u,circleAngles:g0(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,n=E(u.weightedPrompts,a,l,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,u.circleAngles||g0(u.weightedPrompts,{})))},[a,l,o,h,p,u,n,d,g,y,_,D,w,B]}class YE extends Pt{constructor(t){super(),xt(this,t,KE,GE,Tt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function m0(e){let t,r,n,u,a,l,o,h;return{c(){t=ue("div"),r=ue("label"),n=ue("span"),u=He("Scaling Power"),a=ze(),l=ue("input"),this.h()},l(p){t=ae(p,"DIV",{class:!0});var f=ne(t);r=ae(f,"LABEL",{class:!0});var c=ne(r);n=ae(c,"SPAN",{class:!0});var d=ne(n);u=Ge(d,"Scaling Power"),d.forEach(R),c.forEach(R),a=We(f),l=ae(f,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),f.forEach(R),this.h()},h(){x(n,"class","label-text"),x(r,"class","label"),x(l,"type","range"),x(l,"min","0.5"),x(l,"max","3"),x(l,"step","0.1"),x(l,"class","range"),x(t,"class","w-full px-2")},m(p,f){we(p,t,f),H(t,r),H(r,n),H(n,u),H(t,a),H(t,l),Ei(l,e[0]),o||(h=[ke(l,"change",e[6]),ke(l,"input",e[6])],o=!0)},p(p,f){f&1&&Ei(l,p[0])},d(p){p&&R(t),o=!1,Nr(h)}}}function $E(e){let t,r,n,u,a,l,o,h,p,f,c,d,g,y,m;r=new YE({props:{center:[Math.round(e[2]/2),Math.round(e[3]/2)],radius:Math.round(Math.min(e[2],e[3])/2)-150}});let _=e[1]&&m0(e);return{c(){t=ue("div"),dt(r.$$.fragment),u=ze(),a=ue("div"),l=ue("div"),o=ue("label"),h=ue("span"),p=He("Exponential Scaling"),f=ze(),c=ue("input"),d=ze(),_&&_.c(),this.h()},l(D){t=ae(D,"DIV",{class:!0});var E=ne(t);pt(r.$$.fragment,E),E.forEach(R),u=We(D),a=ae(D,"DIV",{class:!0});var w=ne(a);l=ae(w,"DIV",{class:!0});var B=ne(l);o=ae(B,"LABEL",{class:!0});var F=ne(o);h=ae(F,"SPAN",{class:!0});var O=ne(h);p=Ge(O,"Exponential Scaling"),O.forEach(R),F.forEach(R),f=We(B),c=ae(B,"INPUT",{type:!0,class:!0}),B.forEach(R),d=We(w),_&&_.l(w),w.forEach(R),this.h()},h(){x(t,"class","w-full h-full"),Os(()=>e[4].call(t)),x(h,"class","label-text"),x(o,"class","label"),x(c,"type","checkbox"),x(c,"class","toggle"),x(l,"class","w-52 px-2"),x(a,"class","px-2 py-4 pb-0 flex")},m(D,E){we(D,t,E),vt(r,t,null),n=Ms(t,e[4].bind(t)),we(D,u,E),we(D,a,E),H(a,l),H(l,o),H(o,h),H(h,p),H(l,f),H(l,c),c.checked=e[1],H(a,d),_&&_.m(a,null),g=!0,y||(m=ke(c,"change",e[5]),y=!0)},p(D,[E]){const w={};E&12&&(w.center=[Math.round(D[2]/2),Math.round(D[3]/2)]),E&12&&(w.radius=Math.round(Math.min(D[2],D[3])/2)-150),r.$set(w),E&2&&(c.checked=D[1]),D[1]?_?_.p(D,E):(_=m0(D),_.c(),_.m(a,null)):_&&(_.d(1),_=null)},i(D){g||(Pe(r.$$.fragment,D),g=!0)},o(D){Le(r.$$.fragment,D),g=!1},d(D){D&&R(t),gt(r),n(),D&&R(u),D&&R(a),_&&_.d(),y=!1,m()}}}function ZE(e,t,r){let n;Dt(e,$r,c=>r(7,n=c));let u,a,l=n.circleWeightScaling||2,o=jd(n.circleExponentialScaling)?!0:n.circleExponentialScaling;function h(){u=this.clientWidth,a=this.clientHeight,r(2,u),r(3,a)}function p(){o=this.checked,r(1,o)}function f(){l=ty(this.value),r(0,l)}return e.$$.update=()=>{e.$$.dirty&3&&Ut.update({...Ut.get(),circleExponentialScaling:o,circleWeightScaling:l})},[l,o,u,a,h,p,f]}class XE extends Pt{constructor(t){super(),xt(this,t,ZE,$E,Tt,{})}}function JE(e){let t,r,n,u,a,l,o;return{c(){t=Ft("rect"),this.h()},l(h){t=St(h,"rect",{x:!0,y:!0,width:!0,height:!0}),ne(t).forEach(R),this.h()},h(){x(t,"x",r=e[0][0]),x(t,"y",n=e[0][1]),x(t,"width",u=Math.max(e[1][0],0)),x(t,"height",a=Math.max(e[1][1],0)),er(t,"fill",e[2])},m(h,p){we(h,t,p),l||(o=[ke(t,"mouseover",function(){nl(e[4])&&e[4].apply(this,arguments)}),ke(t,"mouseout",function(){nl(e[5])&&e[5].apply(this,arguments)}),ke(t,"mousedown",function(){nl(e[3])&&e[3].apply(this,arguments)})],l=!0)},p(h,[p]){e=h,p&1&&r!==(r=e[0][0])&&x(t,"x",r),p&1&&n!==(n=e[0][1])&&x(t,"y",n),p&2&&u!==(u=Math.max(e[1][0],0))&&x(t,"width",u),p&2&&a!==(a=Math.max(e[1][1],0))&&x(t,"height",a),p&4&&er(t,"fill",e[2])},i:Te,o:Te,d(h){h&&R(t),l=!1,Nr(o)}}}function QE(e,t,r){let{xy:n=[500,500]}=t,{wh:u=[100,100]}=t,{color:a="rgba(46,67,101, 0.4)"}=t,{handleMouseDown:l=p=>{}}=t,{handleMouseOver:o=p=>{}}=t,{handleMouseOut:h=p=>{}}=t;return e.$$set=p=>{"xy"in p&&r(0,n=p.xy),"wh"in p&&r(1,u=p.wh),"color"in p&&r(2,a=p.color),"handleMouseDown"in p&&r(3,l=p.handleMouseDown),"handleMouseOver"in p&&r(4,o=p.handleMouseOver),"handleMouseOut"in p&&r(5,h=p.handleMouseOut)},[n,u,a,l,o,h]}class ll extends Pt{constructor(t){super(),xt(this,t,QE,JE,Tt,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function _0(e,t,r){const n=e.slice();return n[51]=t[r][0],n[52]=t[r][1],n[53]=t[r][2],n}function D0(e,t){let r,n,u,a,l,o;n=new Us({props:{xy:[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]],color:`rgba(255,255,255,${Tr(t[53].barWeight/t[12]||0)})`,wh:t[5][t[51]],text:t[53].text,textAlign:"right",fontSize:t[1]}});function h(...d){return t[39](t[51],...d)}u=new ll({props:{color:t[13](0),handleMouseOver:h,handleMouseOut:t[40],xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[t[11],t[4]-2]}});function p(...d){return t[41](t[51],...d)}a=new ll({props:{color:t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](Tr((t[53].barWeight||0)/t[12]+.15)):t[13](Tr(t[53].barWeight||0)),handleMouseOver:p,handleMouseOut:t[42],xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[(t[53].barWeight||0)*t[11],t[4]-2]}});function f(...d){return t[43](t[51],...d)}function c(...d){return t[45](t[51],...d)}return l=new ll({props:{color:t[9]===t[51]?t[15]:t[14],handleMouseOver:f,handleMouseOut:t[44],handleMouseDown:c,xy:[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]],wh:[t[2],t[4]-2]}}),{key:e,first:null,c(){r=Yt(),dt(n.$$.fragment),dt(u.$$.fragment),dt(a.$$.fragment),dt(l.$$.fragment),this.h()},l(d){r=Yt(),pt(n.$$.fragment,d),pt(u.$$.fragment,d),pt(a.$$.fragment,d),pt(l.$$.fragment,d),this.h()},h(){this.first=r},m(d,g){we(d,r,g),vt(n,d,g),vt(u,d,g),vt(a,d,g),vt(l,d,g),o=!0},p(d,g){t=d;const y={};g[0]&89&&(y.xy=[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]]),g[0]&4160&&(y.color=`rgba(255,255,255,${Tr(t[53].barWeight/t[12]||0)})`),g[0]&96&&(y.wh=t[5][t[51]]),g[0]&64&&(y.text=t[53].text),g[0]&2&&(y.fontSize=t[1]),n.$set(y);const m={};g[0]&64&&(m.handleMouseOver=h),g[0]&1112&&(m.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),g[0]&2064&&(m.wh=[t[11],t[4]-2]),u.$set(m);const _={};g[0]&5056&&(_.color=t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](Tr((t[53].barWeight||0)/t[12]+.15)):t[13](Tr(t[53].barWeight||0))),g[0]&64&&(_.handleMouseOver=p),g[0]&1112&&(_.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),g[0]&2128&&(_.wh=[(t[53].barWeight||0)*t[11],t[4]-2]),a.$set(_);const D={};g[0]&576&&(D.color=t[9]===t[51]?t[15]:t[14]),g[0]&64&&(D.handleMouseOver=f),g[0]&64&&(D.handleMouseDown=c),g[0]&3160&&(D.xy=[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]]),g[0]&20&&(D.wh=[t[2],t[4]-2]),l.$set(D)},i(d){o||(Pe(n.$$.fragment,d),Pe(u.$$.fragment,d),Pe(a.$$.fragment,d),Pe(l.$$.fragment,d),o=!0)},o(d){Le(n.$$.fragment,d),Le(u.$$.fragment,d),Le(a.$$.fragment,d),Le(l.$$.fragment,d),o=!1},d(d){d&&R(r),gt(n,d),gt(u,d),gt(a,d),gt(l,d)}}}function e2(e){let t,r=[],n=new Map,u,a,l,o=e[6];const h=p=>p[51];for(let p=0;p<o.length;p+=1){let f=_0(e,o,p),c=h(f);n.set(c,r[p]=D0(c,f))}return{c(){t=Ft("svg");for(let p=0;p<r.length;p+=1)r[p].c();this.h()},l(p){t=St(p,"svg",{id:!0,class:!0});var f=ne(t);for(let c=0;c<r.length;c+=1)r[c].l(f);f.forEach(R),this.h()},h(){x(t,"id","svg"),x(t,"class","w-full h-full")},m(p,f){we(p,t,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);u=!0,a||(l=[ke(t,"mousemove",e[25]),ke(t,"mouseup",e[24]),ke(t,"dblclick",e[23])],a=!0)},p(p,f){f[0]&8388607&&(o=p[6],an(),r=Bi(r,f,h,1,p,o,n,t,kd,D0,null,_0),sn())},i(p){if(!u){for(let f=0;f<o.length;f+=1)Pe(r[f]);u=!0}},o(p){for(let f=0;f<r.length;f+=1)Le(r[f]);u=!1},d(p){p&&R(t);for(let f=0;f<r.length;f+=1)r[f].d();a=!1,Nr(l)}}}function t2(e,t,r){let n,u,a,l,o,h,p,f,c,d,g,y,m;Dt(e,$r,Ae=>r(38,m=Ae));let{center:_=[0,0]}=t,{dimensions:D=[100,100]}=t,{maxWidth:E=1e3}=t,{pointRadius:w=10}=t,{textWidth:B=250}=t,{horizontalPad:F=20}=t,{verticalPad:O=2}=t,{textBarPad:P=10}=t,{fontSize:I=13}=t,{handleWidth:k=20}=t,Y=Ae=>`rgba(46,67,101, ${Ae})`,q=Ae=>`rgba(76,97,131, ${Ae})`,z=null,Z=null,W=null,V=q(.3),G=q(.8),Q=null,X=null,J=null;function le(Ae){r(8,Z=Ae)}function me(Ae){r(7,z=Ae)}function Ce(Ae){r(9,W=Ae)}function be(){r(8,Z=null)}function Ie(){r(7,z=null)}function Ve(){r(9,W=null)}function Oe(Ae){Q=Ae}function et(Ae){let Se=Q||Z||W||z;if(!Se)return;const At=Wi(Ae);Ne(Se,At)}function je(){Q=null,X&&clearInterval(X),X=null,J=null}function Ne(Ae,Se){let Lt=Math.min(d,Math.max(0,Se[0]-g))/d,Wt={...m.weightedPrompts},L={...Wt[Ae]};L.barWeight=Lt,Wt[Ae]=L,Ut.update({...m,weightedPrompts:Wt})}function Re(Ae){let Se=Q;if(!Se)return;const At=Wi(Ae);if(Ne(Se,At),Q){let Lt=g+d+k,Wt=g;At[0]>Lt&&!X?(J=Date.now(),X=setInterval(()=>{if(!J||Date.now()-J<1e3)return;let L={...m.weightedPrompts};const j=Object.entries(L).reduce(($,[fe,ie])=>{const he=parseInt(fe);return he!==Q?$[he]={...ie,barWeight:Math.max(0,(ie.barWeight||0)-.01)}:$[he]={...ie,barWeight:Math.min(1,(ie.barWeight||0)+.01)},$},{});Ut.update({...m,weightedPrompts:j})},100)):At[0]<Wt&&!X?(J=Date.now(),X=setInterval(()=>{if(!J||Date.now()-J<1e3)return;let L={...m.weightedPrompts};const j=Object.entries(L).reduce(($,[fe,ie])=>{const he=parseInt(fe);return he!==Q?$[he]={...ie,barWeight:Math.min(1,(ie.barWeight||0)+.01)}:$[he]={...ie,barWeight:Math.max(0,(ie.barWeight||0)-.01)},$},{});Ut.update({...m,weightedPrompts:j})},100)):At[0]<Lt&&At[0]>Wt&&X&&(clearInterval(X),X=null,J=null)}}const lt=(Ae,Se)=>me(Ae),tt=Ae=>Ie(),ut=(Ae,Se)=>le(Ae),rt=Ae=>be(),nt=(Ae,Se)=>Ce(Ae),Ke=Ae=>Ve(),Ye=(Ae,Se)=>Oe(Ae);return e.$$set=Ae=>{"center"in Ae&&r(26,_=Ae.center),"dimensions"in Ae&&r(27,D=Ae.dimensions),"maxWidth"in Ae&&r(28,E=Ae.maxWidth),"pointRadius"in Ae&&r(29,w=Ae.pointRadius),"textWidth"in Ae&&r(30,B=Ae.textWidth),"horizontalPad"in Ae&&r(0,F=Ae.horizontalPad),"verticalPad"in Ae&&r(31,O=Ae.verticalPad),"textBarPad"in Ae&&r(32,P=Ae.textBarPad),"fontSize"in Ae&&r(1,I=Ae.fontSize),"handleWidth"in Ae&&r(2,k=Ae.handleWidth)},e.$$.update=()=>{e.$$.dirty[1]&128&&r(6,n=Object.entries(m.weightedPrompts).map(([Ae,Se],At)=>[parseInt(Ae),At,Se])),e.$$.dirty[1]&128&&r(36,u=Object.keys(m.weightedPrompts).length),e.$$.dirty[0]&134217728&&r(35,a=[D[0]-50,D[1]-50]),e.$$.dirty[0]&1073741890&&r(5,l=n.reduce((Ae,[Se,At,Lt])=>{const[Wt,L]=un(B,Lt.text.length,I);return Ae[Se]=[Wt,L],Ae},{})),e.$$.dirty[0]&32&&r(37,o=Math.max(...Object.values(l).map(([Ae,Se])=>Se))),e.$$.dirty[1]&112&&r(4,h=Math.min(a[1]/u,o)),e.$$.dirty[0]&16|e.$$.dirty[1]&33&&r(34,p=h*u+O*Math.max(u-1,0)),e.$$.dirty[0]&268435456|e.$$.dirty[1]&16&&r(33,f=Math.min(a[0],E)),e.$$.dirty[0]&67108864|e.$$.dirty[1]&12&&r(3,c=[_[0]-f/2,_[1]-p/2]),e.$$.dirty[0]&1073741829|e.$$.dirty[1]&6&&r(11,d=f-P-B-2*F-k),e.$$.dirty[0]&1073741833|e.$$.dirty[1]&2&&r(10,g=c[0]+P+B+F),e.$$.dirty[1]&128&&r(12,y=Math.max(...Object.values(m.weightedPrompts).map(Ae=>Ae.barWeight||0)))},[F,I,k,c,h,l,n,z,Z,W,g,d,y,Y,V,G,le,me,Ce,be,Ie,Ve,Oe,et,je,Re,_,D,E,w,B,O,P,f,p,a,u,o,m,lt,tt,ut,rt,nt,Ke,Ye]}class r2 extends Pt{constructor(t){super(),xt(this,t,t2,e2,Tt,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function n2(e){let t,r,n,u;return r=new r2({props:{dimensions:e[2],center:e[3]}}),{c(){t=ue("div"),dt(r.$$.fragment),this.h()},l(a){t=ae(a,"DIV",{class:!0});var l=ne(t);pt(r.$$.fragment,l),l.forEach(R),this.h()},h(){x(t,"class","w-full h-full"),Os(()=>e[4].call(t))},m(a,l){we(a,t,l),vt(r,t,null),n=Ms(t,e[4].bind(t)),u=!0},p(a,[l]){const o={};l&4&&(o.dimensions=a[2]),l&8&&(o.center=a[3]),r.$set(o)},i(a){u||(Pe(r.$$.fragment,a),u=!0)},o(a){Le(r.$$.fragment,a),u=!1},d(a){a&&R(t),gt(r),n()}}}function i2(e,t,r){let n,u,a,l;function o(){a=this.clientWidth,l=this.clientHeight,r(0,a),r(1,l)}return e.$$.update=()=>{e.$$.dirty&3&&r(2,n=[a||0,l||0]),e.$$.dirty&4&&r(3,u=Vs(n))},[a,l,n,u,o]}class u2 extends Pt{constructor(t){super(),xt(this,t,i2,n2,Tt,{})}}function a2(e){let t,r,n,u,a;return{c(){t=Ft("line"),this.h()},l(l){t=St(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),ne(t).forEach(R),this.h()},h(){x(t,"x1",r=e[0][0]),x(t,"y1",n=e[0][1]),x(t,"x2",u=e[1][0]),x(t,"y2",a=e[1][1]),x(t,"stroke",e[3]),x(t,"stroke-width",e[2])},m(l,o){we(l,t,o)},p(l,[o]){o&1&&r!==(r=l[0][0])&&x(t,"x1",r),o&1&&n!==(n=l[0][1])&&x(t,"y1",n),o&2&&u!==(u=l[1][0])&&x(t,"x2",u),o&2&&a!==(a=l[1][1])&&x(t,"y2",a),o&8&&x(t,"stroke",l[3]),o&4&&x(t,"stroke-width",l[2])},i:Te,o:Te,d(l){l&&R(t)}}}function s2(e,t,r){let{p1:n=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=o=>{"p1"in o&&r(0,n=o.p1),"p2"in o&&r(1,u=o.p2),"stroke"in o&&r(2,a=o.stroke),"color"in o&&r(3,l=o.color)},[n,u,a,l]}class o2 extends Pt{constructor(t){super(),xt(this,t,s2,a2,Tt,{p1:0,p2:1,stroke:2,color:3})}}function b0(e,t,r){const n=e.slice();return n[25]=t[r][0],n[26]=t[r][1],n}function y0(e){let t,r,n;t=new _p({props:{xy:e[0],radius:e[1]}});let u=Object.entries(e[5].weightedPrompts),a=[];for(let o=0;o<u.length;o+=1)a[o]=A0(b0(e,u,o));const l=o=>Le(a[o],1,1,()=>{a[o]=null});return{c(){dt(t.$$.fragment);for(let o=0;o<a.length;o+=1)a[o].c();r=Yt()},l(o){pt(t.$$.fragment,o);for(let h=0;h<a.length;h+=1)a[h].l(o);r=Yt()},m(o,h){vt(t,o,h);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(o,h);we(o,r,h),n=!0},p(o,h){const p={};if(h&1&&(p.xy=o[0]),h&2&&(p.radius=o[1]),t.$set(p),h&6015){u=Object.entries(o[5].weightedPrompts);let f;for(f=0;f<u.length;f+=1){const c=b0(o,u,f);a[f]?(a[f].p(c,h),Pe(a[f],1)):(a[f]=A0(c),a[f].c(),Pe(a[f],1),a[f].m(r.parentNode,r))}for(an(),f=u.length;f<a.length;f+=1)l(f);sn()}},i(o){if(!n){Pe(t.$$.fragment,o);for(let h=0;h<u.length;h+=1)Pe(a[h]);n=!0}},o(o){Le(t.$$.fragment,o),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)Le(a[h]);n=!1},d(o){gt(t,o),cf(a,o),o&&R(r)}}}function A0(e){let t,r,n,u,a,l,o,h,p;t=new o2({props:{p1:e[0],p2:e[6][e[25]].xy}});function f(...g){return e[13](e[25],...g)}function c(...g){return e[14](e[25],...g)}function d(){return e[15](e[25])}return a=new ia({props:{xy:e[6][e[25]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:d}}),l=new Us({props:{xy:e[9](e[6][e[25]].textXY,un(e[3],e[26].text.length,e[4])),color:`rgba(255,255,255,${Tr(e[6][e[25]].unitWeight)}`,wh:un(e[3],e[26].text.length,e[4]),fontSize:e[4],text:e[26].text}}),{c(){dt(t.$$.fragment),r=Ft("path"),dt(a.$$.fragment),dt(l.$$.fragment),this.h()},l(g){pt(t.$$.fragment,g),r=St(g,"path",{d:!0,fill:!0}),ne(r).forEach(R),pt(a.$$.fragment,g),pt(l.$$.fragment,g),this.h()},h(){x(r,"d",n=E0(e[0],e[1],e[6][e[25]].angle,e[6][e[25]].angle+e[6][e[25]].angleDiff)),x(r,"fill",u=`rgba(26,47,91,${Tr(e[6][e[25]].unitWeight)/4}`)},m(g,y){vt(t,g,y),we(g,r,y),vt(a,g,y),vt(l,g,y),o=!0,h||(p=[ke(r,"mousewheel",f),ke(r,"mousedown",c)],h=!0)},p(g,y){e=g;const m={};y&1&&(m.p1=e[0]),y&96&&(m.p2=e[6][e[25]].xy),t.$set(m),(!o||y&99&&n!==(n=E0(e[0],e[1],e[6][e[25]].angle,e[6][e[25]].angle+e[6][e[25]].angleDiff)))&&x(r,"d",n),(!o||y&96&&u!==(u=`rgba(26,47,91,${Tr(e[6][e[25]].unitWeight)/4}`))&&x(r,"fill",u);const _={};y&96&&(_.xy=e[6][e[25]].xy),y&4&&(_.radius=e[2]),y&32&&(_.handleMouseDown=d),a.$set(_);const D={};y&120&&(D.xy=e[9](e[6][e[25]].textXY,un(e[3],e[26].text.length,e[4]))),y&96&&(D.color=`rgba(255,255,255,${Tr(e[6][e[25]].unitWeight)}`),y&56&&(D.wh=un(e[3],e[26].text.length,e[4])),y&16&&(D.fontSize=e[4]),y&32&&(D.text=e[26].text),l.$set(D)},i(g){o||(Pe(t.$$.fragment,g),Pe(a.$$.fragment,g),Pe(l.$$.fragment,g),o=!0)},o(g){Le(t.$$.fragment,g),Le(a.$$.fragment,g),Le(l.$$.fragment,g),o=!1},d(g){gt(t,g),g&&R(r),gt(a,g),gt(l,g),h=!1,Nr(p)}}}function l2(e){let t,r,n,u,a=e[6]&&e[5].weightedPrompts&&y0(e);return{c(){t=Ft("svg"),a&&a.c(),this.h()},l(l){t=St(l,"svg",{id:!0,class:!0});var o=ne(t);a&&a.l(o),o.forEach(R),this.h()},h(){x(t,"id","svg"),x(t,"class","w-full h-full")},m(l,o){we(l,t,o),a&&a.m(t,null),r=!0,n||(u=[ke(t,"mousemove",e[11]),ke(t,"mouseup",e[7])],n=!0)},p(l,[o]){l[6]&&l[5].weightedPrompts?a?(a.p(l,o),o&96&&Pe(a,1)):(a=y0(l),a.c(),Pe(a,1),a.m(t,null)):a&&(an(),Le(a,1,1,()=>{a=null}),sn())},i(l){r||(Pe(a),r=!0)},o(l){Le(a),r=!1},d(l){l&&R(t),a&&a.d(),n=!1,Nr(u)}}}function w0(e,t){return e?Object.entries(e).reduce((r,[n,u],a)=>{const l=r[n]||a*(360/Object.keys(e).length)-90;return r[n]=Hr(l),r},t):null}function f2(e,t){if(e.length!==t.length)return!1;const r=e.length;let n=-1;for(let u=0;u<r;u++)if(t[u]===e[0]){n=u;break}if(n===-1)return!1;for(let u=0;u<r;u++)if(e[u]!==t[(u+n)%r])return!1;return!0}function Hr(e){return e<0?360+-1*(Math.abs(e)%360):e>360?e%360:e}function E0(e,t,r,n){const u=e[0]+t*Math.cos(r*Math.PI/180),a=e[1]+t*Math.sin(r*Math.PI/180),l=e[0]+t*Math.cos(n*Math.PI/180),o=e[1]+t*Math.sin(n*Math.PI/180),h=n-r<=180?"0":"1";return`M${e[0]},${e[1]} L${u},${a} A${t},${t} 0 ${h} 1 ${l},${o} Z`}function c2(e,t,r){let n,u;Dt(e,$r,q=>r(5,u=q));let{center:a=[450,450]}=t,{radius:l=250}=t,{pointRadius:o=10}=t,{textWidth:h=150}=t,{fontSize:p=13}=t,f=[0,0],c=null,d={},g=null,y;function m(q){g=null,y=null,c=null,d={}}function _(q){g=q}function D(q,z){let Z=Ai(q,a,l)[0]-180;Z<0&&(Z+=360);const W=bp(Vs(z),Z);return Kr(q,W)}function E(q,z){y=z}function w(q){const z=y,Z={...u.pieAngles},W=Object.entries(Z).sort((be,Ie)=>Hr(be[1])-Hr(Ie[1])).map(be=>be[0]),V=W.indexOf(z),G=V+1===W.length?0:V+1,Q=W[G];d[z]||(d[z]=Z[z]),d[Q]||(d[Q]=Z[Q]);const J=Ai(q,a,l)[0]-c,le={...Z};le[z]=Hr(J+d[z]),le[Q]=Hr(J+d[Q]);const me=Object.entries(le).sort((be,Ie)=>Hr(be[1])-Hr(Ie[1])).map(be=>be[0]);f2(W,me)&&r(6,n=P(u.weightedPrompts,a,l,le))}function B(q){const z={...u.weightedPrompts[g]},Z=$l(q,a,l),W=Hr(Ai(Z,a,l)[0]),V={...u.pieAngles};console.log(V),V[z.id]=W;const G={...u.weightedPrompts};G[g]=z,r(6,n=P(G,a,l,V))}function F(q){q.preventDefault(),f=Wi(q),g?B(f):y?w(f):c=Ai(f,a,l)[0]}function O(q,z){q.preventDefault();const Z={...u.pieAngles},W=Object.entries(Z).sort((X,J)=>Hr(X[1])-Hr(J[1])).map(X=>X[0]),V=W.indexOf(z),G=V+1===W.length?0:V+1,Q=W[G];Z[z]=Hr(Z[z]-q.deltaY/100),Z[Q]=Hr(Z[Q]+q.deltaY/100),r(6,n=P(u.weightedPrompts,a,l,Z))}function P(q,z,Z,W){if(!q||!z||!Z)return null;const V=Object.entries(q).sort((le,me)=>Hr(W[le[0]])-Hr(W[me[0]])),G=V.map((le,me)=>{const Ce=me+1===V.length?0:me+1,be=W[V[Ce][0]]-W[V[me][0]];return be<0?[le[0],360+be]:[le[0],be]}),Q=Math.max(...G.map(le=>le[1])),X=G.reduce((le,[me,Ce])=>{({...q[me]});const be=W[me],Ie=zn(z,[be,1],Z),Ve=zn(z,[be+.5*Ce,1],Z),Oe=Ce/Q;return le[me]={xy:Ie,textXY:Ve,angle:be,angleDiff:Ce,unitWeight:Oe},le},{}),J={...q};return Object.entries(X).forEach(([le,me])=>{J[le].pieWeight=me.unitWeight}),Ut.update({...u,weightedPrompts:J,pieAngles:W}),X}const I=(q,z)=>O(z,q),k=(q,z)=>E(z,q),Y=q=>_(q);return e.$$set=q=>{"center"in q&&r(0,a=q.center),"radius"in q&&r(1,l=q.radius),"pointRadius"in q&&r(2,o=q.pointRadius),"textWidth"in q&&r(3,h=q.textWidth),"fontSize"in q&&r(4,p=q.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.pieAngles||{}).length!==Object.keys(u.weightedPrompts).length&&Ut.update({...u,pieAngles:w0(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,n=P(u.weightedPrompts,a,l,u.pieAngles||w0(u.weightedPrompts,{})))},[a,l,o,h,p,u,n,m,_,D,E,F,O,I,k,Y]}class h2 extends Pt{constructor(t){super(),xt(this,t,c2,l2,Tt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function d2(e){let t,r,n,u;return r=new h2({props:{center:[Math.round(e[0]/2),Math.round(e[1]/2)],radius:Math.round(Math.min(e[0],e[1])/2)-150}}),{c(){t=ue("div"),dt(r.$$.fragment),this.h()},l(a){t=ae(a,"DIV",{class:!0});var l=ne(t);pt(r.$$.fragment,l),l.forEach(R),this.h()},h(){x(t,"class","w-full h-full"),Os(()=>e[2].call(t))},m(a,l){we(a,t,l),vt(r,t,null),n=Ms(t,e[2].bind(t)),u=!0},p(a,[l]){const o={};l&3&&(o.center=[Math.round(a[0]/2),Math.round(a[1]/2)]),l&3&&(o.radius=Math.round(Math.min(a[0],a[1])/2)-150),r.$set(o)},i(a){u||(Pe(r.$$.fragment,a),u=!0)},o(a){Le(r.$$.fragment,a),u=!1},d(a){a&&R(t),gt(r),n()}}}function p2(e,t,r){let n,u;function a(){n=this.clientWidth,u=this.clientHeight,r(0,n),r(1,u)}return[n,u,a]}class v2 extends Pt{constructor(t){super(),xt(this,t,p2,d2,Tt,{})}}var hs={},g2={get exports(){return hs},set exports(e){hs=e}},ds={},m2={get exports(){return ds},set exports(e){ds=e}},vu=typeof Reflect=="object"?Reflect:null,C0=vu&&typeof vu.apply=="function"?vu.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ts;vu&&typeof vu.ownKeys=="function"?ts=vu.ownKeys:Object.getOwnPropertySymbols?ts=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ts=function(t){return Object.getOwnPropertyNames(t)};function _2(e){console&&console.warn&&console.warn(e)}var yp=Number.isNaN||function(t){return t!==t};function Nt(){Nt.init.call(this)}m2.exports=Nt;ds.once=A2;Nt.EventEmitter=Nt;Nt.prototype._events=void 0;Nt.prototype._eventsCount=0;Nt.prototype._maxListeners=void 0;var F0=10;function js(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Nt,"defaultMaxListeners",{enumerable:!0,get:function(){return F0},set:function(e){if(typeof e!="number"||e<0||yp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");F0=e}});Nt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Nt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||yp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ap(e){return e._maxListeners===void 0?Nt.defaultMaxListeners:e._maxListeners}Nt.prototype.getMaxListeners=function(){return Ap(this)};Nt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var u=t==="error",a=this._events;if(a!==void 0)u=u&&a.error===void 0;else if(!u)return!1;if(u){var l;if(r.length>0&&(l=r[0]),l instanceof Error)throw l;var o=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw o.context=l,o}var h=a[t];if(h===void 0)return!1;if(typeof h=="function")C0(h,this,r);else for(var p=h.length,f=Sp(h,p),n=0;n<p;++n)C0(f[n],this,r);return!0};function wp(e,t,r,n){var u,a,l;if(js(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),l=a[t]),l===void 0)l=a[t]=r,++e._eventsCount;else if(typeof l=="function"?l=a[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),u=Ap(e),u>0&&l.length>u&&!l.warned){l.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=l.length,_2(o)}return e}Nt.prototype.addListener=function(t,r){return wp(this,t,r,!1)};Nt.prototype.on=Nt.prototype.addListener;Nt.prototype.prependListener=function(t,r){return wp(this,t,r,!0)};function D2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ep(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=D2.bind(n);return u.listener=r,n.wrapFn=u,u}Nt.prototype.once=function(t,r){return js(r),this.on(t,Ep(this,t,r)),this};Nt.prototype.prependOnceListener=function(t,r){return js(r),this.prependListener(t,Ep(this,t,r)),this};Nt.prototype.removeListener=function(t,r){var n,u,a,l,o;if(js(r),u=this._events,u===void 0)return this;if(n=u[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,l=n.length-1;l>=0;l--)if(n[l]===r||n[l].listener===r){o=n[l].listener,a=l;break}if(a<0)return this;a===0?n.shift():b2(n,a),n.length===1&&(u[t]=n[0]),u.removeListener!==void 0&&this.emit("removeListener",t,o||r)}return this};Nt.prototype.off=Nt.prototype.removeListener;Nt.prototype.removeAllListeners=function(t){var r,n,u;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),l;for(u=0;u<a.length;++u)l=a[u],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function Cp(e,t,r){var n=e._events;if(n===void 0)return[];var u=n[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?y2(u):Sp(u,u.length)}Nt.prototype.listeners=function(t){return Cp(this,t,!0)};Nt.prototype.rawListeners=function(t){return Cp(this,t,!1)};Nt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Fp.call(e,t)};Nt.prototype.listenerCount=Fp;function Fp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Nt.prototype.eventNames=function(){return this._eventsCount>0?ts(this._events):[]};function Sp(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b2(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y2(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function A2(e,t){return new Promise(function(r,n){function u(l){e.removeListener(t,a),n(l)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}Bp(e,t,a,{once:!0}),t!=="error"&&w2(e,u,{once:!0})})}function w2(e,t,r){typeof e.on=="function"&&Bp(e,"error",t,r)}function Bp(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(a){n.once&&e.removeEventListener(t,u),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function E2(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var C2=E2;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var F2=function(e){return e!=null&&(Op(e)||S2(e)||!!e._isBuffer)};function Op(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function S2(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Op(e.slice(0,0))}var B2=C2,O2=F2,M2=typeof Float64Array<"u";function P2(e,t){return e[0]-t[0]}function x2(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(P2);var n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=t[r][1];return n}function T2(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n=e==="generic";if(t===-1){var u="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",m=new Function(u);return m()}else if(t===0){var u="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",m=new Function("TrivialArray",u);return m(ps[e][0])}var u=["'use strict'"],a=B2(t),l=a.map(function(_){return"i"+_}),o="this.offset+"+a.map(function(_){return"this.stride["+_+"]*i"+_}).join("+"),h=a.map(function(_){return"b"+_}).join(","),p=a.map(function(_){return"c"+_}).join(",");u.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),u.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(_){return"this.shape["+_+"]"}).join("*"),"}})"),t===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),t<4?(u.push("function "+r+"_order(){"),t===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+r+"_set("+l.join(",")+",v){"),n?u.push("return this.data.set("+o+",v)}"):u.push("return this.data["+o+"]=v}"),u.push("proto.get=function "+r+"_get("+l.join(",")+"){"),n?u.push("return this.data.get("+o+")}"):u.push("return this.data["+o+"]}"),u.push("proto.index=function "+r+"_index(",l.join(),"){return "+o+"}"),u.push("proto.hi=function "+r+"_hi("+l.join(",")+"){return new "+r+"(this.data,"+a.map(function(_){return["(typeof i",_,"!=='number'||i",_,"<0)?this.shape[",_,"]:i",_,"|0"].join("")}).join(",")+","+a.map(function(_){return"this.stride["+_+"]"}).join(",")+",this.offset)}");var f=a.map(function(_){return"a"+_+"=this.shape["+_+"]"}),c=a.map(function(_){return"c"+_+"=this.stride["+_+"]"});u.push("proto.lo=function "+r+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+c.join(","));for(var d=0;d<t;++d)u.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");u.push("return new "+r+"(this.data,"+a.map(function(_){return"a"+_}).join(",")+","+a.map(function(_){return"c"+_}).join(",")+",b)}"),u.push("proto.step=function "+r+"_step("+l.join(",")+"){var "+a.map(function(_){return"a"+_+"=this.shape["+_+"]"}).join(",")+","+a.map(function(_){return"b"+_+"=this.stride["+_+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var d=0;d<t;++d)u.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");u.push("return new "+r+"(this.data,"+a.map(function(_){return"a"+_}).join(",")+","+a.map(function(_){return"b"+_}).join(",")+",c)}");for(var g=new Array(t),y=new Array(t),d=0;d<t;++d)g[d]="a[i"+d+"]",y[d]="b[i"+d+"]";u.push("proto.transpose=function "+r+"_transpose("+l+"){"+l.map(function(_,D){return _+"=("+_+"===undefined?"+D+":"+_+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),u.push("proto.pick=function "+r+"_pick("+l+"){var a=[],b=[],c=this.offset");for(var d=0;d<t;++d)u.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(_){return"shape["+_+"]"}).join(",")+","+a.map(function(_){return"stride["+_+"]"}).join(",")+",offset)}");var m=new Function("CTOR_LIST","ORDER",u.join(`
`));return m(ps[e],x2)}function I2(e){if(O2(e))return"buffer";if(M2)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var ps={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function N2(e,t,r,n){if(e===void 0){var p=ps.array[0];return p([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var u=t.length;if(r===void 0){r=new Array(u);for(var a=u-1,l=1;a>=0;--a)r[a]=l,l*=t[a]}if(n===void 0){n=0;for(var a=0;a<u;++a)r[a]<0&&(n-=(t[a]-1)*r[a])}for(var o=I2(e),h=ps[o];h.length<=u+1;)h.push(T2(o,h.length-1));var p=h[u+1];return p(e,t,r,n)}var yu=N2,qs={};function k2(e,t){for(var r=1,n=e.length,u=e[0],a=e[0],l=1;l<n;++l)if(a=u,u=e[l],t(u,a)){if(l===r){r++;continue}e[r++]=u}return e.length=r,e}function L2(e){for(var t=1,r=e.length,n=e[0],u=e[0],a=1;a<r;++a,u=n)if(u=n,n=e[a],n!==u){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}function R2(e,t,r){return e.length===0?e:t?(r||e.sort(t),k2(e,t)):(r||e.sort(),L2(e))}var Mp=R2,U2=Mp;function Pp(e,t,r){var n=e.length,u=t.arrayArgs.length,a=t.indexArgs.length>0,l=[],o=[],h=0,p=0,f,c;for(f=0;f<n;++f)o.push(["i",f,"=0"].join(""));for(c=0;c<u;++c)for(f=0;f<n;++f)p=h,h=e[f],f===0?o.push(["d",c,"s",f,"=t",c,"p",h].join("")):o.push(["d",c,"s",f,"=(t",c,"p",h,"-s",p,"*t",c,"p",p,")"].join(""));for(o.length>0&&l.push("var "+o.join(",")),f=n-1;f>=0;--f)h=e[f],l.push(["for(i",f,"=0;i",f,"<s",h,";++i",f,"){"].join(""));for(l.push(r),f=0;f<n;++f){for(p=h,h=e[f],c=0;c<u;++c)l.push(["p",c,"+=d",c,"s",f].join(""));a&&(f>0&&l.push(["index[",p,"]-=s",p].join("")),l.push(["++index[",h,"]"].join(""))),l.push("}")}return l.join(`
`)}function V2(e,t,r,n){for(var u=t.length,a=r.arrayArgs.length,l=r.blockSize,o=r.indexArgs.length>0,h=[],p=0;p<a;++p)h.push(["var offset",p,"=p",p].join(""));for(var p=e;p<u;++p)h.push(["for(var j"+p+"=SS[",t[p],"]|0;j",p,">0;){"].join("")),h.push(["if(j",p,"<",l,"){"].join("")),h.push(["s",t[p],"=j",p].join("")),h.push(["j",p,"=0"].join("")),h.push(["}else{s",t[p],"=",l].join("")),h.push(["j",p,"-=",l,"}"].join("")),o&&h.push(["index[",t[p],"]=j",p].join(""));for(var p=0;p<a;++p){for(var f=["offset"+p],c=e;c<u;++c)f.push(["j",c,"*t",p,"p",t[c]].join(""));h.push(["p",p,"=(",f.join("+"),")"].join(""))}h.push(Pp(t,r,n));for(var p=e;p<u;++p)h.push("}");return h.join(`
`)}function j2(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function fl(e,t,r){for(var n=e.body,u=[],a=[],l=0;l<e.args.length;++l){var o=e.args[l];if(!(o.count<=0)){var h=new RegExp(o.name,"g"),p="",f=t.arrayArgs.indexOf(l);switch(t.argTypes[l]){case"offset":var c=t.offsetArgIndex.indexOf(l),d=t.offsetArgs[c];f=d.array,p="+q"+c;case"array":p="p"+f+p;var g="l"+l,y="a"+f;if(t.arrayBlockIndices[f]===0)o.count===1?r[f]==="generic"?o.lvalue?(u.push(["var ",g,"=",y,".get(",p,")"].join("")),n=n.replace(h,g),a.push([y,".set(",p,",",g,")"].join(""))):n=n.replace(h,[y,".get(",p,")"].join("")):n=n.replace(h,[y,"[",p,"]"].join("")):r[f]==="generic"?(u.push(["var ",g,"=",y,".get(",p,")"].join("")),n=n.replace(h,g),o.lvalue&&a.push([y,".set(",p,",",g,")"].join(""))):(u.push(["var ",g,"=",y,"[",p,"]"].join("")),n=n.replace(h,g),o.lvalue&&a.push([y,"[",p,"]=",g].join("")));else{for(var m=[o.name],_=[p],D=0;D<Math.abs(t.arrayBlockIndices[f]);D++)m.push("\\s*\\[([^\\]]+)\\]"),_.push("$"+(D+1)+"*t"+f+"b"+D);if(h=new RegExp(m.join(""),"g"),p=_.join("+"),r[f]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(h,[y,"[",p,"]"].join(""))}break;case"scalar":n=n.replace(h,"Y"+t.scalarArgs.indexOf(l));break;case"index":n=n.replace(h,"index");break;case"shape":n=n.replace(h,"shape");break}}}return[u.join(`
`),n,a.join(`
`)].join(`
`).trim()}function q2(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var u=e[n],a=u.match(/\d+/);a?a=a[0]:a="",u.charAt(0)===0?t[n]="u"+u.charAt(1)+a:t[n]=u.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function z2(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,n=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)u[a]=t[2*a],n[a]=t[2*a+1];for(var l=[],o=[],h=[],p=[],f=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(h.push(0),p.push(r),l.push(r),o.push(r+e.arrayBlockIndices[a])):(h.push(e.arrayBlockIndices[a]),p.push(e.arrayBlockIndices[a]+r),l.push(0),o.push(e.arrayBlockIndices[a]));for(var c=[],d=0;d<n[a].length;d++)h[a]<=n[a][d]&&n[a][d]<p[a]&&c.push(n[a][d]-h[a]);f.push(c)}for(var g=["SS"],y=["'use strict'"],m=[],d=0;d<r;++d)m.push(["s",d,"=SS[",d,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){g.push("a"+a),g.push("t"+a),g.push("p"+a);for(var d=0;d<r;++d)m.push(["t",a,"p",d,"=t",a,"[",h[a]+d,"]"].join(""));for(var d=0;d<Math.abs(e.arrayBlockIndices[a]);++d)m.push(["t",a,"b",d,"=t",a,"[",l[a]+d,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)g.push("Y"+a);if(e.shapeArgs.length>0&&m.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var _=new Array(r),a=0;a<r;++a)_[a]="0";m.push(["index=[",_.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var D=e.offsetArgs[a],E=[],d=0;d<D.offset.length;++d)D.offset[d]!==0&&(D.offset[d]===1?E.push(["t",D.array,"p",d].join("")):E.push([D.offset[d],"*t",D.array,"p",d].join("")));E.length===0?m.push("q"+a+"=0"):m.push(["q",a,"=",E.join("+")].join(""))}var w=U2([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));m=m.concat(w),m.length>0&&y.push("var "+m.join(","));for(var a=0;a<e.arrayArgs.length;++a)y.push("p"+a+"|=0");e.pre.body.length>3&&y.push(fl(e.pre,e,u));var B=fl(e.body,e,u),F=j2(f);F<r?y.push(V2(F,f[0],e,B)):y.push(Pp(f[0],e,B)),e.post.body.length>3&&y.push(fl(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+y.join(`
`)+`
----------`);var O=[e.funcName||"unnamed","_cwise_loop_",n[0].join("s"),"m",F,q2(u)].join(""),P=new Function(["function ",O,"(",g.join(","),"){",y.join(`
`),"} return ",O].join(""));return P()}var W2=z2,H2=W2;function G2(e){var t=["'use strict'","var CACHED={}"],r=[],n=e.funcName+"_cwise_thunk";t.push(["return function ",n,"(",e.shimArgs.join(","),"){"].join(""));for(var u=[],a=[],l=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],o=[],h=[],p=0;p<e.arrayArgs.length;++p){var f=e.arrayArgs[p];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),u.push("t"+f),u.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),l.push("array"+f+".data"),l.push("array"+f+".stride"),l.push("array"+f+".offset|0"),p>0&&(o.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[p]))),h.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[p])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+o.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var p=0;p<e.scalarArgs.length;++p)l.push("scalar"+e.scalarArgs[p]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",u.join(","),"])}","return proc(",l.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var c=new Function("compile",t.join(`
`));return c(H2.bind(void 0,e))}var K2=G2,Y2=K2;function $2(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function Z2(e){var t=new $2;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var n=0;n<r.length;++n){var u=r[n];if(u==="array"||typeof u=="object"&&u.blockIndices){if(t.argTypes[n]="array",t.arrayArgs.push(n),t.arrayBlockIndices.push(u.blockIndices?u.blockIndices:0),t.shimArgs.push("array"+n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array args");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array args")}else if(u==="scalar")t.scalarArgs.push(n),t.shimArgs.push("scalar"+n);else if(u==="index"){if(t.indexArgs.push(n),n<t.pre.args.length&&t.pre.args[n].count>0)throw new Error("cwise: pre() block may not reference array index");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array index");if(n<t.post.args.length&&t.post.args[n].count>0)throw new Error("cwise: post() block may not reference array index")}else if(u==="shape"){if(t.shapeArgs.push(n),n<t.pre.args.length&&t.pre.args[n].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(n<t.body.args.length&&t.body.args[n].lvalue)throw new Error("cwise: body() block may not write to array shape");if(n<t.post.args.length&&t.post.args[n].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof u=="object"&&u.offset)t.argTypes[n]="offset",t.offsetArgs.push({array:u.array,offset:u.offset}),t.offsetArgIndex.push(n);else throw new Error("cwise: Unknown argument type "+r[n])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,Y2(t)}var yf=Z2;(function(e){var t=yf,r={body:"",args:[],thisVars:[],localVars:[]};function n(d){if(!d)return r;for(var g=0;g<d.args.length;++g){var y=d.args[g];g===0?d.args[g]={name:y,lvalue:!0,rvalue:!!d.rvalue,count:d.count||1}:d.args[g]={name:y,lvalue:!1,rvalue:!0,count:1}}return d.thisVars||(d.thisVars=[]),d.localVars||(d.localVars=[]),d}function u(d){return t({args:d.args,pre:n(d.pre),body:n(d.body),post:n(d.proc),funcName:d.funcName})}function a(d){for(var g=[],y=0;y<d.args.length;++y)g.push("a"+y);var m=new Function("P",["return function ",d.funcName,"_ndarrayops(",g.join(","),") {P(",g.join(","),");return a0}"].join(""));return m(u(d))}var l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var d in l){var g=l[d];e[d]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+g+"c"},funcName:d}),e[d+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+g+"=b"},rvalue:!0,funcName:d+"eq"}),e[d+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+g+"s"},funcName:d+"s"}),e[d+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+g+"=s"},rvalue:!0,funcName:d+"seq"})}})();var o={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var d in o){var g=o[d];e[d]=a({args:["array","array"],body:{args:["a","b"],body:"a="+g+"b"},funcName:d}),e[d+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+g+"a"},rvalue:!0,count:2,funcName:d+"eq"})}})();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var d in h){var g=h[d];e[d]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+g+"c"},funcName:d}),e[d+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+g+"s"},funcName:d+"s"}),e[d+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+g+"b"},rvalue:!0,count:2,funcName:d+"eq"}),e[d+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+g+"s"},rvalue:!0,count:2,funcName:d+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var d=0;d<p.length;++d){var g=p[d];e[g]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:g}),e[g+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:g+"eq"})}})();var f=["max","min","atan2","pow"];(function(){for(var d=0;d<f.length;++d){var g=f[d];e[g]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:g}),e[g+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:g+"s"}),e[g+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:g+"eq"}),e[g+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:g+"seq"})}})();var c=["atan2","pow"];(function(){for(var d=0;d<c.length;++d){var g=c[d];e[g+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:g+"op"}),e[g+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:g+"ops"}),e[g+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:g+"opeq"}),e[g+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+g,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:g+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(qs);var X2=yf({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64}),S0=yu,J2=X2,Q2=function(t,r){for(var n=[],u=t,a=1;Array.isArray(u);)n.push(u.length),a*=u.length,u=u[0];return n.length===0?S0():(r||(r=S0(new Float64Array(a),n)),J2(r,t),r)};function xp(e,t,r){var n=e[r]|0;if(n<=0)return[];var u=new Array(n),a;if(r===e.length-1)for(a=0;a<n;++a)u[a]=t;else for(a=0;a<n;++a)u[a]=xp(e,t,r+1);return u}function eC(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function tC(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return eC(e|0,t);break;case"object":if(typeof e.length=="number")return xp(e,t,0);break}return[]}var rC=tC,Tp={};(function(e){(function(t,r){r(e)})(hr,function(t){var r,n,u,a,l,o,h,p,f,c,d,g,y,m,_,D,E,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},n={},n[r.BooleanLiteral]="Boolean",n[r.EOF]="<end>",n[r.Identifier]="Identifier",n[r.Keyword]="Keyword",n[r.NullLiteral]="Null",n[r.NumericLiteral]="Numeric",n[r.Punctuator]="Punctuator",n[r.StringLiteral]="String",n[r.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},l={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},h={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function B(b,C){if(!b)throw new Error("ASSERT: "+C)}function F(b){return b>=48&&b<=57}function O(b){return"0123456789abcdefABCDEF".indexOf(b)>=0}function P(b){return"01234567".indexOf(b)>=0}function I(b){return b===32||b===9||b===11||b===12||b===160||b>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)>=0}function k(b){return b===10||b===13||b===8232||b===8233}function Y(b){return b===36||b===95||b>=65&&b<=90||b>=97&&b<=122||b===92||b>=128&&h.NonAsciiIdentifierStart.test(String.fromCharCode(b))}function q(b){return b===36||b===95||b>=65&&b<=90||b>=97&&b<=122||b>=48&&b<=57||b===92||b>=128&&h.NonAsciiIdentifierPart.test(String.fromCharCode(b))}function z(b){switch(b){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function Z(b){switch(b){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function W(b){return b==="eval"||b==="arguments"}function V(b){if(c&&Z(b))return!0;switch(b.length){case 2:return b==="if"||b==="in"||b==="do";case 3:return b==="var"||b==="for"||b==="new"||b==="try"||b==="let";case 4:return b==="this"||b==="else"||b==="case"||b==="void"||b==="with"||b==="enum";case 5:return b==="while"||b==="break"||b==="catch"||b==="throw"||b==="const"||b==="yield"||b==="class"||b==="super";case 6:return b==="return"||b==="typeof"||b==="delete"||b==="switch"||b==="export"||b==="import";case 7:return b==="default"||b==="finally"||b==="extends";case 8:return b==="function"||b==="continue"||b==="debugger";case 10:return b==="instanceof";default:return!1}}function G(b,C,N,ee,pe){var Fe;B(typeof N=="number","Comment must have valid position"),!(E.lastCommentStart>=N)&&(E.lastCommentStart=N,Fe={type:b,value:C},w.range&&(Fe.range=[N,ee]),w.loc&&(Fe.loc=pe),w.comments.push(Fe),w.attachComment&&(w.leadingComments.push(Fe),w.trailingComments.push(Fe)))}function Q(b){var C,N,ee,pe;for(C=d-b,N={start:{line:g,column:d-y-b}};d<m;)if(ee=f.charCodeAt(d),++d,k(ee)){w.comments&&(pe=f.slice(C+b,d-1),N.end={line:g,column:d-y-1},G("Line",pe,C,d-1,N)),ee===13&&f.charCodeAt(d)===10&&++d,++g,y=d;return}w.comments&&(pe=f.slice(C+b,d),N.end={line:g,column:d-y},G("Line",pe,C,d,N))}function X(){var b,C,N,ee;for(w.comments&&(b=d-2,C={start:{line:g,column:d-y-2}});d<m;)if(N=f.charCodeAt(d),k(N))N===13&&f.charCodeAt(d+1)===10&&++d,++g,++d,y=d,d>=m&&j({},o.UnexpectedToken,"ILLEGAL");else if(N===42){if(f.charCodeAt(d+1)===47){++d,++d,w.comments&&(ee=f.slice(b+2,d-2),C.end={line:g,column:d-y},G("Block",ee,b,d,C));return}++d}else++d;j({},o.UnexpectedToken,"ILLEGAL")}function J(){var b,C;for(C=d===0;d<m;)if(b=f.charCodeAt(d),I(b))++d;else if(k(b))++d,b===13&&f.charCodeAt(d)===10&&++d,++g,y=d,C=!0;else if(b===47)if(b=f.charCodeAt(d+1),b===47)++d,++d,Q(2),C=!0;else if(b===42)++d,++d,X();else break;else if(C&&b===45)if(f.charCodeAt(d+1)===45&&f.charCodeAt(d+2)===62)d+=3,Q(3);else break;else if(b===60)if(f.slice(d+1,d+4)==="!--")++d,++d,++d,++d,Q(4);else break;else break}function le(b){var C,N,ee,pe=0;for(N=b==="u"?4:2,C=0;C<N;++C)if(d<m&&O(f[d]))ee=f[d++],pe=pe*16+"0123456789abcdef".indexOf(ee.toLowerCase());else return"";return String.fromCharCode(pe)}function me(){var b,C;for(b=f.charCodeAt(d++),C=String.fromCharCode(b),b===92&&(f.charCodeAt(d)!==117&&j({},o.UnexpectedToken,"ILLEGAL"),++d,b=le("u"),(!b||b==="\\"||!Y(b.charCodeAt(0)))&&j({},o.UnexpectedToken,"ILLEGAL"),C=b);d<m&&(b=f.charCodeAt(d),!!q(b));)++d,C+=String.fromCharCode(b),b===92&&(C=C.substr(0,C.length-1),f.charCodeAt(d)!==117&&j({},o.UnexpectedToken,"ILLEGAL"),++d,b=le("u"),(!b||b==="\\"||!q(b.charCodeAt(0)))&&j({},o.UnexpectedToken,"ILLEGAL"),C+=b);return C}function Ce(){var b,C;for(b=d++;d<m;){if(C=f.charCodeAt(d),C===92)return d=b,me();if(q(C))++d;else break}return f.slice(b,d)}function be(){var b,C,N;return b=d,C=f.charCodeAt(d)===92?me():Ce(),C.length===1?N=r.Identifier:V(C)?N=r.Keyword:C==="null"?N=r.NullLiteral:C==="true"||C==="false"?N=r.BooleanLiteral:N=r.Identifier,{type:N,value:C,lineNumber:g,lineStart:y,start:b,end:d}}function Ie(){var b=d,C=f.charCodeAt(d),N,ee=f[d],pe,Fe,ot;switch(C){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,w.tokenize&&(C===40?w.openParenToken=w.tokens.length:C===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(C),lineNumber:g,lineStart:y,start:b,end:d};default:if(N=f.charCodeAt(d+1),N===61)switch(C){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:r.Punctuator,value:String.fromCharCode(C)+String.fromCharCode(N),lineNumber:g,lineStart:y,start:b,end:d};case 33:case 61:return d+=2,f.charCodeAt(d)===61&&++d,{type:r.Punctuator,value:f.slice(b,d),lineNumber:g,lineStart:y,start:b,end:d}}}if(ot=f.substr(d,4),ot===">>>=")return d+=4,{type:r.Punctuator,value:ot,lineNumber:g,lineStart:y,start:b,end:d};if(Fe=ot.substr(0,3),Fe===">>>"||Fe==="<<="||Fe===">>=")return d+=3,{type:r.Punctuator,value:Fe,lineNumber:g,lineStart:y,start:b,end:d};if(pe=Fe.substr(0,2),ee===pe[1]&&"+-<>&|".indexOf(ee)>=0||pe==="=>")return d+=2,{type:r.Punctuator,value:pe,lineNumber:g,lineStart:y,start:b,end:d};if("<>=!+-*%&|^/".indexOf(ee)>=0)return++d,{type:r.Punctuator,value:ee,lineNumber:g,lineStart:y,start:b,end:d};j({},o.UnexpectedToken,"ILLEGAL")}function Ve(b){for(var C="";d<m&&O(f[d]);)C+=f[d++];return C.length===0&&j({},o.UnexpectedToken,"ILLEGAL"),Y(f.charCodeAt(d))&&j({},o.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+C,16),lineNumber:g,lineStart:y,start:b,end:d}}function Oe(b){for(var C="0"+f[d++];d<m&&P(f[d]);)C+=f[d++];return(Y(f.charCodeAt(d))||F(f.charCodeAt(d)))&&j({},o.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(C,8),octal:!0,lineNumber:g,lineStart:y,start:b,end:d}}function et(){var b,C;for(b=d+1;b<m;++b){if(C=f[b],C==="8"||C==="9")return!1;if(!P(C))return!0}return!0}function je(){var b,C,N;if(N=f[d],B(F(N.charCodeAt(0))||N===".","Numeric literal must start with a decimal digit or a decimal point"),C=d,b="",N!=="."){if(b=f[d++],N=f[d],b==="0"){if(N==="x"||N==="X")return++d,Ve(C);if(P(N)&&et())return Oe(C)}for(;F(f.charCodeAt(d));)b+=f[d++];N=f[d]}if(N==="."){for(b+=f[d++];F(f.charCodeAt(d));)b+=f[d++];N=f[d]}if(N==="e"||N==="E")if(b+=f[d++],N=f[d],(N==="+"||N==="-")&&(b+=f[d++]),F(f.charCodeAt(d)))for(;F(f.charCodeAt(d));)b+=f[d++];else j({},o.UnexpectedToken,"ILLEGAL");return Y(f.charCodeAt(d))&&j({},o.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(b),lineNumber:g,lineStart:y,start:C,end:d}}function Ne(){var b="",C,N,ee,pe,Fe,ot,bt=!1,Gt,sr;for(Gt=g,sr=y,C=f[d],B(C==="'"||C==='"',"String literal must starts with a quote"),N=d,++d;d<m;)if(ee=f[d++],ee===C){C="";break}else if(ee==="\\")if(ee=f[d++],!ee||!k(ee.charCodeAt(0)))switch(ee){case"u":case"x":ot=d,Fe=le(ee),Fe?b+=Fe:(d=ot,b+=ee);break;case"n":b+=`
`;break;case"r":b+="\r";break;case"t":b+="	";break;case"b":b+="\b";break;case"f":b+="\f";break;case"v":b+="\v";break;default:P(ee)?(pe="01234567".indexOf(ee),pe!==0&&(bt=!0),d<m&&P(f[d])&&(bt=!0,pe=pe*8+"01234567".indexOf(f[d++]),"0123".indexOf(ee)>=0&&d<m&&P(f[d])&&(pe=pe*8+"01234567".indexOf(f[d++]))),b+=String.fromCharCode(pe)):b+=ee;break}else++g,ee==="\r"&&f[d]===`
`&&++d,y=d;else{if(k(ee.charCodeAt(0)))break;b+=ee}return C!==""&&j({},o.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:b,octal:bt,startLineNumber:Gt,startLineStart:sr,lineNumber:g,lineStart:y,start:N,end:d}}function Re(b,C){var N;try{N=new RegExp(b,C)}catch{j({},o.InvalidRegExp)}return N}function lt(){var b,C,N,ee,pe;for(b=f[d],B(b==="/","Regular expression literal must start with a slash"),C=f[d++],N=!1,ee=!1;d<m;)if(b=f[d++],C+=b,b==="\\")b=f[d++],k(b.charCodeAt(0))&&j({},o.UnterminatedRegExp),C+=b;else if(k(b.charCodeAt(0)))j({},o.UnterminatedRegExp);else if(N)b==="]"&&(N=!1);else if(b==="/"){ee=!0;break}else b==="["&&(N=!0);return ee||j({},o.UnterminatedRegExp),pe=C.substr(1,C.length-2),{value:pe,literal:C}}function tt(){var b,C,N,ee;for(C="",N="";d<m&&(b=f[d],!!q(b.charCodeAt(0)));)if(++d,b==="\\"&&d<m)if(b=f[d],b==="u"){if(++d,ee=d,b=le("u"),b)for(N+=b,C+="\\u";ee<d;++ee)C+=f[ee];else d=ee,N+="u",C+="\\u";$({},o.UnexpectedToken,"ILLEGAL")}else C+="\\",$({},o.UnexpectedToken,"ILLEGAL");else N+=b,C+=b;return{value:N,literal:C}}function ut(){var b,C,N,ee;return D=null,J(),b=d,C=lt(),N=tt(),ee=Re(C.value,N.value),w.tokenize?{type:r.RegularExpression,value:ee,lineNumber:g,lineStart:y,start:b,end:d}:{literal:C.literal+N.literal,value:ee,start:b,end:d}}function rt(){var b,C,N,ee;return J(),b=d,C={start:{line:g,column:d-y}},N=ut(),C.end={line:g,column:d-y},w.tokenize||(w.tokens.length>0&&(ee=w.tokens[w.tokens.length-1],ee.range[0]===b&&ee.type==="Punctuator"&&(ee.value==="/"||ee.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:N.literal,range:[b,d],loc:C})),N}function nt(b){return b.type===r.Identifier||b.type===r.Keyword||b.type===r.BooleanLiteral||b.type===r.NullLiteral}function Ke(){var b,C;if(b=w.tokens[w.tokens.length-1],!b)return rt();if(b.type==="Punctuator"){if(b.value==="]")return Ie();if(b.value===")")return C=w.tokens[w.openParenToken-1],C&&C.type==="Keyword"&&(C.value==="if"||C.value==="while"||C.value==="for"||C.value==="with")?rt():Ie();if(b.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(C=w.tokens[w.openCurlyToken-4],!C)return Ie()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(C=w.tokens[w.openCurlyToken-5],!C)return rt()}else return Ie();return u.indexOf(C.value)>=0?Ie():rt()}return rt()}return b.type==="Keyword"&&b.value!=="this"?rt():Ie()}function Ye(){var b;return J(),d>=m?{type:r.EOF,lineNumber:g,lineStart:y,start:d,end:d}:(b=f.charCodeAt(d),Y(b)?be():b===40||b===41||b===59?Ie():b===39||b===34?Ne():b===46?F(f.charCodeAt(d+1))?je():Ie():F(b)?je():w.tokenize&&b===47?Ke():Ie())}function Ae(){var b,C,N;return J(),b={start:{line:g,column:d-y}},C=Ye(),b.end={line:g,column:d-y},C.type!==r.EOF&&(N=f.slice(C.start,C.end),w.tokens.push({type:n[C.type],value:N,range:[C.start,C.end],loc:b})),C}function Se(){var b;return b=D,d=b.end,g=b.lineNumber,y=b.lineStart,D=typeof w.tokens<"u"?Ae():Ye(),d=b.end,g=b.lineNumber,y=b.lineStart,b}function At(){var b,C,N;b=d,C=g,N=y,D=typeof w.tokens<"u"?Ae():Ye(),d=b,g=C,y=N}function Lt(b,C){this.line=b,this.column=C}function Wt(b,C,N,ee){this.start=new Lt(b,C),this.end=new Lt(N,ee)}p={name:"SyntaxTree",processComment:function(b){var C,N;if(!(b.type===a.Program&&b.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=b.range[1]?(N=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=b.range[1]&&(N=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=b.range[0];)C=w.bottomRightStack.pop();C?C.leadingComments&&C.leadingComments[C.leadingComments.length-1].range[1]<=b.range[0]&&(b.leadingComments=C.leadingComments,delete C.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=b.range[0]&&(b.leadingComments=w.leadingComments,w.leadingComments=[]),N&&(b.trailingComments=N),w.bottomRightStack.push(b)}},markEnd:function(b,C){return w.range&&(b.range=[C.start,d]),w.loc&&(b.loc=new Wt(C.startLineNumber===void 0?C.lineNumber:C.startLineNumber,C.start-(C.startLineStart===void 0?C.lineStart:C.startLineStart),g,d-y),this.postProcess(b)),w.attachComment&&this.processComment(b),b},postProcess:function(b){return w.source&&(b.loc.source=w.source),b},createArrayExpression:function(b){return{type:a.ArrayExpression,elements:b}},createAssignmentExpression:function(b,C,N){return{type:a.AssignmentExpression,operator:b,left:C,right:N}},createBinaryExpression:function(b,C,N){var ee=b==="||"||b==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:ee,operator:b,left:C,right:N}},createBlockStatement:function(b){return{type:a.BlockStatement,body:b}},createBreakStatement:function(b){return{type:a.BreakStatement,label:b}},createCallExpression:function(b,C){return{type:a.CallExpression,callee:b,arguments:C}},createCatchClause:function(b,C){return{type:a.CatchClause,param:b,body:C}},createConditionalExpression:function(b,C,N){return{type:a.ConditionalExpression,test:b,consequent:C,alternate:N}},createContinueStatement:function(b){return{type:a.ContinueStatement,label:b}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(b,C){return{type:a.DoWhileStatement,body:b,test:C}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(b){return{type:a.ExpressionStatement,expression:b}},createForStatement:function(b,C,N,ee){return{type:a.ForStatement,init:b,test:C,update:N,body:ee}},createForInStatement:function(b,C,N){return{type:a.ForInStatement,left:b,right:C,body:N,each:!1}},createFunctionDeclaration:function(b,C,N,ee){return{type:a.FunctionDeclaration,id:b,params:C,defaults:N,body:ee,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(b,C,N,ee){return{type:a.FunctionExpression,id:b,params:C,defaults:N,body:ee,rest:null,generator:!1,expression:!1}},createIdentifier:function(b){return{type:a.Identifier,name:b}},createIfStatement:function(b,C,N){return{type:a.IfStatement,test:b,consequent:C,alternate:N}},createLabeledStatement:function(b,C){return{type:a.LabeledStatement,label:b,body:C}},createLiteral:function(b){return{type:a.Literal,value:b.value,raw:f.slice(b.start,b.end)}},createMemberExpression:function(b,C,N){return{type:a.MemberExpression,computed:b==="[",object:C,property:N}},createNewExpression:function(b,C){return{type:a.NewExpression,callee:b,arguments:C}},createObjectExpression:function(b){return{type:a.ObjectExpression,properties:b}},createPostfixExpression:function(b,C){return{type:a.UpdateExpression,operator:b,argument:C,prefix:!1}},createProgram:function(b){return{type:a.Program,body:b}},createProperty:function(b,C,N){return{type:a.Property,key:C,value:N,kind:b}},createReturnStatement:function(b){return{type:a.ReturnStatement,argument:b}},createSequenceExpression:function(b){return{type:a.SequenceExpression,expressions:b}},createSwitchCase:function(b,C){return{type:a.SwitchCase,test:b,consequent:C}},createSwitchStatement:function(b,C){return{type:a.SwitchStatement,discriminant:b,cases:C}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(b){return{type:a.ThrowStatement,argument:b}},createTryStatement:function(b,C,N,ee){return{type:a.TryStatement,block:b,guardedHandlers:C,handlers:N,finalizer:ee}},createUnaryExpression:function(b,C){return b==="++"||b==="--"?{type:a.UpdateExpression,operator:b,argument:C,prefix:!0}:{type:a.UnaryExpression,operator:b,argument:C,prefix:!0}},createVariableDeclaration:function(b,C){return{type:a.VariableDeclaration,declarations:b,kind:C}},createVariableDeclarator:function(b,C){return{type:a.VariableDeclarator,id:b,init:C}},createWhileStatement:function(b,C){return{type:a.WhileStatement,test:b,body:C}},createWithStatement:function(b,C){return{type:a.WithStatement,object:b,body:C}}};function L(){var b,C,N,ee;return b=d,C=g,N=y,J(),ee=g!==C,d=b,g=C,y=N,ee}function j(b,C){var N,ee=Array.prototype.slice.call(arguments,2),pe=C.replace(/%(\d)/g,function(Fe,ot){return B(ot<ee.length,"Message reference must be in range"),ee[ot]});throw typeof b.lineNumber=="number"?(N=new Error("Line "+b.lineNumber+": "+pe),N.index=b.start,N.lineNumber=b.lineNumber,N.column=b.start-y+1):(N=new Error("Line "+g+": "+pe),N.index=d,N.lineNumber=g,N.column=d-y+1),N.description=pe,N}function $(){try{j.apply(null,arguments)}catch(b){if(w.errors)w.errors.push(b);else throw b}}function fe(b){if(b.type===r.EOF&&j(b,o.UnexpectedEOS),b.type===r.NumericLiteral&&j(b,o.UnexpectedNumber),b.type===r.StringLiteral&&j(b,o.UnexpectedString),b.type===r.Identifier&&j(b,o.UnexpectedIdentifier),b.type===r.Keyword){if(z(b.value))j(b,o.UnexpectedReserved);else if(c&&Z(b.value)){$(b,o.StrictReservedWord);return}j(b,o.UnexpectedToken,b.value)}j(b,o.UnexpectedToken,b.value)}function ie(b){var C=Se();(C.type!==r.Punctuator||C.value!==b)&&fe(C)}function he(b){var C=Se();(C.type!==r.Keyword||C.value!==b)&&fe(C)}function se(b){return D.type===r.Punctuator&&D.value===b}function ce(b){return D.type===r.Keyword&&D.value===b}function ye(){var b;return D.type!==r.Punctuator?!1:(b=D.value,b==="="||b==="*="||b==="/="||b==="%="||b==="+="||b==="-="||b==="<<="||b===">>="||b===">>>="||b==="&="||b==="^="||b==="|=")}function Me(){var b,C=d,N=g,ee=y,pe=D;if(f.charCodeAt(d)===59||se(";")){Se();return}if(b=g,J(),g!==b){d=C,g=N,y=ee,D=pe;return}D.type!==r.EOF&&!se("}")&&fe(D)}function Xe(b){return b.type===a.Identifier||b.type===a.MemberExpression}function Ee(){var b=[],C;for(C=D,ie("[");!se("]");)se(",")?(Se(),b.push(null)):(b.push(wr()),se("]")||ie(","));return Se(),_.markEnd(_.createArrayExpression(b),C)}function jt(b,C){var N,ee,pe;return N=c,pe=D,ee=Ti(),C&&c&&W(b[0].name)&&$(C,o.StrictParamName),c=N,_.markEnd(_.createFunctionExpression(null,b,[],ee),pe)}function Ot(){var b,C;return C=D,b=Se(),b.type===r.StringLiteral||b.type===r.NumericLiteral?(c&&b.octal&&$(b,o.StrictOctalLiteral),_.markEnd(_.createLiteral(b),C)):_.markEnd(_.createIdentifier(b.value),C)}function rr(){var b,C,N,ee,pe,Fe;if(b=D,Fe=D,b.type===r.Identifier)return N=Ot(),b.value==="get"&&!se(":")?(C=Ot(),ie("("),ie(")"),ee=jt([]),_.markEnd(_.createProperty("get",C,ee),Fe)):b.value==="set"&&!se(":")?(C=Ot(),ie("("),b=D,b.type!==r.Identifier?(ie(")"),$(b,o.UnexpectedToken,b.value),ee=jt([])):(pe=[cn()],ie(")"),ee=jt(pe,b)),_.markEnd(_.createProperty("set",C,ee),Fe)):(ie(":"),ee=wr(),_.markEnd(_.createProperty("init",N,ee),Fe));if(b.type===r.EOF||b.type===r.Punctuator)fe(b);else return C=Ot(),ie(":"),ee=wr(),_.markEnd(_.createProperty("init",C,ee),Fe)}function $t(){var b=[],C,N,ee,pe,Fe={},ot=String,bt;for(bt=D,ie("{");!se("}");)C=rr(),C.key.type===a.Identifier?N=C.key.name:N=ot(C.key.value),pe=C.kind==="init"?l.Data:C.kind==="get"?l.Get:l.Set,ee="$"+N,Object.prototype.hasOwnProperty.call(Fe,ee)?(Fe[ee]===l.Data?c&&pe===l.Data?$({},o.StrictDuplicateProperty):pe!==l.Data&&$({},o.AccessorDataProperty):pe===l.Data?$({},o.AccessorDataProperty):Fe[ee]&pe&&$({},o.AccessorGetSet),Fe[ee]|=pe):Fe[ee]=pe,b.push(C),se("}")||ie(",");return ie("}"),_.markEnd(_.createObjectExpression(b),bt)}function mr(){var b;return ie("("),b=nr(),ie(")"),b}function Zt(){var b,C,N,ee;if(se("("))return mr();if(se("["))return Ee();if(se("{"))return $t();if(b=D.type,ee=D,b===r.Identifier)N=_.createIdentifier(Se().value);else if(b===r.StringLiteral||b===r.NumericLiteral)c&&D.octal&&$(D,o.StrictOctalLiteral),N=_.createLiteral(Se());else if(b===r.Keyword){if(ce("function"))return Ii();ce("this")?(Se(),N=_.createThisExpression()):fe(Se())}else b===r.BooleanLiteral?(C=Se(),C.value=C.value==="true",N=_.createLiteral(C)):b===r.NullLiteral?(C=Se(),C.value=null,N=_.createLiteral(C)):se("/")||se("/=")?(typeof w.tokens<"u"?N=_.createLiteral(rt()):N=_.createLiteral(ut()),At()):fe(Se());return _.markEnd(N,ee)}function _r(){var b=[];if(ie("("),!se(")"))for(;d<m&&(b.push(wr()),!se(")"));)ie(",");return ie(")"),b}function fr(){var b,C;return C=D,b=Se(),nt(b)||fe(b),_.markEnd(_.createIdentifier(b.value),C)}function cr(){return ie("."),fr()}function fn(){var b;return ie("["),b=nr(),ie("]"),b}function dr(){var b,C,N;return N=D,he("new"),b=Kn(),C=se("(")?_r():[],_.markEnd(_.createNewExpression(b,C),N)}function Fn(){var b,C,N,ee,pe=E.allowIn;for(ee=D,E.allowIn=!0,b=ce("new")?dr():Zt();;){if(se("."))N=cr(),b=_.createMemberExpression(".",b,N);else if(se("("))C=_r(),b=_.createCallExpression(b,C);else if(se("["))N=fn(),b=_.createMemberExpression("[",b,N);else break;_.markEnd(b,ee)}return E.allowIn=pe,b}function Kn(){var b,C,N;for(B(E.allowIn,"callee of new expression always allow in keyword."),N=D,b=ce("new")?dr():Zt();se(".")||se("[");)se("[")?(C=fn(),b=_.createMemberExpression("[",b,C)):(C=cr(),b=_.createMemberExpression(".",b,C)),_.markEnd(b,N);return b}function Nn(){var b,C,N=D;return b=Fn(),D.type===r.Punctuator&&(se("++")||se("--"))&&!L()&&(c&&b.type===a.Identifier&&W(b.name)&&$({},o.StrictLHSPostfix),Xe(b)||$({},o.InvalidLHSInAssignment),C=Se(),b=_.markEnd(_.createPostfixExpression(C.value,b),N)),b}function kn(){var b,C,N;return D.type!==r.Punctuator&&D.type!==r.Keyword?C=Nn():se("++")||se("--")?(N=D,b=Se(),C=kn(),c&&C.type===a.Identifier&&W(C.name)&&$({},o.StrictLHSPrefix),Xe(C)||$({},o.InvalidLHSInAssignment),C=_.createUnaryExpression(b.value,C),C=_.markEnd(C,N)):se("+")||se("-")||se("~")||se("!")?(N=D,b=Se(),C=kn(),C=_.createUnaryExpression(b.value,C),C=_.markEnd(C,N)):ce("delete")||ce("void")||ce("typeof")?(N=D,b=Se(),C=kn(),C=_.createUnaryExpression(b.value,C),C=_.markEnd(C,N),c&&C.operator==="delete"&&C.argument.type===a.Identifier&&$({},o.StrictDelete)):C=Nn(),C}function Gi(b,C){var N=0;if(b.type!==r.Punctuator&&b.type!==r.Keyword)return 0;switch(b.value){case"||":N=1;break;case"&&":N=2;break;case"|":N=3;break;case"^":N=4;break;case"&":N=5;break;case"==":case"!=":case"===":case"!==":N=6;break;case"<":case">":case"<=":case">=":case"instanceof":N=7;break;case"in":N=C?7:0;break;case"<<":case">>":case">>>":N=8;break;case"+":case"-":N=9;break;case"*":case"/":case"%":N=11;break}return N}function Pi(){var b,C,N,ee,pe,Fe,ot,bt,Gt,sr;if(b=D,Gt=kn(),ee=D,pe=Gi(ee,E.allowIn),pe===0)return Gt;for(ee.prec=pe,Se(),C=[b,D],ot=kn(),Fe=[Gt,ee,ot];(pe=Gi(D,E.allowIn))>0;){for(;Fe.length>2&&pe<=Fe[Fe.length-2].prec;)ot=Fe.pop(),bt=Fe.pop().value,Gt=Fe.pop(),N=_.createBinaryExpression(bt,Gt,ot),C.pop(),b=C[C.length-1],_.markEnd(N,b),Fe.push(N);ee=Se(),ee.prec=pe,Fe.push(ee),C.push(D),N=kn(),Fe.push(N)}for(sr=Fe.length-1,N=Fe[sr],C.pop();sr>1;)N=_.createBinaryExpression(Fe[sr-1].value,Fe[sr-2],N),sr-=2,b=C.pop(),_.markEnd(N,b);return N}function Au(){var b,C,N,ee,pe;return pe=D,b=Pi(),se("?")&&(Se(),C=E.allowIn,E.allowIn=!0,N=wr(),E.allowIn=C,ie(":"),ee=wr(),b=_.createConditionalExpression(b,N,ee),_.markEnd(b,pe)),b}function wr(){var b,C,N,ee,pe;return b=D,pe=D,ee=C=Au(),ye()&&(Xe(C)||$({},o.InvalidLHSInAssignment),c&&C.type===a.Identifier&&W(C.name)&&$(b,o.StrictLHSAssignment),b=Se(),N=wr(),ee=_.markEnd(_.createAssignmentExpression(b.value,C,N),pe)),ee}function nr(){var b,C=D;if(b=wr(),se(",")){for(b=_.createSequenceExpression([b]);d<m&&se(",");)Se(),b.expressions.push(wr());_.markEnd(b,C)}return b}function wu(){for(var b=[],C;d<m&&!(se("}")||(C=Sn(),typeof C>"u"));)b.push(C);return b}function si(){var b,C;return C=D,ie("{"),b=wu(),ie("}"),_.markEnd(_.createBlockStatement(b),C)}function cn(){var b,C;return C=D,b=Se(),b.type!==r.Identifier&&fe(b),_.markEnd(_.createIdentifier(b.value),C)}function Yn(b){var C=null,N,ee;return ee=D,N=cn(),c&&W(N.name)&&$({},o.StrictVarName),b==="const"?(ie("="),C=wr()):se("=")&&(Se(),C=wr()),_.markEnd(_.createVariableDeclarator(N,C),ee)}function xi(b){var C=[];do{if(C.push(Yn(b)),!se(","))break;Se()}while(d<m);return C}function Eu(){var b;return he("var"),b=xi(),Me(),_.createVariableDeclaration(b,"var")}function Cu(b){var C,N;return N=D,he(b),C=xi(b),Me(),_.markEnd(_.createVariableDeclaration(C,b),N)}function Ki(){return ie(";"),_.createEmptyStatement()}function Fu(){var b=nr();return Me(),_.createExpressionStatement(b)}function Su(){var b,C,N;return he("if"),ie("("),b=nr(),ie(")"),C=kr(),ce("else")?(Se(),N=kr()):N=null,_.createIfStatement(b,C,N)}function Bu(){var b,C,N;return he("do"),N=E.inIteration,E.inIteration=!0,b=kr(),E.inIteration=N,he("while"),ie("("),C=nr(),ie(")"),se(";")&&Se(),_.createDoWhileStatement(b,C)}function Ou(){var b,C,N;return he("while"),ie("("),b=nr(),ie(")"),N=E.inIteration,E.inIteration=!0,C=kr(),E.inIteration=N,_.createWhileStatement(b,C)}function Mu(){var b,C,N;return N=D,b=Se(),C=xi(),_.markEnd(_.createVariableDeclaration(C,b.value),N)}function Pu(){var b,C,N,ee,pe,Fe,ot,bt=E.allowIn;return b=C=N=null,he("for"),ie("("),se(";")?Se():(ce("var")||ce("let")?(E.allowIn=!1,b=Mu(),E.allowIn=bt,b.declarations.length===1&&ce("in")&&(Se(),ee=b,pe=nr(),b=null)):(E.allowIn=!1,b=nr(),E.allowIn=bt,ce("in")&&(Xe(b)||$({},o.InvalidLHSInForIn),Se(),ee=b,pe=nr(),b=null)),typeof ee>"u"&&ie(";")),typeof ee>"u"&&(se(";")||(C=nr()),ie(";"),se(")")||(N=nr())),ie(")"),ot=E.inIteration,E.inIteration=!0,Fe=kr(),E.inIteration=ot,typeof ee>"u"?_.createForStatement(b,C,N,Fe):_.createForInStatement(ee,pe,Fe)}function oi(){var b=null,C;return he("continue"),f.charCodeAt(d)===59?(Se(),E.inIteration||j({},o.IllegalContinue),_.createContinueStatement(null)):L()?(E.inIteration||j({},o.IllegalContinue),_.createContinueStatement(null)):(D.type===r.Identifier&&(b=cn(),C="$"+b.name,Object.prototype.hasOwnProperty.call(E.labelSet,C)||j({},o.UnknownLabel,b.name)),Me(),b===null&&!E.inIteration&&j({},o.IllegalContinue),_.createContinueStatement(b))}function xu(){var b=null,C;return he("break"),f.charCodeAt(d)===59?(Se(),E.inIteration||E.inSwitch||j({},o.IllegalBreak),_.createBreakStatement(null)):L()?(E.inIteration||E.inSwitch||j({},o.IllegalBreak),_.createBreakStatement(null)):(D.type===r.Identifier&&(b=cn(),C="$"+b.name,Object.prototype.hasOwnProperty.call(E.labelSet,C)||j({},o.UnknownLabel,b.name)),Me(),b===null&&!(E.inIteration||E.inSwitch)&&j({},o.IllegalBreak),_.createBreakStatement(b))}function li(){var b=null;return he("return"),E.inFunctionBody||$({},o.IllegalReturn),f.charCodeAt(d)===32&&Y(f.charCodeAt(d+1))?(b=nr(),Me(),_.createReturnStatement(b)):L()?_.createReturnStatement(null):(se(";")||!se("}")&&D.type!==r.EOF&&(b=nr()),Me(),_.createReturnStatement(b))}function Tu(){var b,C;return c&&(J(),$({},o.StrictModeWith)),he("with"),ie("("),b=nr(),ie(")"),C=kr(),_.createWithStatement(b,C)}function Iu(){var b,C=[],N,ee;for(ee=D,ce("default")?(Se(),b=null):(he("case"),b=nr()),ie(":");d<m&&!(se("}")||ce("default")||ce("case"));)N=kr(),C.push(N);return _.markEnd(_.createSwitchCase(b,C),ee)}function Nu(){var b,C,N,ee,pe;if(he("switch"),ie("("),b=nr(),ie(")"),ie("{"),C=[],se("}"))return Se(),_.createSwitchStatement(b,C);for(ee=E.inSwitch,E.inSwitch=!0,pe=!1;d<m&&!se("}");)N=Iu(),N.test===null&&(pe&&j({},o.MultipleDefaultsInSwitch),pe=!0),C.push(N);return E.inSwitch=ee,ie("}"),_.createSwitchStatement(b,C)}function Yi(){var b;return he("throw"),L()&&j({},o.NewlineAfterThrow),b=nr(),Me(),_.createThrowStatement(b)}function Ln(){var b,C,N;return N=D,he("catch"),ie("("),se(")")&&fe(D),b=cn(),c&&W(b.name)&&$({},o.StrictCatchVariable),ie(")"),C=si(),_.markEnd(_.createCatchClause(b,C),N)}function Dr(){var b,C=[],N=null;return he("try"),b=si(),ce("catch")&&C.push(Ln()),ce("finally")&&(Se(),N=si()),C.length===0&&!N&&j({},o.NoCatchOrFinally),_.createTryStatement(b,[],C,N)}function ar(){return he("debugger"),Me(),_.createDebuggerStatement()}function kr(){var b=D.type,C,N,ee,pe;if(b===r.EOF&&fe(D),b===r.Punctuator&&D.value==="{")return si();if(pe=D,b===r.Punctuator)switch(D.value){case";":return _.markEnd(Ki(),pe);case"(":return _.markEnd(Fu(),pe)}if(b===r.Keyword)switch(D.value){case"break":return _.markEnd(xu(),pe);case"continue":return _.markEnd(oi(),pe);case"debugger":return _.markEnd(ar(),pe);case"do":return _.markEnd(Bu(),pe);case"for":return _.markEnd(Pu(),pe);case"function":return _.markEnd(Rn(),pe);case"if":return _.markEnd(Su(),pe);case"return":return _.markEnd(li(),pe);case"switch":return _.markEnd(Nu(),pe);case"throw":return _.markEnd(Yi(),pe);case"try":return _.markEnd(Dr(),pe);case"var":return _.markEnd(Eu(),pe);case"while":return _.markEnd(Ou(),pe);case"with":return _.markEnd(Tu(),pe)}return C=nr(),C.type===a.Identifier&&se(":")?(Se(),ee="$"+C.name,Object.prototype.hasOwnProperty.call(E.labelSet,ee)&&j({},o.Redeclaration,"Label",C.name),E.labelSet[ee]=!0,N=kr(),delete E.labelSet[ee],_.markEnd(_.createLabeledStatement(C,N),pe)):(Me(),_.markEnd(_.createExpressionStatement(C),pe))}function Ti(){var b,C=[],N,ee,pe,Fe,ot,bt,Gt,sr;for(sr=D,ie("{");d<m&&!(D.type!==r.StringLiteral||(N=D,b=Sn(),C.push(b),b.expression.type!==a.Literal));)ee=f.slice(N.start+1,N.end-1),ee==="use strict"?(c=!0,pe&&$(pe,o.StrictOctalLiteral)):!pe&&N.octal&&(pe=N);for(Fe=E.labelSet,ot=E.inIteration,bt=E.inSwitch,Gt=E.inFunctionBody,E.labelSet={},E.inIteration=!1,E.inSwitch=!1,E.inFunctionBody=!0;d<m&&!(se("}")||(b=Sn(),typeof b>"u"));)C.push(b);return ie("}"),E.labelSet=Fe,E.inIteration=ot,E.inSwitch=bt,E.inFunctionBody=Gt,_.markEnd(_.createBlockStatement(C),sr)}function $n(b){var C,N=[],ee,pe,Fe,ot,bt;if(ie("("),!se(")"))for(Fe={};d<m&&(ee=D,C=cn(),ot="$"+ee.value,c?(W(ee.value)&&(pe=ee,bt=o.StrictParamName),Object.prototype.hasOwnProperty.call(Fe,ot)&&(pe=ee,bt=o.StrictParamDupe)):b||(W(ee.value)?(b=ee,bt=o.StrictParamName):Z(ee.value)?(b=ee,bt=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(Fe,ot)&&(b=ee,bt=o.StrictParamDupe)),N.push(C),Fe[ot]=!0,!se(")"));)ie(",");return ie(")"),{params:N,stricted:pe,firstRestricted:b,message:bt}}function Rn(){var b,C=[],N,ee,pe,Fe,ot,bt,Gt,sr;return sr=D,he("function"),ee=D,b=cn(),c?W(ee.value)&&$(ee,o.StrictFunctionName):W(ee.value)?(ot=ee,bt=o.StrictFunctionName):Z(ee.value)&&(ot=ee,bt=o.StrictReservedWord),Fe=$n(ot),C=Fe.params,pe=Fe.stricted,ot=Fe.firstRestricted,Fe.message&&(bt=Fe.message),Gt=c,N=Ti(),c&&ot&&j(ot,bt),c&&pe&&$(pe,bt),c=Gt,_.markEnd(_.createFunctionDeclaration(b,C,[],N),sr)}function Ii(){var b,C=null,N,ee,pe,Fe,ot=[],bt,Gt,sr;return sr=D,he("function"),se("(")||(b=D,C=cn(),c?W(b.value)&&$(b,o.StrictFunctionName):W(b.value)?(ee=b,pe=o.StrictFunctionName):Z(b.value)&&(ee=b,pe=o.StrictReservedWord)),Fe=$n(ee),ot=Fe.params,N=Fe.stricted,ee=Fe.firstRestricted,Fe.message&&(pe=Fe.message),Gt=c,bt=Ti(),c&&ee&&j(ee,pe),c&&N&&$(N,pe),c=Gt,_.markEnd(_.createFunctionExpression(C,ot,[],bt),sr)}function Sn(){if(D.type===r.Keyword)switch(D.value){case"const":case"let":return Cu(D.value);case"function":return Rn();default:return kr()}if(D.type!==r.EOF)return kr()}function hn(){for(var b,C=[],N,ee,pe;d<m&&(N=D,!(N.type!==r.StringLiteral||(b=Sn(),C.push(b),b.expression.type!==a.Literal)));)ee=f.slice(N.start+1,N.end-1),ee==="use strict"?(c=!0,pe&&$(pe,o.StrictOctalLiteral)):!pe&&N.octal&&(pe=N);for(;d<m&&(b=Sn(),!(typeof b>"u"));)C.push(b);return C}function $s(){var b,C;return J(),At(),C=D,c=!1,b=hn(),_.markEnd(_.createProgram(b),C)}function ku(){var b,C,N,ee=[];for(b=0;b<w.tokens.length;++b)C=w.tokens[b],N={type:C.type,value:C.value},w.range&&(N.range=C.range),w.loc&&(N.loc=C.loc),ee.push(N);w.tokens=ee}function $i(b,C){var N,ee,pe;N=String,typeof b!="string"&&!(b instanceof String)&&(b=N(b)),_=p,f=b,d=0,g=f.length>0?1:0,y=0,m=f.length,D=null,E={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},C=C||{},C.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof C.range=="boolean"&&C.range,w.loc=typeof C.loc=="boolean"&&C.loc,typeof C.comment=="boolean"&&C.comment&&(w.comments=[]),typeof C.tolerant=="boolean"&&C.tolerant&&(w.errors=[]);try{if(At(),D.type===r.EOF)return w.tokens;for(ee=Se();D.type!==r.EOF;)try{ee=Se()}catch(Fe){if(ee=D,w.errors){w.errors.push(Fe);break}else throw Fe}ku(),pe=w.tokens,typeof w.comments<"u"&&(pe.comments=w.comments),typeof w.errors<"u"&&(pe.errors=w.errors)}catch(Fe){throw Fe}finally{w={}}return pe}function aa(b,C){var N,ee;ee=String,typeof b!="string"&&!(b instanceof String)&&(b=ee(b)),_=p,f=b,d=0,g=f.length>0?1:0,y=0,m=f.length,D=null,E={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof C<"u"&&(w.range=typeof C.range=="boolean"&&C.range,w.loc=typeof C.loc=="boolean"&&C.loc,w.attachComment=typeof C.attachComment=="boolean"&&C.attachComment,w.loc&&C.source!==null&&C.source!==void 0&&(w.source=ee(C.source)),typeof C.tokens=="boolean"&&C.tokens&&(w.tokens=[]),typeof C.comment=="boolean"&&C.comment&&(w.comments=[]),typeof C.tolerant=="boolean"&&C.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{N=$s(),typeof w.comments<"u"&&(N.comments=w.comments),typeof w.tokens<"u"&&(ku(),N.tokens=w.tokens),typeof w.errors<"u"&&(N.errors=w.errors)}catch(pe){throw pe}finally{w={}}return N}t.version="1.2.5",t.tokenize=$i,t.parse=aa,t.Syntax=function(){var b,C={};typeof Object.create=="function"&&(C=Object.create(null));for(b in a)a.hasOwnProperty(b)&&(C[b]=a[b]);return typeof Object.freeze=="function"&&Object.freeze(C),C}()})})(Tp);var nC=Tp,B0=Mp,iC=0;function uC(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function aC(e,t,r,n){this.body=e,this.args=t,this.thisVars=r,this.localVars=n}function sC(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof hr<"u"?e in hr:typeof self<"u"?e in self:!1}function oC(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].name;return r}function lC(e){for(var t=["(",e,")()"].join(""),r=nC.parse(t,{range:!0}),n="_inline_"+iC+++"_",u=oC(r),a=new Array(u.length),l=0;l<u.length;++l)a[l]=new uC([n,"arg",l,"_"].join(""),!1,!1);for(var o=new Array(t.length),l=0,h=t.length;l<h;++l)o[l]=t.charAt(l);var p=[],f=[];function c(B){var F=n+B.replace(/\_/g,"__");return p.push(F),F}function d(B){var F="this_"+B.replace(/\_/g,"__");return f.push(F),F}function g(B,F){for(var O=B.range[0],P=B.range[1],I=O+1;I<P;++I)o[I]="";o[O]=F}function y(B){return"'"+B.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function m(B){return o.slice(B.range[0],B.range[1]).join("")}var _=1,D=2;function E(B){return B.parent.type==="AssignmentExpression"&&B.parent.left===B?B.parent.operator==="="?_:_|D:B.parent.type==="UpdateExpression"?_|D:D}(function B(F,O){if(F.parent=O,F.type==="MemberExpression")F.computed?(B(F.object,F),B(F.property,F)):F.object.type==="ThisExpression"?g(F,d(F.property.name)):B(F.object,F);else{if(F.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(F.type==="Identifier"){var P=F.name,I=u.indexOf(P);if(I>=0){var k=a[I],Y=E(F);Y&_&&(k.lvalue=!0),Y&D&&(k.rvalue=!0),++k.count,g(F,k.name)}else sC(P)||g(F,c(P))}else if(F.type==="Literal")typeof F.value=="string"&&g(F,y(F.value));else{if(F.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var q=Object.keys(F),z=0,Z=q.length;z<Z;++z)if(q[z]!=="parent"){var W=F[q[z]];if(W)if(W instanceof Array)for(var V=0;V<W.length;++V)W[V]&&typeof W[V].type=="string"&&B(W[V],F);else typeof W.type=="string"&&B(W,F)}}}})(r.body[0].expression.callee.body,void 0),B0(p),B0(f);var w=new aC(m(r.body[0].expression.callee.body),a,f,p);return w}var fC=lC,cl=fC,cC=yf,Ya=["args","body"],hC=["pre","post","printCode","funcName","blockSize"];function dC(e){for(var t in e)Ya.indexOf(t)<0&&hC.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<Ya.length;++r)if(!e[Ya[r]])throw new Error("cwise: Missing argument: "+Ya[r]);return cC({args:e.args,pre:cl(e.pre||function(){}),body:cl(e.body),post:cl(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var zs=dC,pC=rC,vC=zs,gC=vC({args:["array","scalar","index"],body:function(t,r,n){var u=r,a;for(a=0;a<n.length-1;++a)u=u[n[a]];u[n[n.length-1]]=t}}),mC=function(t){var r=pC(t.shape);return gC(t,r),r},vs={},_C={get exports(){return vs},set exports(e){vs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l,o){for(var h=new Float64Array(l*o),p=0;p<h.length;p++)h[p]=a()*1e-4;return(0,n.default)(h,[l,o])};var r=yu,n=u(r);function u(l){return l&&l.__esModule?l:{default:l}}function a(){var l=2*Math.random()-1,o=2*Math.random()-1,h=l*l+o*o;return h==0||h>1?a():l*Math.sqrt(-2*Math.log(h)/h)}e.exports=t.default})(_C,vs);var na={},DC={get exports(){return na},set exports(e){na=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(c,d){var g=c.shape[0],y=(0,n.default)(new Float64Array(g*g),[g,g]);switch(d){case"euclidean":for(var m=0;m<g;m++)for(var _=m+1;_<g;_++){var D=o(c.pick(m,null),c.pick(_,null));y.set(m,_,D),y.set(_,m,D)}break;case"manhattan":for(var m=0;m<g;m++)for(var _=m+1;_<g;_++){var D=h(c.pick(m,null),c.pick(_,null));y.set(m,_,D),y.set(_,m,D)}break;case"jaccard":for(var m=0;m<g;m++)for(var _=m+1;_<g;_++){var D=p(c.pick(m,null),c.pick(_,null));y.set(m,_,D),y.set(_,m,D)}break;case"dice":for(var m=0;m<g;m++)for(var _=m+1;_<g;_++){var D=f(c.pick(m,null),c.pick(_,null));y.set(m,_,D),y.set(_,m,D)}break}return y};var r=yu,n=l(r),u=zs,a=l(u);function l(c){return c&&c.__esModule?c:{default:c}}var o=(0,a.default)({args:["array","array"],pre:function(d,g){this.sum=0},body:function(d,g){var y=d-g;this.sum+=y*y},post:function(d,g){return Math.sqrt(this.sum)}}),h=(0,a.default)({args:["array","array"],pre:function(d,g){this.sum=0},body:function(d,g){this.sum+=Math.abs(d-g)},post:function(d,g){return this.sum}}),p=(0,a.default)({args:["array","array"],pre:function(d,g){this.tf=0,this.tt=0},body:function(d,g){var y=Math.round(d),m=Math.round(g);this.tf+=+(y!=m),this.tt+=+(y==1&&m==1)},post:function(d,g){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),f=(0,a.default)({args:["array","array"],pre:function(d,g){this.tf=0,this.tt=0},body:function(d,g){var y=Math.round(d),m=Math.round(g);this.tf+=+(y!=m),this.tt+=+(y==1&&m==1)},post:function(d,g){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});e.exports=t.default})(DC,na);var gs={},bC={get exports(){return gs},set exports(e){gs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(f,c){for(var d=100,g=f.shape[0],y=(0,n.default)(new Float64Array(g*g),[g,g]),m=(0,n.default)(new Float64Array(g*g),[g,g]),_=void 0,D=void 0,E=1/0,w=Math.log(c),B=void 0,F=void 0,O=void 0,P=void 0,I=0;I<g;I++){_=1,D=-1/0,E=1/0;for(var k=0;k<d;k++){for(var Y=0;Y<g;Y++)y.set(I,Y,Math.exp(-f.get(I,Y)*_));y.set(I,I,0),O=0;for(var Y=0;Y<g;Y++)O+=y.get(I,Y);O==0&&(O=o),P=0;for(var Y=0;Y<g;Y++)y.set(I,Y,y.get(I,Y)/O),P+=f.get(I,Y)*y.get(I,Y);if(F=Math.log(O)+_*P,B=F-w,Math.abs(B)<=p)break;B>0?(D=_,E==1/0?_=_*2:_=(_+E)/2):(E=_,D==-1/0?_=_/2:_=(_+D)/2)}}a.default.add(m,y,y.transpose(1,0));var q=Math.max(a.default.sum(m),h);return a.default.divseq(m,q),a.default.maxseq(m,h),m};var r=yu,n=l(r),u=qs,a=l(u);function l(f){return f&&f.__esModule?f:{default:f}}var o=1e-7,h=Number.EPSILON||2220446049250313e-31,p=1e-5;e.exports=t.default})(bC,gs);var ms={},yC={get exports(){return ms},set exports(e){ms=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(g,y,m){var _=g.shape[0],D=g.shape[1],E=(0,n.default)(new Float64Array(_*_),[_,_]),w=(0,p.default)(g,"euclidean");d(w);var B=(m+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(w,1),m),B);for(var F=0;F<_;F++)w.set(F,F,0);var O=Math.max(a.default.sum(w),c);a.default.divs(E,w,O),a.default.maxseq(E,c);var P=(0,n.default)(new Float64Array(_*_),[_,_]),I=(0,n.default)(new Float64Array(_*_),[_,_]);a.default.div(P,y,E),a.default.logeq(P),a.default.assign(I,y);var k=a.default.sum(a.default.muleq(P,I)),Y=(0,n.default)(new Float64Array(g.size),g.shape),q=(0,n.default)(new Float64Array(_*_),[_,_]);a.default.sub(q,y,E),a.default.muleq(q,w);for(var F=0;F<_;F++)for(var z=0;z<D;z++){var Z=(0,n.default)(new Float64Array(g.shape[0]),[g.shape[0]]);a.default.assign(Z,g.pick(null,z)),a.default.addseq(a.default.negeq(Z),g.get(F,z)),a.default.muleq(Z,q.pick(F,null)),Y.set(F,z,a.default.sum(Z))}var W=2*(m+1)/m;return a.default.mulseq(Y,W),[k,Y]};var r=yu,n=f(r),u=qs,a=f(u),l=zs,o=f(l),h=na,p=f(h);function f(g){return g&&g.__esModule?g:{default:g}}var c=Number.EPSILON||2220446049250313e-31,d=(0,o.default)({args:["array"],body:function(y){}});e.exports=t.default})(yC,ms);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function Z(W,V){var G=[],Q=!0,X=!1,J=void 0;try{for(var le=W[Symbol.iterator](),me;!(Q=(me=le.next()).done)&&(G.push(me.value),!(V&&G.length===V));Q=!0);}catch(Ce){X=!0,J=Ce}finally{try{!Q&&le.return&&le.return()}finally{if(X)throw J}}return G}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Z(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function Z(W,V){for(var G=0;G<V.length;G++){var Q=V[G];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(W,Q.key,Q)}}return function(W,V,G){return V&&Z(W.prototype,V),G&&Z(W,G),W}}(),u=ds,a=yu,l=P(a),o=qs,h=P(o),p=Q2,f=P(p),c=mC,d=P(c),g=zs,y=P(g),m=vs,_=P(m),D=na,E=P(D),w=gs,B=P(w),F=ms,O=P(F);function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function I(Z){if(Array.isArray(Z)){for(var W=0,V=Array(Z.length);W<Z.length;W++)V[W]=Z[W];return V}else return Array.from(Z)}function k(Z,W){if(!(Z instanceof W))throw new TypeError("Cannot call a class as a function")}function Y(Z,W){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:Z}function q(Z,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);Z.prototype=Object.create(W&&W.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,W):Z.__proto__=W)}var z=function(Z){q(W,Z);function W(V){k(this,W);var G=Y(this,Object.getPrototypeOf(W).call(this));return V=V||{},G.dim=V.dim||2,G.perplexity=V.perplexity||30,G.earlyExaggeration=V.earlyExaggeration||4,G.learningRate=V.learningRate||1e3,G.nIter=V.nIter||1e3,G.metric=V.metric||"euclidean",G.barneshut=V.barneshut||!1,G.inputData=null,G.outputEmbedding=null,G}return n(W,[{key:"init",value:function(G){G=G||{};var Q=G.data||[],X=G.type||"dense";if(X==="dense")this.inputData=(0,f.default)(Q);else if(X==="sparse"){for(var J=[],le=1,me=function(lt){var tt=Math.max.apply(null,Q.map(function(ut){return ut[lt]}))+1;J.push(tt),le*=tt},Ce=0;Ce<Q[0].length;Ce++)me(Ce);this.inputData=(0,l.default)(new Float64Array(le),J);var be=!0,Ie=!1,Ve=void 0;try{for(var Oe=Q[Symbol.iterator](),et;!(be=(et=Oe.next()).done);be=!0){var je,Ne=et.value;(je=this.inputData).set.apply(je,I(Ne).concat([1]))}}catch(Re){Ie=!0,Ve=Re}finally{try{!be&&Oe.return&&Oe.return()}finally{if(Ie)throw Ve}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,_.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,E.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,B.default)(this.distances,this.perplexity);var G=Number.MAX_VALUE,Q=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),h.default.mulseq(this.P,this.earlyExaggeration);var X=this._gradDesc(Q,50,.5,0,0),J=r(X,2);G=J[0],Q=J[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var le=this._gradDesc(Q+1,100,.8,0,0),me=r(le,2);G=me[0],Q=me[1],this.emit("progressStatus","Final optimization with momentum 0.8"),h.default.divseq(this.P,this.earlyExaggeration);var Ce=this._gradDesc(Q+1,this.nIter,.8,1e-6,1e-6),be=r(Ce,2);return G=be[0],Q=be[1],this.emit("progressStatus","Optimization end"),[G,Q]}},{key:"rerun",value:function(){this.outputEmbedding=(0,_.default)(this.inputData.shape[0],this.dim);var G=this.run(),Q=r(G,2),X=Q[0],J=Q[1];return[X,J]}},{key:"getOutput",value:function(){return(0,d.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var G=(0,l.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),Q=(0,l.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),X=0;X<this.outputEmbedding.shape[1];X++){var J=h.default.sup(h.default.abs(Q,this.outputEmbedding.pick(null,X)));h.default.divs(G.pick(null,X),this.outputEmbedding.pick(null,X),J)}return(0,d.default)(G)}},{key:"_gradDesc",value:function(G,Q,X){for(var J=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],le=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],me=30,Ce=(0,l.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),be=new Float64Array(this.outputEmbedding.size),Ie=0;Ie<be.length;Ie++)be[Ie]=1;var Ve=(0,l.default)(be,this.outputEmbedding.shape),Oe=Number.MAX_VALUE,et=Number.MAX_VALUE,je=0,Ne=(0,y.default)({args:["array"],pre:function(At){this.sum=0},body:function(At){this.sum+=At*At},post:function(At){return Math.sqrt(this.sum)}}),Re=(0,y.default)({args:["array","array","array"],body:function(At,Lt,Wt){}}),lt=void 0;for(lt=G;lt<Q;lt++){var tt=(0,O.default)(this.outputEmbedding,this.P,this.alpha),ut=r(tt,2),rt=ut[0],nt=ut[1],Ke=Math.abs(rt-Oe);Oe=rt;var Ye=Ne(nt);if(this.emit("progressIter",[lt,Oe,Ye]),Oe<et)et=Oe,je=lt;else if(lt-je>me)break;if(J>=Ye||le>=Ke)break;Re(Ve,Ce,nt),h.default.muleq(nt,Ve);var Ae=(0,l.default)(new Float64Array(nt.size),nt.shape);h.default.muls(Ae,nt,this.learningRate),h.default.mulseq(Ce,X),h.default.subeq(Ce,Ae),h.default.addeq(this.outputEmbedding,Ce),this.emit("progressData",this.getOutputScaled())}return[Oe,lt]}}]),W}(u.EventEmitter);t.default=z,e.exports=t.default})(g2,hs);const AC=vf(hs);var Zl={},wC={get exports(){return Zl},set exports(e){Zl=e}},_s={},EC={get exports(){return _s},set exports(e){_s=e}},O0;function CC(){return O0||(O0=1,function(e){function t(r,n,u,a){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(r,n,u,a)}t.prototype.run=function(r,n,u,a){this._init(r,n,u,a);for(var l=0;l<this._datasetLength;l++)if(this._visited[l]!==1){this._visited[l]=1;var o=this._regionQuery(l);if(o.length<this.minPts)this.noise.push(l);else{var h=this.clusters.length;this.clusters.push([]),this._addToCluster(l,h),this._expandCluster(h,o)}}return this.clusters},t.prototype._init=function(r,n,u,a){if(r){if(!(r instanceof Array))throw Error("Dataset must be of type array, "+typeof r+" given");this.dataset=r,this.clusters=[],this.noise=[],this._datasetLength=r.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}n&&(this.epsilon=n),u&&(this.minPts=u),a&&(this.distance=a)},t.prototype._expandCluster=function(r,n){for(var u=0;u<n.length;u++){var a=n[u];if(this._visited[a]!==1){this._visited[a]=1;var l=this._regionQuery(a);l.length>=this.minPts&&(n=this._mergeArrays(n,l))}this._assigned[a]!==1&&this._addToCluster(a,r)}},t.prototype._addToCluster=function(r,n){this.clusters[n].push(r),this._assigned[r]=1},t.prototype._regionQuery=function(r){for(var n=[],u=0;u<this._datasetLength;u++){var a=this.distance(this.dataset[r],this.dataset[u]);a<this.epsilon&&n.push(u)}return n},t.prototype._mergeArrays=function(r,n){for(var u=n.length,a=0;a<u;a++){var l=n[a];r.indexOf(l)<0&&r.push(l)}return r},t.prototype._euclideanDistance=function(r,n){for(var u=0,a=Math.min(r.length,n.length);a--;)u+=(r[a]-n[a])*(r[a]-n[a]);return Math.sqrt(u)},e.exports&&(e.exports=t)}(EC)),_s}var Ds={},FC={get exports(){return Ds},set exports(e){Ds=e}},M0;function SC(){return M0||(M0=1,function(e){function t(r,n,u){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(r,n,u)}t.prototype.init=function(r,n,u){this.assignments=[],this.centroids=[],typeof r<"u"&&(this.dataset=r),typeof n<"u"&&(this.k=n),typeof u<"u"&&(this.distance=u)},t.prototype.run=function(r,n){this.init(r,n);for(var u=this.dataset.length,a=0;a<this.k;a++)this.centroids[a]=this.randomCentroid();for(var l=!0;l;){l=this.assign();for(var o=0;o<this.k;o++){for(var h=new Array(d),p=0,f=0;f<d;f++)h[f]=0;for(var c=0;c<u;c++){var d=this.dataset[c].length;if(o===this.assignments[c]){for(var f=0;f<d;f++)h[f]+=this.dataset[c][f];p++}}if(p>0){for(var f=0;f<d;f++)h[f]/=p;this.centroids[o]=h}else this.centroids[o]=this.randomCentroid(),l=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var r=this.dataset.length-1,n,u;do u=Math.round(Math.random()*r),n=this.dataset[u];while(this.centroids.indexOf(n)>=0);return n},t.prototype.assign=function(){for(var r=!1,n=this.dataset.length,u,a=0;a<n;a++)u=this.argmin(this.dataset[a],this.centroids,this.distance),u!=this.assignments[a]&&(this.assignments[a]=u,r=!0);return r},t.prototype.getClusters=function(){for(var r=new Array(this.k),n,u=0;u<this.assignments.length;u++)n=this.assignments[u],typeof r[n]>"u"&&(r[n]=[]),r[n].push(u);return r},t.prototype.argmin=function(r,n,u){for(var a=Number.MAX_VALUE,l=0,o=n.length,h,p=0;p<o;p++)h=u(r,n[p]),h<a&&(a=h,l=p);return l},t.prototype.distance=function(r,n){for(var u=0,a=Math.min(r.length,n.length);a--;){var l=r[a]-n[a];u+=l*l}return Math.sqrt(u)},e.exports&&(e.exports=t)}(FC)),Ds}var bs={},BC={get exports(){return bs},set exports(e){bs=e}},ys={},OC={get exports(){return ys},set exports(e){ys=e}},P0;function Ip(){return P0||(P0=1,function(e){function t(r,n,u){this._queue=[],this._priorities=[],this._sorting="desc",this._init(r,n,u)}t.prototype.insert=function(r,n){for(var u=this._queue.length,a=u;a--;){var l=this._priorities[a];this._sorting==="desc"?n>l&&(u=a):n<l&&(u=a)}this._insertAt(r,n,u)},t.prototype.remove=function(r){for(var n=this._queue.length;n--;){var u=this._queue[n];if(r===u){this._queue.splice(n,1),this._priorities.splice(n,1);break}}},t.prototype.forEach=function(r){this._queue.forEach(r)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(r){return this._priorities[r]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var r=[],n=0,u=this._queue.length;n<u;n++)r.push([this._queue[n],this._priorities[n]]);return r},t.prototype._init=function(r,n,u){if(r&&n){if(this._queue=[],this._priorities=[],r.length!==n.length)throw new Error("Arrays must have the same length");for(var a=0;a<r.length;a++)this.insert(r[a],n[a])}u&&(this._sorting=u)},t.prototype._insertAt=function(r,n,u){this._queue.length===u?(this._queue.push(r),this._priorities.push(n)):(this._queue.splice(u,0,r),this._priorities.splice(u,0,n))},e.exports&&(e.exports=t)}(OC)),ys}var x0;function MC(){return x0||(x0=1,function(e){if(e.exports)var t=Ip();function r(n,u,a,l){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(n,u,a,l)}r.prototype.run=function(n,u,a,l){this._init(n,u,a,l);for(var o=0,h=this.dataset.length;o<h;o++)if(this._processed[o]!==1){this._processed[o]=1,this.clusters.push([o]);var p=this.clusters.length-1;this._orderedList.push(o);var f=new t(null,null,"asc"),c=this._regionQuery(o);this._distanceToCore(o)!==void 0&&(this._updateQueue(o,c,f),this._expandCluster(p,f))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var n=[],u=0,a=this._orderedList.length;u<a;u++){var l=this._orderedList[u],o=this._reachability[l];n.push([l,o])}return n},r.prototype._init=function(n,u,a,l){if(n){if(!(n instanceof Array))throw Error("Dataset must be of type array, "+typeof n+" given");this.dataset=n,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}u&&(this.epsilon=u),a&&(this.minPts=a),l&&(this.distance=l)},r.prototype._updateQueue=function(n,u,a){var l=this;this._coreDistance=this._distanceToCore(n),u.forEach(function(o){if(l._processed[o]===void 0){var h=l.distance(l.dataset[n],l.dataset[o]),p=Math.max(l._coreDistance,h);l._reachability[o]===void 0?(l._reachability[o]=p,a.insert(o,p)):p<l._reachability[o]&&(l._reachability[o]=p,a.remove(o),a.insert(o,p))}})},r.prototype._expandCluster=function(n,u){for(var a=u.getElements(),l=0,o=a.length;l<o;l++){var h=a[l];if(this._processed[h]===void 0){var p=this._regionQuery(h);this._processed[h]=1,this.clusters[n].push(h),this._orderedList.push(h),this._distanceToCore(h)!==void 0&&(this._updateQueue(h,p,u),this._expandCluster(n,u))}}},r.prototype._distanceToCore=function(n){for(var u=this.epsilon,a=0;a<u;a++){var l=this._regionQuery(n,a);if(l.length>=this.minPts)return a}},r.prototype._regionQuery=function(n,u){u=u||this.epsilon;for(var a=[],l=0,o=this.dataset.length;l<o;l++)this.distance(this.dataset[n],this.dataset[l])<u&&a.push(l);return a},r.prototype._euclideanDistance=function(n,u){for(var a=0,l=Math.min(n.length,u.length);l--;)a+=(n[l]-u[l])*(n[l]-u[l]);return Math.sqrt(a)},e.exports&&(e.exports=r)}(BC)),bs}(function(e){e.exports&&(e.exports={DBSCAN:CC(),KMEANS:SC(),OPTICS:MC(),PriorityQueue:Ip()})})(wC);var Xl={},PC={get exports(){return Xl},set exports(e){Xl=e}};(function(e){var t=parseInt(Number.MAX_SAFE_INTEGER/2)||4503599627370496,r=0;function n(){this.C=null,this.row_covered=[],this.col_covered=[],this.n=0,this.Z0_r=0,this.Z0_c=0,this.marked=null,this.path=null}n.prototype.pad_matrix=function(o,h){h=h||r;var p=0,f=o.length,c;for(c=0;c<f;++c)o[c].length>p&&(p=o[c].length);f=p>f?p:f;var d=[];for(c=0;c<f;++c){for(var g=o[c]||[],y=g.slice();f>y.length;)y.push(h);d.push(y)}return d},n.prototype.compute=function(o,h){h=h||{},h.padValue=h.padValue||r,this.C=this.pad_matrix(o,h.padValue),this.n=this.C.length,this.original_length=o.length,this.original_width=o[0].length;for(var p=[];p.length<this.n;)p.push(!1);this.row_covered=p.slice(),this.col_covered=p.slice(),this.Z0_r=0,this.Z0_c=0,this.path=this.__make_matrix(this.n*2,0),this.marked=this.__make_matrix(this.n,0);for(var f=1,c={1:this.__step1,2:this.__step2,3:this.__step3,4:this.__step4,5:this.__step5,6:this.__step6};;){var d=c[f];if(!d)break;f=d.apply(this)}for(var g=[],y=0;y<this.original_length;++y)for(var m=0;m<this.original_width;++m)this.marked[y][m]==1&&g.push([y,m]);return g},n.prototype.__make_matrix=function(o,h){for(var p=[],f=0;f<o;++f){p[f]=[];for(var c=0;c<o;++c)p[f][c]=h}return p},n.prototype.__step1=function(){for(var o=0;o<this.n;++o)for(var h=Math.min.apply(Math,this.C[o]),p=0;p<this.n;++p)this.C[o][p]-=h;return 2},n.prototype.__step2=function(){for(var o=0;o<this.n;++o)for(var h=0;h<this.n;++h)if(this.C[o][h]===0&&!this.col_covered[h]&&!this.row_covered[o]){this.marked[o][h]=1,this.col_covered[h]=!0,this.row_covered[o]=!0;break}return this.__clear_covers(),3},n.prototype.__step3=function(){for(var o=0,h=0;h<this.n;++h)for(var p=0;p<this.n;++p)this.marked[h][p]==1&&this.col_covered[p]==!1&&(this.col_covered[p]=!0,++o);return o>=this.n?7:4},n.prototype.__step4=function(){for(var o=!1,h=-1,p=-1,f=-1;!o;){var c=this.__find_a_zero();if(h=c[0],p=c[1],h<0)return 6;if(this.marked[h][p]=2,f=this.__find_star_in_row(h),f>=0)p=f,this.row_covered[h]=!0,this.col_covered[p]=!1;else return this.Z0_r=h,this.Z0_c=p,5}},n.prototype.__step5=function(){var o=0;this.path[o][0]=this.Z0_r,this.path[o][1]=this.Z0_c;for(var h=!1;!h;){var p=this.__find_star_in_col(this.path[o][1]);if(p>=0?(o++,this.path[o][0]=p,this.path[o][1]=this.path[o-1][1]):h=!0,!h){var f=this.__find_prime_in_row(this.path[o][0]);o++,this.path[o][0]=this.path[o-1][0],this.path[o][1]=f}}return this.__convert_path(this.path,o),this.__clear_covers(),this.__erase_primes(),3},n.prototype.__step6=function(){for(var o=this.__find_smallest(),h=0;h<this.n;++h)for(var p=0;p<this.n;++p)this.row_covered[h]&&(this.C[h][p]+=o),this.col_covered[p]||(this.C[h][p]-=o);return 4},n.prototype.__find_smallest=function(){for(var o=t,h=0;h<this.n;++h)for(var p=0;p<this.n;++p)!this.row_covered[h]&&!this.col_covered[p]&&o>this.C[h][p]&&(o=this.C[h][p]);return o},n.prototype.__find_a_zero=function(){for(var o=0;o<this.n;++o)for(var h=0;h<this.n;++h)if(this.C[o][h]===0&&!this.row_covered[o]&&!this.col_covered[h])return[o,h];return[-1,-1]},n.prototype.__find_star_in_row=function(o){for(var h=0;h<this.n;++h)if(this.marked[o][h]==1)return h;return-1},n.prototype.__find_star_in_col=function(o){for(var h=0;h<this.n;++h)if(this.marked[h][o]==1)return h;return-1},n.prototype.__find_prime_in_row=function(o){for(var h=0;h<this.n;++h)if(this.marked[o][h]==2)return h;return-1},n.prototype.__convert_path=function(o,h){for(var p=0;p<=h;++p)this.marked[o[p][0]][o[p][1]]=this.marked[o[p][0]][o[p][1]]==1?0:1},n.prototype.__clear_covers=function(){for(var o=0;o<this.n;++o)this.row_covered[o]=!1,this.col_covered[o]=!1},n.prototype.__erase_primes=function(){for(var o=0;o<this.n;++o)for(var h=0;h<this.n;++h)this.marked[o][h]==2&&(this.marked[o][h]=0)};function u(o,h){var p,f;if(!h){var c=-1/0;for(p=0;p<o.length;++p)for(f=0;f<o[p].length;++f)o[p][f]>c&&(c=o[p][f]);h=function(y){return c-y}}var d=[];for(p=0;p<o.length;++p){var g=o[p];for(d[p]=[],f=0;f<g.length;++f)d[p][f]=h(o[p][f])}return d}function a(o){var h=[],p,f;for(p=0;p<o.length;++p)for(f=0;f<o[p].length;++f){var c=String(o[p][f]).length;(!h[f]||c>=h[f])&&(h[f]=c)}var d="";for(p=0;p<o.length;++p){for(f=0;f<o[p].length;++f){for(var g=String(o[p][f]);g.length<h[f];)g=" "+g;d+=g,f!=o[p].length-1&&(d+=" ")}p!=o[p].length-1&&(d+=`
`)}return d}function l(o,h){var p=new n;return p.compute(o,h)}l.version="1.2.2",l.format_matrix=a,l.make_cost_matrix=u,l.Munkres=n,e.exports&&(e.exports=l)})(PC);const xC=Xl;function T0(e,t,r){const n=e.slice();return n[31]=t[r][0],n[32]=t[r][1],n}function I0(e){let t=[],r=new Map,n,u,a,l=Object.entries(e[4].weightedPrompts);const o=h=>h[31];for(let h=0;h<l.length;h+=1){let p=T0(e,l,h),f=o(p);r.set(f,t[h]=k0(f,p))}return u=new ia({props:{xy:e[7],radius:e[1],color:"rgba(136,157,191, 1)",handleMouseDown:e[19]}}),{c(){for(let h=0;h<t.length;h+=1)t[h].c();n=Yt(),dt(u.$$.fragment)},l(h){for(let p=0;p<t.length;p+=1)t[p].l(h);n=Yt(),pt(u.$$.fragment,h)},m(h,p){for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(h,p);we(h,n,p),vt(u,h,p),a=!0},p(h,p){p[0]&221&&(l=Object.entries(h[4].weightedPrompts),an(),t=Bi(t,p,o,1,h,l,r,n.parentNode,kd,k0,n,T0),sn());const f={};p[0]&128&&(f.xy=h[7]),p[0]&2&&(f.radius=h[1]),p[0]&32&&(f.handleMouseDown=h[19]),u.$set(f)},i(h){if(!a){for(let p=0;p<l.length;p+=1)Pe(t[p]);Pe(u.$$.fragment,h),a=!0}},o(h){for(let p=0;p<t.length;p+=1)Le(t[p]);Le(u.$$.fragment,h),a=!1},d(h){for(let p=0;p<t.length;p+=1)t[p].d(h);h&&R(n),gt(u,h)}}}function N0(e){let t,r;return t=new Dp({props:{p1:e[6][e[31]].embedXY,p2:e[7]}}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},p(n,u){const a={};u[0]&80&&(a.p1=n[6][n[31]].embedXY),u[0]&128&&(a.p2=n[7]),t.$set(a)},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function k0(e,t){let r,n,u,a,l,o=t[32].embedActive&&N0(t);return u=new ia({props:{xy:t[6][t[31]].embedXY,radius:t[0],color:"rgba(136,157,191, 1)"}}),a=new Us({props:{xy:[t[6][t[31]].embedXY[0]-un(t[2],t[32].text.length,t[3])[0]/2,t[6][t[31]].embedXY[1]+t[0]],color:`rgba(255,255,255,${Tr(t[32].embedWeight)}`,wh:un(t[2],t[32].text.length,t[3]),fontSize:t[3],text:t[32].text}}),{key:e,first:null,c(){r=Yt(),o&&o.c(),n=Yt(),dt(u.$$.fragment),dt(a.$$.fragment),this.h()},l(h){r=Yt(),o&&o.l(h),n=Yt(),pt(u.$$.fragment,h),pt(a.$$.fragment,h),this.h()},h(){this.first=r},m(h,p){we(h,r,p),o&&o.m(h,p),we(h,n,p),vt(u,h,p),vt(a,h,p),l=!0},p(h,p){t=h,t[32].embedActive?o?(o.p(t,p),p[0]&16&&Pe(o,1)):(o=N0(t),o.c(),Pe(o,1),o.m(n.parentNode,n)):o&&(an(),Le(o,1,1,()=>{o=null}),sn());const f={};p[0]&80&&(f.xy=t[6][t[31]].embedXY),p[0]&1&&(f.radius=t[0]),u.$set(f);const c={};p[0]&93&&(c.xy=[t[6][t[31]].embedXY[0]-un(t[2],t[32].text.length,t[3])[0]/2,t[6][t[31]].embedXY[1]+t[0]]),p[0]&16&&(c.color=`rgba(255,255,255,${Tr(t[32].embedWeight)}`),p[0]&28&&(c.wh=un(t[2],t[32].text.length,t[3])),p[0]&8&&(c.fontSize=t[3]),p[0]&16&&(c.text=t[32].text),a.$set(c)},i(h){l||(Pe(o),Pe(u.$$.fragment,h),Pe(a.$$.fragment,h),l=!0)},o(h){Le(o),Le(u.$$.fragment,h),Le(a.$$.fragment,h),l=!1},d(h){h&&R(r),o&&o.d(h),h&&R(n),gt(u,h),gt(a,h)}}}function TC(e){let t,r=Object.entries(e[4].weightedPrompts).length>0&&Object.entries(e[6]||{}).length>0,n,u,a,l=r&&I0(e);return{c(){t=Ft("svg"),l&&l.c(),this.h()},l(o){t=St(o,"svg",{id:!0,class:!0});var h=ne(t);l&&l.l(h),h.forEach(R),this.h()},h(){x(t,"id","svg"),x(t,"class","w-full h-full")},m(o,h){we(o,t,h),l&&l.m(t,null),n=!0,u||(a=[ke(t,"mousemove",e[9]),ke(t,"mouseup",e[10]),ke(t,"dblclick",e[8])],u=!0)},p(o,h){h[0]&80&&(r=Object.entries(o[4].weightedPrompts).length>0&&Object.entries(o[6]||{}).length>0),r?l?(l.p(o,h),h[0]&80&&Pe(l,1)):(l=I0(o),l.c(),Pe(l,1),l.m(t,null)):l&&(an(),Le(l,1,1,()=>{l=null}),sn())},i(o){n||(Pe(l),n=!0)},o(o){Le(l),n=!1},d(o){o&&R(t),l&&l.d(),u=!1,Nr(a)}}}function IC(e,t,r){let n,u,a,l,o;Dt(e,$r,X=>r(4,o=X));let{center:h=[100,100]}=t,{dimensions:p=[100,100]}=t,{pointRadius:f=4}=t,{markerRadius:c=10}=t,{textWidth:d=150}=t,{fontSize:g=12}=t,{innerPad:y=100}=t,m=!1,_=null,D=p,E=[0,0];function w(){return{"00":[E[0],E[1]],"01":[E[0],E[1]+D[1]],11:[E[0]+D[0],E[1]+D[1]],10:[E[0]+D[0],E[1]]}}function B(X,J){return X.map(le=>J.map(me=>es(le,me)))}function F(X,J){if(X.length!==J.length)throw new Error("Both sets should have the same number of points");const le=B(X,J),me=xC(le);return me?me.map(([Ce,be])=>({ids:[Ce,be],points:[X[Ce],J[be]]})):null}function O(X){const J=X.reduce((le,me)=>Kr(le,me),[0,0]);return An(J,1/X.length)}function P(X){const J=w();switch(X){case 2:return[An(Kr(J["00"],J["01"]),.5),An(Kr(J[10],J[11]),.5)];case 4:return[J["00"],J["01"],J[11],J[10]];case 6:return[An(Kr(J["00"],J["01"]),.5),An(Kr(J[10],J[11]),.5),J["00"],J["01"],J[11],J[10]];case 8:return[An(Kr(J["00"],J["01"]),.5),An(Kr(J[10],J[11]),.5),J["00"],J["01"],J[11],J[10],An(Kr(J["00"],J[10]),.5),An(Kr(J["01"],J[11]),.5)];default:return null}}function I(X){o.embeddings&&o.scaledEmbedMappings&&(G(),z(n,u,a,D,X))}function k(X,J){X&&J&&(G(),z(n,u,a,D,l))}function Y(X,J){z(n,X,J,D,l)}function q(X){o.embeddings&&o.scaledEmbedMappings&&(G(),z(n,u,a,X,l))}function z(X,J,le,me,Ce){if(!_)return;let be={...o.weightedPrompts},Ie=0;Object.values(_).forEach(je=>{Object.values(_).forEach(Ne=>{const Re=es(je.embedXY,Ne.embedXY);Re>Ie&&(Ie=Re)})});const Ve=Object.entries(_).reduce((je,[Ne,Re])=>{const lt=es(X,Re.embedXY);return je[Ne]=lt,je},{}),Oe=(je,Ne)=>{const Re=je?Math.round(Math.pow(1-Ne/Ie,le)*100)/100:0;return Re<0?0:Re},et=(je,Ne)=>{const Re=je?Math.round((1-Ne/Ie)*100)/100:0;return Re<0?0:Re};Object.entries(Ve).sort((je,Ne)=>je[1]-Ne[1]).forEach(([je,Ne],Re)=>{if(!be[je])return;const lt=Re<Ce;be[je]={...be[je],embedWeight:J?Oe(lt,Ne):et(lt,Ne),embedActive:lt}}),Ut.update({...o,embedMarker:n,weightedPrompts:be})}function Z(X){const J=Wi(X,svg);r(7,n=J),z(n,u,a,D,l)}function W(X){if(m){const J=Wi(X,svg);r(7,n=J),z(n,u,a,D,l)}}function V(X){r(5,m=!1)}function G(){const J=Object.keys(o.scaledEmbedMappings).reduce((me,Ce,be)=>(me[Ce]={embedXY:[E[0]+D[0]*o.scaledEmbedMappings[be][0],E[1]+D[1]*o.scaledEmbedMappings[be][1]]},me),{}),le=me=>{if(!me.length)return h;const Ce=me.map(be=>J[be].embedXY);return O(Ce)};if(o.embedClusters){const me=o.embedClusters,Ce=o.embedClusterSets[me];let be=Ce.map(Oe=>le(Oe));const Ie=P(me),Ve=F(be,Ie);Ve&&Ve.forEach(Oe=>{const et=Oe.ids[0],je=Oe.points[1];Ce[et].forEach(Ne=>{J[Ne].embedXY=O([J[Ne].embedXY,je])})})}r(6,_=J)}const Q=()=>r(5,m=!0);return e.$$set=X=>{"center"in X&&r(11,h=X.center),"dimensions"in X&&r(12,p=X.dimensions),"pointRadius"in X&&r(0,f=X.pointRadius),"markerRadius"in X&&r(1,c=X.markerRadius),"textWidth"in X&&r(2,d=X.textWidth),"fontSize"in X&&r(3,g=X.fontSize),"innerPad"in X&&r(13,y=X.innerPad)},e.$$.update=()=>{if(e.$$.dirty[0]&2064&&r(7,n=o.embedMarker||h),e.$$.dirty[0]&16&&r(18,u=o.embedExponentialScaling),e.$$.dirty[0]&16&&r(17,a=o.embedWeightScaling),e.$$.dirty[0]&16&&r(16,l=o.embedPromptLimit||Object.keys(o.weightedPrompts).length),e.$$.dirty[0]&393216&&Y(u,a),e.$$.dirty[0]&16&&k(o.embeddings,o.scaledEmbedMappings),e.$$.dirty[0]&45056){const X=Math.min(...p),J=p[0]===X,le=p[1]===X;r(15,E=[Math.max(J?0:(p[0]-X)/2,y),Math.max(le?0:(p[1]-X)/2,y)]),r(14,D=[p[0]-2*E[0],p[1]-2*E[1]])}e.$$.dirty[0]&16384&&q(D),e.$$.dirty[0]&65536&&I(l)},[f,c,d,g,o,m,_,n,Z,W,V,h,p,y,D,E,l,a,u,Q]}class NC extends Pt{constructor(t){super(),xt(this,t,IC,TC,Tt,{center:11,dimensions:12,pointRadius:0,markerRadius:1,textWidth:2,fontSize:3,innerPad:13},null,[-1,-1])}}var Jl={},Np={},As={},kC={get exports(){return As},set exports(e){As=e}},ws={},LC={get exports(){return ws},set exports(e){ws=e}},kp=function(t,r){return function(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];return t.apply(r,u)}},RC=kp,Mi=Object.prototype.toString;function Af(e){return Array.isArray(e)}function Ql(e){return typeof e>"u"}function UC(e){return e!==null&&!Ql(e)&&e.constructor!==null&&!Ql(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Lp(e){return Mi.call(e)==="[object ArrayBuffer]"}function VC(e){return Mi.call(e)==="[object FormData]"}function jC(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Lp(e.buffer),t}function qC(e){return typeof e=="string"}function zC(e){return typeof e=="number"}function Rp(e){return e!==null&&typeof e=="object"}function rs(e){if(Mi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function WC(e){return Mi.call(e)==="[object Date]"}function HC(e){return Mi.call(e)==="[object File]"}function GC(e){return Mi.call(e)==="[object Blob]"}function Up(e){return Mi.call(e)==="[object Function]"}function KC(e){return Rp(e)&&Up(e.pipe)}function YC(e){return Mi.call(e)==="[object URLSearchParams]"}function $C(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ZC(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function wf(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Af(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.call(null,e[u],u,e)}function ef(){var e={};function t(u,a){rs(e[a])&&rs(u)?e[a]=ef(e[a],u):rs(u)?e[a]=ef({},u):Af(u)?e[a]=u.slice():e[a]=u}for(var r=0,n=arguments.length;r<n;r++)wf(arguments[r],t);return e}function XC(e,t,r){return wf(t,function(u,a){r&&typeof u=="function"?e[a]=RC(u,r):e[a]=u}),e}function JC(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Zr={isArray:Af,isArrayBuffer:Lp,isBuffer:UC,isFormData:VC,isArrayBufferView:jC,isString:qC,isNumber:zC,isObject:Rp,isPlainObject:rs,isUndefined:Ql,isDate:WC,isFile:HC,isBlob:GC,isFunction:Up,isStream:KC,isURLSearchParams:YC,isStandardBrowserEnv:ZC,forEach:wf,merge:ef,extend:XC,trim:$C,stripBOM:JC},fu=Zr;function L0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Vp=function(t,r,n){if(!r)return t;var u;if(n)u=n(r);else if(fu.isURLSearchParams(r))u=r.toString();else{var a=[];fu.forEach(r,function(h,p){h===null||typeof h>"u"||(fu.isArray(h)?p=p+"[]":h=[h],fu.forEach(h,function(c){fu.isDate(c)?c=c.toISOString():fu.isObject(c)&&(c=JSON.stringify(c)),a.push(L0(p)+"="+L0(c))}))}),u=a.join("&")}if(u){var l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t},QC=Zr;function Ws(){this.handlers=[]}Ws.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ws.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ws.prototype.forEach=function(t){QC.forEach(this.handlers,function(n){n!==null&&t(n)})};var eF=Ws,tF=Zr,rF=function(t,r){tF.forEach(t,function(u,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(t[r]=u,delete t[a])})},jp=function(t,r,n,u,a){return t.config=r,n&&(t.code=n),t.request=u,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},qp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hl,R0;function zp(){if(R0)return hl;R0=1;var e=jp;return hl=function(r,n,u,a,l){var o=new Error(r);return e(o,n,u,a,l)},hl}var dl,U0;function nF(){if(U0)return dl;U0=1;var e=zp();return dl=function(r,n,u){var a=u.config.validateStatus;!u.status||!a||a(u.status)?r(u):n(e("Request failed with status code "+u.status,u.config,null,u.request,u))},dl}var pl,V0;function iF(){if(V0)return pl;V0=1;var e=Zr;return pl=e.isStandardBrowserEnv()?function(){return{write:function(n,u,a,l,o,h){var p=[];p.push(n+"="+encodeURIComponent(u)),e.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),e.isString(l)&&p.push("path="+l),e.isString(o)&&p.push("domain="+o),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(n){var u=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),pl}var vl,j0;function uF(){return j0||(j0=1,vl=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),vl}var gl,q0;function aF(){return q0||(q0=1,gl=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),gl}var ml,z0;function sF(){if(z0)return ml;z0=1;var e=uF(),t=aF();return ml=function(n,u){return n&&!e(u)?t(n,u):u},ml}var _l,W0;function oF(){if(W0)return _l;W0=1;var e=Zr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return _l=function(n){var u={},a,l,o;return n&&e.forEach(n.split(`
`),function(p){if(o=p.indexOf(":"),a=e.trim(p.substr(0,o)).toLowerCase(),l=e.trim(p.substr(o+1)),a){if(u[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?u[a]=(u[a]?u[a]:[]).concat([l]):u[a]=u[a]?u[a]+", "+l:l}}),u},_l}var Dl,H0;function lF(){if(H0)return Dl;H0=1;var e=Zr;return Dl=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),u;function a(l){var o=l;return r&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return u=a(window.location.href),function(o){var h=e.isString(o)?a(o):o;return h.protocol===u.protocol&&h.host===u.host}}():function(){return function(){return!0}}(),Dl}var bl,G0;function Hs(){if(G0)return bl;G0=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,bl=e,bl}var yl,K0;function Y0(){if(K0)return yl;K0=1;var e=Zr,t=nF(),r=iF(),n=Vp,u=sF(),a=oF(),l=lF(),o=zp(),h=qp,p=Hs();return yl=function(c){return new Promise(function(g,y){var m=c.data,_=c.headers,D=c.responseType,E;function w(){c.cancelToken&&c.cancelToken.unsubscribe(E),c.signal&&c.signal.removeEventListener("abort",E)}e.isFormData(m)&&delete _["Content-Type"];var B=new XMLHttpRequest;if(c.auth){var F=c.auth.username||"",O=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";_.Authorization="Basic "+btoa(F+":"+O)}var P=u(c.baseURL,c.url);B.open(c.method.toUpperCase(),n(P,c.params,c.paramsSerializer),!0),B.timeout=c.timeout;function I(){if(B){var Y="getAllResponseHeaders"in B?a(B.getAllResponseHeaders()):null,q=!D||D==="text"||D==="json"?B.responseText:B.response,z={data:q,status:B.status,statusText:B.statusText,headers:Y,config:c,request:B};t(function(W){g(W),w()},function(W){y(W),w()},z),B=null}}if("onloadend"in B?B.onloadend=I:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(I)},B.onabort=function(){B&&(y(o("Request aborted",c,"ECONNABORTED",B)),B=null)},B.onerror=function(){y(o("Network Error",c,null,B)),B=null},B.ontimeout=function(){var q=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",z=c.transitional||h;c.timeoutErrorMessage&&(q=c.timeoutErrorMessage),y(o(q,c,z.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",B)),B=null},e.isStandardBrowserEnv()){var k=(c.withCredentials||l(P))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;k&&(_[c.xsrfHeaderName]=k)}"setRequestHeader"in B&&e.forEach(_,function(q,z){typeof m>"u"&&z.toLowerCase()==="content-type"?delete _[z]:B.setRequestHeader(z,q)}),e.isUndefined(c.withCredentials)||(B.withCredentials=!!c.withCredentials),D&&D!=="json"&&(B.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&B.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&B.upload&&B.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(E=function(Y){B&&(y(!Y||Y&&Y.type?new p("canceled"):Y),B.abort(),B=null)},c.cancelToken&&c.cancelToken.subscribe(E),c.signal&&(c.signal.aborted?E():c.signal.addEventListener("abort",E))),m||(m=null),B.send(m)})},yl}var Or=Zr,$0=rF,fF=jp,cF=qp,hF={"Content-Type":"application/x-www-form-urlencoded"};function Z0(e,t){!Or.isUndefined(e)&&Or.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function dF(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Y0()),e}function pF(e,t,r){if(Or.isString(e))try{return(t||JSON.parse)(e),Or.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Gs={transitional:cF,adapter:dF(),transformRequest:[function(t,r){return $0(r,"Accept"),$0(r,"Content-Type"),Or.isFormData(t)||Or.isArrayBuffer(t)||Or.isBuffer(t)||Or.isStream(t)||Or.isFile(t)||Or.isBlob(t)?t:Or.isArrayBufferView(t)?t.buffer:Or.isURLSearchParams(t)?(Z0(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Or.isObject(t)||r&&r["Content-Type"]==="application/json"?(Z0(r,"application/json"),pF(t)):t}],transformResponse:[function(t){var r=this.transitional||Gs.transitional,n=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||u&&Or.isString(t)&&t.length)try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?fF(l,this,"E_JSON_PARSE"):l}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Or.forEach(["delete","get","head"],function(t){Gs.headers[t]={}});Or.forEach(["post","put","patch"],function(t){Gs.headers[t]=Or.merge(hF)});var Ef=Gs,vF=Zr,gF=Ef,mF=function(t,r,n){var u=this||gF;return vF.forEach(n,function(l){t=l.call(u,t,r)}),t},Al,X0;function Wp(){return X0||(X0=1,Al=function(t){return!!(t&&t.__CANCEL__)}),Al}var J0=Zr,wl=mF,_F=Wp(),DF=Ef,bF=Hs();function El(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bF("canceled")}var yF=function(t){El(t),t.headers=t.headers||{},t.data=wl.call(t,t.data,t.headers,t.transformRequest),t.headers=J0.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),J0.forEach(["delete","get","head","post","put","patch","common"],function(u){delete t.headers[u]});var r=t.adapter||DF.adapter;return r(t).then(function(u){return El(t),u.data=wl.call(t,u.data,u.headers,t.transformResponse),u},function(u){return _F(u)||(El(t),u&&u.response&&(u.response.data=wl.call(t,u.response.data,u.response.headers,t.transformResponse))),Promise.reject(u)})},nn=Zr,Hp=function(t,r){r=r||{};var n={};function u(f,c){return nn.isPlainObject(f)&&nn.isPlainObject(c)?nn.merge(f,c):nn.isPlainObject(c)?nn.merge({},c):nn.isArray(c)?c.slice():c}function a(f){if(nn.isUndefined(r[f])){if(!nn.isUndefined(t[f]))return u(void 0,t[f])}else return u(t[f],r[f])}function l(f){if(!nn.isUndefined(r[f]))return u(void 0,r[f])}function o(f){if(nn.isUndefined(r[f])){if(!nn.isUndefined(t[f]))return u(void 0,t[f])}else return u(void 0,r[f])}function h(f){if(f in r)return u(t[f],r[f]);if(f in t)return u(void 0,t[f])}var p={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:h};return nn.forEach(Object.keys(t).concat(Object.keys(r)),function(c){var d=p[c]||a,g=d(c);nn.isUndefined(g)&&d!==h||(n[c]=g)}),n},Cl,Q0;function Gp(){return Q0||(Q0=1,Cl={version:"0.26.1"}),Cl}var AF=Gp().version,Cf={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Cf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var ed={};Cf.transitional=function(t,r,n){function u(a,l){return"[Axios v"+AF+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return function(a,l,o){if(t===!1)throw new Error(u(l," has been removed"+(r?" in "+r:"")));return r&&!ed[l]&&(ed[l]=!0,console.warn(u(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,o):!0}};function wF(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),u=n.length;u-- >0;){var a=n[u],l=t[a];if(l){var o=e[a],h=o===void 0||l(o,a,e);if(h!==!0)throw new TypeError("option "+a+" must be "+h);continue}if(r!==!0)throw Error("Unknown option "+a)}}var EF={assertOptions:wF,validators:Cf},Kp=Zr,CF=Vp,td=eF,rd=yF,Ks=Hp,Yp=EF,cu=Yp.validators;function ua(e){this.defaults=e,this.interceptors={request:new td,response:new td}}ua.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ks(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&Yp.assertOptions(n,{silentJSONParsing:cu.transitional(cu.boolean),forcedJSONParsing:cu.transitional(cu.boolean),clarifyTimeoutError:cu.transitional(cu.boolean)},!1);var u=[],a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(a=a&&g.synchronous,u.unshift(g.fulfilled,g.rejected))});var l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});var o;if(!a){var h=[rd,void 0];for(Array.prototype.unshift.apply(h,u),h=h.concat(l),o=Promise.resolve(r);h.length;)o=o.then(h.shift(),h.shift());return o}for(var p=r;u.length;){var f=u.shift(),c=u.shift();try{p=f(p)}catch(d){c(d);break}}try{o=rd(p)}catch(d){return Promise.reject(d)}for(;l.length;)o=o.then(l.shift(),l.shift());return o};ua.prototype.getUri=function(t){return t=Ks(this.defaults,t),CF(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Kp.forEach(["delete","get","head","options"],function(t){ua.prototype[t]=function(r,n){return this.request(Ks(n||{},{method:t,url:r,data:(n||{}).data}))}});Kp.forEach(["post","put","patch"],function(t){ua.prototype[t]=function(r,n,u){return this.request(Ks(u||{},{method:t,url:r,data:n}))}});var FF=ua,Fl,nd;function SF(){if(nd)return Fl;nd=1;var e=Hs();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(l){n=l});var u=this;this.promise.then(function(a){if(u._listeners){var l,o=u._listeners.length;for(l=0;l<o;l++)u._listeners[l](a);u._listeners=null}}),this.promise.then=function(a){var l,o=new Promise(function(h){u.subscribe(h),l=h}).then(a);return o.cancel=function(){u.unsubscribe(l)},o},r(function(l){u.reason||(u.reason=new e(l),n(u.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var u=this._listeners.indexOf(n);u!==-1&&this._listeners.splice(u,1)}},t.source=function(){var n,u=new t(function(l){n=l});return{token:u,cancel:n}},Fl=t,Fl}var Sl,id;function BF(){return id||(id=1,Sl=function(t){return function(n){return t.apply(null,n)}}),Sl}var Bl,ud;function OF(){if(ud)return Bl;ud=1;var e=Zr;return Bl=function(r){return e.isObject(r)&&r.isAxiosError===!0},Bl}var ad=Zr,MF=kp,ns=FF,PF=Hp,xF=Ef;function $p(e){var t=new ns(e),r=MF(ns.prototype.request,t);return ad.extend(r,ns.prototype,t),ad.extend(r,t),r.create=function(u){return $p(PF(e,u))},r}var Gn=$p(xF);Gn.Axios=ns;Gn.Cancel=Hs();Gn.CancelToken=SF();Gn.isCancel=Wp();Gn.VERSION=Gp().version;Gn.all=function(t){return Promise.all(t)};Gn.spread=BF();Gn.isAxiosError=OF();LC.exports=Gn;ws.default=Gn;(function(e){e.exports=ws})(kC);var ur={},Ff={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=As;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class r{constructor(a,l=e.BASE_PATH,o=t.default){this.basePath=l,this.axios=o,a&&(this.configuration=a,this.basePath=a.basePath||this.basePath)}}e.BaseAPI=r;class n extends Error{constructor(a,l){super(l),this.field=a,this.name="RequiredError"}}e.RequiredError=n})(Ff);var Sf=hr&&hr.__awaiter||function(e,t,r,n){function u(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(f){try{p(n.next(f))}catch(c){l(c)}}function h(f){try{p(n.throw(f))}catch(c){l(c)}}function p(f){f.done?a(f.value):u(f.value).then(o,h)}p((n=n.apply(e,t||[])).next())})};Object.defineProperty(ur,"__esModule",{value:!0});ur.createRequestFunction=ur.toPathString=ur.serializeDataIfNeeded=ur.setSearchParams=ur.setOAuthToObject=ur.setBearerAuthToObject=ur.setBasicAuthToObject=ur.setApiKeyToObject=ur.assertParamExists=ur.DUMMY_BASE_URL=void 0;const TF=Ff;ur.DUMMY_BASE_URL="https://example.com";ur.assertParamExists=function(e,t,r){if(r==null)throw new TF.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};ur.setApiKeyToObject=function(e,t,r){return Sf(this,void 0,void 0,function*(){if(r&&r.apiKey){const n=typeof r.apiKey=="function"?yield r.apiKey(t):yield r.apiKey;e[t]=n}})};ur.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};ur.setBearerAuthToObject=function(e,t){return Sf(this,void 0,void 0,function*(){if(t&&t.accessToken){const r=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+r}})};ur.setOAuthToObject=function(e,t,r,n){return Sf(this,void 0,void 0,function*(){if(n&&n.accessToken){const u=typeof n.accessToken=="function"?yield n.accessToken(t,r):yield n.accessToken;e.Authorization="Bearer "+u}})};function tf(e,t,r=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(n=>tf(e,n,r)):Object.keys(t).forEach(n=>tf(e,t[n],`${r}${r!==""?".":""}${n}`)):e.has(r)?e.append(r,t):e.set(r,t))}ur.setSearchParams=function(e,...t){const r=new URLSearchParams(e.search);tf(r,t),e.search=r.toString()};ur.serializeDataIfNeeded=function(e,t,r){const n=typeof e!="string";return(n&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):n)?JSON.stringify(e!==void 0?e:{}):e||""};ur.toPathString=function(e){return e.pathname+e.search+e.hash};ur.createRequestFunction=function(e,t,r,n){return(u=t,a=r)=>{const l=Object.assign(Object.assign({},e.options),{url:((n==null?void 0:n.basePath)||a)+e.url});return u.request(l)}};(function(e){var t=hr&&hr.__awaiter||function(l,o,h,p){function f(c){return c instanceof h?c:new h(function(d){d(c)})}return new(h||(h=Promise))(function(c,d){function g(_){try{m(p.next(_))}catch(D){d(D)}}function y(_){try{m(p.throw(_))}catch(D){d(D)}}function m(_){_.done?c(_.value):f(_.value).then(g,y)}m((p=p.apply(l,o||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const r=As,n=ur,u=Ff;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(l){return{cancelFineTune:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("cancelFineTune","fineTuneId",o);const p="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),createAnswer:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createAnswer","createAnswerRequest",o);const p="/answers",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createChatCompletion:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createChatCompletion","createChatCompletionRequest",o);const p="/chat/completions",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createClassification:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createClassification","createClassificationRequest",o);const p="/classifications",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createCompletion:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createCompletion","createCompletionRequest",o);const p="/completions",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createEdit:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createEdit","createEditRequest",o);const p="/edits",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createEmbedding:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createEmbedding","createEmbeddingRequest",o);const p="/embeddings",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createFile:(o,h,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createFile","file",o),n.assertParamExists("createFile","purpose",h);const f="/files",c=new URL(f,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const g=Object.assign(Object.assign({method:"POST"},d),p),y={},m={},_=new(l&&l.formDataCtor||FormData);o!==void 0&&_.append("file",o),h!==void 0&&_.append("purpose",h),y["Content-Type"]="multipart/form-data",n.setSearchParams(c,m);let D=d&&d.headers?d.headers:{};return g.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),_.getHeaders()),D),p.headers),g.data=_,{url:n.toPathString(c),options:g}}),createFineTune:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createFineTune","createFineTuneRequest",o);const p="/fine-tunes",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createImage:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImage","createImageRequest",o);const p="/images/generations",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createImageEdit:(o,h,p,f,c,d,g,y={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImageEdit","image",o),n.assertParamExists("createImageEdit","prompt",h);const m="/images/edits",_=new URL(m,n.DUMMY_BASE_URL);let D;l&&(D=l.baseOptions);const E=Object.assign(Object.assign({method:"POST"},D),y),w={},B={},F=new(l&&l.formDataCtor||FormData);o!==void 0&&F.append("image",o),p!==void 0&&F.append("mask",p),h!==void 0&&F.append("prompt",h),f!==void 0&&F.append("n",f),c!==void 0&&F.append("size",c),d!==void 0&&F.append("response_format",d),g!==void 0&&F.append("user",g),w["Content-Type"]="multipart/form-data",n.setSearchParams(_,B);let O=D&&D.headers?D.headers:{};return E.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),F.getHeaders()),O),y.headers),E.data=F,{url:n.toPathString(_),options:E}}),createImageVariation:(o,h,p,f,c,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createImageVariation","image",o);const g="/images/variations",y=new URL(g,n.DUMMY_BASE_URL);let m;l&&(m=l.baseOptions);const _=Object.assign(Object.assign({method:"POST"},m),d),D={},E={},w=new(l&&l.formDataCtor||FormData);o!==void 0&&w.append("image",o),h!==void 0&&w.append("n",h),p!==void 0&&w.append("size",p),f!==void 0&&w.append("response_format",f),c!==void 0&&w.append("user",c),D["Content-Type"]="multipart/form-data",n.setSearchParams(y,E);let B=m&&m.headers?m.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},D),w.getHeaders()),B),d.headers),_.data=w,{url:n.toPathString(y),options:_}}),createModeration:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createModeration","createModerationRequest",o);const p="/moderations",f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},c),h),g={},y={};g["Content-Type"]="application/json",n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(f),options:d}}),createSearch:(o,h,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createSearch","engineId",o),n.assertParamExists("createSearch","createSearchRequest",h);const f="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(o))),c=new URL(f,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const g=Object.assign(Object.assign({method:"POST"},d),p),y={},m={};y["Content-Type"]="application/json",n.setSearchParams(c,m);let _=d&&d.headers?d.headers:{};return g.headers=Object.assign(Object.assign(Object.assign({},y),_),p.headers),g.data=n.serializeDataIfNeeded(h,g,l),{url:n.toPathString(c),options:g}}),createTranscription:(o,h,p,f,c,d,g={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createTranscription","file",o),n.assertParamExists("createTranscription","model",h);const y="/audio/transcriptions",m=new URL(y,n.DUMMY_BASE_URL);let _;l&&(_=l.baseOptions);const D=Object.assign(Object.assign({method:"POST"},_),g),E={},w={},B=new(l&&l.formDataCtor||FormData);o!==void 0&&B.append("file",o),h!==void 0&&B.append("model",h),p!==void 0&&B.append("prompt",p),f!==void 0&&B.append("response_format",f),c!==void 0&&B.append("temperature",c),d!==void 0&&B.append("language",d),E["Content-Type"]="multipart/form-data",n.setSearchParams(m,w);let F=_&&_.headers?_.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},E),B.getHeaders()),F),g.headers),D.data=B,{url:n.toPathString(m),options:D}}),createTranslation:(o,h,p,f,c,d={})=>t(this,void 0,void 0,function*(){n.assertParamExists("createTranslation","file",o),n.assertParamExists("createTranslation","model",h);const g="/audio/translations",y=new URL(g,n.DUMMY_BASE_URL);let m;l&&(m=l.baseOptions);const _=Object.assign(Object.assign({method:"POST"},m),d),D={},E={},w=new(l&&l.formDataCtor||FormData);o!==void 0&&w.append("file",o),h!==void 0&&w.append("model",h),p!==void 0&&w.append("prompt",p),f!==void 0&&w.append("response_format",f),c!==void 0&&w.append("temperature",c),D["Content-Type"]="multipart/form-data",n.setSearchParams(y,E);let B=m&&m.headers?m.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},D),w.getHeaders()),B),d.headers),_.data=w,{url:n.toPathString(y),options:_}}),deleteFile:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("deleteFile","fileId",o);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),deleteModel:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("deleteModel","model",o);const p="/models/{model}".replace("{model}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),downloadFile:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("downloadFile","fileId",o);const p="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),listEngines:(o={})=>t(this,void 0,void 0,function*(){const h="/engines",p=new URL(h,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),o),d={},g={};n.setSearchParams(p,g);let y=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},d),y),o.headers),{url:n.toPathString(p),options:c}}),listFiles:(o={})=>t(this,void 0,void 0,function*(){const h="/files",p=new URL(h,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),o),d={},g={};n.setSearchParams(p,g);let y=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},d),y),o.headers),{url:n.toPathString(p),options:c}}),listFineTuneEvents:(o,h,p={})=>t(this,void 0,void 0,function*(){n.assertParamExists("listFineTuneEvents","fineTuneId",o);const f="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(o))),c=new URL(f,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const g=Object.assign(Object.assign({method:"GET"},d),p),y={},m={};h!==void 0&&(m.stream=h),n.setSearchParams(c,m);let _=d&&d.headers?d.headers:{};return g.headers=Object.assign(Object.assign(Object.assign({},y),_),p.headers),{url:n.toPathString(c),options:g}}),listFineTunes:(o={})=>t(this,void 0,void 0,function*(){const h="/fine-tunes",p=new URL(h,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),o),d={},g={};n.setSearchParams(p,g);let y=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},d),y),o.headers),{url:n.toPathString(p),options:c}}),listModels:(o={})=>t(this,void 0,void 0,function*(){const h="/models",p=new URL(h,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},f),o),d={},g={};n.setSearchParams(p,g);let y=f&&f.headers?f.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},d),y),o.headers),{url:n.toPathString(p),options:c}}),retrieveEngine:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveEngine","engineId",o);const p="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),retrieveFile:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveFile","fileId",o);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),retrieveFineTune:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveFineTune","fineTuneId",o);const p="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}}),retrieveModel:(o,h={})=>t(this,void 0,void 0,function*(){n.assertParamExists("retrieveModel","model",o);const p="/models/{model}".replace("{model}",encodeURIComponent(String(o))),f=new URL(p,n.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},c),h),g={},y={};n.setSearchParams(f,y);let m=c&&c.headers?c.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},g),m),h.headers),{url:n.toPathString(f),options:d}})}},e.OpenAIApiFp=function(l){const o=e.OpenAIApiAxiosParamCreator(l);return{cancelFineTune(h,p){return t(this,void 0,void 0,function*(){const f=yield o.cancelFineTune(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createAnswer(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createAnswer(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createChatCompletion(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createChatCompletion(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createClassification(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createClassification(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createCompletion(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createCompletion(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createEdit(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createEdit(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createEmbedding(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createEmbedding(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createFile(h,p,f){return t(this,void 0,void 0,function*(){const c=yield o.createFile(h,p,f);return n.createRequestFunction(c,r.default,u.BASE_PATH,l)})},createFineTune(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createFineTune(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createImage(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createImage(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createImageEdit(h,p,f,c,d,g,y,m){return t(this,void 0,void 0,function*(){const _=yield o.createImageEdit(h,p,f,c,d,g,y,m);return n.createRequestFunction(_,r.default,u.BASE_PATH,l)})},createImageVariation(h,p,f,c,d,g){return t(this,void 0,void 0,function*(){const y=yield o.createImageVariation(h,p,f,c,d,g);return n.createRequestFunction(y,r.default,u.BASE_PATH,l)})},createModeration(h,p){return t(this,void 0,void 0,function*(){const f=yield o.createModeration(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},createSearch(h,p,f){return t(this,void 0,void 0,function*(){const c=yield o.createSearch(h,p,f);return n.createRequestFunction(c,r.default,u.BASE_PATH,l)})},createTranscription(h,p,f,c,d,g,y){return t(this,void 0,void 0,function*(){const m=yield o.createTranscription(h,p,f,c,d,g,y);return n.createRequestFunction(m,r.default,u.BASE_PATH,l)})},createTranslation(h,p,f,c,d,g){return t(this,void 0,void 0,function*(){const y=yield o.createTranslation(h,p,f,c,d,g);return n.createRequestFunction(y,r.default,u.BASE_PATH,l)})},deleteFile(h,p){return t(this,void 0,void 0,function*(){const f=yield o.deleteFile(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},deleteModel(h,p){return t(this,void 0,void 0,function*(){const f=yield o.deleteModel(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},downloadFile(h,p){return t(this,void 0,void 0,function*(){const f=yield o.downloadFile(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},listEngines(h){return t(this,void 0,void 0,function*(){const p=yield o.listEngines(h);return n.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listFiles(h){return t(this,void 0,void 0,function*(){const p=yield o.listFiles(h);return n.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listFineTuneEvents(h,p,f){return t(this,void 0,void 0,function*(){const c=yield o.listFineTuneEvents(h,p,f);return n.createRequestFunction(c,r.default,u.BASE_PATH,l)})},listFineTunes(h){return t(this,void 0,void 0,function*(){const p=yield o.listFineTunes(h);return n.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listModels(h){return t(this,void 0,void 0,function*(){const p=yield o.listModels(h);return n.createRequestFunction(p,r.default,u.BASE_PATH,l)})},retrieveEngine(h,p){return t(this,void 0,void 0,function*(){const f=yield o.retrieveEngine(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},retrieveFile(h,p){return t(this,void 0,void 0,function*(){const f=yield o.retrieveFile(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},retrieveFineTune(h,p){return t(this,void 0,void 0,function*(){const f=yield o.retrieveFineTune(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})},retrieveModel(h,p){return t(this,void 0,void 0,function*(){const f=yield o.retrieveModel(h,p);return n.createRequestFunction(f,r.default,u.BASE_PATH,l)})}}},e.OpenAIApiFactory=function(l,o,h){const p=e.OpenAIApiFp(l);return{cancelFineTune(f,c){return p.cancelFineTune(f,c).then(d=>d(h,o))},createAnswer(f,c){return p.createAnswer(f,c).then(d=>d(h,o))},createChatCompletion(f,c){return p.createChatCompletion(f,c).then(d=>d(h,o))},createClassification(f,c){return p.createClassification(f,c).then(d=>d(h,o))},createCompletion(f,c){return p.createCompletion(f,c).then(d=>d(h,o))},createEdit(f,c){return p.createEdit(f,c).then(d=>d(h,o))},createEmbedding(f,c){return p.createEmbedding(f,c).then(d=>d(h,o))},createFile(f,c,d){return p.createFile(f,c,d).then(g=>g(h,o))},createFineTune(f,c){return p.createFineTune(f,c).then(d=>d(h,o))},createImage(f,c){return p.createImage(f,c).then(d=>d(h,o))},createImageEdit(f,c,d,g,y,m,_,D){return p.createImageEdit(f,c,d,g,y,m,_,D).then(E=>E(h,o))},createImageVariation(f,c,d,g,y,m){return p.createImageVariation(f,c,d,g,y,m).then(_=>_(h,o))},createModeration(f,c){return p.createModeration(f,c).then(d=>d(h,o))},createSearch(f,c,d){return p.createSearch(f,c,d).then(g=>g(h,o))},createTranscription(f,c,d,g,y,m,_){return p.createTranscription(f,c,d,g,y,m,_).then(D=>D(h,o))},createTranslation(f,c,d,g,y,m){return p.createTranslation(f,c,d,g,y,m).then(_=>_(h,o))},deleteFile(f,c){return p.deleteFile(f,c).then(d=>d(h,o))},deleteModel(f,c){return p.deleteModel(f,c).then(d=>d(h,o))},downloadFile(f,c){return p.downloadFile(f,c).then(d=>d(h,o))},listEngines(f){return p.listEngines(f).then(c=>c(h,o))},listFiles(f){return p.listFiles(f).then(c=>c(h,o))},listFineTuneEvents(f,c,d){return p.listFineTuneEvents(f,c,d).then(g=>g(h,o))},listFineTunes(f){return p.listFineTunes(f).then(c=>c(h,o))},listModels(f){return p.listModels(f).then(c=>c(h,o))},retrieveEngine(f,c){return p.retrieveEngine(f,c).then(d=>d(h,o))},retrieveFile(f,c){return p.retrieveFile(f,c).then(d=>d(h,o))},retrieveFineTune(f,c){return p.retrieveFineTune(f,c).then(d=>d(h,o))},retrieveModel(f,c){return p.retrieveModel(f,c).then(d=>d(h,o))}}};class a extends u.BaseAPI{cancelFineTune(o,h){return e.OpenAIApiFp(this.configuration).cancelFineTune(o,h).then(p=>p(this.axios,this.basePath))}createAnswer(o,h){return e.OpenAIApiFp(this.configuration).createAnswer(o,h).then(p=>p(this.axios,this.basePath))}createChatCompletion(o,h){return e.OpenAIApiFp(this.configuration).createChatCompletion(o,h).then(p=>p(this.axios,this.basePath))}createClassification(o,h){return e.OpenAIApiFp(this.configuration).createClassification(o,h).then(p=>p(this.axios,this.basePath))}createCompletion(o,h){return e.OpenAIApiFp(this.configuration).createCompletion(o,h).then(p=>p(this.axios,this.basePath))}createEdit(o,h){return e.OpenAIApiFp(this.configuration).createEdit(o,h).then(p=>p(this.axios,this.basePath))}createEmbedding(o,h){return e.OpenAIApiFp(this.configuration).createEmbedding(o,h).then(p=>p(this.axios,this.basePath))}createFile(o,h,p){return e.OpenAIApiFp(this.configuration).createFile(o,h,p).then(f=>f(this.axios,this.basePath))}createFineTune(o,h){return e.OpenAIApiFp(this.configuration).createFineTune(o,h).then(p=>p(this.axios,this.basePath))}createImage(o,h){return e.OpenAIApiFp(this.configuration).createImage(o,h).then(p=>p(this.axios,this.basePath))}createImageEdit(o,h,p,f,c,d,g,y){return e.OpenAIApiFp(this.configuration).createImageEdit(o,h,p,f,c,d,g,y).then(m=>m(this.axios,this.basePath))}createImageVariation(o,h,p,f,c,d){return e.OpenAIApiFp(this.configuration).createImageVariation(o,h,p,f,c,d).then(g=>g(this.axios,this.basePath))}createModeration(o,h){return e.OpenAIApiFp(this.configuration).createModeration(o,h).then(p=>p(this.axios,this.basePath))}createSearch(o,h,p){return e.OpenAIApiFp(this.configuration).createSearch(o,h,p).then(f=>f(this.axios,this.basePath))}createTranscription(o,h,p,f,c,d,g){return e.OpenAIApiFp(this.configuration).createTranscription(o,h,p,f,c,d,g).then(y=>y(this.axios,this.basePath))}createTranslation(o,h,p,f,c,d){return e.OpenAIApiFp(this.configuration).createTranslation(o,h,p,f,c,d).then(g=>g(this.axios,this.basePath))}deleteFile(o,h){return e.OpenAIApiFp(this.configuration).deleteFile(o,h).then(p=>p(this.axios,this.basePath))}deleteModel(o,h){return e.OpenAIApiFp(this.configuration).deleteModel(o,h).then(p=>p(this.axios,this.basePath))}downloadFile(o,h){return e.OpenAIApiFp(this.configuration).downloadFile(o,h).then(p=>p(this.axios,this.basePath))}listEngines(o){return e.OpenAIApiFp(this.configuration).listEngines(o).then(h=>h(this.axios,this.basePath))}listFiles(o){return e.OpenAIApiFp(this.configuration).listFiles(o).then(h=>h(this.axios,this.basePath))}listFineTuneEvents(o,h,p){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(o,h,p).then(f=>f(this.axios,this.basePath))}listFineTunes(o){return e.OpenAIApiFp(this.configuration).listFineTunes(o).then(h=>h(this.axios,this.basePath))}listModels(o){return e.OpenAIApiFp(this.configuration).listModels(o).then(h=>h(this.axios,this.basePath))}retrieveEngine(o,h){return e.OpenAIApiFp(this.configuration).retrieveEngine(o,h).then(p=>p(this.axios,this.basePath))}retrieveFile(o,h){return e.OpenAIApiFp(this.configuration).retrieveFile(o,h).then(p=>p(this.axios,this.basePath))}retrieveFineTune(o,h){return e.OpenAIApiFp(this.configuration).retrieveFineTune(o,h).then(p=>p(this.axios,this.basePath))}retrieveModel(o,h){return e.OpenAIApiFp(this.configuration).retrieveModel(o,h).then(p=>p(this.axios,this.basePath))}}e.OpenAIApi=a})(Np);var Ys={};const IF="openai",NF="3.2.1",kF="Node.js library for the OpenAI API",LF={type:"git",url:"git@github.com:openai/openai-node.git"},RF=["openai","open","ai","gpt-3","gpt3"],UF="OpenAI",VF="MIT",jF="./dist/index.js",qF="./dist/index.d.ts",zF={build:"tsc --outDir dist/"},WF={axios:"^0.26.0","form-data":"^4.0.0"},HF={"@types/node":"^12.11.5",typescript:"^3.6.4"},GF={name:IF,version:NF,description:kF,repository:LF,keywords:RF,author:UF,license:VF,main:jF,types:qF,scripts:zF,dependencies:WF,devDependencies:HF};var Ol,sd;function KF(){return sd||(sd=1,Ol=typeof self=="object"?self.FormData:window.FormData),Ol}Object.defineProperty(Ys,"__esModule",{value:!0});Ys.Configuration=void 0;const YF=GF;class $F{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${YF.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=KF())}isJsonMime(t){const r=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(r.test(t)||t.toLowerCase()==="application/json-patch+json")}}Ys.Configuration=$F;(function(e){var t=hr&&hr.__createBinding||(Object.create?function(n,u,a,l){l===void 0&&(l=a),Object.defineProperty(n,l,{enumerable:!0,get:function(){return u[a]}})}:function(n,u,a,l){l===void 0&&(l=a),n[l]=u[a]}),r=hr&&hr.__exportStar||function(n,u){for(var a in n)a!=="default"&&!u.hasOwnProperty(a)&&t(u,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Np,e),r(Ys,e)})(Jl);function Bf(e){const t=new Jl.Configuration({apiKey:e});return new Jl.OpenAIApi(t)}async function ZF(e,t,r="text-davinci-003"){return await e.createCompletion({model:r,prompt:t,temperature:.8,max_tokens:250})}async function XF(e,t,r="gpt-3.5-turbo"){return await e.createChatCompletion({model:r,messages:[{role:"user",content:t}],temperature:.8,max_tokens:250})}async function JF(e,t,r="text-embedding-ada-002"){return await e.createEmbedding({model:r,input:t})}async function QF(e){return await e.listModels()}const Ml="preferredEmbeddingModelStore";function e3(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Ml]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Ml]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Ml],r(""))}}}const rf=e3(),Zp=on(rf,e=>Bt(rf)),Pl="oKeyStore";function t3(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Pl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Pl]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Pl],r(""))}}}const Es=t3(),Of=on(Es,e=>Bt(Es));function r3(e){let t,r,n,u={ctx:e,current:null,token:null,hasCatch:!0,pending:a3,then:u3,catch:i3,value:25,error:26,blocks:[,,,]};return Ci(r=e[6],u),{c(){t=Yt(),u.block.c()},l(a){t=Yt(),u.block.l(a)},m(a,l){we(a,t,l),u.block.m(a,u.anchor=l),u.mount=()=>t.parentNode,u.anchor=t,n=!0},p(a,l){e=a,u.ctx=e,l&64&&r!==(r=e[6])&&Ci(r,u)||Ps(u,e,l)},i(a){n||(Pe(u.block),n=!0)},o(a){for(let l=0;l<3;l+=1){const o=u.blocks[l];Le(o)}n=!1},d(a){a&&R(t),u.block.d(a),u.token=null,u=null}}}function n3(e){let t,r,n,u,a;return{c(){t=ue("div"),r=ue("div"),n=ue("div"),u=ue("p"),a=He("Set OpenAI key in settings to use embedding map."),this.h()},l(l){t=ae(l,"DIV",{class:!0});var o=ne(t);r=ae(o,"DIV",{class:!0});var h=ne(r);n=ae(h,"DIV",{class:!0});var p=ne(n);u=ae(p,"P",{class:!0});var f=ne(u);a=Ge(f,"Set OpenAI key in settings to use embedding map."),f.forEach(R),p.forEach(R),h.forEach(R),o.forEach(R),this.h()},h(){x(u,"class","text-center text-lg"),x(n,"class","h-20 w-52"),x(r,"class","flex flex-col justify-center"),x(t,"class","w-full h-full flex justify-center")},m(l,o){we(l,t,o),H(t,r),H(r,n),H(n,u),H(u,a)},p:Te,i:Te,o:Te,d(l){l&&R(t)}}}function i3(e){let t,r=e[26].message+"",n;return{c(){t=ue("p"),n=He(r),this.h()},l(u){t=ae(u,"P",{style:!0});var a=ne(t);n=Ge(a,r),a.forEach(R),this.h()},h(){er(t,"color","red")},m(u,a){we(u,t,a),H(t,n)},p(u,a){a&64&&r!==(r=u[26].message+"")&&En(n,r)},i:Te,o:Te,d(u){u&&R(t)}}}function u3(e){let t,r,n,u,a,l,o,h,p,f,c,d,g,y,m,_,D,E,w,B,F,O,P,I,k,Y,q,z,Z,W,V,G,Q,X,J,le,me,Ce,be,Ie,Ve,Oe,et,je,Ne,Re,lt,tt,ut,rt;r=new NC({props:{dimensions:e[3],center:e[8]}});let nt=e[4].embedExponentialScaling&&od(e);return{c(){t=ue("div"),dt(r.$$.fragment),u=ze(),a=ue("div"),l=ue("div"),o=ue("label"),h=ue("span"),p=He("Exponential Scaling"),f=ze(),c=ue("input"),g=ze(),nt&&nt.c(),y=ze(),m=ue("div"),_=ue("label"),D=ue("span"),E=He("# Prompts"),w=ze(),B=ue("input"),F=ze(),O=ue("div"),P=ue("div"),I=ue("label"),k=ue("span"),Y=He("Clusters"),q=ze(),z=ue("div"),Z=ue("button"),W=He("0"),G=ze(),Q=ue("button"),X=He("2"),J=ze(),le=ue("button"),me=He("4"),Ce=ze(),be=ue("button"),Ie=He("6"),Ve=ze(),Oe=ue("button"),et=He("8"),je=ze(),Ne=ue("div"),Re=ue("button"),lt=He("Shuffle"),this.h()},l(Ke){t=ae(Ke,"DIV",{class:!0});var Ye=ne(t);pt(r.$$.fragment,Ye),Ye.forEach(R),u=We(Ke),a=ae(Ke,"DIV",{class:!0});var Ae=ne(a);l=ae(Ae,"DIV",{class:!0});var Se=ne(l);o=ae(Se,"LABEL",{class:!0});var At=ne(o);h=ae(At,"SPAN",{class:!0});var Lt=ne(h);p=Ge(Lt,"Exponential Scaling"),Lt.forEach(R),At.forEach(R),f=We(Se),c=ae(Se,"INPUT",{type:!0,class:!0}),Se.forEach(R),g=We(Ae),nt&&nt.l(Ae),y=We(Ae),m=ae(Ae,"DIV",{class:!0});var Wt=ne(m);_=ae(Wt,"LABEL",{class:!0});var L=ne(_);D=ae(L,"SPAN",{class:!0});var j=ne(D);E=Ge(j,"# Prompts"),j.forEach(R),L.forEach(R),w=We(Wt),B=ae(Wt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Wt.forEach(R),F=We(Ae),O=ae(Ae,"DIV",{class:!0});var $=ne(O);P=ae($,"DIV",{class:!0});var fe=ne(P);I=ae(fe,"LABEL",{class:!0});var ie=ne(I);k=ae(ie,"SPAN",{class:!0});var he=ne(k);Y=Ge(he,"Clusters"),he.forEach(R),ie.forEach(R),q=We(fe),z=ae(fe,"DIV",{class:!0});var se=ne(z);Z=ae(se,"BUTTON",{class:!0});var ce=ne(Z);W=Ge(ce,"0"),ce.forEach(R),G=We(se),Q=ae(se,"BUTTON",{class:!0});var ye=ne(Q);X=Ge(ye,"2"),ye.forEach(R),J=We(se),le=ae(se,"BUTTON",{class:!0});var Me=ne(le);me=Ge(Me,"4"),Me.forEach(R),Ce=We(se),be=ae(se,"BUTTON",{class:!0});var Xe=ne(be);Ie=Ge(Xe,"6"),Xe.forEach(R),Ve=We(se),Oe=ae(se,"BUTTON",{class:!0});var Ee=ne(Oe);et=Ge(Ee,"8"),Ee.forEach(R),se.forEach(R),fe.forEach(R),$.forEach(R),je=We(Ae),Ne=ae(Ae,"DIV",{class:!0});var jt=ne(Ne);Re=ae(jt,"BUTTON",{class:!0});var Ot=ne(Re);lt=Ge(Ot,"Shuffle"),Ot.forEach(R),jt.forEach(R),Ae.forEach(R),this.h()},h(){x(t,"class","w-full h-full"),Os(()=>e[15].call(t)),x(h,"class","label-text"),x(o,"class","label"),x(c,"type","checkbox"),x(c,"class","toggle toggle-sm"),c.checked=d=e[4].embedExponentialScaling,x(l,"class","min-w-max px-2"),x(D,"class","label-text"),x(_,"class","label"),B.value=e[9],x(B,"type","range"),x(B,"min","1"),x(B,"max",e[2]),x(B,"step","1"),x(B,"class","range range-sm"),x(m,"class","w-full px-2"),x(k,"class","label-text"),x(I,"class","label pb-1 m-0"),x(Z,"class",V=(e[4].embedClusters||0)===0?"btn btn-xs btn-active":"btn btn-xs"),x(Q,"class","btn btn-xs"),zt(Q,"btn-active",e[4].embedClusters===2),zt(Q,"btn-disabled",Object.keys(e[4].embeddings).length<2),x(le,"class","btn btn-xs"),zt(le,"btn-active",e[4].embedClusters===4),zt(le,"btn-disabled",Object.keys(e[4].embeddings).length<4),x(be,"class","btn btn-xs"),zt(be,"btn-active",e[4].embedClusters===6),zt(be,"btn-disabled",Object.keys(e[4].embeddings).length<6),x(Oe,"class","btn btn-xs"),zt(Oe,"btn-active",e[4].embedClusters===8),zt(Oe,"btn-disabled",Object.keys(e[4].embeddings).length<8),x(z,"class","btn-group btn-group-horizontal p-0"),x(P,"class",""),x(O,"class",""),x(Re,"class","btn btn-xs btn-primary"),x(Ne,"class","w-32 px-2 pb-1 flex flex-col justify-end"),x(a,"class","px-2 py-4 pb-0 flex")},m(Ke,Ye){we(Ke,t,Ye),vt(r,t,null),n=Ms(t,e[15].bind(t)),we(Ke,u,Ye),we(Ke,a,Ye),H(a,l),H(l,o),H(o,h),H(h,p),H(l,f),H(l,c),H(a,g),nt&&nt.m(a,null),H(a,y),H(a,m),H(m,_),H(_,D),H(D,E),H(m,w),H(m,B),H(a,F),H(a,O),H(O,P),H(P,I),H(I,k),H(k,Y),H(P,q),H(P,z),H(z,Z),H(Z,W),H(z,G),H(z,Q),H(Q,X),H(z,J),H(z,le),H(le,me),H(z,Ce),H(z,be),H(be,Ie),H(z,Ve),H(z,Oe),H(Oe,et),H(a,je),H(a,Ne),H(Ne,Re),H(Re,lt),tt=!0,ut||(rt=[ke(c,"change",e[11]),ke(B,"change",e[10]),ke(Z,"click",e[16]),ke(Q,"click",e[17]),ke(le,"click",e[18]),ke(be,"click",e[19]),ke(Oe,"click",e[20]),ke(Re,"click",e[14])],ut=!0)},p(Ke,Ye){const Ae={};Ye&8&&(Ae.dimensions=Ke[3]),Ye&256&&(Ae.center=Ke[8]),r.$set(Ae),(!tt||Ye&16&&d!==(d=Ke[4].embedExponentialScaling))&&(c.checked=d),Ke[4].embedExponentialScaling?nt?nt.p(Ke,Ye):(nt=od(Ke),nt.c(),nt.m(a,y)):nt&&(nt.d(1),nt=null),(!tt||Ye&512)&&(B.value=Ke[9]),(!tt||Ye&4)&&x(B,"max",Ke[2]),(!tt||Ye&16&&V!==(V=(Ke[4].embedClusters||0)===0?"btn btn-xs btn-active":"btn btn-xs"))&&x(Z,"class",V),(!tt||Ye&16)&&zt(Q,"btn-active",Ke[4].embedClusters===2),(!tt||Ye&16)&&zt(Q,"btn-disabled",Object.keys(Ke[4].embeddings).length<2),(!tt||Ye&16)&&zt(le,"btn-active",Ke[4].embedClusters===4),(!tt||Ye&16)&&zt(le,"btn-disabled",Object.keys(Ke[4].embeddings).length<4),(!tt||Ye&16)&&zt(be,"btn-active",Ke[4].embedClusters===6),(!tt||Ye&16)&&zt(be,"btn-disabled",Object.keys(Ke[4].embeddings).length<6),(!tt||Ye&16)&&zt(Oe,"btn-active",Ke[4].embedClusters===8),(!tt||Ye&16)&&zt(Oe,"btn-disabled",Object.keys(Ke[4].embeddings).length<8)},i(Ke){tt||(Pe(r.$$.fragment,Ke),tt=!0)},o(Ke){Le(r.$$.fragment,Ke),tt=!1},d(Ke){Ke&&R(t),gt(r),n(),Ke&&R(u),Ke&&R(a),nt&&nt.d(),ut=!1,Nr(rt)}}}function od(e){let t,r,n,u,a,l,o,h,p;return{c(){t=ue("div"),r=ue("label"),n=ue("span"),u=He("Scaling Power"),a=ze(),l=ue("input"),this.h()},l(f){t=ae(f,"DIV",{class:!0});var c=ne(t);r=ae(c,"LABEL",{class:!0});var d=ne(r);n=ae(d,"SPAN",{class:!0});var g=ne(n);u=Ge(g,"Scaling Power"),g.forEach(R),d.forEach(R),a=We(c),l=ae(c,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),c.forEach(R),this.h()},h(){x(n,"class","label-text"),x(r,"class","label"),l.value=o=e[4].embedWeightScaling,x(l,"type","range"),x(l,"min","0.5"),x(l,"max","3"),x(l,"step","0.1"),x(l,"class","range range-sm"),x(t,"class","w-full px-2")},m(f,c){we(f,t,c),H(t,r),H(r,n),H(n,u),H(t,a),H(t,l),h||(p=ke(l,"change",e[12]),h=!0)},p(f,c){c&16&&o!==(o=f[4].embedWeightScaling)&&(l.value=o)},d(f){f&&R(t),h=!1,p()}}}function a3(e){let t,r,n,u,a,l;return{c(){t=ue("div"),r=ue("div"),n=ue("div"),u=ue("progress"),this.h()},l(o){t=ae(o,"DIV",{class:!0});var h=ne(t);r=ae(h,"DIV",{class:!0});var p=ne(r);n=ae(p,"DIV",{class:!0});var f=ne(n);u=ae(f,"PROGRESS",{class:!0,max:!0}),ne(u).forEach(R),f.forEach(R),p.forEach(R),h.forEach(R),this.h()},h(){x(u,"class","progress progress-primary w-56"),u.value=a=Object.keys(e[7]).length,x(u,"max",l=Object.keys(e[4].weightedPrompts).length),x(n,"class","h-20 w-52"),x(r,"class","flex flex-col justify-center"),x(t,"class","w-full h-full flex justify-center")},m(o,h){we(o,t,h),H(t,r),H(r,n),H(n,u)},p(o,h){h&128&&a!==(a=Object.keys(o[7]).length)&&(u.value=a),h&16&&l!==(l=Object.keys(o[4].weightedPrompts).length)&&x(u,"max",l)},i:Te,o:Te,d(o){o&&R(t)}}}function s3(e){let t,r,n,u;const a=[n3,r3],l=[];function o(h,p){return h[5]?1:0}return t=o(e),r=l[t]=a[t](e),{c(){r.c(),n=Yt()},l(h){r.l(h),n=Yt()},m(h,p){l[t].m(h,p),we(h,n,p),u=!0},p(h,[p]){let f=t;t=o(h),t===f?l[t].p(h,p):(an(),Le(l[f],1,1,()=>{l[f]=null}),sn(),r=l[t],r?r.p(h,p):(r=l[t]=a[t](h),r.c()),Pe(r,1),r.m(n.parentNode,n))},i(h){u||(Pe(r),u=!0)},o(h){Le(r),u=!1},d(h){l[t].d(h),h&&R(n)}}}function o3(e){return e<2?0:e<4?2:e<6?4:e<8?6:8}function l3(e){return!e.embeddings||!e.embedClusterSets||Object.entries(e.embeddings).length!==Object.entries(e.weightedPrompts).length||(e.lastPromptChange||0)>(e.lastEmbeddingChange||0)}function f3(e,t,r){let n,u,a,l,o,h,p;Dt(e,$r,z=>r(4,o=z)),Dt(e,Zp,z=>r(21,h=z)),Dt(e,Of,z=>r(5,p=z));let f=0,c=0,d=null,g={};function y(z){const{target:Z}=z;if(!Z)return;const W=Z;if(!W.value)return;const V=parseInt(W.value);V>0&&V<=n&&Ut.update({...o,embedPromptLimit:V})}function m(){Ut.update({...o,embedExponentialScaling:!o.embedExponentialScaling})}function _(z){const{target:Z}=z;if(!Z)return;const W=Z;if(!W.value)return;const V=parseInt(W.value);Ut.update({...o,embedWeightScaling:V})}function D(z){[0,2,4,6,8].indexOf(z)!==-1&&Ut.update({...o,embedClusters:z})}function E(z){let Z=new AC({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:5e3,metric:"euclidean"});const W=Object.keys(z),V=Object.values(z);Z.init({data:V,type:"dense"}),Z.run();let Q=Z.getOutputScaled().map(([J,le])=>[(J+1)/2,(le+1)/2]);return W.reduce((J,le,me)=>(J[le]=Q[me],J),{})}function w(z,Z){return new Zl.KMEANS().run(z,Z)}async function B(){Ut.update({...o,scaledEmbedMappings:E(o.embeddings)})}async function F(){if(console.log("fetching embeddings"),!p||!o.weightedPrompts)return;const z=Object.entries(o.weightedPrompts).map(([le,me])=>[le,me.text]),Z=Bf(p);r(7,g={});for(let le of z){const me=await JF(Z,le[1],h);r(7,g[le[0]]=me.data.data[0].embedding,g)}let W=Object.entries(g).sort((le,me)=>le[0]-me[0]);const V=le=>new Array(le).fill(null).map(()=>[]);console.log("clustering embeddings");const G=W.length>=2?w(W.map(le=>le[1]),2):[W.map(le=>le[0])];console.log("set of 2 complete");const Q=W.length>=4?w(W.map(le=>le[1]),4):G;console.log("set of 4 complete");const X=W.length>=6?w(W.map(le=>le[1]),6):Q;console.log("set of 6 complete");const J=W.length>=8?w(W.map(le=>le[1]),8):X;console.log("set of 8 complete"),Ut.update({...o,embeddings:g,embedClusterSets:{2:[...G,...V(2-G.length)],4:[...Q,...V(4-Q.length)],6:[...X,...V(6-X.length)],8:[...J,...V(8-J.length)]},lastEmbeddingChange:Date.now(),scaledEmbedMappings:E(g)}),console.log("embeddings complete")}function O(){f=this.clientWidth,c=this.clientHeight,r(0,f),r(1,c)}const P=()=>D(0),I=()=>D(2),k=()=>D(4),Y=()=>D(6),q=()=>D(8);return e.$$.update=()=>{e.$$.dirty&16&&r(2,n=Object.keys(o.weightedPrompts||{}).length),e.$$.dirty&20&&r(9,u=o.embedPromptLimit||n),e.$$.dirty&3&&r(3,a=[f||250,c||250]),e.$$.dirty&8&&r(8,l=Vs(a)),e.$$.dirty&16&&o.embeddings&&Object.keys(o.embeddings).length<o.embedClusters&&D(o3(Object.keys(o.embeddings).length)),e.$$.dirty&48&&p&&l3(o)&&r(6,d=F())},[f,c,n,a,o,p,d,g,l,u,y,m,_,D,B,O,P,I,k,Y,q]}class c3 extends Pt{constructor(t){super(),xt(this,t,f3,s3,Tt,{})}}const $a="showZeroPrompts";function h3(){const e=ln(!1),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[$a]?JSON.parse(localStorage[$a]):!1),{subscribe:t,update:a=>{u&&(localStorage[$a]=JSON.stringify(!!a),r(!!a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[$a],r(!1))}}}const nf=h3(),Mf=on(nf,e=>Bt(nf)),Za="useWeightOrdering";function d3(){const e=ln(!1),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Za]?JSON.parse(localStorage[Za]):!1),{subscribe:t,update:a=>{u&&(localStorage[Za]=JSON.stringify(!!a),r(!!a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Za],r(!1))}}}const uf=d3(),Pf=on(uf,e=>Bt(uf));function p3(e){const t=[],r=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let n;for(;(n=r.exec(e))!==null;){const u=n[1].trim(),a=n[2]?parseFloat(n[2]):1;u&&t.push([u,a])}return t}function xl(e){if(typeof e!="string")throw new Error("Input must be a string");const t=e.length-1;let r=e;for(;r[t]===",";)r=r.slice(0,t);return r}function Tl(e){if(typeof e!="string")throw new Error("Input must be a string");const t=["-","#","*","•","◦",">","<","+","^","~","(",")","[","]","{","}"];let r=e.trim();for(;t.includes(r[0]);)r=r.slice(1).trim();return/^\d+(\.|\))\s/.test(r)&&(r=r.replace(/^\d+(\.|\))\s/,"")),r}function af(e){if(e=e.replace(/^\n+|\n+$/g,""),e.includes("::"))return p3(e);if(e.includes(`
`))return e.split(`
`).map(a=>Tl(xl(a))).filter(a=>a.length>0).map(a=>[a,1]);const t=e.match(/[^.!?]+[.!?]+/g)||[],r=t.length,n=e.split(",").map(a=>Tl(xl(a))).filter(a=>a.length>0),u=n.length-1;return r>u?t.map(a=>Tl(xl(a))).filter(a=>a.length>0).map(a=>[a,1]):n.map(a=>[a,1])}function Cs(e,t,r){let n=Object.entries(e.weightedPrompts);return t&&(n=n.sort((u,a)=>wi(e,parseInt(a[0]))-wi(e,parseInt(u[0])))),r||(n=n.filter(u=>r||wi(e,parseInt(u[0])))),n}function v3(e){return e.trim().endsWith(".")}function g3(e){let t="",r=[];return e.forEach((n,u)=>{v3(n)?(r.length>0&&(t+=r.join(", ").replace(/,*\s*,/g,",")+". ",r=[]),t+=n+" "):r.push(n.trim())}),r.length>0&&(t+=r.join(", ").replace(/,*\s*,/g,",")+"."),t.trim()}function sf(e,t,r,n){if(t)return Cs(e,r,n).map(([a,l])=>`${l.text}::${wi(e,parseInt(a))}`).join(" ");const u=Cs(e,r,n).map(([a,l])=>l.text);return g3(u)}function ld(e,t,r){const n=e.slice();return n[3]=t[r][0],n[4]=t[r][1],n}function fd(e,t){let r,n=t[4].text+"",u,a,l,o=wi(t[0],parseInt(t[3]))+"",h,p,f;return{key:e,first:null,c(){r=ue("span"),u=He(n),a=He("::"),l=ue("b"),h=He(o),p=ze(),this.h()},l(c){r=ae(c,"SPAN",{style:!0});var d=ne(r);u=Ge(d,n),a=Ge(d,"::"),l=ae(d,"B",{});var g=ne(l);h=Ge(g,o),p=We(g),g.forEach(R),d.forEach(R),this.h()},h(){x(r,"style",f=`color: rgba(255,255,255,${Math.max(.25,c0(t[0],parseInt(t[3])))});`),this.first=r},m(c,d){we(c,r,d),H(r,u),H(r,a),H(r,l),H(l,h),H(l,p)},p(c,d){t=c,d&7&&n!==(n=t[4].text+"")&&En(u,n),d&7&&o!==(o=wi(t[0],parseInt(t[3]))+"")&&En(h,o),d&7&&f!==(f=`color: rgba(255,255,255,${Math.max(.25,c0(t[0],parseInt(t[3])))});`)&&x(r,"style",f)},d(c){c&&R(r)}}}function m3(e){let t,r,n=[],u=new Map,a=Cs(e[0],e[1],e[2]);const l=o=>o[3];for(let o=0;o<a.length;o+=1){let h=ld(e,a,o),p=l(h);u.set(p,n[o]=fd(p,h))}return{c(){t=ue("div"),r=ue("p");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){t=ae(o,"DIV",{class:!0});var h=ne(t);r=ae(h,"P",{class:!0});var p=ne(r);for(let f=0;f<n.length;f+=1)n[f].l(p);p.forEach(R),h.forEach(R),this.h()},h(){x(r,"class","text-sm select-none"),x(t,"class","overflow-y-auto h-full")},m(o,h){we(o,t,h),H(t,r);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(r,null)},p(o,[h]){h&7&&(a=Cs(o[0],o[1],o[2]),n=Bi(n,h,l,1,o,a,u,r,bu,fd,null,ld))},i:Te,o:Te,d(o){o&&R(t);for(let h=0;h<n.length;h+=1)n[h].d()}}}function _3(e,t,r){let n,u,a;return Dt(e,$r,l=>r(0,n=l)),Dt(e,Pf,l=>r(1,u=l)),Dt(e,Mf,l=>r(2,a=l)),[n,u,a]}class D3 extends Pt{constructor(t){super(),xt(this,t,_3,m3,Tt,{})}}const Xa="outputMultiPrompt";function b3(){const e=ln(!0),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Xa]?JSON.parse(localStorage[Xa]):!1),{subscribe:t,update:a=>{u&&(localStorage[Xa]=JSON.stringify(!!a),r(!!a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Xa],r(!0))}}}const of=b3(),Xp=on(of,e=>Bt(of));function y3(e){let t,r,n,u=sf(e[0],e[1],e[2],e[3])+"",a;return{c(){t=ue("div"),r=ue("p"),n=ue("span"),a=He(u),this.h()},l(l){t=ae(l,"DIV",{class:!0});var o=ne(t);r=ae(o,"P",{class:!0});var h=ne(r);n=ae(h,"SPAN",{style:!0});var p=ne(n);a=Ge(p,u),p.forEach(R),h.forEach(R),o.forEach(R),this.h()},h(){x(n,"style","color: rgba(255,255,255,0.75});"),x(r,"class","text-sm select-none"),x(t,"class","overflow-y-auto h-full")},m(l,o){we(l,t,o),H(t,r),H(r,n),H(n,a)},p(l,[o]){o&15&&u!==(u=sf(l[0],l[1],l[2],l[3])+"")&&En(a,u)},i:Te,o:Te,d(l){l&&R(t)}}}function A3(e,t,r){let n,u,a,l;return Dt(e,$r,o=>r(0,n=o)),Dt(e,Xp,o=>r(1,u=o)),Dt(e,Pf,o=>r(2,a=o)),Dt(e,Mf,o=>r(3,l=o)),[n,u,a,l]}class w3 extends Pt{constructor(t){super(),xt(this,t,A3,y3,Tt,{})}}function E3(e){let t,r;return t=new w3({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function C3(e){let t,r;return t=new D3({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function F3(e){let t,r,n,u,a,l,o,h,p,f,c=e[2]?"Multi":"Single",d,g,y,m,_,D,E,w,B,F,O,P,I,k,Y,q,z,Z;const W=[C3,E3],V=[];function G(Q,X){return Q[2]?0:1}return r=G(e),n=V[r]=W[r](e),{c(){t=ue("div"),n.c(),u=ze(),a=ue("div"),l=ue("div"),o=ue("input"),h=ze(),p=ue("label"),f=ue("span"),d=He(c),g=ze(),y=ue("div"),m=ue("input"),_=ze(),D=ue("label"),E=ue("span"),w=He("Use Weight Ordering"),B=ze(),F=ue("div"),O=ue("input"),P=ze(),I=ue("label"),k=ue("span"),Y=He("Include Zero Weights"),this.h()},l(Q){t=ae(Q,"DIV",{class:!0});var X=ne(t);n.l(X),X.forEach(R),u=We(Q),a=ae(Q,"DIV",{class:!0});var J=ne(a);l=ae(J,"DIV",{class:!0});var le=ne(l);o=ae(le,"INPUT",{type:!0,class:!0}),h=We(le),p=ae(le,"LABEL",{class:!0});var me=ne(p);f=ae(me,"SPAN",{class:!0});var Ce=ne(f);d=Ge(Ce,c),Ce.forEach(R),me.forEach(R),le.forEach(R),g=We(J),y=ae(J,"DIV",{class:!0});var be=ne(y);m=ae(be,"INPUT",{type:!0,class:!0}),_=We(be),D=ae(be,"LABEL",{class:!0});var Ie=ne(D);E=ae(Ie,"SPAN",{class:!0});var Ve=ne(E);w=Ge(Ve,"Use Weight Ordering"),Ve.forEach(R),Ie.forEach(R),be.forEach(R),B=We(J),F=ae(J,"DIV",{class:!0});var Oe=ne(F);O=ae(Oe,"INPUT",{type:!0,class:!0}),P=We(Oe),I=ae(Oe,"LABEL",{class:!0});var et=ne(I);k=ae(et,"SPAN",{class:!0});var je=ne(k);Y=Ge(je,"Include Zero Weights"),je.forEach(R),et.forEach(R),Oe.forEach(R),J.forEach(R),this.h()},h(){x(t,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-t-md rounded-br-md p-4 w-full h-28 active:bg-slate-950 hover:bg-slate-800"),o.checked=e[2],x(o,"type","checkbox"),x(o,"class","toggle toggle-sm mt-2 mr-2"),x(f,"class","label-text"),x(p,"class","label w-10"),x(l,"class","mx-2 flex"),m.checked=e[1],x(m,"type","checkbox"),x(m,"class","toggle toggle-sm mt-2 mr-2"),x(E,"class","label-text"),x(D,"class","label"),x(y,"class","mx-2 flex"),O.checked=e[0],x(O,"type","checkbox"),x(O,"class","toggle toggle-sm mt-2 mr-2"),x(k,"class","label-text"),x(I,"class","label"),x(F,"class","mx-2 flex"),x(a,"class","w-full rounded-b-md flex pl-2 justify-start bg-slate-900")},m(Q,X){we(Q,t,X),V[r].m(t,null),we(Q,u,X),we(Q,a,X),H(a,l),H(l,o),H(l,h),H(l,p),H(p,f),H(f,d),H(a,g),H(a,y),H(y,m),H(y,_),H(y,D),H(D,E),H(E,w),H(a,B),H(a,F),H(F,O),H(F,P),H(F,I),H(I,k),H(k,Y),q=!0,z||(Z=[ke(t,"click",e[3]),ke(o,"change",e[4]),ke(m,"change",e[5]),ke(O,"change",e[6])],z=!0)},p(Q,[X]){let J=r;r=G(Q),r!==J&&(an(),Le(V[J],1,1,()=>{V[J]=null}),sn(),n=V[r],n||(n=V[r]=W[r](Q),n.c()),Pe(n,1),n.m(t,null)),(!q||X&4)&&(o.checked=Q[2]),(!q||X&4)&&c!==(c=Q[2]?"Multi":"Single")&&En(d,c),(!q||X&2)&&(m.checked=Q[1]),(!q||X&1)&&(O.checked=Q[0])},i(Q){q||(Pe(n),q=!0)},o(Q){Le(n),q=!1},d(Q){Q&&R(t),V[r].d(),Q&&R(u),Q&&R(a),z=!1,Nr(Z)}}}function S3(e,t,r){let n,u,a,l;Dt(e,Mf,c=>r(0,n=c)),Dt(e,Pf,c=>r(1,u=c)),Dt(e,Xp,c=>r(2,a=c)),Dt(e,$r,c=>r(7,l=c));function o(){const c=sf(l,a,u,n);navigator.clipboard.writeText(c)}function h(){of.update(!a)}function p(){uf.update(!u)}function f(){nf.update(!n)}return[n,u,a,o,h,p,f]}class B3 extends Pt{constructor(t){super(),xt(this,t,S3,F3,Tt,{})}}function O3(e){let t,r,n,u;return{c(){t=Ft("svg"),r=Ft("rect"),n=Ft("rect"),u=Ft("rect"),this.h()},l(a){t=St(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var l=ne(t);r=St(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(r).forEach(R),n=St(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(n).forEach(R),u=St(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ne(u).forEach(R),l.forEach(R),this.h()},h(){x(r,"x","5"),x(r,"y","12"),x(r,"width","40"),x(r,"height","4"),x(r,"fill","rgba(255,255,255, 0.7)"),x(n,"x","5"),x(n,"y","23"),x(n,"width","30"),x(n,"height","4"),x(n,"fill","rgba(255,255,255, 0.7)"),x(u,"x","5"),x(u,"y","34"),x(u,"width","35"),x(u,"height","4"),x(u,"fill","rgba(255,255,255, 0.7)"),x(t,"xmlns","http://www.w3.org/2000/svg"),x(t,"fill","rgba(255,255,255, 0.7)"),x(t,"class","h-6 w-6"),x(t,"viewBox","0 0 50 50")},m(a,l){we(a,t,l),H(t,r),H(t,n),H(t,u)},p:Te,i:Te,o:Te,d(a){a&&R(t)}}}class M3 extends Pt{constructor(t){super(),xt(this,t,null,O3,Tt,{})}}function P3(e){let t,r,n;return{c(){t=Ft("svg"),r=Ft("circle"),n=Ft("circle"),this.h()},l(u){t=St(u,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var a=ne(t);r=St(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ne(r).forEach(R),n=St(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ne(n).forEach(R),a.forEach(R),this.h()},h(){x(r,"cx","25"),x(r,"cy","25"),x(r,"r","20"),x(r,"stroke","rgba(255,255,255, 0.7)"),x(r,"stroke-width","2"),x(r,"fill","none"),x(n,"cx","25"),x(n,"cy","25"),x(n,"r","2"),x(n,"stroke","rgba(255,255,255, 0.7)"),x(n,"stroke-width","1"),x(n,"fill","rgba(255,255,255, 0.7)"),x(t,"xmlns","http://www.w3.org/2000/svg"),x(t,"fill","rgba(255,255,255, 0.7)"),x(t,"class","h-6 w-6"),x(t,"viewBox","0 0 50 50")},m(u,a){we(u,t,a),H(t,r),H(t,n)},p:Te,i:Te,o:Te,d(u){u&&R(t)}}}class x3 extends Pt{constructor(t){super(),xt(this,t,null,P3,Tt,{})}}function T3(e){let t,r,n,u,a,l;return{c(){t=Ft("svg"),r=Ft("circle"),n=Ft("circle"),u=Ft("circle"),a=Ft("circle"),l=Ft("circle"),this.h()},l(o){t=St(o,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var h=ne(t);r=St(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(r).forEach(R),n=St(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(n).forEach(R),u=St(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(u).forEach(R),a=St(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(a).forEach(R),l=St(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ne(l).forEach(R),h.forEach(R),this.h()},h(){x(r,"cx","20"),x(r,"cy","80"),x(r,"r","5"),x(r,"fill","rgba(255,255,255, 0.7)"),x(n,"cx","40"),x(n,"cy","40"),x(n,"r","5"),x(n,"fill","rgba(255,255,255, 0.7)"),x(u,"cx","70"),x(u,"cy","20"),x(u,"r","5"),x(u,"fill","rgba(255,255,255, 0.7)"),x(a,"cx","80"),x(a,"cy","60"),x(a,"r","5"),x(a,"fill","rgba(255,255,255, 0.7)"),x(l,"cx","60"),x(l,"cy","75"),x(l,"r","5"),x(l,"fill","rgba(255,255,255, 0.7)"),x(t,"xmlns","http://www.w3.org/2000/svg"),x(t,"fill","rgba(255,255,255, 0.7)"),x(t,"class","h-6 w-6"),x(t,"viewBox","0 0 100 100")},m(o,h){we(o,t,h),H(t,r),H(t,n),H(t,u),H(t,a),H(t,l)},p:Te,i:Te,o:Te,d(o){o&&R(t)}}}class I3 extends Pt{constructor(t){super(),xt(this,t,null,T3,Tt,{})}}function N3(e){let t,r,n,u;return{c(){t=Ft("svg"),r=Ft("path"),n=Ft("path"),u=Ft("path"),this.h()},l(a){t=St(a,"svg",{xmlns:!0,class:!0,viewBox:!0});var l=ne(t);r=St(l,"path",{d:!0,fill:!0}),ne(r).forEach(R),n=St(l,"path",{d:!0,fill:!0}),ne(n).forEach(R),u=St(l,"path",{d:!0,fill:!0}),ne(u).forEach(R),l.forEach(R),this.h()},h(){x(r,"d","M50 50 L50 10 A40 40 0 0 1 90 50 z"),x(r,"fill","rgba(255,255,255, 0.7)"),x(n,"d","M50 50 L90 50 A40 40 0 0 1 50 90 z"),x(n,"fill","rgba(255,255,255, 0.3)"),x(u,"d","M50 50 L50 90 A40 40 0 0 1 10 50 z"),x(u,"fill","rgba(255,255,255, 0.9)"),x(t,"xmlns","http://www.w3.org/2000/svg"),x(t,"class","h-6 w-6"),x(t,"viewBox","0 0 100 100")},m(a,l){we(a,t,l),H(t,r),H(t,n),H(t,u)},p:Te,i:Te,o:Te,d(a){a&&R(t)}}}class k3 extends Pt{constructor(t){super(),xt(this,t,null,N3,Tt,{})}}function L3(e){let t,r;return t=new c3({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function R3(e){let t,r;return t=new XE({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function U3(e){let t,r;return t=new v2({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function V3(e){let t,r;return t=new u2({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function j3(e){let t,r,n,u,a,l,o,h,p,f,c,d,g,y,m,_,D,E,w,B,F,O,P;a=new M3({}),h=new k3({}),c=new x3({}),y=new I3({});const I=[V3,U3,R3,L3],k=[];function Y(q,z){return q[0].weightMode===wt.Bars?0:q[0].weightMode===wt.Pie?1:q[0].weightMode===wt.Circle?2:q[0].weightMode===wt.Embed?3:-1}return~(_=Y(e))&&(D=k[_]=I[_](e)),B=new B3({}),{c(){t=ue("div"),r=ue("div"),n=ue("div"),u=ue("button"),dt(a.$$.fragment),l=ze(),o=ue("button"),dt(h.$$.fragment),p=ze(),f=ue("button"),dt(c.$$.fragment),d=ze(),g=ue("button"),dt(y.$$.fragment),m=ze(),D&&D.c(),E=ze(),w=ue("div"),dt(B.$$.fragment),this.h()},l(q){t=ae(q,"DIV",{class:!0});var z=ne(t);r=ae(z,"DIV",{class:!0});var Z=ne(r);n=ae(Z,"DIV",{class:!0});var W=ne(n);u=ae(W,"BUTTON",{class:!0});var V=ne(u);pt(a.$$.fragment,V),V.forEach(R),l=We(W),o=ae(W,"BUTTON",{class:!0});var G=ne(o);pt(h.$$.fragment,G),G.forEach(R),p=We(W),f=ae(W,"BUTTON",{class:!0});var Q=ne(f);pt(c.$$.fragment,Q),Q.forEach(R),d=We(W),g=ae(W,"BUTTON",{class:!0});var X=ne(g);pt(y.$$.fragment,X),X.forEach(R),W.forEach(R),m=We(Z),D&&D.l(Z),E=We(Z),w=ae(Z,"DIV",{class:!0});var J=ne(w);pt(B.$$.fragment,J),J.forEach(R),Z.forEach(R),z.forEach(R),this.h()},h(){x(u,"class","btn btn-sm"),zt(u,"btn-active",e[0].weightMode===wt.Bars),x(o,"class","btn btn-sm"),zt(o,"btn-active",e[0].weightMode===wt.Pie),x(f,"class","btn btn-sm"),zt(f,"btn-active",e[0].weightMode===wt.Circle),x(g,"class","btn btn-sm"),zt(g,"btn-active",e[0].weightMode===wt.Embed),x(n,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),x(w,"class","h-48 w-full p-4 flex flex-col"),x(r,"class","flex flex-col h-full place-content-between"),x(t,"class","w-full h-full flex flex-col")},m(q,z){we(q,t,z),H(t,r),H(r,n),H(n,u),vt(a,u,null),H(n,l),H(n,o),vt(h,o,null),H(n,p),H(n,f),vt(c,f,null),H(n,d),H(n,g),vt(y,g,null),H(r,m),~_&&k[_].m(r,null),H(r,E),H(r,w),vt(B,w,null),F=!0,O||(P=[ke(u,"click",e[2]),ke(o,"click",e[3]),ke(f,"click",e[4]),ke(g,"click",e[5])],O=!0)},p(q,[z]){(!F||z&1)&&zt(u,"btn-active",q[0].weightMode===wt.Bars),(!F||z&1)&&zt(o,"btn-active",q[0].weightMode===wt.Pie),(!F||z&1)&&zt(f,"btn-active",q[0].weightMode===wt.Circle),(!F||z&1)&&zt(g,"btn-active",q[0].weightMode===wt.Embed);let Z=_;_=Y(q),_!==Z&&(D&&(an(),Le(k[Z],1,1,()=>{k[Z]=null}),sn()),~_?(D=k[_],D||(D=k[_]=I[_](q),D.c()),Pe(D,1),D.m(r,E)):D=null)},i(q){F||(Pe(a.$$.fragment,q),Pe(h.$$.fragment,q),Pe(c.$$.fragment,q),Pe(y.$$.fragment,q),Pe(D),Pe(B.$$.fragment,q),F=!0)},o(q){Le(a.$$.fragment,q),Le(h.$$.fragment,q),Le(c.$$.fragment,q),Le(y.$$.fragment,q),Le(D),Le(B.$$.fragment,q),F=!1},d(q){q&&R(t),gt(a),gt(h),gt(c),gt(y),~_&&k[_].d(),gt(B),O=!1,Nr(P)}}}function q3(e,t,r){let n;Dt(e,$r,p=>r(0,n=p));function u(p){const f={...n,weightMode:p};Ut.update(f)}return[n,u,()=>u(wt.Bars),()=>u(wt.Pie),()=>u(wt.Circle),()=>u(wt.Embed)]}class z3 extends Pt{constructor(t){super(),xt(this,t,q3,j3,Tt,{})}}var Fs={},W3={get exports(){return Fs},set exports(e){Fs=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",o="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,f="__lodash_placeholder__",c=1,d=2,g=4,y=1,m=2,_=1,D=2,E=4,w=8,B=16,F=32,O=64,P=128,I=256,k=512,Y=30,q="...",z=800,Z=16,W=1,V=2,G=3,Q=1/0,X=9007199254740991,J=17976931348623157e292,le=0/0,me=4294967295,Ce=me-1,be=me>>>1,Ie=[["ary",P],["bind",_],["bindKey",D],["curry",w],["curryRight",B],["flip",k],["partial",F],["partialRight",O],["rearg",I]],Ve="[object Arguments]",Oe="[object Array]",et="[object AsyncFunction]",je="[object Boolean]",Ne="[object Date]",Re="[object DOMException]",lt="[object Error]",tt="[object Function]",ut="[object GeneratorFunction]",rt="[object Map]",nt="[object Number]",Ke="[object Null]",Ye="[object Object]",Ae="[object Promise]",Se="[object Proxy]",At="[object RegExp]",Lt="[object Set]",Wt="[object String]",L="[object Symbol]",j="[object Undefined]",$="[object WeakMap]",fe="[object WeakSet]",ie="[object ArrayBuffer]",he="[object DataView]",se="[object Float32Array]",ce="[object Float64Array]",ye="[object Int8Array]",Me="[object Int16Array]",Xe="[object Int32Array]",Ee="[object Uint8Array]",jt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",rr="[object Uint32Array]",$t=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,Zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_r=/&(?:amp|lt|gt|quot|#39);/g,fr=/[&<>"']/g,cr=RegExp(_r.source),fn=RegExp(fr.source),dr=/<%-([\s\S]+?)%>/g,Fn=/<%([\s\S]+?)%>/g,Kn=/<%=([\s\S]+?)%>/g,Nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kn=/^\w*$/,Gi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/[\\^$.*+?()[\]{}|]/g,Au=RegExp(Pi.source),wr=/^\s+/,nr=/\s/,wu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,si=/\{\n\/\* \[wrapped with (.+)\] \*/,cn=/,? & /,Yn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xi=/[()=,{}\[\]\/\s]/,Eu=/\\(\\)?/g,Cu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ki=/\w*$/,Fu=/^[-+]0x[0-9a-f]+$/i,Su=/^0b[01]+$/i,Bu=/^\[object .+?Constructor\]$/,Ou=/^0o[0-7]+$/i,Mu=/^(?:0|[1-9]\d*)$/,Pu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oi=/($^)/,xu=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",Tu="\\u0300-\\u036f",Iu="\\ufe20-\\ufe2f",Nu="\\u20d0-\\u20ff",Yi=Tu+Iu+Nu,Ln="\\u2700-\\u27bf",Dr="a-z\\xdf-\\xf6\\xf8-\\xff",ar="\\xac\\xb1\\xd7\\xf7",kr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ti="\\u2000-\\u206f",$n=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rn="A-Z\\xc0-\\xd6\\xd8-\\xde",Ii="\\ufe0e\\ufe0f",Sn=ar+kr+Ti+$n,hn="['’]",$s="["+li+"]",ku="["+Sn+"]",$i="["+Yi+"]",aa="\\d+",b="["+Ln+"]",C="["+Dr+"]",N="[^"+li+Sn+aa+Ln+Dr+Rn+"]",ee="\\ud83c[\\udffb-\\udfff]",pe="(?:"+$i+"|"+ee+")",Fe="[^"+li+"]",ot="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+Rn+"]",sr="\\u200d",xf="(?:"+C+"|"+N+")",i1="(?:"+Gt+"|"+N+")",Tf="(?:"+hn+"(?:d|ll|m|re|s|t|ve))?",If="(?:"+hn+"(?:D|LL|M|RE|S|T|VE))?",Nf=pe+"?",kf="["+Ii+"]?",u1="(?:"+sr+"(?:"+[Fe,ot,bt].join("|")+")"+kf+Nf+")*",a1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lf=kf+Nf+u1,o1="(?:"+[b,ot,bt].join("|")+")"+Lf,l1="(?:"+[Fe+$i+"?",$i,ot,bt,$s].join("|")+")",f1=RegExp(hn,"g"),c1=RegExp($i,"g"),Zs=RegExp(ee+"(?="+ee+")|"+l1+Lf,"g"),h1=RegExp([Gt+"?"+C+"+"+Tf+"(?="+[ku,Gt,"$"].join("|")+")",i1+"+"+If+"(?="+[ku,Gt+xf,"$"].join("|")+")",Gt+"?"+xf+"+"+Tf,Gt+"+"+If,s1,a1,aa,o1].join("|"),"g"),d1=RegExp("["+sr+li+Yi+Ii+"]"),p1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,v1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],g1=-1,Ht={};Ht[se]=Ht[ce]=Ht[ye]=Ht[Me]=Ht[Xe]=Ht[Ee]=Ht[jt]=Ht[Ot]=Ht[rr]=!0,Ht[Ve]=Ht[Oe]=Ht[ie]=Ht[je]=Ht[he]=Ht[Ne]=Ht[lt]=Ht[tt]=Ht[rt]=Ht[nt]=Ht[Ye]=Ht[At]=Ht[Lt]=Ht[Wt]=Ht[$]=!1;var qt={};qt[Ve]=qt[Oe]=qt[ie]=qt[he]=qt[je]=qt[Ne]=qt[se]=qt[ce]=qt[ye]=qt[Me]=qt[Xe]=qt[rt]=qt[nt]=qt[Ye]=qt[At]=qt[Lt]=qt[Wt]=qt[L]=qt[Ee]=qt[jt]=qt[Ot]=qt[rr]=!0,qt[lt]=qt[tt]=qt[$]=!1;var m1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},D1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},b1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},y1=parseFloat,A1=parseInt,Rf=typeof hr=="object"&&hr&&hr.Object===Object&&hr,w1=typeof self=="object"&&self&&self.Object===Object&&self,Er=Rf||w1||Function("return this")(),Xs=t&&!t.nodeType&&t,Ni=Xs&&!0&&e&&!e.nodeType&&e,Uf=Ni&&Ni.exports===Xs,Js=Uf&&Rf.process,dn=function(){try{var te=Ni&&Ni.require&&Ni.require("util").types;return te||Js&&Js.binding&&Js.binding("util")}catch{}}(),Vf=dn&&dn.isArrayBuffer,jf=dn&&dn.isDate,qf=dn&&dn.isMap,zf=dn&&dn.isRegExp,Wf=dn&&dn.isSet,Hf=dn&&dn.isTypedArray;function Xr(te,de,oe){switch(oe.length){case 0:return te.call(de);case 1:return te.call(de,oe[0]);case 2:return te.call(de,oe[0],oe[1]);case 3:return te.call(de,oe[0],oe[1],oe[2])}return te.apply(de,oe)}function E1(te,de,oe,xe){for(var at=-1,Et=te==null?0:te.length;++at<Et;){var pr=te[at];de(xe,pr,oe(pr),te)}return xe}function pn(te,de){for(var oe=-1,xe=te==null?0:te.length;++oe<xe&&de(te[oe],oe,te)!==!1;);return te}function C1(te,de){for(var oe=te==null?0:te.length;oe--&&de(te[oe],oe,te)!==!1;);return te}function Gf(te,de){for(var oe=-1,xe=te==null?0:te.length;++oe<xe;)if(!de(te[oe],oe,te))return!1;return!0}function fi(te,de){for(var oe=-1,xe=te==null?0:te.length,at=0,Et=[];++oe<xe;){var pr=te[oe];de(pr,oe,te)&&(Et[at++]=pr)}return Et}function sa(te,de){var oe=te==null?0:te.length;return!!oe&&Zi(te,de,0)>-1}function Qs(te,de,oe){for(var xe=-1,at=te==null?0:te.length;++xe<at;)if(oe(de,te[xe]))return!0;return!1}function Kt(te,de){for(var oe=-1,xe=te==null?0:te.length,at=Array(xe);++oe<xe;)at[oe]=de(te[oe],oe,te);return at}function ci(te,de){for(var oe=-1,xe=de.length,at=te.length;++oe<xe;)te[at+oe]=de[oe];return te}function eo(te,de,oe,xe){var at=-1,Et=te==null?0:te.length;for(xe&&Et&&(oe=te[++at]);++at<Et;)oe=de(oe,te[at],at,te);return oe}function F1(te,de,oe,xe){var at=te==null?0:te.length;for(xe&&at&&(oe=te[--at]);at--;)oe=de(oe,te[at],at,te);return oe}function to(te,de){for(var oe=-1,xe=te==null?0:te.length;++oe<xe;)if(de(te[oe],oe,te))return!0;return!1}var S1=ro("length");function B1(te){return te.split("")}function O1(te){return te.match(Yn)||[]}function Kf(te,de,oe){var xe;return oe(te,function(at,Et,pr){if(de(at,Et,pr))return xe=Et,!1}),xe}function oa(te,de,oe,xe){for(var at=te.length,Et=oe+(xe?1:-1);xe?Et--:++Et<at;)if(de(te[Et],Et,te))return Et;return-1}function Zi(te,de,oe){return de===de?j1(te,de,oe):oa(te,Yf,oe)}function M1(te,de,oe,xe){for(var at=oe-1,Et=te.length;++at<Et;)if(xe(te[at],de))return at;return-1}function Yf(te){return te!==te}function $f(te,de){var oe=te==null?0:te.length;return oe?io(te,de)/oe:le}function ro(te){return function(de){return de==null?r:de[te]}}function no(te){return function(de){return te==null?r:te[de]}}function Zf(te,de,oe,xe,at){return at(te,function(Et,pr,Rt){oe=xe?(xe=!1,Et):de(oe,Et,pr,Rt)}),oe}function P1(te,de){var oe=te.length;for(te.sort(de);oe--;)te[oe]=te[oe].value;return te}function io(te,de){for(var oe,xe=-1,at=te.length;++xe<at;){var Et=de(te[xe]);Et!==r&&(oe=oe===r?Et:oe+Et)}return oe}function uo(te,de){for(var oe=-1,xe=Array(te);++oe<te;)xe[oe]=de(oe);return xe}function x1(te,de){return Kt(de,function(oe){return[oe,te[oe]]})}function Xf(te){return te&&te.slice(0,tc(te)+1).replace(wr,"")}function Jr(te){return function(de){return te(de)}}function ao(te,de){return Kt(de,function(oe){return te[oe]})}function Lu(te,de){return te.has(de)}function Jf(te,de){for(var oe=-1,xe=te.length;++oe<xe&&Zi(de,te[oe],0)>-1;);return oe}function Qf(te,de){for(var oe=te.length;oe--&&Zi(de,te[oe],0)>-1;);return oe}function T1(te,de){for(var oe=te.length,xe=0;oe--;)te[oe]===de&&++xe;return xe}var I1=no(m1),N1=no(_1);function k1(te){return"\\"+b1[te]}function L1(te,de){return te==null?r:te[de]}function Xi(te){return d1.test(te)}function R1(te){return p1.test(te)}function U1(te){for(var de,oe=[];!(de=te.next()).done;)oe.push(de.value);return oe}function so(te){var de=-1,oe=Array(te.size);return te.forEach(function(xe,at){oe[++de]=[at,xe]}),oe}function ec(te,de){return function(oe){return te(de(oe))}}function hi(te,de){for(var oe=-1,xe=te.length,at=0,Et=[];++oe<xe;){var pr=te[oe];(pr===de||pr===f)&&(te[oe]=f,Et[at++]=oe)}return Et}function la(te){var de=-1,oe=Array(te.size);return te.forEach(function(xe){oe[++de]=xe}),oe}function V1(te){var de=-1,oe=Array(te.size);return te.forEach(function(xe){oe[++de]=[xe,xe]}),oe}function j1(te,de,oe){for(var xe=oe-1,at=te.length;++xe<at;)if(te[xe]===de)return xe;return-1}function q1(te,de,oe){for(var xe=oe+1;xe--;)if(te[xe]===de)return xe;return xe}function Ji(te){return Xi(te)?W1(te):S1(te)}function Bn(te){return Xi(te)?H1(te):B1(te)}function tc(te){for(var de=te.length;de--&&nr.test(te.charAt(de)););return de}var z1=no(D1);function W1(te){for(var de=Zs.lastIndex=0;Zs.test(te);)++de;return de}function H1(te){return te.match(Zs)||[]}function G1(te){return te.match(h1)||[]}var K1=function te(de){de=de==null?Er:Qi.defaults(Er.Object(),de,Qi.pick(Er,v1));var oe=de.Array,xe=de.Date,at=de.Error,Et=de.Function,pr=de.Math,Rt=de.Object,oo=de.RegExp,Y1=de.String,vn=de.TypeError,fa=oe.prototype,$1=Et.prototype,eu=Rt.prototype,ca=de["__core-js_shared__"],ha=$1.toString,Mt=eu.hasOwnProperty,Z1=0,rc=function(){var i=/[^.]+$/.exec(ca&&ca.keys&&ca.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),da=eu.toString,X1=ha.call(Rt),J1=Er._,Q1=oo("^"+ha.call(Mt).replace(Pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pa=Uf?de.Buffer:r,di=de.Symbol,va=de.Uint8Array,nc=pa?pa.allocUnsafe:r,ga=ec(Rt.getPrototypeOf,Rt),ic=Rt.create,uc=eu.propertyIsEnumerable,ma=fa.splice,ac=di?di.isConcatSpreadable:r,Ru=di?di.iterator:r,ki=di?di.toStringTag:r,_a=function(){try{var i=ji(Rt,"defineProperty");return i({},"",{}),i}catch{}}(),ev=de.clearTimeout!==Er.clearTimeout&&de.clearTimeout,tv=xe&&xe.now!==Er.Date.now&&xe.now,rv=de.setTimeout!==Er.setTimeout&&de.setTimeout,Da=pr.ceil,ba=pr.floor,lo=Rt.getOwnPropertySymbols,nv=pa?pa.isBuffer:r,sc=de.isFinite,iv=fa.join,uv=ec(Rt.keys,Rt),vr=pr.max,Pr=pr.min,av=xe.now,sv=de.parseInt,oc=pr.random,ov=fa.reverse,fo=ji(de,"DataView"),Uu=ji(de,"Map"),co=ji(de,"Promise"),tu=ji(de,"Set"),Vu=ji(de,"WeakMap"),ju=ji(Rt,"create"),ya=Vu&&new Vu,ru={},lv=qi(fo),fv=qi(Uu),cv=qi(co),hv=qi(tu),dv=qi(Vu),Aa=di?di.prototype:r,qu=Aa?Aa.valueOf:r,lc=Aa?Aa.toString:r;function M(i){if(ir(i)&&!st(i)&&!(i instanceof _t)){if(i instanceof gn)return i;if(Mt.call(i,"__wrapped__"))return fh(i)}return new gn(i)}var nu=function(){function i(){}return function(s){if(!Xt(s))return{};if(ic)return ic(s);i.prototype=s;var v=new i;return i.prototype=r,v}}();function wa(){}function gn(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:dr,evaluate:Fn,interpolate:Kn,variable:"",imports:{_:M}},M.prototype=wa.prototype,M.prototype.constructor=M,gn.prototype=nu(wa.prototype),gn.prototype.constructor=gn;function _t(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function pv(){var i=new _t(this.__wrapped__);return i.__actions__=jr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=jr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=jr(this.__views__),i}function vv(){if(this.__filtered__){var i=new _t(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function gv(){var i=this.__wrapped__.value(),s=this.__dir__,v=st(i),A=s<0,S=v?i.length:0,T=Bg(0,S,this.__views__),U=T.start,K=T.end,re=K-U,ve=A?K:U-1,ge=this.__iteratees__,De=ge.length,Be=0,Ue=Pr(re,this.__takeCount__);if(!v||!A&&S==re&&Ue==re)return Tc(i,this.__actions__);var Je=[];e:for(;re--&&Be<Ue;){ve+=s;for(var ct=-1,Qe=i[ve];++ct<De;){var mt=ge[ct],yt=mt.iteratee,tn=mt.type,Ur=yt(Qe);if(tn==V)Qe=Ur;else if(!Ur){if(tn==W)continue e;break e}}Je[Be++]=Qe}return Je}_t.prototype=nu(wa.prototype),_t.prototype.constructor=_t;function Li(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function mv(){this.__data__=ju?ju(null):{},this.size=0}function _v(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Dv(i){var s=this.__data__;if(ju){var v=s[i];return v===h?r:v}return Mt.call(s,i)?s[i]:r}function bv(i){var s=this.__data__;return ju?s[i]!==r:Mt.call(s,i)}function yv(i,s){var v=this.__data__;return this.size+=this.has(i)?0:1,v[i]=ju&&s===r?h:s,this}Li.prototype.clear=mv,Li.prototype.delete=_v,Li.prototype.get=Dv,Li.prototype.has=bv,Li.prototype.set=yv;function Zn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function Av(){this.__data__=[],this.size=0}function wv(i){var s=this.__data__,v=Ea(s,i);if(v<0)return!1;var A=s.length-1;return v==A?s.pop():ma.call(s,v,1),--this.size,!0}function Ev(i){var s=this.__data__,v=Ea(s,i);return v<0?r:s[v][1]}function Cv(i){return Ea(this.__data__,i)>-1}function Fv(i,s){var v=this.__data__,A=Ea(v,i);return A<0?(++this.size,v.push([i,s])):v[A][1]=s,this}Zn.prototype.clear=Av,Zn.prototype.delete=wv,Zn.prototype.get=Ev,Zn.prototype.has=Cv,Zn.prototype.set=Fv;function Xn(i){var s=-1,v=i==null?0:i.length;for(this.clear();++s<v;){var A=i[s];this.set(A[0],A[1])}}function Sv(){this.size=0,this.__data__={hash:new Li,map:new(Uu||Zn),string:new Li}}function Bv(i){var s=ka(this,i).delete(i);return this.size-=s?1:0,s}function Ov(i){return ka(this,i).get(i)}function Mv(i){return ka(this,i).has(i)}function Pv(i,s){var v=ka(this,i),A=v.size;return v.set(i,s),this.size+=v.size==A?0:1,this}Xn.prototype.clear=Sv,Xn.prototype.delete=Bv,Xn.prototype.get=Ov,Xn.prototype.has=Mv,Xn.prototype.set=Pv;function Ri(i){var s=-1,v=i==null?0:i.length;for(this.__data__=new Xn;++s<v;)this.add(i[s])}function xv(i){return this.__data__.set(i,h),this}function Tv(i){return this.__data__.has(i)}Ri.prototype.add=Ri.prototype.push=xv,Ri.prototype.has=Tv;function On(i){var s=this.__data__=new Zn(i);this.size=s.size}function Iv(){this.__data__=new Zn,this.size=0}function Nv(i){var s=this.__data__,v=s.delete(i);return this.size=s.size,v}function kv(i){return this.__data__.get(i)}function Lv(i){return this.__data__.has(i)}function Rv(i,s){var v=this.__data__;if(v instanceof Zn){var A=v.__data__;if(!Uu||A.length<u-1)return A.push([i,s]),this.size=++v.size,this;v=this.__data__=new Xn(A)}return v.set(i,s),this.size=v.size,this}On.prototype.clear=Iv,On.prototype.delete=Nv,On.prototype.get=kv,On.prototype.has=Lv,On.prototype.set=Rv;function fc(i,s){var v=st(i),A=!v&&zi(i),S=!v&&!A&&_i(i),T=!v&&!A&&!S&&su(i),U=v||A||S||T,K=U?uo(i.length,Y1):[],re=K.length;for(var ve in i)(s||Mt.call(i,ve))&&!(U&&(ve=="length"||S&&(ve=="offset"||ve=="parent")||T&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||ti(ve,re)))&&K.push(ve);return K}function cc(i){var s=i.length;return s?i[wo(0,s-1)]:r}function Uv(i,s){return La(jr(i),Ui(s,0,i.length))}function Vv(i){return La(jr(i))}function ho(i,s,v){(v!==r&&!Mn(i[s],v)||v===r&&!(s in i))&&Jn(i,s,v)}function zu(i,s,v){var A=i[s];(!(Mt.call(i,s)&&Mn(A,v))||v===r&&!(s in i))&&Jn(i,s,v)}function Ea(i,s){for(var v=i.length;v--;)if(Mn(i[v][0],s))return v;return-1}function jv(i,s,v,A){return pi(i,function(S,T,U){s(A,S,v(S),U)}),A}function hc(i,s){return i&&Vn(s,br(s),i)}function qv(i,s){return i&&Vn(s,zr(s),i)}function Jn(i,s,v){s=="__proto__"&&_a?_a(i,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):i[s]=v}function po(i,s){for(var v=-1,A=s.length,S=oe(A),T=i==null;++v<A;)S[v]=T?r:Yo(i,s[v]);return S}function Ui(i,s,v){return i===i&&(v!==r&&(i=i<=v?i:v),s!==r&&(i=i>=s?i:s)),i}function mn(i,s,v,A,S,T){var U,K=s&c,re=s&d,ve=s&g;if(v&&(U=S?v(i,A,S,T):v(i)),U!==r)return U;if(!Xt(i))return i;var ge=st(i);if(ge){if(U=Mg(i),!K)return jr(i,U)}else{var De=xr(i),Be=De==tt||De==ut;if(_i(i))return kc(i,K);if(De==Ye||De==Ve||Be&&!S){if(U=re||Be?{}:th(i),!K)return re?Dg(i,qv(U,i)):_g(i,hc(U,i))}else{if(!qt[De])return S?i:{};U=Pg(i,De,K)}}T||(T=new On);var Ue=T.get(i);if(Ue)return Ue;T.set(i,U),Mh(i)?i.forEach(function(Qe){U.add(mn(Qe,s,v,Qe,i,T))}):Bh(i)&&i.forEach(function(Qe,mt){U.set(mt,mn(Qe,s,v,mt,i,T))});var Je=ve?re?Io:To:re?zr:br,ct=ge?r:Je(i);return pn(ct||i,function(Qe,mt){ct&&(mt=Qe,Qe=i[mt]),zu(U,mt,mn(Qe,s,v,mt,i,T))}),U}function zv(i){var s=br(i);return function(v){return dc(v,i,s)}}function dc(i,s,v){var A=v.length;if(i==null)return!A;for(i=Rt(i);A--;){var S=v[A],T=s[S],U=i[S];if(U===r&&!(S in i)||!T(U))return!1}return!0}function pc(i,s,v){if(typeof i!="function")throw new vn(l);return Zu(function(){i.apply(r,v)},s)}function Wu(i,s,v,A){var S=-1,T=sa,U=!0,K=i.length,re=[],ve=s.length;if(!K)return re;v&&(s=Kt(s,Jr(v))),A?(T=Qs,U=!1):s.length>=u&&(T=Lu,U=!1,s=new Ri(s));e:for(;++S<K;){var ge=i[S],De=v==null?ge:v(ge);if(ge=A||ge!==0?ge:0,U&&De===De){for(var Be=ve;Be--;)if(s[Be]===De)continue e;re.push(ge)}else T(s,De,A)||re.push(ge)}return re}var pi=jc(Un),vc=jc(go,!0);function Wv(i,s){var v=!0;return pi(i,function(A,S,T){return v=!!s(A,S,T),v}),v}function Ca(i,s,v){for(var A=-1,S=i.length;++A<S;){var T=i[A],U=s(T);if(U!=null&&(K===r?U===U&&!en(U):v(U,K)))var K=U,re=T}return re}function Hv(i,s,v,A){var S=i.length;for(v=ft(v),v<0&&(v=-v>S?0:S+v),A=A===r||A>S?S:ft(A),A<0&&(A+=S),A=v>A?0:xh(A);v<A;)i[v++]=s;return i}function gc(i,s){var v=[];return pi(i,function(A,S,T){s(A,S,T)&&v.push(A)}),v}function Cr(i,s,v,A,S){var T=-1,U=i.length;for(v||(v=Tg),S||(S=[]);++T<U;){var K=i[T];s>0&&v(K)?s>1?Cr(K,s-1,v,A,S):ci(S,K):A||(S[S.length]=K)}return S}var vo=qc(),mc=qc(!0);function Un(i,s){return i&&vo(i,s,br)}function go(i,s){return i&&mc(i,s,br)}function Fa(i,s){return fi(s,function(v){return ri(i[v])})}function Vi(i,s){s=gi(s,i);for(var v=0,A=s.length;i!=null&&v<A;)i=i[jn(s[v++])];return v&&v==A?i:r}function _c(i,s,v){var A=s(i);return st(i)?A:ci(A,v(i))}function Lr(i){return i==null?i===r?j:Ke:ki&&ki in Rt(i)?Sg(i):Vg(i)}function mo(i,s){return i>s}function Gv(i,s){return i!=null&&Mt.call(i,s)}function Kv(i,s){return i!=null&&s in Rt(i)}function Yv(i,s,v){return i>=Pr(s,v)&&i<vr(s,v)}function _o(i,s,v){for(var A=v?Qs:sa,S=i[0].length,T=i.length,U=T,K=oe(T),re=1/0,ve=[];U--;){var ge=i[U];U&&s&&(ge=Kt(ge,Jr(s))),re=Pr(ge.length,re),K[U]=!v&&(s||S>=120&&ge.length>=120)?new Ri(U&&ge):r}ge=i[0];var De=-1,Be=K[0];e:for(;++De<S&&ve.length<re;){var Ue=ge[De],Je=s?s(Ue):Ue;if(Ue=v||Ue!==0?Ue:0,!(Be?Lu(Be,Je):A(ve,Je,v))){for(U=T;--U;){var ct=K[U];if(!(ct?Lu(ct,Je):A(i[U],Je,v)))continue e}Be&&Be.push(Je),ve.push(Ue)}}return ve}function $v(i,s,v,A){return Un(i,function(S,T,U){s(A,v(S),T,U)}),A}function Hu(i,s,v){s=gi(s,i),i=uh(i,s);var A=i==null?i:i[jn(Dn(s))];return A==null?r:Xr(A,i,v)}function Dc(i){return ir(i)&&Lr(i)==Ve}function Zv(i){return ir(i)&&Lr(i)==ie}function Xv(i){return ir(i)&&Lr(i)==Ne}function Gu(i,s,v,A,S){return i===s?!0:i==null||s==null||!ir(i)&&!ir(s)?i!==i&&s!==s:Jv(i,s,v,A,Gu,S)}function Jv(i,s,v,A,S,T){var U=st(i),K=st(s),re=U?Oe:xr(i),ve=K?Oe:xr(s);re=re==Ve?Ye:re,ve=ve==Ve?Ye:ve;var ge=re==Ye,De=ve==Ye,Be=re==ve;if(Be&&_i(i)){if(!_i(s))return!1;U=!0,ge=!1}if(Be&&!ge)return T||(T=new On),U||su(i)?Jc(i,s,v,A,S,T):Cg(i,s,re,v,A,S,T);if(!(v&y)){var Ue=ge&&Mt.call(i,"__wrapped__"),Je=De&&Mt.call(s,"__wrapped__");if(Ue||Je){var ct=Ue?i.value():i,Qe=Je?s.value():s;return T||(T=new On),S(ct,Qe,v,A,T)}}return Be?(T||(T=new On),Fg(i,s,v,A,S,T)):!1}function Qv(i){return ir(i)&&xr(i)==rt}function Do(i,s,v,A){var S=v.length,T=S,U=!A;if(i==null)return!T;for(i=Rt(i);S--;){var K=v[S];if(U&&K[2]?K[1]!==i[K[0]]:!(K[0]in i))return!1}for(;++S<T;){K=v[S];var re=K[0],ve=i[re],ge=K[1];if(U&&K[2]){if(ve===r&&!(re in i))return!1}else{var De=new On;if(A)var Be=A(ve,ge,re,i,s,De);if(!(Be===r?Gu(ge,ve,y|m,A,De):Be))return!1}}return!0}function bc(i){if(!Xt(i)||Ng(i))return!1;var s=ri(i)?Q1:Bu;return s.test(qi(i))}function eg(i){return ir(i)&&Lr(i)==At}function tg(i){return ir(i)&&xr(i)==Lt}function rg(i){return ir(i)&&za(i.length)&&!!Ht[Lr(i)]}function yc(i){return typeof i=="function"?i:i==null?Wr:typeof i=="object"?st(i)?Ec(i[0],i[1]):wc(i):zh(i)}function bo(i){if(!$u(i))return uv(i);var s=[];for(var v in Rt(i))Mt.call(i,v)&&v!="constructor"&&s.push(v);return s}function ng(i){if(!Xt(i))return Ug(i);var s=$u(i),v=[];for(var A in i)A=="constructor"&&(s||!Mt.call(i,A))||v.push(A);return v}function yo(i,s){return i<s}function Ac(i,s){var v=-1,A=qr(i)?oe(i.length):[];return pi(i,function(S,T,U){A[++v]=s(S,T,U)}),A}function wc(i){var s=ko(i);return s.length==1&&s[0][2]?nh(s[0][0],s[0][1]):function(v){return v===i||Do(v,i,s)}}function Ec(i,s){return Ro(i)&&rh(s)?nh(jn(i),s):function(v){var A=Yo(v,i);return A===r&&A===s?$o(v,i):Gu(s,A,y|m)}}function Sa(i,s,v,A,S){i!==s&&vo(s,function(T,U){if(S||(S=new On),Xt(T))ig(i,s,U,v,Sa,A,S);else{var K=A?A(Vo(i,U),T,U+"",i,s,S):r;K===r&&(K=T),ho(i,U,K)}},zr)}function ig(i,s,v,A,S,T,U){var K=Vo(i,v),re=Vo(s,v),ve=U.get(re);if(ve){ho(i,v,ve);return}var ge=T?T(K,re,v+"",i,s,U):r,De=ge===r;if(De){var Be=st(re),Ue=!Be&&_i(re),Je=!Be&&!Ue&&su(re);ge=re,Be||Ue||Je?st(K)?ge=K:or(K)?ge=jr(K):Ue?(De=!1,ge=kc(re,!0)):Je?(De=!1,ge=Lc(re,!0)):ge=[]:Xu(re)||zi(re)?(ge=K,zi(K)?ge=Th(K):(!Xt(K)||ri(K))&&(ge=th(re))):De=!1}De&&(U.set(re,ge),S(ge,re,A,T,U),U.delete(re)),ho(i,v,ge)}function Cc(i,s){var v=i.length;if(v)return s+=s<0?v:0,ti(s,v)?i[s]:r}function Fc(i,s,v){s.length?s=Kt(s,function(T){return st(T)?function(U){return Vi(U,T.length===1?T[0]:T)}:T}):s=[Wr];var A=-1;s=Kt(s,Jr($e()));var S=Ac(i,function(T,U,K){var re=Kt(s,function(ve){return ve(T)});return{criteria:re,index:++A,value:T}});return P1(S,function(T,U){return mg(T,U,v)})}function ug(i,s){return Sc(i,s,function(v,A){return $o(i,A)})}function Sc(i,s,v){for(var A=-1,S=s.length,T={};++A<S;){var U=s[A],K=Vi(i,U);v(K,U)&&Ku(T,gi(U,i),K)}return T}function ag(i){return function(s){return Vi(s,i)}}function Ao(i,s,v,A){var S=A?M1:Zi,T=-1,U=s.length,K=i;for(i===s&&(s=jr(s)),v&&(K=Kt(i,Jr(v)));++T<U;)for(var re=0,ve=s[T],ge=v?v(ve):ve;(re=S(K,ge,re,A))>-1;)K!==i&&ma.call(K,re,1),ma.call(i,re,1);return i}function Bc(i,s){for(var v=i?s.length:0,A=v-1;v--;){var S=s[v];if(v==A||S!==T){var T=S;ti(S)?ma.call(i,S,1):Fo(i,S)}}return i}function wo(i,s){return i+ba(oc()*(s-i+1))}function sg(i,s,v,A){for(var S=-1,T=vr(Da((s-i)/(v||1)),0),U=oe(T);T--;)U[A?T:++S]=i,i+=v;return U}function Eo(i,s){var v="";if(!i||s<1||s>X)return v;do s%2&&(v+=i),s=ba(s/2),s&&(i+=i);while(s);return v}function ht(i,s){return jo(ih(i,s,Wr),i+"")}function og(i){return cc(ou(i))}function lg(i,s){var v=ou(i);return La(v,Ui(s,0,v.length))}function Ku(i,s,v,A){if(!Xt(i))return i;s=gi(s,i);for(var S=-1,T=s.length,U=T-1,K=i;K!=null&&++S<T;){var re=jn(s[S]),ve=v;if(re==="__proto__"||re==="constructor"||re==="prototype")return i;if(S!=U){var ge=K[re];ve=A?A(ge,re,K):r,ve===r&&(ve=Xt(ge)?ge:ti(s[S+1])?[]:{})}zu(K,re,ve),K=K[re]}return i}var Oc=ya?function(i,s){return ya.set(i,s),i}:Wr,fg=_a?function(i,s){return _a(i,"toString",{configurable:!0,enumerable:!1,value:Xo(s),writable:!0})}:Wr;function cg(i){return La(ou(i))}function _n(i,s,v){var A=-1,S=i.length;s<0&&(s=-s>S?0:S+s),v=v>S?S:v,v<0&&(v+=S),S=s>v?0:v-s>>>0,s>>>=0;for(var T=oe(S);++A<S;)T[A]=i[A+s];return T}function hg(i,s){var v;return pi(i,function(A,S,T){return v=s(A,S,T),!v}),!!v}function Ba(i,s,v){var A=0,S=i==null?A:i.length;if(typeof s=="number"&&s===s&&S<=be){for(;A<S;){var T=A+S>>>1,U=i[T];U!==null&&!en(U)&&(v?U<=s:U<s)?A=T+1:S=T}return S}return Co(i,s,Wr,v)}function Co(i,s,v,A){var S=0,T=i==null?0:i.length;if(T===0)return 0;s=v(s);for(var U=s!==s,K=s===null,re=en(s),ve=s===r;S<T;){var ge=ba((S+T)/2),De=v(i[ge]),Be=De!==r,Ue=De===null,Je=De===De,ct=en(De);if(U)var Qe=A||Je;else ve?Qe=Je&&(A||Be):K?Qe=Je&&Be&&(A||!Ue):re?Qe=Je&&Be&&!Ue&&(A||!ct):Ue||ct?Qe=!1:Qe=A?De<=s:De<s;Qe?S=ge+1:T=ge}return Pr(T,Ce)}function Mc(i,s){for(var v=-1,A=i.length,S=0,T=[];++v<A;){var U=i[v],K=s?s(U):U;if(!v||!Mn(K,re)){var re=K;T[S++]=U===0?0:U}}return T}function Pc(i){return typeof i=="number"?i:en(i)?le:+i}function Qr(i){if(typeof i=="string")return i;if(st(i))return Kt(i,Qr)+"";if(en(i))return lc?lc.call(i):"";var s=i+"";return s=="0"&&1/i==-Q?"-0":s}function vi(i,s,v){var A=-1,S=sa,T=i.length,U=!0,K=[],re=K;if(v)U=!1,S=Qs;else if(T>=u){var ve=s?null:wg(i);if(ve)return la(ve);U=!1,S=Lu,re=new Ri}else re=s?[]:K;e:for(;++A<T;){var ge=i[A],De=s?s(ge):ge;if(ge=v||ge!==0?ge:0,U&&De===De){for(var Be=re.length;Be--;)if(re[Be]===De)continue e;s&&re.push(De),K.push(ge)}else S(re,De,v)||(re!==K&&re.push(De),K.push(ge))}return K}function Fo(i,s){return s=gi(s,i),i=uh(i,s),i==null||delete i[jn(Dn(s))]}function xc(i,s,v,A){return Ku(i,s,v(Vi(i,s)),A)}function Oa(i,s,v,A){for(var S=i.length,T=A?S:-1;(A?T--:++T<S)&&s(i[T],T,i););return v?_n(i,A?0:T,A?T+1:S):_n(i,A?T+1:0,A?S:T)}function Tc(i,s){var v=i;return v instanceof _t&&(v=v.value()),eo(s,function(A,S){return S.func.apply(S.thisArg,ci([A],S.args))},v)}function So(i,s,v){var A=i.length;if(A<2)return A?vi(i[0]):[];for(var S=-1,T=oe(A);++S<A;)for(var U=i[S],K=-1;++K<A;)K!=S&&(T[S]=Wu(T[S]||U,i[K],s,v));return vi(Cr(T,1),s,v)}function Ic(i,s,v){for(var A=-1,S=i.length,T=s.length,U={};++A<S;){var K=A<T?s[A]:r;v(U,i[A],K)}return U}function Bo(i){return or(i)?i:[]}function Oo(i){return typeof i=="function"?i:Wr}function gi(i,s){return st(i)?i:Ro(i,s)?[i]:lh(Ct(i))}var dg=ht;function mi(i,s,v){var A=i.length;return v=v===r?A:v,!s&&v>=A?i:_n(i,s,v)}var Nc=ev||function(i){return Er.clearTimeout(i)};function kc(i,s){if(s)return i.slice();var v=i.length,A=nc?nc(v):new i.constructor(v);return i.copy(A),A}function Mo(i){var s=new i.constructor(i.byteLength);return new va(s).set(new va(i)),s}function pg(i,s){var v=s?Mo(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.byteLength)}function vg(i){var s=new i.constructor(i.source,Ki.exec(i));return s.lastIndex=i.lastIndex,s}function gg(i){return qu?Rt(qu.call(i)):{}}function Lc(i,s){var v=s?Mo(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.length)}function Rc(i,s){if(i!==s){var v=i!==r,A=i===null,S=i===i,T=en(i),U=s!==r,K=s===null,re=s===s,ve=en(s);if(!K&&!ve&&!T&&i>s||T&&U&&re&&!K&&!ve||A&&U&&re||!v&&re||!S)return 1;if(!A&&!T&&!ve&&i<s||ve&&v&&S&&!A&&!T||K&&v&&S||!U&&S||!re)return-1}return 0}function mg(i,s,v){for(var A=-1,S=i.criteria,T=s.criteria,U=S.length,K=v.length;++A<U;){var re=Rc(S[A],T[A]);if(re){if(A>=K)return re;var ve=v[A];return re*(ve=="desc"?-1:1)}}return i.index-s.index}function Uc(i,s,v,A){for(var S=-1,T=i.length,U=v.length,K=-1,re=s.length,ve=vr(T-U,0),ge=oe(re+ve),De=!A;++K<re;)ge[K]=s[K];for(;++S<U;)(De||S<T)&&(ge[v[S]]=i[S]);for(;ve--;)ge[K++]=i[S++];return ge}function Vc(i,s,v,A){for(var S=-1,T=i.length,U=-1,K=v.length,re=-1,ve=s.length,ge=vr(T-K,0),De=oe(ge+ve),Be=!A;++S<ge;)De[S]=i[S];for(var Ue=S;++re<ve;)De[Ue+re]=s[re];for(;++U<K;)(Be||S<T)&&(De[Ue+v[U]]=i[S++]);return De}function jr(i,s){var v=-1,A=i.length;for(s||(s=oe(A));++v<A;)s[v]=i[v];return s}function Vn(i,s,v,A){var S=!v;v||(v={});for(var T=-1,U=s.length;++T<U;){var K=s[T],re=A?A(v[K],i[K],K,v,i):r;re===r&&(re=i[K]),S?Jn(v,K,re):zu(v,K,re)}return v}function _g(i,s){return Vn(i,Lo(i),s)}function Dg(i,s){return Vn(i,Qc(i),s)}function Ma(i,s){return function(v,A){var S=st(v)?E1:jv,T=s?s():{};return S(v,i,$e(A,2),T)}}function iu(i){return ht(function(s,v){var A=-1,S=v.length,T=S>1?v[S-1]:r,U=S>2?v[2]:r;for(T=i.length>3&&typeof T=="function"?(S--,T):r,U&&Rr(v[0],v[1],U)&&(T=S<3?r:T,S=1),s=Rt(s);++A<S;){var K=v[A];K&&i(s,K,A,T)}return s})}function jc(i,s){return function(v,A){if(v==null)return v;if(!qr(v))return i(v,A);for(var S=v.length,T=s?S:-1,U=Rt(v);(s?T--:++T<S)&&A(U[T],T,U)!==!1;);return v}}function qc(i){return function(s,v,A){for(var S=-1,T=Rt(s),U=A(s),K=U.length;K--;){var re=U[i?K:++S];if(v(T[re],re,T)===!1)break}return s}}function bg(i,s,v){var A=s&_,S=Yu(i);function T(){var U=this&&this!==Er&&this instanceof T?S:i;return U.apply(A?v:this,arguments)}return T}function zc(i){return function(s){s=Ct(s);var v=Xi(s)?Bn(s):r,A=v?v[0]:s.charAt(0),S=v?mi(v,1).join(""):s.slice(1);return A[i]()+S}}function uu(i){return function(s){return eo(jh(Vh(s).replace(f1,"")),i,"")}}function Yu(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=nu(i.prototype),A=i.apply(v,s);return Xt(A)?A:v}}function yg(i,s,v){var A=Yu(i);function S(){for(var T=arguments.length,U=oe(T),K=T,re=au(S);K--;)U[K]=arguments[K];var ve=T<3&&U[0]!==re&&U[T-1]!==re?[]:hi(U,re);if(T-=ve.length,T<v)return Yc(i,s,Pa,S.placeholder,r,U,ve,r,r,v-T);var ge=this&&this!==Er&&this instanceof S?A:i;return Xr(ge,this,U)}return S}function Wc(i){return function(s,v,A){var S=Rt(s);if(!qr(s)){var T=$e(v,3);s=br(s),v=function(K){return T(S[K],K,S)}}var U=i(s,v,A);return U>-1?S[T?s[U]:U]:r}}function Hc(i){return ei(function(s){var v=s.length,A=v,S=gn.prototype.thru;for(i&&s.reverse();A--;){var T=s[A];if(typeof T!="function")throw new vn(l);if(S&&!U&&Na(T)=="wrapper")var U=new gn([],!0)}for(A=U?A:v;++A<v;){T=s[A];var K=Na(T),re=K=="wrapper"?No(T):r;re&&Uo(re[0])&&re[1]==(P|w|F|I)&&!re[4].length&&re[9]==1?U=U[Na(re[0])].apply(U,re[3]):U=T.length==1&&Uo(T)?U[K]():U.thru(T)}return function(){var ve=arguments,ge=ve[0];if(U&&ve.length==1&&st(ge))return U.plant(ge).value();for(var De=0,Be=v?s[De].apply(this,ve):ge;++De<v;)Be=s[De].call(this,Be);return Be}})}function Pa(i,s,v,A,S,T,U,K,re,ve){var ge=s&P,De=s&_,Be=s&D,Ue=s&(w|B),Je=s&k,ct=Be?r:Yu(i);function Qe(){for(var mt=arguments.length,yt=oe(mt),tn=mt;tn--;)yt[tn]=arguments[tn];if(Ue)var Ur=au(Qe),rn=T1(yt,Ur);if(A&&(yt=Uc(yt,A,S,Ue)),T&&(yt=Vc(yt,T,U,Ue)),mt-=rn,Ue&&mt<ve){var lr=hi(yt,Ur);return Yc(i,s,Pa,Qe.placeholder,v,yt,lr,K,re,ve-mt)}var Pn=De?v:this,ii=Be?Pn[i]:i;return mt=yt.length,K?yt=jg(yt,K):Je&&mt>1&&yt.reverse(),ge&&re<mt&&(yt.length=re),this&&this!==Er&&this instanceof Qe&&(ii=ct||Yu(ii)),ii.apply(Pn,yt)}return Qe}function Gc(i,s){return function(v,A){return $v(v,i,s(A),{})}}function xa(i,s){return function(v,A){var S;if(v===r&&A===r)return s;if(v!==r&&(S=v),A!==r){if(S===r)return A;typeof v=="string"||typeof A=="string"?(v=Qr(v),A=Qr(A)):(v=Pc(v),A=Pc(A)),S=i(v,A)}return S}}function Po(i){return ei(function(s){return s=Kt(s,Jr($e())),ht(function(v){var A=this;return i(s,function(S){return Xr(S,A,v)})})})}function Ta(i,s){s=s===r?" ":Qr(s);var v=s.length;if(v<2)return v?Eo(s,i):s;var A=Eo(s,Da(i/Ji(s)));return Xi(s)?mi(Bn(A),0,i).join(""):A.slice(0,i)}function Ag(i,s,v,A){var S=s&_,T=Yu(i);function U(){for(var K=-1,re=arguments.length,ve=-1,ge=A.length,De=oe(ge+re),Be=this&&this!==Er&&this instanceof U?T:i;++ve<ge;)De[ve]=A[ve];for(;re--;)De[ve++]=arguments[++K];return Xr(Be,S?v:this,De)}return U}function Kc(i){return function(s,v,A){return A&&typeof A!="number"&&Rr(s,v,A)&&(v=A=r),s=ni(s),v===r?(v=s,s=0):v=ni(v),A=A===r?s<v?1:-1:ni(A),sg(s,v,A,i)}}function Ia(i){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=bn(s),v=bn(v)),i(s,v)}}function Yc(i,s,v,A,S,T,U,K,re,ve){var ge=s&w,De=ge?U:r,Be=ge?r:U,Ue=ge?T:r,Je=ge?r:T;s|=ge?F:O,s&=~(ge?O:F),s&E||(s&=~(_|D));var ct=[i,s,S,Ue,De,Je,Be,K,re,ve],Qe=v.apply(r,ct);return Uo(i)&&ah(Qe,ct),Qe.placeholder=A,sh(Qe,i,s)}function xo(i){var s=pr[i];return function(v,A){if(v=bn(v),A=A==null?0:Pr(ft(A),292),A&&sc(v)){var S=(Ct(v)+"e").split("e"),T=s(S[0]+"e"+(+S[1]+A));return S=(Ct(T)+"e").split("e"),+(S[0]+"e"+(+S[1]-A))}return s(v)}}var wg=tu&&1/la(new tu([,-0]))[1]==Q?function(i){return new tu(i)}:el;function $c(i){return function(s){var v=xr(s);return v==rt?so(s):v==Lt?V1(s):x1(s,i(s))}}function Qn(i,s,v,A,S,T,U,K){var re=s&D;if(!re&&typeof i!="function")throw new vn(l);var ve=A?A.length:0;if(ve||(s&=~(F|O),A=S=r),U=U===r?U:vr(ft(U),0),K=K===r?K:ft(K),ve-=S?S.length:0,s&O){var ge=A,De=S;A=S=r}var Be=re?r:No(i),Ue=[i,s,v,A,S,ge,De,T,U,K];if(Be&&Rg(Ue,Be),i=Ue[0],s=Ue[1],v=Ue[2],A=Ue[3],S=Ue[4],K=Ue[9]=Ue[9]===r?re?0:i.length:vr(Ue[9]-ve,0),!K&&s&(w|B)&&(s&=~(w|B)),!s||s==_)var Je=bg(i,s,v);else s==w||s==B?Je=yg(i,s,K):(s==F||s==(_|F))&&!S.length?Je=Ag(i,s,v,A):Je=Pa.apply(r,Ue);var ct=Be?Oc:ah;return sh(ct(Je,Ue),i,s)}function Zc(i,s,v,A){return i===r||Mn(i,eu[v])&&!Mt.call(A,v)?s:i}function Xc(i,s,v,A,S,T){return Xt(i)&&Xt(s)&&(T.set(s,i),Sa(i,s,r,Xc,T),T.delete(s)),i}function Eg(i){return Xu(i)?r:i}function Jc(i,s,v,A,S,T){var U=v&y,K=i.length,re=s.length;if(K!=re&&!(U&&re>K))return!1;var ve=T.get(i),ge=T.get(s);if(ve&&ge)return ve==s&&ge==i;var De=-1,Be=!0,Ue=v&m?new Ri:r;for(T.set(i,s),T.set(s,i);++De<K;){var Je=i[De],ct=s[De];if(A)var Qe=U?A(ct,Je,De,s,i,T):A(Je,ct,De,i,s,T);if(Qe!==r){if(Qe)continue;Be=!1;break}if(Ue){if(!to(s,function(mt,yt){if(!Lu(Ue,yt)&&(Je===mt||S(Je,mt,v,A,T)))return Ue.push(yt)})){Be=!1;break}}else if(!(Je===ct||S(Je,ct,v,A,T))){Be=!1;break}}return T.delete(i),T.delete(s),Be}function Cg(i,s,v,A,S,T,U){switch(v){case he:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case ie:return!(i.byteLength!=s.byteLength||!T(new va(i),new va(s)));case je:case Ne:case nt:return Mn(+i,+s);case lt:return i.name==s.name&&i.message==s.message;case At:case Wt:return i==s+"";case rt:var K=so;case Lt:var re=A&y;if(K||(K=la),i.size!=s.size&&!re)return!1;var ve=U.get(i);if(ve)return ve==s;A|=m,U.set(i,s);var ge=Jc(K(i),K(s),A,S,T,U);return U.delete(i),ge;case L:if(qu)return qu.call(i)==qu.call(s)}return!1}function Fg(i,s,v,A,S,T){var U=v&y,K=To(i),re=K.length,ve=To(s),ge=ve.length;if(re!=ge&&!U)return!1;for(var De=re;De--;){var Be=K[De];if(!(U?Be in s:Mt.call(s,Be)))return!1}var Ue=T.get(i),Je=T.get(s);if(Ue&&Je)return Ue==s&&Je==i;var ct=!0;T.set(i,s),T.set(s,i);for(var Qe=U;++De<re;){Be=K[De];var mt=i[Be],yt=s[Be];if(A)var tn=U?A(yt,mt,Be,s,i,T):A(mt,yt,Be,i,s,T);if(!(tn===r?mt===yt||S(mt,yt,v,A,T):tn)){ct=!1;break}Qe||(Qe=Be=="constructor")}if(ct&&!Qe){var Ur=i.constructor,rn=s.constructor;Ur!=rn&&"constructor"in i&&"constructor"in s&&!(typeof Ur=="function"&&Ur instanceof Ur&&typeof rn=="function"&&rn instanceof rn)&&(ct=!1)}return T.delete(i),T.delete(s),ct}function ei(i){return jo(ih(i,r,dh),i+"")}function To(i){return _c(i,br,Lo)}function Io(i){return _c(i,zr,Qc)}var No=ya?function(i){return ya.get(i)}:el;function Na(i){for(var s=i.name+"",v=ru[s],A=Mt.call(ru,s)?v.length:0;A--;){var S=v[A],T=S.func;if(T==null||T==i)return S.name}return s}function au(i){var s=Mt.call(M,"placeholder")?M:i;return s.placeholder}function $e(){var i=M.iteratee||Jo;return i=i===Jo?yc:i,arguments.length?i(arguments[0],arguments[1]):i}function ka(i,s){var v=i.__data__;return Ig(s)?v[typeof s=="string"?"string":"hash"]:v.map}function ko(i){for(var s=br(i),v=s.length;v--;){var A=s[v],S=i[A];s[v]=[A,S,rh(S)]}return s}function ji(i,s){var v=L1(i,s);return bc(v)?v:r}function Sg(i){var s=Mt.call(i,ki),v=i[ki];try{i[ki]=r;var A=!0}catch{}var S=da.call(i);return A&&(s?i[ki]=v:delete i[ki]),S}var Lo=lo?function(i){return i==null?[]:(i=Rt(i),fi(lo(i),function(s){return uc.call(i,s)}))}:tl,Qc=lo?function(i){for(var s=[];i;)ci(s,Lo(i)),i=ga(i);return s}:tl,xr=Lr;(fo&&xr(new fo(new ArrayBuffer(1)))!=he||Uu&&xr(new Uu)!=rt||co&&xr(co.resolve())!=Ae||tu&&xr(new tu)!=Lt||Vu&&xr(new Vu)!=$)&&(xr=function(i){var s=Lr(i),v=s==Ye?i.constructor:r,A=v?qi(v):"";if(A)switch(A){case lv:return he;case fv:return rt;case cv:return Ae;case hv:return Lt;case dv:return $}return s});function Bg(i,s,v){for(var A=-1,S=v.length;++A<S;){var T=v[A],U=T.size;switch(T.type){case"drop":i+=U;break;case"dropRight":s-=U;break;case"take":s=Pr(s,i+U);break;case"takeRight":i=vr(i,s-U);break}}return{start:i,end:s}}function Og(i){var s=i.match(si);return s?s[1].split(cn):[]}function eh(i,s,v){s=gi(s,i);for(var A=-1,S=s.length,T=!1;++A<S;){var U=jn(s[A]);if(!(T=i!=null&&v(i,U)))break;i=i[U]}return T||++A!=S?T:(S=i==null?0:i.length,!!S&&za(S)&&ti(U,S)&&(st(i)||zi(i)))}function Mg(i){var s=i.length,v=new i.constructor(s);return s&&typeof i[0]=="string"&&Mt.call(i,"index")&&(v.index=i.index,v.input=i.input),v}function th(i){return typeof i.constructor=="function"&&!$u(i)?nu(ga(i)):{}}function Pg(i,s,v){var A=i.constructor;switch(s){case ie:return Mo(i);case je:case Ne:return new A(+i);case he:return pg(i,v);case se:case ce:case ye:case Me:case Xe:case Ee:case jt:case Ot:case rr:return Lc(i,v);case rt:return new A;case nt:case Wt:return new A(i);case At:return vg(i);case Lt:return new A;case L:return gg(i)}}function xg(i,s){var v=s.length;if(!v)return i;var A=v-1;return s[A]=(v>1?"& ":"")+s[A],s=s.join(v>2?", ":" "),i.replace(wu,`{
/* [wrapped with `+s+`] */
`)}function Tg(i){return st(i)||zi(i)||!!(ac&&i&&i[ac])}function ti(i,s){var v=typeof i;return s=s??X,!!s&&(v=="number"||v!="symbol"&&Mu.test(i))&&i>-1&&i%1==0&&i<s}function Rr(i,s,v){if(!Xt(v))return!1;var A=typeof s;return(A=="number"?qr(v)&&ti(s,v.length):A=="string"&&s in v)?Mn(v[s],i):!1}function Ro(i,s){if(st(i))return!1;var v=typeof i;return v=="number"||v=="symbol"||v=="boolean"||i==null||en(i)?!0:kn.test(i)||!Nn.test(i)||s!=null&&i in Rt(s)}function Ig(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Uo(i){var s=Na(i),v=M[s];if(typeof v!="function"||!(s in _t.prototype))return!1;if(i===v)return!0;var A=No(v);return!!A&&i===A[0]}function Ng(i){return!!rc&&rc in i}var kg=ca?ri:rl;function $u(i){var s=i&&i.constructor,v=typeof s=="function"&&s.prototype||eu;return i===v}function rh(i){return i===i&&!Xt(i)}function nh(i,s){return function(v){return v==null?!1:v[i]===s&&(s!==r||i in Rt(v))}}function Lg(i){var s=ja(i,function(A){return v.size===p&&v.clear(),A}),v=s.cache;return s}function Rg(i,s){var v=i[1],A=s[1],S=v|A,T=S<(_|D|P),U=A==P&&v==w||A==P&&v==I&&i[7].length<=s[8]||A==(P|I)&&s[7].length<=s[8]&&v==w;if(!(T||U))return i;A&_&&(i[2]=s[2],S|=v&_?0:E);var K=s[3];if(K){var re=i[3];i[3]=re?Uc(re,K,s[4]):K,i[4]=re?hi(i[3],f):s[4]}return K=s[5],K&&(re=i[5],i[5]=re?Vc(re,K,s[6]):K,i[6]=re?hi(i[5],f):s[6]),K=s[7],K&&(i[7]=K),A&P&&(i[8]=i[8]==null?s[8]:Pr(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=S,i}function Ug(i){var s=[];if(i!=null)for(var v in Rt(i))s.push(v);return s}function Vg(i){return da.call(i)}function ih(i,s,v){return s=vr(s===r?i.length-1:s,0),function(){for(var A=arguments,S=-1,T=vr(A.length-s,0),U=oe(T);++S<T;)U[S]=A[s+S];S=-1;for(var K=oe(s+1);++S<s;)K[S]=A[S];return K[s]=v(U),Xr(i,this,K)}}function uh(i,s){return s.length<2?i:Vi(i,_n(s,0,-1))}function jg(i,s){for(var v=i.length,A=Pr(s.length,v),S=jr(i);A--;){var T=s[A];i[A]=ti(T,v)?S[T]:r}return i}function Vo(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var ah=oh(Oc),Zu=rv||function(i,s){return Er.setTimeout(i,s)},jo=oh(fg);function sh(i,s,v){var A=s+"";return jo(i,xg(A,qg(Og(A),v)))}function oh(i){var s=0,v=0;return function(){var A=av(),S=Z-(A-v);if(v=A,S>0){if(++s>=z)return arguments[0]}else s=0;return i.apply(r,arguments)}}function La(i,s){var v=-1,A=i.length,S=A-1;for(s=s===r?A:s;++v<s;){var T=wo(v,S),U=i[T];i[T]=i[v],i[v]=U}return i.length=s,i}var lh=Lg(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Gi,function(v,A,S,T){s.push(S?T.replace(Eu,"$1"):A||v)}),s});function jn(i){if(typeof i=="string"||en(i))return i;var s=i+"";return s=="0"&&1/i==-Q?"-0":s}function qi(i){if(i!=null){try{return ha.call(i)}catch{}try{return i+""}catch{}}return""}function qg(i,s){return pn(Ie,function(v){var A="_."+v[0];s&v[1]&&!sa(i,A)&&i.push(A)}),i.sort()}function fh(i){if(i instanceof _t)return i.clone();var s=new gn(i.__wrapped__,i.__chain__);return s.__actions__=jr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function zg(i,s,v){(v?Rr(i,s,v):s===r)?s=1:s=vr(ft(s),0);var A=i==null?0:i.length;if(!A||s<1)return[];for(var S=0,T=0,U=oe(Da(A/s));S<A;)U[T++]=_n(i,S,S+=s);return U}function Wg(i){for(var s=-1,v=i==null?0:i.length,A=0,S=[];++s<v;){var T=i[s];T&&(S[A++]=T)}return S}function Hg(){var i=arguments.length;if(!i)return[];for(var s=oe(i-1),v=arguments[0],A=i;A--;)s[A-1]=arguments[A];return ci(st(v)?jr(v):[v],Cr(s,1))}var Gg=ht(function(i,s){return or(i)?Wu(i,Cr(s,1,or,!0)):[]}),Kg=ht(function(i,s){var v=Dn(s);return or(v)&&(v=r),or(i)?Wu(i,Cr(s,1,or,!0),$e(v,2)):[]}),Yg=ht(function(i,s){var v=Dn(s);return or(v)&&(v=r),or(i)?Wu(i,Cr(s,1,or,!0),r,v):[]});function $g(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:ft(s),_n(i,s<0?0:s,A)):[]}function Zg(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:ft(s),s=A-s,_n(i,0,s<0?0:s)):[]}function Xg(i,s){return i&&i.length?Oa(i,$e(s,3),!0,!0):[]}function Jg(i,s){return i&&i.length?Oa(i,$e(s,3),!0):[]}function Qg(i,s,v,A){var S=i==null?0:i.length;return S?(v&&typeof v!="number"&&Rr(i,s,v)&&(v=0,A=S),Hv(i,s,v,A)):[]}function ch(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=v==null?0:ft(v);return S<0&&(S=vr(A+S,0)),oa(i,$e(s,3),S)}function hh(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=A-1;return v!==r&&(S=ft(v),S=v<0?vr(A+S,0):Pr(S,A-1)),oa(i,$e(s,3),S,!0)}function dh(i){var s=i==null?0:i.length;return s?Cr(i,1):[]}function em(i){var s=i==null?0:i.length;return s?Cr(i,Q):[]}function tm(i,s){var v=i==null?0:i.length;return v?(s=s===r?1:ft(s),Cr(i,s)):[]}function rm(i){for(var s=-1,v=i==null?0:i.length,A={};++s<v;){var S=i[s];A[S[0]]=S[1]}return A}function ph(i){return i&&i.length?i[0]:r}function nm(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=v==null?0:ft(v);return S<0&&(S=vr(A+S,0)),Zi(i,s,S)}function im(i){var s=i==null?0:i.length;return s?_n(i,0,-1):[]}var um=ht(function(i){var s=Kt(i,Bo);return s.length&&s[0]===i[0]?_o(s):[]}),am=ht(function(i){var s=Dn(i),v=Kt(i,Bo);return s===Dn(v)?s=r:v.pop(),v.length&&v[0]===i[0]?_o(v,$e(s,2)):[]}),sm=ht(function(i){var s=Dn(i),v=Kt(i,Bo);return s=typeof s=="function"?s:r,s&&v.pop(),v.length&&v[0]===i[0]?_o(v,r,s):[]});function om(i,s){return i==null?"":iv.call(i,s)}function Dn(i){var s=i==null?0:i.length;return s?i[s-1]:r}function lm(i,s,v){var A=i==null?0:i.length;if(!A)return-1;var S=A;return v!==r&&(S=ft(v),S=S<0?vr(A+S,0):Pr(S,A-1)),s===s?q1(i,s,S):oa(i,Yf,S,!0)}function fm(i,s){return i&&i.length?Cc(i,ft(s)):r}var cm=ht(vh);function vh(i,s){return i&&i.length&&s&&s.length?Ao(i,s):i}function hm(i,s,v){return i&&i.length&&s&&s.length?Ao(i,s,$e(v,2)):i}function dm(i,s,v){return i&&i.length&&s&&s.length?Ao(i,s,r,v):i}var pm=ei(function(i,s){var v=i==null?0:i.length,A=po(i,s);return Bc(i,Kt(s,function(S){return ti(S,v)?+S:S}).sort(Rc)),A});function vm(i,s){var v=[];if(!(i&&i.length))return v;var A=-1,S=[],T=i.length;for(s=$e(s,3);++A<T;){var U=i[A];s(U,A,i)&&(v.push(U),S.push(A))}return Bc(i,S),v}function qo(i){return i==null?i:ov.call(i)}function gm(i,s,v){var A=i==null?0:i.length;return A?(v&&typeof v!="number"&&Rr(i,s,v)?(s=0,v=A):(s=s==null?0:ft(s),v=v===r?A:ft(v)),_n(i,s,v)):[]}function mm(i,s){return Ba(i,s)}function _m(i,s,v){return Co(i,s,$e(v,2))}function Dm(i,s){var v=i==null?0:i.length;if(v){var A=Ba(i,s);if(A<v&&Mn(i[A],s))return A}return-1}function bm(i,s){return Ba(i,s,!0)}function ym(i,s,v){return Co(i,s,$e(v,2),!0)}function Am(i,s){var v=i==null?0:i.length;if(v){var A=Ba(i,s,!0)-1;if(Mn(i[A],s))return A}return-1}function wm(i){return i&&i.length?Mc(i):[]}function Em(i,s){return i&&i.length?Mc(i,$e(s,2)):[]}function Cm(i){var s=i==null?0:i.length;return s?_n(i,1,s):[]}function Fm(i,s,v){return i&&i.length?(s=v||s===r?1:ft(s),_n(i,0,s<0?0:s)):[]}function Sm(i,s,v){var A=i==null?0:i.length;return A?(s=v||s===r?1:ft(s),s=A-s,_n(i,s<0?0:s,A)):[]}function Bm(i,s){return i&&i.length?Oa(i,$e(s,3),!1,!0):[]}function Om(i,s){return i&&i.length?Oa(i,$e(s,3)):[]}var Mm=ht(function(i){return vi(Cr(i,1,or,!0))}),Pm=ht(function(i){var s=Dn(i);return or(s)&&(s=r),vi(Cr(i,1,or,!0),$e(s,2))}),xm=ht(function(i){var s=Dn(i);return s=typeof s=="function"?s:r,vi(Cr(i,1,or,!0),r,s)});function Tm(i){return i&&i.length?vi(i):[]}function Im(i,s){return i&&i.length?vi(i,$e(s,2)):[]}function Nm(i,s){return s=typeof s=="function"?s:r,i&&i.length?vi(i,r,s):[]}function zo(i){if(!(i&&i.length))return[];var s=0;return i=fi(i,function(v){if(or(v))return s=vr(v.length,s),!0}),uo(s,function(v){return Kt(i,ro(v))})}function gh(i,s){if(!(i&&i.length))return[];var v=zo(i);return s==null?v:Kt(v,function(A){return Xr(s,r,A)})}var km=ht(function(i,s){return or(i)?Wu(i,s):[]}),Lm=ht(function(i){return So(fi(i,or))}),Rm=ht(function(i){var s=Dn(i);return or(s)&&(s=r),So(fi(i,or),$e(s,2))}),Um=ht(function(i){var s=Dn(i);return s=typeof s=="function"?s:r,So(fi(i,or),r,s)}),Vm=ht(zo);function jm(i,s){return Ic(i||[],s||[],zu)}function qm(i,s){return Ic(i||[],s||[],Ku)}var zm=ht(function(i){var s=i.length,v=s>1?i[s-1]:r;return v=typeof v=="function"?(i.pop(),v):r,gh(i,v)});function mh(i){var s=M(i);return s.__chain__=!0,s}function Wm(i,s){return s(i),i}function Ra(i,s){return s(i)}var Hm=ei(function(i){var s=i.length,v=s?i[0]:0,A=this.__wrapped__,S=function(T){return po(T,i)};return s>1||this.__actions__.length||!(A instanceof _t)||!ti(v)?this.thru(S):(A=A.slice(v,+v+(s?1:0)),A.__actions__.push({func:Ra,args:[S],thisArg:r}),new gn(A,this.__chain__).thru(function(T){return s&&!T.length&&T.push(r),T}))});function Gm(){return mh(this)}function Km(){return new gn(this.value(),this.__chain__)}function Ym(){this.__values__===r&&(this.__values__=Ph(this.value()));var i=this.__index__>=this.__values__.length,s=i?r:this.__values__[this.__index__++];return{done:i,value:s}}function $m(){return this}function Zm(i){for(var s,v=this;v instanceof wa;){var A=fh(v);A.__index__=0,A.__values__=r,s?S.__wrapped__=A:s=A;var S=A;v=v.__wrapped__}return S.__wrapped__=i,s}function Xm(){var i=this.__wrapped__;if(i instanceof _t){var s=i;return this.__actions__.length&&(s=new _t(this)),s=s.reverse(),s.__actions__.push({func:Ra,args:[qo],thisArg:r}),new gn(s,this.__chain__)}return this.thru(qo)}function Jm(){return Tc(this.__wrapped__,this.__actions__)}var Qm=Ma(function(i,s,v){Mt.call(i,v)?++i[v]:Jn(i,v,1)});function e_(i,s,v){var A=st(i)?Gf:Wv;return v&&Rr(i,s,v)&&(s=r),A(i,$e(s,3))}function t_(i,s){var v=st(i)?fi:gc;return v(i,$e(s,3))}var r_=Wc(ch),n_=Wc(hh);function i_(i,s){return Cr(Ua(i,s),1)}function u_(i,s){return Cr(Ua(i,s),Q)}function a_(i,s,v){return v=v===r?1:ft(v),Cr(Ua(i,s),v)}function _h(i,s){var v=st(i)?pn:pi;return v(i,$e(s,3))}function Dh(i,s){var v=st(i)?C1:vc;return v(i,$e(s,3))}var s_=Ma(function(i,s,v){Mt.call(i,v)?i[v].push(s):Jn(i,v,[s])});function o_(i,s,v,A){i=qr(i)?i:ou(i),v=v&&!A?ft(v):0;var S=i.length;return v<0&&(v=vr(S+v,0)),Wa(i)?v<=S&&i.indexOf(s,v)>-1:!!S&&Zi(i,s,v)>-1}var l_=ht(function(i,s,v){var A=-1,S=typeof s=="function",T=qr(i)?oe(i.length):[];return pi(i,function(U){T[++A]=S?Xr(s,U,v):Hu(U,s,v)}),T}),f_=Ma(function(i,s,v){Jn(i,v,s)});function Ua(i,s){var v=st(i)?Kt:Ac;return v(i,$e(s,3))}function c_(i,s,v,A){return i==null?[]:(st(s)||(s=s==null?[]:[s]),v=A?r:v,st(v)||(v=v==null?[]:[v]),Fc(i,s,v))}var h_=Ma(function(i,s,v){i[v?0:1].push(s)},function(){return[[],[]]});function d_(i,s,v){var A=st(i)?eo:Zf,S=arguments.length<3;return A(i,$e(s,4),v,S,pi)}function p_(i,s,v){var A=st(i)?F1:Zf,S=arguments.length<3;return A(i,$e(s,4),v,S,vc)}function v_(i,s){var v=st(i)?fi:gc;return v(i,qa($e(s,3)))}function g_(i){var s=st(i)?cc:og;return s(i)}function m_(i,s,v){(v?Rr(i,s,v):s===r)?s=1:s=ft(s);var A=st(i)?Uv:lg;return A(i,s)}function __(i){var s=st(i)?Vv:cg;return s(i)}function D_(i){if(i==null)return 0;if(qr(i))return Wa(i)?Ji(i):i.length;var s=xr(i);return s==rt||s==Lt?i.size:bo(i).length}function b_(i,s,v){var A=st(i)?to:hg;return v&&Rr(i,s,v)&&(s=r),A(i,$e(s,3))}var y_=ht(function(i,s){if(i==null)return[];var v=s.length;return v>1&&Rr(i,s[0],s[1])?s=[]:v>2&&Rr(s[0],s[1],s[2])&&(s=[s[0]]),Fc(i,Cr(s,1),[])}),Va=tv||function(){return Er.Date.now()};function A_(i,s){if(typeof s!="function")throw new vn(l);return i=ft(i),function(){if(--i<1)return s.apply(this,arguments)}}function bh(i,s,v){return s=v?r:s,s=i&&s==null?i.length:s,Qn(i,P,r,r,r,r,s)}function yh(i,s){var v;if(typeof s!="function")throw new vn(l);return i=ft(i),function(){return--i>0&&(v=s.apply(this,arguments)),i<=1&&(s=r),v}}var Wo=ht(function(i,s,v){var A=_;if(v.length){var S=hi(v,au(Wo));A|=F}return Qn(i,A,s,v,S)}),Ah=ht(function(i,s,v){var A=_|D;if(v.length){var S=hi(v,au(Ah));A|=F}return Qn(s,A,i,v,S)});function wh(i,s,v){s=v?r:s;var A=Qn(i,w,r,r,r,r,r,s);return A.placeholder=wh.placeholder,A}function Eh(i,s,v){s=v?r:s;var A=Qn(i,B,r,r,r,r,r,s);return A.placeholder=Eh.placeholder,A}function Ch(i,s,v){var A,S,T,U,K,re,ve=0,ge=!1,De=!1,Be=!0;if(typeof i!="function")throw new vn(l);s=bn(s)||0,Xt(v)&&(ge=!!v.leading,De="maxWait"in v,T=De?vr(bn(v.maxWait)||0,s):T,Be="trailing"in v?!!v.trailing:Be);function Ue(lr){var Pn=A,ii=S;return A=S=r,ve=lr,U=i.apply(ii,Pn),U}function Je(lr){return ve=lr,K=Zu(mt,s),ge?Ue(lr):U}function ct(lr){var Pn=lr-re,ii=lr-ve,Wh=s-Pn;return De?Pr(Wh,T-ii):Wh}function Qe(lr){var Pn=lr-re,ii=lr-ve;return re===r||Pn>=s||Pn<0||De&&ii>=T}function mt(){var lr=Va();if(Qe(lr))return yt(lr);K=Zu(mt,ct(lr))}function yt(lr){return K=r,Be&&A?Ue(lr):(A=S=r,U)}function tn(){K!==r&&Nc(K),ve=0,A=re=S=K=r}function Ur(){return K===r?U:yt(Va())}function rn(){var lr=Va(),Pn=Qe(lr);if(A=arguments,S=this,re=lr,Pn){if(K===r)return Je(re);if(De)return Nc(K),K=Zu(mt,s),Ue(re)}return K===r&&(K=Zu(mt,s)),U}return rn.cancel=tn,rn.flush=Ur,rn}var w_=ht(function(i,s){return pc(i,1,s)}),E_=ht(function(i,s,v){return pc(i,bn(s)||0,v)});function C_(i){return Qn(i,k)}function ja(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new vn(l);var v=function(){var A=arguments,S=s?s.apply(this,A):A[0],T=v.cache;if(T.has(S))return T.get(S);var U=i.apply(this,A);return v.cache=T.set(S,U)||T,U};return v.cache=new(ja.Cache||Xn),v}ja.Cache=Xn;function qa(i){if(typeof i!="function")throw new vn(l);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function F_(i){return yh(2,i)}var S_=dg(function(i,s){s=s.length==1&&st(s[0])?Kt(s[0],Jr($e())):Kt(Cr(s,1),Jr($e()));var v=s.length;return ht(function(A){for(var S=-1,T=Pr(A.length,v);++S<T;)A[S]=s[S].call(this,A[S]);return Xr(i,this,A)})}),Ho=ht(function(i,s){var v=hi(s,au(Ho));return Qn(i,F,r,s,v)}),Fh=ht(function(i,s){var v=hi(s,au(Fh));return Qn(i,O,r,s,v)}),B_=ei(function(i,s){return Qn(i,I,r,r,r,s)});function O_(i,s){if(typeof i!="function")throw new vn(l);return s=s===r?s:ft(s),ht(i,s)}function M_(i,s){if(typeof i!="function")throw new vn(l);return s=s==null?0:vr(ft(s),0),ht(function(v){var A=v[s],S=mi(v,0,s);return A&&ci(S,A),Xr(i,this,S)})}function P_(i,s,v){var A=!0,S=!0;if(typeof i!="function")throw new vn(l);return Xt(v)&&(A="leading"in v?!!v.leading:A,S="trailing"in v?!!v.trailing:S),Ch(i,s,{leading:A,maxWait:s,trailing:S})}function x_(i){return bh(i,1)}function T_(i,s){return Ho(Oo(s),i)}function I_(){if(!arguments.length)return[];var i=arguments[0];return st(i)?i:[i]}function N_(i){return mn(i,g)}function k_(i,s){return s=typeof s=="function"?s:r,mn(i,g,s)}function L_(i){return mn(i,c|g)}function R_(i,s){return s=typeof s=="function"?s:r,mn(i,c|g,s)}function U_(i,s){return s==null||dc(i,s,br(s))}function Mn(i,s){return i===s||i!==i&&s!==s}var V_=Ia(mo),j_=Ia(function(i,s){return i>=s}),zi=Dc(function(){return arguments}())?Dc:function(i){return ir(i)&&Mt.call(i,"callee")&&!uc.call(i,"callee")},st=oe.isArray,q_=Vf?Jr(Vf):Zv;function qr(i){return i!=null&&za(i.length)&&!ri(i)}function or(i){return ir(i)&&qr(i)}function z_(i){return i===!0||i===!1||ir(i)&&Lr(i)==je}var _i=nv||rl,W_=jf?Jr(jf):Xv;function H_(i){return ir(i)&&i.nodeType===1&&!Xu(i)}function G_(i){if(i==null)return!0;if(qr(i)&&(st(i)||typeof i=="string"||typeof i.splice=="function"||_i(i)||su(i)||zi(i)))return!i.length;var s=xr(i);if(s==rt||s==Lt)return!i.size;if($u(i))return!bo(i).length;for(var v in i)if(Mt.call(i,v))return!1;return!0}function K_(i,s){return Gu(i,s)}function Y_(i,s,v){v=typeof v=="function"?v:r;var A=v?v(i,s):r;return A===r?Gu(i,s,r,v):!!A}function Go(i){if(!ir(i))return!1;var s=Lr(i);return s==lt||s==Re||typeof i.message=="string"&&typeof i.name=="string"&&!Xu(i)}function $_(i){return typeof i=="number"&&sc(i)}function ri(i){if(!Xt(i))return!1;var s=Lr(i);return s==tt||s==ut||s==et||s==Se}function Sh(i){return typeof i=="number"&&i==ft(i)}function za(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=X}function Xt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function ir(i){return i!=null&&typeof i=="object"}var Bh=qf?Jr(qf):Qv;function Z_(i,s){return i===s||Do(i,s,ko(s))}function X_(i,s,v){return v=typeof v=="function"?v:r,Do(i,s,ko(s),v)}function J_(i){return Oh(i)&&i!=+i}function Q_(i){if(kg(i))throw new at(a);return bc(i)}function eD(i){return i===null}function tD(i){return i==null}function Oh(i){return typeof i=="number"||ir(i)&&Lr(i)==nt}function Xu(i){if(!ir(i)||Lr(i)!=Ye)return!1;var s=ga(i);if(s===null)return!0;var v=Mt.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&ha.call(v)==X1}var Ko=zf?Jr(zf):eg;function rD(i){return Sh(i)&&i>=-X&&i<=X}var Mh=Wf?Jr(Wf):tg;function Wa(i){return typeof i=="string"||!st(i)&&ir(i)&&Lr(i)==Wt}function en(i){return typeof i=="symbol"||ir(i)&&Lr(i)==L}var su=Hf?Jr(Hf):rg;function nD(i){return i===r}function iD(i){return ir(i)&&xr(i)==$}function uD(i){return ir(i)&&Lr(i)==fe}var aD=Ia(yo),sD=Ia(function(i,s){return i<=s});function Ph(i){if(!i)return[];if(qr(i))return Wa(i)?Bn(i):jr(i);if(Ru&&i[Ru])return U1(i[Ru]());var s=xr(i),v=s==rt?so:s==Lt?la:ou;return v(i)}function ni(i){if(!i)return i===0?i:0;if(i=bn(i),i===Q||i===-Q){var s=i<0?-1:1;return s*J}return i===i?i:0}function ft(i){var s=ni(i),v=s%1;return s===s?v?s-v:s:0}function xh(i){return i?Ui(ft(i),0,me):0}function bn(i){if(typeof i=="number")return i;if(en(i))return le;if(Xt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Xt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=Xf(i);var v=Su.test(i);return v||Ou.test(i)?A1(i.slice(2),v?2:8):Fu.test(i)?le:+i}function Th(i){return Vn(i,zr(i))}function oD(i){return i?Ui(ft(i),-X,X):i===0?i:0}function Ct(i){return i==null?"":Qr(i)}var lD=iu(function(i,s){if($u(s)||qr(s)){Vn(s,br(s),i);return}for(var v in s)Mt.call(s,v)&&zu(i,v,s[v])}),Ih=iu(function(i,s){Vn(s,zr(s),i)}),Ha=iu(function(i,s,v,A){Vn(s,zr(s),i,A)}),fD=iu(function(i,s,v,A){Vn(s,br(s),i,A)}),cD=ei(po);function hD(i,s){var v=nu(i);return s==null?v:hc(v,s)}var dD=ht(function(i,s){i=Rt(i);var v=-1,A=s.length,S=A>2?s[2]:r;for(S&&Rr(s[0],s[1],S)&&(A=1);++v<A;)for(var T=s[v],U=zr(T),K=-1,re=U.length;++K<re;){var ve=U[K],ge=i[ve];(ge===r||Mn(ge,eu[ve])&&!Mt.call(i,ve))&&(i[ve]=T[ve])}return i}),pD=ht(function(i){return i.push(r,Xc),Xr(Nh,r,i)});function vD(i,s){return Kf(i,$e(s,3),Un)}function gD(i,s){return Kf(i,$e(s,3),go)}function mD(i,s){return i==null?i:vo(i,$e(s,3),zr)}function _D(i,s){return i==null?i:mc(i,$e(s,3),zr)}function DD(i,s){return i&&Un(i,$e(s,3))}function bD(i,s){return i&&go(i,$e(s,3))}function yD(i){return i==null?[]:Fa(i,br(i))}function AD(i){return i==null?[]:Fa(i,zr(i))}function Yo(i,s,v){var A=i==null?r:Vi(i,s);return A===r?v:A}function wD(i,s){return i!=null&&eh(i,s,Gv)}function $o(i,s){return i!=null&&eh(i,s,Kv)}var ED=Gc(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=da.call(s)),i[s]=v},Xo(Wr)),CD=Gc(function(i,s,v){s!=null&&typeof s.toString!="function"&&(s=da.call(s)),Mt.call(i,s)?i[s].push(v):i[s]=[v]},$e),FD=ht(Hu);function br(i){return qr(i)?fc(i):bo(i)}function zr(i){return qr(i)?fc(i,!0):ng(i)}function SD(i,s){var v={};return s=$e(s,3),Un(i,function(A,S,T){Jn(v,s(A,S,T),A)}),v}function BD(i,s){var v={};return s=$e(s,3),Un(i,function(A,S,T){Jn(v,S,s(A,S,T))}),v}var OD=iu(function(i,s,v){Sa(i,s,v)}),Nh=iu(function(i,s,v,A){Sa(i,s,v,A)}),MD=ei(function(i,s){var v={};if(i==null)return v;var A=!1;s=Kt(s,function(T){return T=gi(T,i),A||(A=T.length>1),T}),Vn(i,Io(i),v),A&&(v=mn(v,c|d|g,Eg));for(var S=s.length;S--;)Fo(v,s[S]);return v});function PD(i,s){return kh(i,qa($e(s)))}var xD=ei(function(i,s){return i==null?{}:ug(i,s)});function kh(i,s){if(i==null)return{};var v=Kt(Io(i),function(A){return[A]});return s=$e(s),Sc(i,v,function(A,S){return s(A,S[0])})}function TD(i,s,v){s=gi(s,i);var A=-1,S=s.length;for(S||(S=1,i=r);++A<S;){var T=i==null?r:i[jn(s[A])];T===r&&(A=S,T=v),i=ri(T)?T.call(i):T}return i}function ID(i,s,v){return i==null?i:Ku(i,s,v)}function ND(i,s,v,A){return A=typeof A=="function"?A:r,i==null?i:Ku(i,s,v,A)}var Lh=$c(br),Rh=$c(zr);function kD(i,s,v){var A=st(i),S=A||_i(i)||su(i);if(s=$e(s,4),v==null){var T=i&&i.constructor;S?v=A?new T:[]:Xt(i)?v=ri(T)?nu(ga(i)):{}:v={}}return(S?pn:Un)(i,function(U,K,re){return s(v,U,K,re)}),v}function LD(i,s){return i==null?!0:Fo(i,s)}function RD(i,s,v){return i==null?i:xc(i,s,Oo(v))}function UD(i,s,v,A){return A=typeof A=="function"?A:r,i==null?i:xc(i,s,Oo(v),A)}function ou(i){return i==null?[]:ao(i,br(i))}function VD(i){return i==null?[]:ao(i,zr(i))}function jD(i,s,v){return v===r&&(v=s,s=r),v!==r&&(v=bn(v),v=v===v?v:0),s!==r&&(s=bn(s),s=s===s?s:0),Ui(bn(i),s,v)}function qD(i,s,v){return s=ni(s),v===r?(v=s,s=0):v=ni(v),i=bn(i),Yv(i,s,v)}function zD(i,s,v){if(v&&typeof v!="boolean"&&Rr(i,s,v)&&(s=v=r),v===r&&(typeof s=="boolean"?(v=s,s=r):typeof i=="boolean"&&(v=i,i=r)),i===r&&s===r?(i=0,s=1):(i=ni(i),s===r?(s=i,i=0):s=ni(s)),i>s){var A=i;i=s,s=A}if(v||i%1||s%1){var S=oc();return Pr(i+S*(s-i+y1("1e-"+((S+"").length-1))),s)}return wo(i,s)}var WD=uu(function(i,s,v){return s=s.toLowerCase(),i+(v?Uh(s):s)});function Uh(i){return Zo(Ct(i).toLowerCase())}function Vh(i){return i=Ct(i),i&&i.replace(Pu,I1).replace(c1,"")}function HD(i,s,v){i=Ct(i),s=Qr(s);var A=i.length;v=v===r?A:Ui(ft(v),0,A);var S=v;return v-=s.length,v>=0&&i.slice(v,S)==s}function GD(i){return i=Ct(i),i&&fn.test(i)?i.replace(fr,N1):i}function KD(i){return i=Ct(i),i&&Au.test(i)?i.replace(Pi,"\\$&"):i}var YD=uu(function(i,s,v){return i+(v?"-":"")+s.toLowerCase()}),$D=uu(function(i,s,v){return i+(v?" ":"")+s.toLowerCase()}),ZD=zc("toLowerCase");function XD(i,s,v){i=Ct(i),s=ft(s);var A=s?Ji(i):0;if(!s||A>=s)return i;var S=(s-A)/2;return Ta(ba(S),v)+i+Ta(Da(S),v)}function JD(i,s,v){i=Ct(i),s=ft(s);var A=s?Ji(i):0;return s&&A<s?i+Ta(s-A,v):i}function QD(i,s,v){i=Ct(i),s=ft(s);var A=s?Ji(i):0;return s&&A<s?Ta(s-A,v)+i:i}function eb(i,s,v){return v||s==null?s=0:s&&(s=+s),sv(Ct(i).replace(wr,""),s||0)}function tb(i,s,v){return(v?Rr(i,s,v):s===r)?s=1:s=ft(s),Eo(Ct(i),s)}function rb(){var i=arguments,s=Ct(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var nb=uu(function(i,s,v){return i+(v?"_":"")+s.toLowerCase()});function ib(i,s,v){return v&&typeof v!="number"&&Rr(i,s,v)&&(s=v=r),v=v===r?me:v>>>0,v?(i=Ct(i),i&&(typeof s=="string"||s!=null&&!Ko(s))&&(s=Qr(s),!s&&Xi(i))?mi(Bn(i),0,v):i.split(s,v)):[]}var ub=uu(function(i,s,v){return i+(v?" ":"")+Zo(s)});function ab(i,s,v){return i=Ct(i),v=v==null?0:Ui(ft(v),0,i.length),s=Qr(s),i.slice(v,v+s.length)==s}function sb(i,s,v){var A=M.templateSettings;v&&Rr(i,s,v)&&(s=r),i=Ct(i),s=Ha({},s,A,Zc);var S=Ha({},s.imports,A.imports,Zc),T=br(S),U=ao(S,T),K,re,ve=0,ge=s.interpolate||oi,De="__p += '",Be=oo((s.escape||oi).source+"|"+ge.source+"|"+(ge===Kn?Cu:oi).source+"|"+(s.evaluate||oi).source+"|$","g"),Ue="//# sourceURL="+(Mt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++g1+"]")+`
`;i.replace(Be,function(Qe,mt,yt,tn,Ur,rn){return yt||(yt=tn),De+=i.slice(ve,rn).replace(xu,k1),mt&&(K=!0,De+=`' +
__e(`+mt+`) +
'`),Ur&&(re=!0,De+=`';
`+Ur+`;
__p += '`),yt&&(De+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),ve=rn+Qe.length,Qe}),De+=`';
`;var Je=Mt.call(s,"variable")&&s.variable;if(!Je)De=`with (obj) {
`+De+`
}
`;else if(xi.test(Je))throw new at(o);De=(re?De.replace($t,""):De).replace(mr,"$1").replace(Zt,"$1;"),De="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var ct=qh(function(){return Et(T,Ue+"return "+De).apply(r,U)});if(ct.source=De,Go(ct))throw ct;return ct}function ob(i){return Ct(i).toLowerCase()}function lb(i){return Ct(i).toUpperCase()}function fb(i,s,v){if(i=Ct(i),i&&(v||s===r))return Xf(i);if(!i||!(s=Qr(s)))return i;var A=Bn(i),S=Bn(s),T=Jf(A,S),U=Qf(A,S)+1;return mi(A,T,U).join("")}function cb(i,s,v){if(i=Ct(i),i&&(v||s===r))return i.slice(0,tc(i)+1);if(!i||!(s=Qr(s)))return i;var A=Bn(i),S=Qf(A,Bn(s))+1;return mi(A,0,S).join("")}function hb(i,s,v){if(i=Ct(i),i&&(v||s===r))return i.replace(wr,"");if(!i||!(s=Qr(s)))return i;var A=Bn(i),S=Jf(A,Bn(s));return mi(A,S).join("")}function db(i,s){var v=Y,A=q;if(Xt(s)){var S="separator"in s?s.separator:S;v="length"in s?ft(s.length):v,A="omission"in s?Qr(s.omission):A}i=Ct(i);var T=i.length;if(Xi(i)){var U=Bn(i);T=U.length}if(v>=T)return i;var K=v-Ji(A);if(K<1)return A;var re=U?mi(U,0,K).join(""):i.slice(0,K);if(S===r)return re+A;if(U&&(K+=re.length-K),Ko(S)){if(i.slice(K).search(S)){var ve,ge=re;for(S.global||(S=oo(S.source,Ct(Ki.exec(S))+"g")),S.lastIndex=0;ve=S.exec(ge);)var De=ve.index;re=re.slice(0,De===r?K:De)}}else if(i.indexOf(Qr(S),K)!=K){var Be=re.lastIndexOf(S);Be>-1&&(re=re.slice(0,Be))}return re+A}function pb(i){return i=Ct(i),i&&cr.test(i)?i.replace(_r,z1):i}var vb=uu(function(i,s,v){return i+(v?" ":"")+s.toUpperCase()}),Zo=zc("toUpperCase");function jh(i,s,v){return i=Ct(i),s=v?r:s,s===r?R1(i)?G1(i):O1(i):i.match(s)||[]}var qh=ht(function(i,s){try{return Xr(i,r,s)}catch(v){return Go(v)?v:new at(v)}}),gb=ei(function(i,s){return pn(s,function(v){v=jn(v),Jn(i,v,Wo(i[v],i))}),i});function mb(i){var s=i==null?0:i.length,v=$e();return i=s?Kt(i,function(A){if(typeof A[1]!="function")throw new vn(l);return[v(A[0]),A[1]]}):[],ht(function(A){for(var S=-1;++S<s;){var T=i[S];if(Xr(T[0],this,A))return Xr(T[1],this,A)}})}function _b(i){return zv(mn(i,c))}function Xo(i){return function(){return i}}function Db(i,s){return i==null||i!==i?s:i}var bb=Hc(),yb=Hc(!0);function Wr(i){return i}function Jo(i){return yc(typeof i=="function"?i:mn(i,c))}function Ab(i){return wc(mn(i,c))}function wb(i,s){return Ec(i,mn(s,c))}var Eb=ht(function(i,s){return function(v){return Hu(v,i,s)}}),Cb=ht(function(i,s){return function(v){return Hu(i,v,s)}});function Qo(i,s,v){var A=br(s),S=Fa(s,A);v==null&&!(Xt(s)&&(S.length||!A.length))&&(v=s,s=i,i=this,S=Fa(s,br(s)));var T=!(Xt(v)&&"chain"in v)||!!v.chain,U=ri(i);return pn(S,function(K){var re=s[K];i[K]=re,U&&(i.prototype[K]=function(){var ve=this.__chain__;if(T||ve){var ge=i(this.__wrapped__),De=ge.__actions__=jr(this.__actions__);return De.push({func:re,args:arguments,thisArg:i}),ge.__chain__=ve,ge}return re.apply(i,ci([this.value()],arguments))})}),i}function Fb(){return Er._===this&&(Er._=J1),this}function el(){}function Sb(i){return i=ft(i),ht(function(s){return Cc(s,i)})}var Bb=Po(Kt),Ob=Po(Gf),Mb=Po(to);function zh(i){return Ro(i)?ro(jn(i)):ag(i)}function Pb(i){return function(s){return i==null?r:Vi(i,s)}}var xb=Kc(),Tb=Kc(!0);function tl(){return[]}function rl(){return!1}function Ib(){return{}}function Nb(){return""}function kb(){return!0}function Lb(i,s){if(i=ft(i),i<1||i>X)return[];var v=me,A=Pr(i,me);s=$e(s),i-=me;for(var S=uo(A,s);++v<i;)s(v);return S}function Rb(i){return st(i)?Kt(i,jn):en(i)?[i]:jr(lh(Ct(i)))}function Ub(i){var s=++Z1;return Ct(i)+s}var Vb=xa(function(i,s){return i+s},0),jb=xo("ceil"),qb=xa(function(i,s){return i/s},1),zb=xo("floor");function Wb(i){return i&&i.length?Ca(i,Wr,mo):r}function Hb(i,s){return i&&i.length?Ca(i,$e(s,2),mo):r}function Gb(i){return $f(i,Wr)}function Kb(i,s){return $f(i,$e(s,2))}function Yb(i){return i&&i.length?Ca(i,Wr,yo):r}function $b(i,s){return i&&i.length?Ca(i,$e(s,2),yo):r}var Zb=xa(function(i,s){return i*s},1),Xb=xo("round"),Jb=xa(function(i,s){return i-s},0);function Qb(i){return i&&i.length?io(i,Wr):0}function ey(i,s){return i&&i.length?io(i,$e(s,2)):0}return M.after=A_,M.ary=bh,M.assign=lD,M.assignIn=Ih,M.assignInWith=Ha,M.assignWith=fD,M.at=cD,M.before=yh,M.bind=Wo,M.bindAll=gb,M.bindKey=Ah,M.castArray=I_,M.chain=mh,M.chunk=zg,M.compact=Wg,M.concat=Hg,M.cond=mb,M.conforms=_b,M.constant=Xo,M.countBy=Qm,M.create=hD,M.curry=wh,M.curryRight=Eh,M.debounce=Ch,M.defaults=dD,M.defaultsDeep=pD,M.defer=w_,M.delay=E_,M.difference=Gg,M.differenceBy=Kg,M.differenceWith=Yg,M.drop=$g,M.dropRight=Zg,M.dropRightWhile=Xg,M.dropWhile=Jg,M.fill=Qg,M.filter=t_,M.flatMap=i_,M.flatMapDeep=u_,M.flatMapDepth=a_,M.flatten=dh,M.flattenDeep=em,M.flattenDepth=tm,M.flip=C_,M.flow=bb,M.flowRight=yb,M.fromPairs=rm,M.functions=yD,M.functionsIn=AD,M.groupBy=s_,M.initial=im,M.intersection=um,M.intersectionBy=am,M.intersectionWith=sm,M.invert=ED,M.invertBy=CD,M.invokeMap=l_,M.iteratee=Jo,M.keyBy=f_,M.keys=br,M.keysIn=zr,M.map=Ua,M.mapKeys=SD,M.mapValues=BD,M.matches=Ab,M.matchesProperty=wb,M.memoize=ja,M.merge=OD,M.mergeWith=Nh,M.method=Eb,M.methodOf=Cb,M.mixin=Qo,M.negate=qa,M.nthArg=Sb,M.omit=MD,M.omitBy=PD,M.once=F_,M.orderBy=c_,M.over=Bb,M.overArgs=S_,M.overEvery=Ob,M.overSome=Mb,M.partial=Ho,M.partialRight=Fh,M.partition=h_,M.pick=xD,M.pickBy=kh,M.property=zh,M.propertyOf=Pb,M.pull=cm,M.pullAll=vh,M.pullAllBy=hm,M.pullAllWith=dm,M.pullAt=pm,M.range=xb,M.rangeRight=Tb,M.rearg=B_,M.reject=v_,M.remove=vm,M.rest=O_,M.reverse=qo,M.sampleSize=m_,M.set=ID,M.setWith=ND,M.shuffle=__,M.slice=gm,M.sortBy=y_,M.sortedUniq=wm,M.sortedUniqBy=Em,M.split=ib,M.spread=M_,M.tail=Cm,M.take=Fm,M.takeRight=Sm,M.takeRightWhile=Bm,M.takeWhile=Om,M.tap=Wm,M.throttle=P_,M.thru=Ra,M.toArray=Ph,M.toPairs=Lh,M.toPairsIn=Rh,M.toPath=Rb,M.toPlainObject=Th,M.transform=kD,M.unary=x_,M.union=Mm,M.unionBy=Pm,M.unionWith=xm,M.uniq=Tm,M.uniqBy=Im,M.uniqWith=Nm,M.unset=LD,M.unzip=zo,M.unzipWith=gh,M.update=RD,M.updateWith=UD,M.values=ou,M.valuesIn=VD,M.without=km,M.words=jh,M.wrap=T_,M.xor=Lm,M.xorBy=Rm,M.xorWith=Um,M.zip=Vm,M.zipObject=jm,M.zipObjectDeep=qm,M.zipWith=zm,M.entries=Lh,M.entriesIn=Rh,M.extend=Ih,M.extendWith=Ha,Qo(M,M),M.add=Vb,M.attempt=qh,M.camelCase=WD,M.capitalize=Uh,M.ceil=jb,M.clamp=jD,M.clone=N_,M.cloneDeep=L_,M.cloneDeepWith=R_,M.cloneWith=k_,M.conformsTo=U_,M.deburr=Vh,M.defaultTo=Db,M.divide=qb,M.endsWith=HD,M.eq=Mn,M.escape=GD,M.escapeRegExp=KD,M.every=e_,M.find=r_,M.findIndex=ch,M.findKey=vD,M.findLast=n_,M.findLastIndex=hh,M.findLastKey=gD,M.floor=zb,M.forEach=_h,M.forEachRight=Dh,M.forIn=mD,M.forInRight=_D,M.forOwn=DD,M.forOwnRight=bD,M.get=Yo,M.gt=V_,M.gte=j_,M.has=wD,M.hasIn=$o,M.head=ph,M.identity=Wr,M.includes=o_,M.indexOf=nm,M.inRange=qD,M.invoke=FD,M.isArguments=zi,M.isArray=st,M.isArrayBuffer=q_,M.isArrayLike=qr,M.isArrayLikeObject=or,M.isBoolean=z_,M.isBuffer=_i,M.isDate=W_,M.isElement=H_,M.isEmpty=G_,M.isEqual=K_,M.isEqualWith=Y_,M.isError=Go,M.isFinite=$_,M.isFunction=ri,M.isInteger=Sh,M.isLength=za,M.isMap=Bh,M.isMatch=Z_,M.isMatchWith=X_,M.isNaN=J_,M.isNative=Q_,M.isNil=tD,M.isNull=eD,M.isNumber=Oh,M.isObject=Xt,M.isObjectLike=ir,M.isPlainObject=Xu,M.isRegExp=Ko,M.isSafeInteger=rD,M.isSet=Mh,M.isString=Wa,M.isSymbol=en,M.isTypedArray=su,M.isUndefined=nD,M.isWeakMap=iD,M.isWeakSet=uD,M.join=om,M.kebabCase=YD,M.last=Dn,M.lastIndexOf=lm,M.lowerCase=$D,M.lowerFirst=ZD,M.lt=aD,M.lte=sD,M.max=Wb,M.maxBy=Hb,M.mean=Gb,M.meanBy=Kb,M.min=Yb,M.minBy=$b,M.stubArray=tl,M.stubFalse=rl,M.stubObject=Ib,M.stubString=Nb,M.stubTrue=kb,M.multiply=Zb,M.nth=fm,M.noConflict=Fb,M.noop=el,M.now=Va,M.pad=XD,M.padEnd=JD,M.padStart=QD,M.parseInt=eb,M.random=zD,M.reduce=d_,M.reduceRight=p_,M.repeat=tb,M.replace=rb,M.result=TD,M.round=Xb,M.runInContext=te,M.sample=g_,M.size=D_,M.snakeCase=nb,M.some=b_,M.sortedIndex=mm,M.sortedIndexBy=_m,M.sortedIndexOf=Dm,M.sortedLastIndex=bm,M.sortedLastIndexBy=ym,M.sortedLastIndexOf=Am,M.startCase=ub,M.startsWith=ab,M.subtract=Jb,M.sum=Qb,M.sumBy=ey,M.template=sb,M.times=Lb,M.toFinite=ni,M.toInteger=ft,M.toLength=xh,M.toLower=ob,M.toNumber=bn,M.toSafeInteger=oD,M.toString=Ct,M.toUpper=lb,M.trim=fb,M.trimEnd=cb,M.trimStart=hb,M.truncate=db,M.unescape=pb,M.uniqueId=Ub,M.upperCase=vb,M.upperFirst=Zo,M.each=_h,M.eachRight=Dh,M.first=ph,Qo(M,function(){var i={};return Un(M,function(s,v){Mt.call(M.prototype,v)||(i[v]=s)}),i}(),{chain:!1}),M.VERSION=n,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),pn(["drop","take"],function(i,s){_t.prototype[i]=function(v){v=v===r?1:vr(ft(v),0);var A=this.__filtered__&&!s?new _t(this):this.clone();return A.__filtered__?A.__takeCount__=Pr(v,A.__takeCount__):A.__views__.push({size:Pr(v,me),type:i+(A.__dir__<0?"Right":"")}),A},_t.prototype[i+"Right"]=function(v){return this.reverse()[i](v).reverse()}}),pn(["filter","map","takeWhile"],function(i,s){var v=s+1,A=v==W||v==G;_t.prototype[i]=function(S){var T=this.clone();return T.__iteratees__.push({iteratee:$e(S,3),type:v}),T.__filtered__=T.__filtered__||A,T}}),pn(["head","last"],function(i,s){var v="take"+(s?"Right":"");_t.prototype[i]=function(){return this[v](1).value()[0]}}),pn(["initial","tail"],function(i,s){var v="drop"+(s?"":"Right");_t.prototype[i]=function(){return this.__filtered__?new _t(this):this[v](1)}}),_t.prototype.compact=function(){return this.filter(Wr)},_t.prototype.find=function(i){return this.filter(i).head()},_t.prototype.findLast=function(i){return this.reverse().find(i)},_t.prototype.invokeMap=ht(function(i,s){return typeof i=="function"?new _t(this):this.map(function(v){return Hu(v,i,s)})}),_t.prototype.reject=function(i){return this.filter(qa($e(i)))},_t.prototype.slice=function(i,s){i=ft(i);var v=this;return v.__filtered__&&(i>0||s<0)?new _t(v):(i<0?v=v.takeRight(-i):i&&(v=v.drop(i)),s!==r&&(s=ft(s),v=s<0?v.dropRight(-s):v.take(s-i)),v)},_t.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},_t.prototype.toArray=function(){return this.take(me)},Un(_t.prototype,function(i,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),A=/^(?:head|last)$/.test(s),S=M[A?"take"+(s=="last"?"Right":""):s],T=A||/^find/.test(s);S&&(M.prototype[s]=function(){var U=this.__wrapped__,K=A?[1]:arguments,re=U instanceof _t,ve=K[0],ge=re||st(U),De=function(mt){var yt=S.apply(M,ci([mt],K));return A&&Be?yt[0]:yt};ge&&v&&typeof ve=="function"&&ve.length!=1&&(re=ge=!1);var Be=this.__chain__,Ue=!!this.__actions__.length,Je=T&&!Be,ct=re&&!Ue;if(!T&&ge){U=ct?U:new _t(this);var Qe=i.apply(U,K);return Qe.__actions__.push({func:Ra,args:[De],thisArg:r}),new gn(Qe,Be)}return Je&&ct?i.apply(this,K):(Qe=this.thru(De),Je?A?Qe.value()[0]:Qe.value():Qe)})}),pn(["pop","push","shift","sort","splice","unshift"],function(i){var s=fa[i],v=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",A=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var S=arguments;if(A&&!this.__chain__){var T=this.value();return s.apply(st(T)?T:[],S)}return this[v](function(U){return s.apply(st(U)?U:[],S)})}}),Un(_t.prototype,function(i,s){var v=M[s];if(v){var A=v.name+"";Mt.call(ru,A)||(ru[A]=[]),ru[A].push({name:s,func:v})}}),ru[Pa(r,D).name]=[{name:"wrapper",func:r}],_t.prototype.clone=pv,_t.prototype.reverse=vv,_t.prototype.value=gv,M.prototype.at=Hm,M.prototype.chain=Gm,M.prototype.commit=Km,M.prototype.next=Ym,M.prototype.plant=Zm,M.prototype.reverse=Xm,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Jm,M.prototype.first=M.prototype.head,Ru&&(M.prototype[Ru]=$m),M},Qi=K1();Ni?((Ni.exports=Qi)._=Qi,Xs._=Qi):Er._=Qi}).call(hr)})(W3,Fs);const H3=Fs,Il="panelModeStore";function G3(){const e=ln("select"),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Il]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Il]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Il],r("select"))}}}const Hn=G3(),K3=on(Hn,e=>Bt(Hn));function cd(e,t,r){const n=e.slice();return n[7]=t[r][0],n[8]=t[r][1],n}function hd(e,t,r){const n=e.slice();return n[11]=t[r][0],n[12]=t[r][1],n}function dd(e){let t=e[12].text+"",r,n,u,a;return{c(){r=He(t),n=ue("b"),u=He("::"),a=ze()},l(l){r=Ge(l,t),n=ae(l,"B",{});var o=ne(n);u=Ge(o,"::"),o.forEach(R),a=We(l)},m(l,o){we(l,r,o),we(l,n,o),H(n,u),we(l,a,o)},p(l,o){o&1&&t!==(t=l[12].text+"")&&En(r,t)},d(l){l&&R(r),l&&R(n),l&&R(a)}}}function pd(e,t){let r,n,u,a,l,o=Object.entries(t[8].weightedPrompts),h=[];for(let f=0;f<o.length;f+=1)h[f]=dd(hd(t,o,f));function p(){return t[5](t[7],t[8])}return{key:e,first:null,c(){r=ue("li"),n=ue("a");for(let f=0;f<h.length;f+=1)h[f].c();u=ze(),this.h()},l(f){r=ae(f,"LI",{});var c=ne(r);n=ae(c,"A",{class:!0});var d=ne(n);for(let g=0;g<h.length;g+=1)h[g].l(d);d.forEach(R),u=We(c),c.forEach(R),this.h()},h(){x(n,"class","text-xs inline-block"),zt(n,"active",t[1]===t[7]),this.first=r},m(f,c){we(f,r,c),H(r,n);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(n,null);H(r,u),a||(l=ke(n,"click",p),a=!0)},p(f,c){if(t=f,c&5){o=Object.entries(t[8].weightedPrompts);let d;for(d=0;d<o.length;d+=1){const g=hd(t,o,d);h[d]?h[d].p(g,c):(h[d]=dd(g),h[d].c(),h[d].m(n,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=o.length}c&7&&zt(n,"active",t[1]===t[7])},d(f){f&&R(r),cf(h,f),a=!1,l()}}}function Y3(e){let t,r,n,u,a,l=[],o=new Map,h,p,f=e[2](e[0],vd,"desc");const c=d=>d[7];for(let d=0;d<f.length;d+=1){let g=cd(e,f,d),y=c(g);o.set(y,l[d]=pd(y,g))}return{c(){t=ue("ul"),r=ue("li"),n=ue("a"),u=He("New +"),a=ze();for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){t=ae(d,"UL",{class:!0});var g=ne(t);r=ae(g,"LI",{});var y=ne(r);n=ae(y,"A",{class:!0});var m=ne(n);u=Ge(m,"New +"),m.forEach(R),y.forEach(R),a=We(g);for(let _=0;_<l.length;_+=1)l[_].l(g);g.forEach(R),this.h()},h(){x(n,"class","text-xs inline-block"),x(t,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(d,g){we(d,t,g),H(t,r),H(r,n),H(n,u),H(t,a);for(let y=0;y<l.length;y+=1)l[y]&&l[y].m(t,null);h||(p=ke(n,"click",e[3]),h=!0)},p(d,[g]){g&23&&(f=d[2](d[0],vd,"desc"),l=Bi(l,g,c,1,d,f,o,t,bu,pd,null,cd))},i:Te,o:Te,d(d){d&&R(t);for(let g=0;g<l.length;g+=1)l[g].d();h=!1,p()}}}const vd=e=>e[1].date;function $3(e,t,r){let n,u,a;Dt(e,$r,f=>r(6,n=f)),Dt(e,BE,f=>r(0,u=f)),Dt(e,mp,f=>r(1,a=f));const{orderBy:l}=H3;function o(){Du.delete(),Ut.update(yi({},n.weightMode)),Hn.update("edit")}function h(f,c){Du.update(f),Ut.update({...c}),Hn.update("edit")}return[u,a,l,o,h,(f,c)=>h(f,c)]}class Z3 extends Pt{constructor(t){super(),xt(this,t,$3,Y3,Tt,{})}}let Ja;const X3=new Uint8Array(16);function J3(){if(!Ja&&(Ja=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ja))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(X3)}const Sr=[];for(let e=0;e<256;++e)Sr.push((e+256).toString(16).slice(1));function Q3(e,t=0){return(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase()}const eS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gd={randomUUID:eS};function Jp(e,t,r){if(gd.randomUUID&&!t&&!e)return gd.randomUUID();e=e||{};const n=e.random||(e.rng||J3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let u=0;u<16;++u)t[r+u]=n[u];return t}return Q3(n)}function tS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qp=tS,rS=typeof hr=="object"&&hr&&hr.Object===Object&&hr,nS=rS,iS=nS,uS=typeof self=="object"&&self&&self.Object===Object&&self,aS=iS||uS||Function("return this")(),e1=aS,sS=e1,oS=function(){return sS.Date.now()},lS=oS,fS=/\s/;function cS(e){for(var t=e.length;t--&&fS.test(e.charAt(t)););return t}var hS=cS,dS=hS,pS=/^\s+/;function vS(e){return e&&e.slice(0,dS(e)+1).replace(pS,"")}var gS=vS,mS=e1,_S=mS.Symbol,t1=_S,md=t1,r1=Object.prototype,DS=r1.hasOwnProperty,bS=r1.toString,Ju=md?md.toStringTag:void 0;function yS(e){var t=DS.call(e,Ju),r=e[Ju];try{e[Ju]=void 0;var n=!0}catch{}var u=bS.call(e);return n&&(t?e[Ju]=r:delete e[Ju]),u}var AS=yS,wS=Object.prototype,ES=wS.toString;function CS(e){return ES.call(e)}var FS=CS,_d=t1,SS=AS,BS=FS,OS="[object Null]",MS="[object Undefined]",Dd=_d?_d.toStringTag:void 0;function PS(e){return e==null?e===void 0?MS:OS:Dd&&Dd in Object(e)?SS(e):BS(e)}var xS=PS;function TS(e){return e!=null&&typeof e=="object"}var IS=TS,NS=xS,kS=IS,LS="[object Symbol]";function RS(e){return typeof e=="symbol"||kS(e)&&NS(e)==LS}var US=RS,VS=gS,bd=Qp,jS=US,yd=0/0,qS=/^[-+]0x[0-9a-f]+$/i,zS=/^0b[01]+$/i,WS=/^0o[0-7]+$/i,HS=parseInt;function GS(e){if(typeof e=="number")return e;if(jS(e))return yd;if(bd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VS(e);var r=zS.test(e);return r||WS.test(e)?HS(e.slice(2),r?2:8):qS.test(e)?yd:+e}var KS=GS,YS=Qp,Nl=lS,Ad=KS,$S="Expected a function",ZS=Math.max,XS=Math.min;function JS(e,t,r){var n,u,a,l,o,h,p=0,f=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError($S);t=Ad(t)||0,YS(r)&&(f=!!r.leading,c="maxWait"in r,a=c?ZS(Ad(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d);function g(O){var P=n,I=u;return n=u=void 0,p=O,l=e.apply(I,P),l}function y(O){return p=O,o=setTimeout(D,t),f?g(O):l}function m(O){var P=O-h,I=O-p,k=t-P;return c?XS(k,a-I):k}function _(O){var P=O-h,I=O-p;return h===void 0||P>=t||P<0||c&&I>=a}function D(){var O=Nl();if(_(O))return E(O);o=setTimeout(D,m(O))}function E(O){return o=void 0,d&&n?g(O):(n=u=void 0,l)}function w(){o!==void 0&&clearTimeout(o),p=0,n=h=u=o=void 0}function B(){return o===void 0?l:E(Nl())}function F(){var O=Nl(),P=_(O);if(n=arguments,u=this,h=O,P){if(o===void 0)return y(h);if(c)return clearTimeout(o),o=setTimeout(D,t),g(h)}return o===void 0&&(o=setTimeout(D,t)),l}return F.cancel=w,F.flush=B,F}var wd=JS;function Ed(e,t,r){const n=e.slice();return n[14]=t[r].id,n[15]=t[r].text,n}function Cd(e,t){let r,n,u,a,l;function o(...h){return t[9](t[14],...h)}return{key:e,first:null,c(){r=ue("li"),n=ue("input"),this.h()},l(h){r=ae(h,"LI",{class:!0});var p=ne(r);n=ae(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(R),this.h()},h(){n.value=u=t[15],x(n,"type","text"),x(n,"placeholder",""),x(n,"class","input input-bordered input-sm w-full"),x(r,"class","p-1"),this.first=r},m(h,p){we(h,r,p),H(r,n),a||(l=ke(n,"input",o),a=!0)},p(h,p){t=h,p&2&&u!==(u=t[15])&&n.value!==u&&(n.value=u)},d(h){h&&R(r),a=!1,l()}}}function QS(e){let t,r,n,u,a,l,o,h,p,f,c,d=[],g=new Map,y,m,_,D,E,w=e[1];const B=F=>F[14];for(let F=0;F<w.length;F+=1){let O=Ed(e,w,F),P=B(O);g.set(P,d[F]=Cd(P,O))}return{c(){t=ue("div"),r=ue("button"),n=He("Paste"),u=ze(),a=ue("button"),l=He("Save"),o=ze(),h=ue("button"),p=He("Delete"),f=ze(),c=ue("ul");for(let F=0;F<d.length;F+=1)d[F].c();y=ze(),m=ue("li"),_=ue("input"),this.h()},l(F){t=ae(F,"DIV",{class:!0});var O=ne(t);r=ae(O,"BUTTON",{class:!0});var P=ne(r);n=Ge(P,"Paste"),P.forEach(R),u=We(O),a=ae(O,"BUTTON",{class:!0});var I=ne(a);l=Ge(I,"Save"),I.forEach(R),o=We(O),h=ae(O,"BUTTON",{class:!0});var k=ne(h);p=Ge(k,"Delete"),k.forEach(R),O.forEach(R),f=We(F),c=ae(F,"UL",{class:!0});var Y=ne(c);for(let z=0;z<d.length;z+=1)d[z].l(Y);y=We(Y),m=ae(Y,"LI",{class:!0});var q=ne(m);_=ae(q,"INPUT",{type:!0,placeholder:!0,class:!0}),q.forEach(R),Y.forEach(R),this.h()},h(){x(r,"class","btn btn-sm btn-info mx-2"),x(a,"class","btn btn-sm btn-success mx-2"),x(h,"class","btn btn-sm btn-error mx-2"),x(t,"class","flex px-8 py-2 justify-center bg-base-100"),x(_,"type","text"),x(_,"placeholder","Add prompt"),x(_,"class","input input-bordered input-sm w-full italic"),x(m,"class","p-1"),x(c,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(F,O){we(F,t,O),H(t,r),H(r,n),H(t,u),H(t,a),H(a,l),H(t,o),H(t,h),H(h,p),we(F,f,O),we(F,c,O);for(let P=0;P<d.length;P+=1)d[P]&&d[P].m(c,null);H(c,y),H(c,m),H(m,_),Ei(_,e[0]),D||(E=[ke(r,"click",e[3]),ke(a,"click",e[2]),ke(h,"click",e[4]),ke(_,"input",e[10]),ke(_,"input",e[11])],D=!0)},p(F,[O]){O&34&&(w=F[1],d=Bi(d,O,B,1,F,w,g,c,bu,Cd,y,Ed)),O&1&&_.value!==F[0]&&Ei(_,F[0])},i:Te,o:Te,d(F){F&&R(t),F&&R(f),F&&R(c);for(let O=0;O<d.length;O+=1)d[O].d();D=!1,Nr(E)}}}function e5(e,t,r){let n,u,a;Dt(e,$r,D=>r(8,u=D)),Dt(e,mp,D=>r(12,a=D));let l="",o=Object.keys(u.weightedPrompts).length;function h(){ra.update(Jp(),{...u,date:Date.now()}),Hn.update("select")}function p(){navigator.clipboard.readText().then(D=>{const E=af(D);f(E)})}function f(D){const E=Math.max(...D.map(([B,F])=>F)),w=D.reduce((B,[F,O],P)=>(B[P]=Br(P,F,O,O/E),B),{});Ut.update(yi(w,u.weightMode)),r(0,l="")}function c(){a&&ra.delete(a),Du.delete(),Ut.delete(),Hn.update("select")}const d=wd((D,E)=>{let w={...u.weightedPrompts};if(!E){const O=Object.entries(u.weightedPrompts).filter(([P])=>P!==D).map(([P,I])=>[I.text,I.parsedWeight]);return f(O)}const B={...w[D],text:E};w[D]=B,Ut.update({...u,weightedPrompts:w})},1e3),g=wd(D=>{const E=Object.entries(u.weightedPrompts).map(([w,B])=>[B.text,B.parsedWeight]);return E.push([D,1]),f(E)},1e3),y=(D,E)=>d(D,E.target.value);function m(){l=this.value,r(0,l),r(8,u),r(7,o)}const _=D=>g(D.target.value);return e.$$.update=()=>{if(e.$$.dirty&384){const D=Object.keys(u.weightedPrompts).length;D>o&&(r(7,o=D),r(0,l=""))}e.$$.dirty&256&&r(1,n=Object.entries(u.weightedPrompts).map(([D,E])=>({id:D,text:E.text})))},[l,n,h,p,c,d,g,o,u,y,m,_]}class t5 extends Pt{constructor(t){super(),xt(this,t,e5,QS,Tt,{})}}const r5=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,n5=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,i5=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,u5=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
3. Do not use hyphens to mark list items.
4. Do not title the list.
`,a5=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function s5(){const e=ln({}),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,l)=>{if(l.startsWith("directive")){const o=l.split("_")[1];a[o]=JSON.parse(localStorage[l])}return a},{})||{}),{subscribe:t,update:(a,l)=>{const o=Bt(e),p={...o[a]||{},...l};u&&(localStorage[`directive_${a}`]=JSON.stringify(p));const f={...o,[a]:p};r(f)},get:a=>Bt(e)[a],delete:a=>{u&&delete localStorage[`directive_${a}`];const l={...Bt(e)};delete l[a],r(l)}}}const Ss=s5(),o5=on(Ss,e=>Object.entries(Bt(Ss))),kl="preferredModelStore";function l5(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[kl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[kl]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[kl],r(""))}}}const lf=l5(),n1=on(lf,e=>Bt(lf)),Ll="preferredDirectiveStore";function f5(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Ll]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Ll]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Ll],r(""))}}}const Bs=f5(),c5=on(Bs,e=>Bt(Bs)),Rl="metaPromptStore";function h5(){const e=ln(""),{subscribe:t,set:r,update:n}=e,u=typeof window<"u";return r(u&&localStorage[Rl]||""),{subscribe:t,update:a=>{!a||!u||(localStorage[Rl]=a,r(a))},get:()=>Bt(e),delete:()=>{u&&(delete localStorage[Rl],r(""))}}}const ff=h5(),d5=on(ff,e=>Bt(ff));function Fd(e,t,r){const n=e.slice();return n[30]=t[r][0],n[31]=t[r][1],n}function p5(e){let t,r,n;return{c(){t=ue("div"),r=ue("p"),n=He("Set Open AI Key in settings for GPT generation."),this.h()},l(u){t=ae(u,"DIV",{class:!0});var a=ne(t);r=ae(a,"P",{class:!0});var l=ne(r);n=Ge(l,"Set Open AI Key in settings for GPT generation."),l.forEach(R),a.forEach(R),this.h()},h(){x(r,"class","text-center"),x(t,"class","w-full p-2 flex justify-center")},m(u,a){we(u,t,a),H(t,r),H(r,n)},p:Te,d(u){u&&R(t)}}}function v5(e){let t,r,n,u,a,l,o,h,p,f,c=[],d=new Map,g,y,m,_,D,E,w,B=Object.entries(e[1]);const F=P=>P[30];for(let P=0;P<B.length;P+=1){let I=Fd(e,B,P),k=F(I);d.set(k,c[P]=Sd(k,I))}let O=e[0]&&Bd(e);return{c(){t=ue("div"),r=ue("div"),n=ue("label"),u=ue("span"),a=He("Pick a directive for prompt creation"),l=ze(),o=ue("select"),h=ue("option"),p=He("Pick one");for(let P=0;P<c.length;P+=1)c[P].c();g=ue("option"),y=He("New"),_=ze(),O&&O.c(),D=Yt(),this.h()},l(P){t=ae(P,"DIV",{class:!0});var I=ne(t);r=ae(I,"DIV",{class:!0});var k=ne(r);n=ae(k,"LABEL",{class:!0});var Y=ne(n);u=ae(Y,"SPAN",{class:!0});var q=ne(u);a=Ge(q,"Pick a directive for prompt creation"),q.forEach(R),Y.forEach(R),l=We(k),o=ae(k,"SELECT",{class:!0});var z=ne(o);h=ae(z,"OPTION",{});var Z=ne(h);p=Ge(Z,"Pick one"),Z.forEach(R);for(let V=0;V<c.length;V+=1)c[V].l(z);g=ae(z,"OPTION",{});var W=ne(g);y=Ge(W,"New"),W.forEach(R),z.forEach(R),k.forEach(R),I.forEach(R),_=We(P),O&&O.l(P),D=Yt(),this.h()},h(){x(u,"class","label-text"),x(n,"class","label"),h.disabled=!0,h.selected=f=e[0]===null,h.__value="Pick one",h.value=h.__value,g.__value="new",g.value=g.__value,g.selected=m=e[0]==="new",x(o,"class","select select-bordered"),x(r,"class","form-control w-full max-w-xs mb-4"),x(t,"class","flex justify-center")},m(P,I){we(P,t,I),H(t,r),H(r,n),H(n,u),H(u,a),H(r,l),H(r,o),H(o,h),H(h,p);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(o,null);H(o,g),H(g,y),gu(o,e[0]),we(P,_,I),O&&O.m(P,I),we(P,D,I),E||(w=ke(o,"change",e[11]),E=!0)},p(P,I){I[0]&3&&f!==(f=P[0]===null)&&(h.selected=f),I[0]&3&&(B=Object.entries(P[1]),c=Bi(c,I,F,1,P,B,d,o,bu,Sd,g,Fd)),I[0]&3&&m!==(m=P[0]==="new")&&(g.selected=m),I[0]&3&&gu(o,P[0]),P[0]?O?O.p(P,I):(O=Bd(P),O.c(),O.m(D.parentNode,D)):O&&(O.d(1),O=null)},d(P){P&&R(t);for(let I=0;I<c.length;I+=1)c[I].d();P&&R(_),O&&O.d(P),P&&R(D),E=!1,w()}}}function Sd(e,t){let r,n=t[31].name+"",u,a=t[31].builtIn?" (Built-In)":" (User)",l,o,h;return{key:e,first:null,c(){r=ue("option"),u=He(n),l=He(a),this.h()},l(p){r=ae(p,"OPTION",{});var f=ne(r);u=Ge(f,n),l=Ge(f,a),f.forEach(R),this.h()},h(){r.__value=o=t[30],r.value=r.__value,r.selected=h=t[0]===t[30],this.first=r},m(p,f){we(p,r,f),H(r,u),H(r,l)},p(p,f){t=p,f[0]&2&&n!==(n=t[31].name+"")&&En(u,n),f[0]&2&&a!==(a=t[31].builtIn?" (Built-In)":" (User)")&&En(l,a),f[0]&2&&o!==(o=t[30])&&(r.__value=o,r.value=r.__value),f[0]&3&&h!==(h=t[0]===t[30])&&(r.selected=h)},d(p){p&&R(r)}}}function Bd(e){let t,r,n,u,a,l,o,h,p,f,c=!e[6]&&Od(e);function d(m,_){return m[5]?m5:g5}let g=d(e),y=g(e);return{c(){c&&c.c(),t=ze(),r=ue("div"),n=ue("textarea"),u=ze(),a=ue("div"),l=ue("textarea"),o=ze(),y.c(),h=Yt(),this.h()},l(m){c&&c.l(m),t=We(m),r=ae(m,"DIV",{class:!0});var _=ne(r);n=ae(_,"TEXTAREA",{class:!0,placeholder:!0}),ne(n).forEach(R),_.forEach(R),u=We(m),a=ae(m,"DIV",{class:!0});var D=ne(a);l=ae(D,"TEXTAREA",{class:!0,placeholder:!0}),ne(l).forEach(R),D.forEach(R),o=We(m),y.l(m),h=Yt(),this.h()},h(){x(n,"class","textarea textarea-bordered w-full h-full"),x(n,"placeholder","GPT Directives"),x(r,"class","w-full p-2 h-1/2"),l.value=e[7],x(l,"class","textarea textarea-bordered w-full h-full"),x(l,"placeholder","Describe the prompt to generate."),x(a,"class","w-full p-2 h-1/5")},m(m,_){c&&c.m(m,_),we(m,t,_),we(m,r,_),H(r,n),Ei(n,e[4]),we(m,u,_),we(m,a,_),H(a,l),we(m,o,_),y.m(m,_),we(m,h,_),p||(f=[ke(n,"input",e[17]),ke(l,"input",e[18])],p=!0)},p(m,_){m[6]?c&&(c.d(1),c=null):c?c.p(m,_):(c=Od(m),c.c(),c.m(t.parentNode,t)),_[0]&16&&Ei(n,m[4]),_[0]&128&&(l.value=m[7]),g===(g=d(m))&&y?y.p(m,_):(y.d(1),y=g(m),y&&(y.c(),y.m(h.parentNode,h)))},d(m){c&&c.d(m),m&&R(t),m&&R(r),m&&R(u),m&&R(a),m&&R(o),y.d(m),m&&R(h),p=!1,Nr(f)}}}function Od(e){let t,r,n,u,a,l,o;return{c(){t=ue("div"),r=ue("input"),n=ze(),u=ue("button"),a=He("Save"),this.h()},l(h){t=ae(h,"DIV",{class:!0});var p=ne(t);r=ae(p,"INPUT",{type:!0,placeholder:!0,class:!0}),n=We(p),u=ae(p,"BUTTON",{class:!0});var f=ne(u);a=Ge(f,"Save"),f.forEach(R),p.forEach(R),this.h()},h(){x(r,"type","text"),x(r,"placeholder","Name"),x(r,"class","input input-bordered input-sm w-full max-w-xs"),x(u,"class","btn btn-sm btn-primary ml-4"),x(t,"class","w-full p-2 h-12 flex justify-between")},m(h,p){we(h,t,p),H(t,r),Ei(r,e[3]),H(t,n),H(t,u),H(u,a),l||(o=[ke(r,"input",e[16]),ke(u,"click",e[9])],l=!0)},p(h,p){p[0]&8&&r.value!==h[3]&&Ei(r,h[3])},d(h){h&&R(t),l=!1,Nr(o)}}}function g5(e){let t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:b5,then:D5,catch:_5,value:29};return Ci(r=e[2],n),{c(){t=ue("div"),n.block.c(),this.h()},l(u){t=ae(u,"DIV",{class:!0});var a=ne(t);n.block.l(a),a.forEach(R),this.h()},h(){x(t,"class","w-full p-2 h-12 flex justify-end")},m(u,a){we(u,t,a),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null},p(u,a){e=u,n.ctx=e,a[0]&4&&r!==(r=e[2])&&Ci(r,n)||Ps(n,e,a)},d(u){u&&R(t),n.block.d(),n.token=null,n=null}}}function m5(e){let t,r,n,u,a,l,o,h={ctx:e,current:null,token:null,hasCatch:!1,pending:w5,then:A5,catch:y5,value:29};return Ci(a=e[2],h),{c(){t=ue("div"),r=ue("button"),n=He("Delete"),u=ze(),h.block.c(),this.h()},l(p){t=ae(p,"DIV",{class:!0});var f=ne(t);r=ae(f,"BUTTON",{class:!0});var c=ne(r);n=Ge(c,"Delete"),c.forEach(R),u=We(f),h.block.l(f),f.forEach(R),this.h()},h(){x(r,"class","btn btn-sm btn-error ml-4"),x(t,"class","w-full p-2 h-12 flex justify-between")},m(p,f){we(p,t,f),H(t,r),H(r,n),H(t,u),h.block.m(t,h.anchor=null),h.mount=()=>t,h.anchor=null,l||(o=ke(r,"click",e[10]),l=!0)},p(p,f){e=p,h.ctx=e,f[0]&4&&a!==(a=e[2])&&Ci(a,h)||Ps(h,e,f)},d(p){p&&R(t),h.block.d(),h.token=null,h=null,l=!1,o()}}}function _5(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function D5(e){let t,r,n,u;return{c(){t=ue("button"),r=He("Generate"),this.h()},l(a){t=ae(a,"BUTTON",{class:!0});var l=ne(t);r=Ge(l,"Generate"),l.forEach(R),this.h()},h(){x(t,"class","btn btn-sm btn-primary ml-4")},m(a,l){we(a,t,l),H(t,r),n||(u=ke(t,"click",e[12]),n=!0)},p:Te,d(a){a&&R(t),n=!1,u()}}}function b5(e){let t,r,n,u;return{c(){t=ue("button"),r=He("Generating"),this.h()},l(a){t=ae(a,"BUTTON",{class:!0});var l=ne(t);r=Ge(l,"Generating"),l.forEach(R),this.h()},h(){x(t,"class","btn btn-sm btn ml-4 disabled")},m(a,l){we(a,t,l),H(t,r),n||(u=ke(t,"click",e[12]),n=!0)},p:Te,d(a){a&&R(t),n=!1,u()}}}function y5(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function A5(e){let t,r,n,u;return{c(){t=ue("button"),r=He("Generate"),this.h()},l(a){t=ae(a,"BUTTON",{class:!0});var l=ne(t);r=Ge(l,"Generate"),l.forEach(R),this.h()},h(){x(t,"class","btn btn-sm btn-primary ml-4")},m(a,l){we(a,t,l),H(t,r),n||(u=ke(t,"click",e[12]),n=!0)},p:Te,d(a){a&&R(t),n=!1,u()}}}function w5(e){let t,r,n,u;return{c(){t=ue("button"),r=He("Generating"),this.h()},l(a){t=ae(a,"BUTTON",{class:!0});var l=ne(t);r=Ge(l,"Generating"),l.forEach(R),this.h()},h(){x(t,"class","btn btn-sm btn ml-4 disabled")},m(a,l){we(a,t,l),H(t,r),n||(u=ke(t,"click",e[12]),n=!0)},p:Te,d(a){a&&R(t),n=!1,u()}}}function E5(e){let t;function r(a,l){return a[8]?v5:p5}let u=r(e)(e);return{c(){t=ue("div"),u.c(),this.h()},l(a){t=ae(a,"DIV",{class:!0});var l=ne(t);u.l(l),l.forEach(R),this.h()},h(){x(t,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(a,l){we(a,t,l),u.m(t,null)},p(a,l){u.p(a,l)},i:Te,o:Te,d(a){a&&R(t),u.d()}}}function C5(e,t,r){let n,u,a,l,o,h,p,f,c,d;Dt(e,d5,V=>r(7,o=V)),Dt(e,$r,V=>r(19,h=V)),Dt(e,c5,V=>r(14,p=V)),Dt(e,o5,V=>r(15,f=V)),Dt(e,n1,V=>r(20,c=V)),Dt(e,Of,V=>r(21,d=V));let g=d,y=c,m=null;const _=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let D={C:{name:"Five Sentences",text:r5,builtIn:!0},D:{name:"Ten Sentences",text:n5,builtIn:!0},E:{name:"Fragments",text:i5,builtIn:!0},F:{name:"Concept Shotgun",text:u5,builtIn:!0},G:{name:"Poetic Accents",text:a5,builtIn:!0}},E=null,w="",B="";function F(){const V=E==="new"?Jp():E;Ss.update(V,{name:w,text:B,builtIn:!1}),E==="new"&&r(0,E=V)}function O(){Ss.delete(E),r(0,E=null),r(3,w=""),r(4,B=""),Bs.delete()}function P(V){r(0,E=V),Bs.update(V),V&&V!=="new"?(r(3,w=u[V].name),r(4,B=u[V].text)):V==="new"&&(r(3,w=""),r(4,B=""))}function I(V){P(V.target.value)}function k(V,G){r(2,m=XF(V,G,y||"gpt-3.5-turbo")),m.then(X=>{console.log(X),X.data.choices.forEach((J,le)=>{const me=af(J.message.content);console.log(me);const Ce=me.reduce((be,[Ie,Ve],Oe)=>(be[Oe]=Br(Oe,Ie,Ve),be),{});Ut.update(yi(Ce,h.weightMode)),Hn.update("edit")})})}function Y(V,G){r(2,m=ZF(V,G,y||"text-davinci-003")),m.then(X=>{console.log(X),X.data.choices.forEach((J,le)=>{const me=af(J.text);console.log(me);const Ce=me.reduce((be,[Ie,Ve],Oe)=>(be[Oe]=Br(Oe,Ie,Ve),be),{});Ut.update(yi(Ce,h.weightMode)),Hn.update("edit")})})}function q(){if(!g||!B||!o)return;const V=Bf(g),G=`${B}

        Using the above rules create a prompt from:
        ${o}
        `;_.includes(y)?Y(V,G):k(V,G)}function z(){w=this.value,r(3,w)}function Z(){B=this.value,r(4,B)}const W=V=>ff.update(V.target.value);return e.$$.update=()=>{e.$$.dirty[0]&32768&&r(13,n=f.reduce((V,[G,Q])=>(V[G]={name:Q.name,text:Q.text,builtIn:!1},V),{})),e.$$.dirty[0]&8192&&r(1,u=Object.entries({...D,...n}).reduce((V,[G,Q])=>(V[G]=Q,V),{})),e.$$.dirty[0]&16385&&(E===null&&r(0,E=p),P(E)),e.$$.dirty[0]&3&&r(6,a=E&&E!=="new"&&u[E].builtIn),e.$$.dirty[0]&3&&r(5,l=E&&E!=="new"&&!u[E].builtIn)},[E,u,m,w,B,l,a,o,g,F,O,I,q,n,p,f,z,Z,W]}class F5 extends Pt{constructor(t){super(),xt(this,t,C5,E5,Tt,{},null,[-1,-1])}}function Md(e,t,r){const n=e.slice();return n[18]=t[r],n}function Pd(e,t,r){const n=e.slice();return n[18]=t[r],n}function S5(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function B5(e){let t,r,n=e[0].length>0&&xd(e),u=e[1].length>0&&Id(e);return{c(){n&&n.c(),t=ze(),u&&u.c(),r=Yt()},l(a){n&&n.l(a),t=We(a),u&&u.l(a),r=Yt()},m(a,l){n&&n.m(a,l),we(a,t,l),u&&u.m(a,l),we(a,r,l)},p(a,l){a[0].length>0?n?n.p(a,l):(n=xd(a),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),a[1].length>0?u?u.p(a,l):(u=Id(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){n&&n.d(a),a&&R(t),u&&u.d(a),a&&R(r)}}}function xd(e){let t,r,n,u,a,l,o,h,p,f,c=[],d=new Map,g,y,m=e[0];const _=D=>D[18];for(let D=0;D<m.length;D+=1){let E=Pd(e,m,D),w=_(E);d.set(w,c[D]=Td(w,E))}return{c(){t=ue("div"),r=ue("div"),n=ue("label"),u=ue("span"),a=He("Pick a model to use for model generation"),l=ze(),o=ue("select"),h=ue("option"),p=He("Pick one");for(let D=0;D<c.length;D+=1)c[D].c();this.h()},l(D){t=ae(D,"DIV",{class:!0});var E=ne(t);r=ae(E,"DIV",{class:!0});var w=ne(r);n=ae(w,"LABEL",{class:!0});var B=ne(n);u=ae(B,"SPAN",{class:!0});var F=ne(u);a=Ge(F,"Pick a model to use for model generation"),F.forEach(R),B.forEach(R),l=We(w),o=ae(w,"SELECT",{class:!0});var O=ne(o);h=ae(O,"OPTION",{});var P=ne(h);p=Ge(P,"Pick one"),P.forEach(R);for(let I=0;I<c.length;I+=1)c[I].l(O);O.forEach(R),w.forEach(R),E.forEach(R),this.h()},h(){x(u,"class","label-text"),x(n,"class","label"),h.disabled=!0,h.selected=f=e[2]===null,h.__value="Pick one",h.value=h.__value,x(o,"class","select select-bordered"),x(r,"class","form-control w-full max-w-xs mb-4"),x(t,"class","flex justify-center")},m(D,E){we(D,t,E),H(t,r),H(r,n),H(n,u),H(u,a),H(r,l),H(r,o),H(o,h),H(h,p);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(o,null);gu(o,e[2]),g||(y=ke(o,"change",e[6]),g=!0)},p(D,E){E&5&&f!==(f=D[2]===null)&&(h.selected=f),E&5&&(m=D[0],c=Bi(c,E,_,1,D,m,d,o,bu,Td,null,Pd)),E&5&&gu(o,D[2])},d(D){D&&R(t);for(let E=0;E<c.length;E+=1)c[E].d();g=!1,y()}}}function Td(e,t){let r,n=t[18]+"",u,a,l;return{key:e,first:null,c(){r=ue("option"),u=He(n),this.h()},l(o){r=ae(o,"OPTION",{});var h=ne(r);u=Ge(h,n),h.forEach(R),this.h()},h(){r.__value=a=t[18],r.value=r.__value,r.selected=l=t[2]===t[18],this.first=r},m(o,h){we(o,r,h),H(r,u)},p(o,h){t=o,h&1&&n!==(n=t[18]+"")&&En(u,n),h&1&&a!==(a=t[18])&&(r.__value=a,r.value=r.__value),h&5&&l!==(l=t[2]===t[18])&&(r.selected=l)},d(o){o&&R(r)}}}function Id(e){let t,r,n,u,a,l,o,h,p,f,c=[],d=new Map,g,y,m=e[1];const _=D=>D[18];for(let D=0;D<m.length;D+=1){let E=Md(e,m,D),w=_(E);d.set(w,c[D]=Nd(w,E))}return{c(){t=ue("div"),r=ue("div"),n=ue("label"),u=ue("span"),a=He("Pick a model to use for prompt embedding"),l=ze(),o=ue("select"),h=ue("option"),p=He("Pick one");for(let D=0;D<c.length;D+=1)c[D].c();this.h()},l(D){t=ae(D,"DIV",{class:!0});var E=ne(t);r=ae(E,"DIV",{class:!0});var w=ne(r);n=ae(w,"LABEL",{class:!0});var B=ne(n);u=ae(B,"SPAN",{class:!0});var F=ne(u);a=Ge(F,"Pick a model to use for prompt embedding"),F.forEach(R),B.forEach(R),l=We(w),o=ae(w,"SELECT",{class:!0});var O=ne(o);h=ae(O,"OPTION",{});var P=ne(h);p=Ge(P,"Pick one"),P.forEach(R);for(let I=0;I<c.length;I+=1)c[I].l(O);O.forEach(R),w.forEach(R),E.forEach(R),this.h()},h(){x(u,"class","label-text"),x(n,"class","label"),h.disabled=!0,h.selected=f=e[3]===null,h.__value="Pick one",h.value=h.__value,x(o,"class","select select-bordered"),x(r,"class","form-control w-full max-w-xs mb-4"),x(t,"class","flex justify-center")},m(D,E){we(D,t,E),H(t,r),H(r,n),H(n,u),H(u,a),H(r,l),H(r,o),H(o,h),H(h,p);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(o,null);gu(o,e[3]),g||(y=ke(o,"change",e[7]),g=!0)},p(D,E){E&10&&f!==(f=D[3]===null)&&(h.selected=f),E&10&&(m=D[1],c=Bi(c,E,_,1,D,m,d,o,bu,Nd,null,Md)),E&10&&gu(o,D[3])},d(D){D&&R(t);for(let E=0;E<c.length;E+=1)c[E].d();g=!1,y()}}}function Nd(e,t){let r,n=t[18]+"",u,a,l;return{key:e,first:null,c(){r=ue("option"),u=He(n),this.h()},l(o){r=ae(o,"OPTION",{});var h=ne(r);u=Ge(h,n),h.forEach(R),this.h()},h(){r.__value=a=t[18],r.value=r.__value,r.selected=l=t[3]===t[18],this.first=r},m(o,h){we(o,r,h),H(r,u)},p(o,h){t=o,h&2&&n!==(n=t[18]+"")&&En(u,n),h&2&&a!==(a=t[18])&&(r.__value=a,r.value=r.__value),h&10&&l!==(l=t[3]===t[18])&&(r.selected=l)},d(o){o&&R(r)}}}function O5(e){let t,r,n;return{c(){t=ue("div"),r=ue("div"),n=ue("progress"),this.h()},l(u){t=ae(u,"DIV",{class:!0});var a=ne(t);r=ae(a,"DIV",{class:!0});var l=ne(r);n=ae(l,"PROGRESS",{class:!0}),ne(n).forEach(R),l.forEach(R),a.forEach(R),this.h()},h(){x(n,"class","progress progress-primary w-56"),x(r,"class","form-control w-full flex flex-col max-w-xs"),x(t,"class","py-10 flex justify-center")},m(u,a){we(u,t,a),H(t,r),H(r,n)},p:Te,d(u){u&&R(t)}}}function M5(e){let t,r,n,u,a,l,o,h,p,f,c,d,g,y,m,_,D={ctx:e,current:null,token:null,hasCatch:!1,pending:O5,then:B5,catch:S5,value:17};return Ci(y=e[4],D),{c(){t=ue("div"),r=ue("div"),n=ue("div"),u=ue("label"),a=ue("span"),l=He("Open AI Key"),o=ze(),h=ue("input"),p=ze(),f=ue("label"),c=ue("button"),d=He("Clear"),g=ze(),D.block.c(),this.h()},l(E){t=ae(E,"DIV",{class:!0});var w=ne(t);r=ae(w,"DIV",{class:!0});var B=ne(r);n=ae(B,"DIV",{class:!0});var F=ne(n);u=ae(F,"LABEL",{class:!0});var O=ne(u);a=ae(O,"SPAN",{class:!0});var P=ne(a);l=Ge(P,"Open AI Key"),P.forEach(R),O.forEach(R),o=We(F),h=ae(F,"INPUT",{type:!0,placeholder:!0,class:!0}),p=We(F),f=ae(F,"LABEL",{class:!0});var I=ne(f);c=ae(I,"BUTTON",{class:!0});var k=ne(c);d=Ge(k,"Clear"),k.forEach(R),I.forEach(R),F.forEach(R),B.forEach(R),g=We(w),D.block.l(w),w.forEach(R),this.h()},h(){x(a,"class","label-text-alt"),x(u,"class","label"),h.value=e[5],x(h,"type","password"),x(h,"placeholder","Open AI Key"),x(h,"class","input input-bordered w-full max-w-xs"),x(c,"class","btn btn-xs btn-error"),x(f,"class","label"),x(n,"class","form-control w-full max-w-xs"),x(r,"class","flex justify-center"),x(t,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(E,w){we(E,t,w),H(t,r),H(r,n),H(n,u),H(u,a),H(a,l),H(n,o),H(n,h),H(n,p),H(n,f),H(f,c),H(c,d),H(t,g),D.block.m(t,D.anchor=null),D.mount=()=>t,D.anchor=null,m||(_=[ke(h,"input",e[8]),ke(c,"click",e[9])],m=!0)},p(E,[w]){e=E,w&32&&h.value!==e[5]&&(h.value=e[5]),D.ctx=e,w&16&&y!==(y=e[4])&&Ci(y,D)||Ps(D,e,w)},i:Te,o:Te,d(E){E&&R(t),D.block.d(),D.token=null,D=null,m=!1,Nr(_)}}}function P5(e,t,r){let n,u,a,l;Dt(e,$r,B=>r(11,n=B)),Dt(e,Zp,B=>r(12,u=B)),Dt(e,n1,B=>r(13,a=B)),Dt(e,Of,B=>r(5,l=B));const o=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"],h=["text-embedding-ada-002"];let p=l,f=[],c=[],d=a,g=u,y=null;async function m(B){if(!B||f.length&&c.length)return;const F=Bf(B);r(4,y=QF(F));const O=await y;O.data&&r(0,f=O.data.data.map(({id:P})=>P).filter(P=>o.includes(P))),r(1,c=O.data.data.map(({id:P})=>P).filter(P=>h.includes(P)))}function _(B){r(2,d=B.target.value),lf.update(d)}function D(B){r(3,g=B.target.value),rf.update(g)}function E(B){const F=B.target.value;Es.update(F),F.length===51&&m(F),F.length===0&&w()}function w(){Es.delete(),r(10,p=""),r(0,f=[]),r(1,c=[]),n.weightMode===wt.Embed&&Ut.update({...n,weightMode:wt.Circle})}return e.$$.update=()=>{e.$$.dirty&1024&&m(p)},[f,c,d,g,y,l,_,D,E,w,p]}class x5 extends Pt{constructor(t){super(),xt(this,t,P5,M5,Tt,{})}}function T5(e){let t,r;return t=new x5({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function I5(e){let t,r;return t=new F5({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function N5(e){let t,r;return t=new t5({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function k5(e){let t,r;return t=new Z3({}),{c(){dt(t.$$.fragment)},l(n){pt(t.$$.fragment,n)},m(n,u){vt(t,n,u),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){Le(t.$$.fragment,n),r=!1},d(n){gt(t,n)}}}function L5(e){let t,r,n,u,a,l,o,h,p,f,c,d,g,y,m,_,D,E,w,B,F,O,P,I;const k=[k5,N5,I5,T5],Y=[];function q(z,Z){return z[0]==="select"?0:z[0]==="edit"?1:z[0]==="generate"?2:z[0]==="settings"?3:-1}return~(B=q(e))&&(F=Y[B]=k[B](e)),{c(){t=ue("div"),r=ue("div"),n=ue("div"),u=ue("button"),a=He("Select"),o=ze(),h=ue("button"),p=He("Edit"),c=ze(),d=ue("button"),g=He("Generate"),m=ze(),_=ue("button"),D=He("Settings"),w=ze(),F&&F.c(),this.h()},l(z){t=ae(z,"DIV",{class:!0});var Z=ne(t);r=ae(Z,"DIV",{class:!0});var W=ne(r);n=ae(W,"DIV",{class:!0});var V=ne(n);u=ae(V,"BUTTON",{class:!0});var G=ne(u);a=Ge(G,"Select"),G.forEach(R),o=We(V),h=ae(V,"BUTTON",{class:!0});var Q=ne(h);p=Ge(Q,"Edit"),Q.forEach(R),c=We(V),d=ae(V,"BUTTON",{class:!0});var X=ne(d);g=Ge(X,"Generate"),X.forEach(R),m=We(V),_=ae(V,"BUTTON",{class:!0});var J=ne(_);D=Ge(J,"Settings"),J.forEach(R),V.forEach(R),w=We(W),F&&F.l(W),W.forEach(R),Z.forEach(R),this.h()},h(){x(u,"class",l=e[0]==="select"?"btn btn-active":"btn"),x(h,"class",f=e[0]==="edit"?"btn btn-active":"btn"),x(d,"class",y=e[0]==="generate"?"btn btn-active":"btn"),x(_,"class",E=e[0]==="settings"?"btn btn-active":"btn"),x(n,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),x(r,"class","h-screen overflow-y-auto flex flex-col"),x(t,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(z,Z){we(z,t,Z),H(t,r),H(r,n),H(n,u),H(u,a),H(n,o),H(n,h),H(h,p),H(n,c),H(n,d),H(d,g),H(n,m),H(n,_),H(_,D),H(r,w),~B&&Y[B].m(r,null),O=!0,P||(I=[ke(u,"click",e[2]),ke(h,"click",e[3]),ke(d,"click",e[4]),ke(_,"click",e[5])],P=!0)},p(z,[Z]){(!O||Z&1&&l!==(l=z[0]==="select"?"btn btn-active":"btn"))&&x(u,"class",l),(!O||Z&1&&f!==(f=z[0]==="edit"?"btn btn-active":"btn"))&&x(h,"class",f),(!O||Z&1&&y!==(y=z[0]==="generate"?"btn btn-active":"btn"))&&x(d,"class",y),(!O||Z&1&&E!==(E=z[0]==="settings"?"btn btn-active":"btn"))&&x(_,"class",E);let W=B;B=q(z),B!==W&&(F&&(an(),Le(Y[W],1,1,()=>{Y[W]=null}),sn()),~B?(F=Y[B],F||(F=Y[B]=k[B](z),F.c()),Pe(F,1),F.m(r,null)):F=null)},i(z){O||(Pe(F),O=!0)},o(z){Le(F),O=!1},d(z){z&&R(t),~B&&Y[B].d(),P=!1,Nr(I)}}}function R5(e,t,r){let n;Dt(e,K3,p=>r(0,n=p));function u(p){Hn.update(p)}const a=()=>u("select"),l=()=>u("edit"),o=()=>u("generate"),h=()=>u("settings");return e.$$.update=()=>{e.$$.dirty&1&&(n||Hn.update("select"))},[n,u,a,l,o,h]}class U5 extends Pt{constructor(t){super(),xt(this,t,R5,L5,Tt,{})}}function V5(e){let t,r,n,u;return t=new U5({}),n=new z3({}),{c(){dt(t.$$.fragment),r=ze(),dt(n.$$.fragment)},l(a){pt(t.$$.fragment,a),r=We(a),pt(n.$$.fragment,a)},m(a,l){vt(t,a,l),we(a,r,l),vt(n,a,l),u=!0},p:Te,i(a){u||(Pe(t.$$.fragment,a),Pe(n.$$.fragment,a),u=!0)},o(a){Le(t.$$.fragment,a),Le(n.$$.fragment,a),u=!1},d(a){gt(t,a),a&&R(r),gt(n,a)}}}class z5 extends Pt{constructor(t){super(),xt(this,t,null,V5,Tt,{})}}export{z5 as default};
