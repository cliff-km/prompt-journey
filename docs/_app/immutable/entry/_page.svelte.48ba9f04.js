import{J as Pt,S as Yt,i as Zt,s as Xt,K as Gt,L as Kt,m as ie,h as q,n as k,p as Wt,b as Fe,H as Te,M as Re,N as Jr,k as oe,q as Ze,l as le,r as Xe,G as Q,u as wn,a as Ke,c as Ye,g as ke,v as Nn,d as ze,f as kn,I as Bt,y as mt,e as lr,z as Dt,A as _t,B as yt,O as fd,P as Hl,Q as Gl,R as mi,T as Cy,U as Vo,V as Ai,W as cd,X as Di,Y as vs,Z as Sy,j as By,o as Oy,_ as du,$ as ou}from"../chunks/index.977cbde7.js";import{d as En,w as Fn}from"../chunks/index.34afb512.js";function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wl.apply(this,arguments)}var hd={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ht(e){return typeof e=="number"}function hn(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function dd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function pd(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function vd(e){return e&&e.constructor.prototype.isUnit===!0||!1}function In(e){return typeof e=="string"}var qt=Array.isArray;function kr(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Ka(e){return Array.isArray(e)||kr(e)}function My(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function xy(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Py(e){return e&&e.constructor.prototype.isRange===!0||!1}function Kl(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ty(e){return typeof e=="boolean"}function Iy(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Ny(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ky(e){return typeof e=="function"}function Ry(e){return e instanceof Date}function Ly(e){return e instanceof RegExp}function Uy(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!dd(e)&&!pd(e))}function jy(e){return e===null}function gd(e){return e===void 0}function Vy(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function qy(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function zy(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wy(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hy(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gy(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ky(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yy(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zy(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xy(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jy(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function $y(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qy(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function eA(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function tA(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function rA(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function nA(e){return e&&e.constructor.prototype.isChain===!0||!1}function Gu(e){var t=typeof e;return t==="object"?e===null?"null":hn(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function _r(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return _r(r)});if(e instanceof Date)return new Date(e.valueOf());if(hn(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return iA(e,_r)}function iA(e,t){var r={};for(var i in e)Ku(e,i)&&(r[i]=t(e[i]));return r}function uA(e,t){for(var r in t)Ku(t,r)&&(e[r]=t[r]);return e}function Ya(e,t){var r,i,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,u=e.length;i<u;i++)if(!Ya(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Ya(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Ku(e,t){return e&&Object.hasOwnProperty.call(e,t)}function aA(e,t){for(var r={},i=0;i<t.length;i++){var u=t[i],a=e[u];a!==void 0&&(r[u]=a)}return r}var sA=["Matrix","Array"],oA=["number","BigNumber","Fraction"],gs=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(hd)};wl(gs,hd,{MATRIX_OPTIONS:sA,NUMBER_OPTIONS:oA});function yn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lA(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var i=0,u=function(){};return{s:u,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,f;return{s:function(){r=r.call(e)},n:function(){var p=r.next();return a=p.done,p},e:function(p){l=!0,f=p},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(l)throw f}}}}function lA(e,t){if(e){if(typeof e=="string")return C0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(e,t)}}function C0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function iu(e){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function S0(){return!0}function fn(){return!1}function tu(){}var B0="Argument is not a typed-function.";function md(){function e(R){return iu(R)==="object"&&R!==null&&R.constructor===Object}var t=[{name:"number",test:function(U){return typeof U=="number"}},{name:"string",test:function(U){return typeof U=="string"}},{name:"boolean",test:function(U){return typeof U=="boolean"}},{name:"Function",test:function(U){return typeof U=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(U){return U instanceof Date}},{name:"RegExp",test:function(U){return U instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(U){return U===null}},{name:"undefined",test:function(U){return U===void 0}}],r={name:"any",test:S0,isAny:!0},i,u,a=0,l={createCount:0};function f(R){var U=i.get(R);if(U)return U;var Y='Unknown type "'+R+'"',ue=R.toLowerCase(),ee,ce=yn(u),ne;try{for(ce.s();!(ne=ce.n()).done;)if(ee=ne.value,ee.toLowerCase()===ue){Y+='. Did you mean "'+ee+'" ?';break}}catch(ae){ce.e(ae)}finally{ce.f()}throw new TypeError(Y)}function d(R){for(var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",Y=U?f(U).index:u.length,ue=[],ee=0;ee<R.length;++ee){if(!R[ee]||typeof R[ee].name!="string"||typeof R[ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var ce=R[ee].name;if(i.has(ce))throw new TypeError('Duplicate type name "'+ce+'"');ue.push(ce),i.set(ce,{name:ce,test:R[ee].test,isAny:R[ee].isAny,index:Y+ee,conversionsTo:[]})}var ne=u.slice(Y);u=u.slice(0,Y).concat(ue).concat(ne);for(var ae=Y+ue.length;ae<u.length;++ae)i.get(u[ae]).index=ae}function p(){i=new Map,u=[],a=0,d([r],!1)}p(),d(t);function h(){var R,U=yn(u),Y;try{for(U.s();!(Y=U.n()).done;)R=Y.value,i.get(R).conversionsTo=[]}catch(ue){U.e(ue)}finally{U.f()}a=0}function o(R){var U=u.filter(function(Y){var ue=i.get(Y);return!ue.isAny&&ue.test(R)});return U.length?U:["any"]}function c(R){return R&&typeof R=="function"&&"_typedFunctionData"in R}function m(R,U,Y){if(!c(R))throw new TypeError(B0);var ue=Y&&Y.exact,ee=Array.isArray(U)?U.join(","):U,ce=O(ee),ne=D(ce);if(!ue||ne in R.signatures){var ae=R._typedFunctionData.signatureMap.get(ne);if(ae)return ae}var De=ce.length,Be;if(ue){Be=[];var We;for(We in R.signatures)Be.push(R._typedFunctionData.signatureMap.get(We))}else Be=R._typedFunctionData.signatures;for(var Ae=0;Ae<De;++Ae){var Lt=ce[Ae],Mt=[],Jt=void 0,Ut=yn(Be),pr;try{for(Ut.s();!(pr=Ut.n()).done;){Jt=pr.value;var jt=T(Jt.params,Ae);if(!(!jt||Lt.restParam&&!jt.restParam)){if(!jt.hasAny){var vr=function(){var fr=w(jt);if(Lt.types.some(function(pn){return!fr.has(pn.name)}))return"continue"}();if(vr==="continue")continue}Mt.push(Jt)}}}catch(fr){Ut.e(fr)}finally{Ut.f()}if(Be=Mt,Be.length===0)break}var ar,sr=yn(Be),$r;try{for(sr.s();!($r=sr.n()).done;)if(ar=$r.value,ar.params.length<=De)return ar}catch(fr){sr.e(fr)}finally{sr.f()}throw new TypeError("Signature not found (signature: "+(R.name||"unnamed")+"("+D(ce,", ")+"))")}function A(R,U,Y){return m(R,U,Y).implementation}function g(R,U){var Y=f(U);if(Y.test(R))return R;var ue=Y.conversionsTo;if(ue.length===0)throw new Error("There are no conversions to "+U+" defined.");for(var ee=0;ee<ue.length;ee++){var ce=f(ue[ee].from);if(ce.test(R))return ue[ee].convert(R)}throw new Error("Cannot convert "+R+" to "+U)}function D(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return R.map(function(Y){return Y.name}).join(U)}function y(R){var U=R.indexOf("...")===0,Y=U?R.length>3?R.slice(3):"any":R,ue=Y.split("|").map(function(ae){return f(ae.trim())}),ee=!1,ce=U?"...":"",ne=ue.map(function(ae){return ee=ae.isAny||ee,ce+=ae.name+"|",{name:ae.name,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:null,conversionIndex:-1}});return{types:ne,name:ce.slice(0,-1),hasAny:ee,hasConversion:!1,restParam:U}}function C(R){var U=R.types.map(function(ne){return ne.name}),Y=re(U),ue=R.hasAny,ee=R.name,ce=Y.map(function(ne){var ae=f(ne.from);return ue=ae.isAny||ue,ee+="|"+ne.from,{name:ne.from,typeIndex:ae.index,test:ae.test,isAny:ae.isAny,conversion:ne,conversionIndex:ne.index}});return{types:R.types.concat(ce),name:ee,hasAny:ue,hasConversion:ce.length>0,restParam:R.restParam}}function w(R){return R.typeSet||(R.typeSet=new Set,R.types.forEach(function(U){return R.typeSet.add(U.name)})),R.typeSet}function O(R){var U=[];if(typeof R!="string")throw new TypeError("Signatures must be strings");var Y=R.trim();if(Y==="")return U;for(var ue=Y.split(","),ee=0;ee<ue.length;++ee){var ce=y(ue[ee].trim());if(ce.restParam&&ee!==ue.length-1)throw new SyntaxError('Unexpected rest parameter "'+ue[ee]+'": only allowed for the last parameter');if(ce.types.length===0)return null;U.push(ce)}return U}function F(R){var U=Qe(R);return U?U.restParam:!1}function B(R){if(!R||R.types.length===0)return S0;if(R.types.length===1)return f(R.types[0].name).test;if(R.types.length===2){var U=f(R.types[0].name).test,Y=f(R.types[1].name).test;return function(ce){return U(ce)||Y(ce)}}else{var ue=R.types.map(function(ee){return f(ee.name).test});return function(ce){for(var ne=0;ne<ue.length;ne++)if(ue[ne](ce))return!0;return!1}}}function x(R){var U,Y,ue;if(F(R)){U=ct(R).map(B);var ee=U.length,ce=B(Qe(R)),ne=function(De){for(var Be=ee;Be<De.length;Be++)if(!ce(De[Be]))return!1;return!0};return function(De){for(var Be=0;Be<U.length;Be++)if(!U[Be](De[Be]))return!1;return ne(De)&&De.length>=ee+1}}else return R.length===0?function(De){return De.length===0}:R.length===1?(Y=B(R[0]),function(De){return Y(De[0])&&De.length===1}):R.length===2?(Y=B(R[0]),ue=B(R[1]),function(De){return Y(De[0])&&ue(De[1])&&De.length===2}):(U=R.map(B),function(De){for(var Be=0;Be<U.length;Be++)if(!U[Be](De[Be]))return!1;return De.length===U.length})}function T(R,U){return U<R.length?R[U]:F(R)?Qe(R):null}function I(R,U){var Y=T(R,U);return Y?w(Y):new Set}function V(R){return R.conversion===null||R.conversion===void 0}function J(R,U){var Y=new Set;return R.forEach(function(ue){var ee=I(ue.params,U),ce,ne=yn(ee),ae;try{for(ne.s();!(ae=ne.n()).done;)ce=ae.value,Y.add(ce)}catch(De){ne.e(De)}finally{ne.f()}}),Y.has("any")?["any"]:Array.from(Y)}function K(R,U,Y){var ue,ee,ce=R||"unnamed",ne=Y,ae,De=function(){var Ut=[];if(ne.forEach(function(jt){var vr=T(jt.params,ae),ar=B(vr);(ae<jt.params.length||F(jt.params))&&ar(U[ae])&&Ut.push(jt)}),Ut.length===0){if(ee=J(ne,ae),ee.length>0){var pr=o(U[ae]);return ue=new TypeError("Unexpected type of argument in function "+ce+" (expected: "+ee.join(" or ")+", actual: "+pr.join(" | ")+", index: "+ae+")"),ue.data={category:"wrongType",fn:ce,index:ae,actual:pr,expected:ee},{v:ue}}}else ne=Ut};for(ae=0;ae<U.length;ae++){var Be=De();if(iu(Be)==="object")return Be.v}var We=ne.map(function(Jt){return F(Jt.params)?1/0:Jt.params.length});if(U.length<Math.min.apply(null,We))return ee=J(ne,ae),ue=new TypeError("Too few arguments in function "+ce+" (expected: "+ee.join(" or ")+", index: "+U.length+")"),ue.data={category:"tooFewArgs",fn:ce,index:U.length,expected:ee},ue;var Ae=Math.max.apply(null,We);if(U.length>Ae)return ue=new TypeError("Too many arguments in function "+ce+" (expected: "+Ae+", actual: "+U.length+")"),ue.data={category:"tooManyArgs",fn:ce,index:U.length,expectedLength:Ae},ue;for(var Lt=[],Mt=0;Mt<U.length;++Mt)Lt.push(o(U[Mt]).join("|"));return ue=new TypeError('Arguments of type "'+Lt.join(", ")+'" do not match any of the defined signatures of function '+ce+"."),ue.data={category:"mismatch",actual:Lt},ue}function W(R){for(var U=u.length+1,Y=0;Y<R.types.length;Y++)V(R.types[Y])&&(U=Math.min(U,R.types[Y].typeIndex));return U}function G(R){for(var U=a+1,Y=0;Y<R.types.length;Y++)V(R.types[Y])||(U=Math.min(U,R.types[Y].conversionIndex));return U}function j(R,U){if(R.hasAny){if(!U.hasAny)return 1}else if(U.hasAny)return-1;if(R.restParam){if(!U.restParam)return 1}else if(U.restParam)return-1;if(R.hasConversion){if(!U.hasConversion)return 1}else if(U.hasConversion)return-1;var Y=W(R)-W(U);if(Y<0)return-1;if(Y>0)return 1;var ue=G(R)-G(U);return ue<0?-1:ue>0?1:0}function H(R,U){var Y=R.params,ue=U.params,ee=Qe(Y),ce=Qe(ue),ne=F(Y),ae=F(ue);if(ne&&ee.hasAny){if(!ae||!ce.hasAny)return 1}else if(ae&&ce.hasAny)return-1;var De=0,Be=0,We,Ae=yn(Y),Lt;try{for(Ae.s();!(Lt=Ae.n()).done;)We=Lt.value,We.hasAny&&++De,We.hasConversion&&++Be}catch(Sn){Ae.e(Sn)}finally{Ae.f()}var Mt=0,Jt=0,Ut=yn(ue),pr;try{for(Ut.s();!(pr=Ut.n()).done;)We=pr.value,We.hasAny&&++Mt,We.hasConversion&&++Jt}catch(Sn){Ut.e(Sn)}finally{Ut.f()}if(De!==Mt)return De-Mt;if(ne&&ee.hasConversion){if(!ae||!ce.hasConversion)return 1}else if(ae&&ce.hasConversion)return-1;if(Be!==Jt)return Be-Jt;if(ne){if(!ae)return 1}else if(ae)return-1;var jt=(Y.length-ue.length)*(ne?-1:1);if(jt!==0)return jt;for(var vr=[],ar=0,sr=0;sr<Y.length;++sr){var $r=j(Y[sr],ue[sr]);vr.push($r),ar+=$r}if(ar!==0)return ar;for(var fr,pn=0,jn=vr;pn<jn.length;pn++)if(fr=jn[pn],fr!==0)return fr;return 0}function re(R){if(R.length===0)return[];var U=R.map(f);R.length>1&&U.sort(function(De,Be){return De.index-Be.index});var Y=U[0].conversionsTo;if(R.length===1)return Y;Y=Y.concat([]);for(var ue=new Set(R),ee=1;ee<U.length;++ee){var ce=void 0,ne=yn(U[ee].conversionsTo),ae;try{for(ne.s();!(ae=ne.n()).done;)ce=ae.value,ue.has(ce.from)||(Y.push(ce),ue.add(ce.from))}catch(De){ne.e(De)}finally{ne.f()}}return Y}function he(R,U){var Y=U;if(R.some(function(ae){return ae.hasConversion})){var ue=F(R),ee=R.map(ve);Y=function(){for(var De=[],Be=ue?arguments.length-1:arguments.length,We=0;We<Be;We++)De[We]=ee[We](arguments[We]);return ue&&(De[Be]=arguments[Be].map(ee[Be])),U.apply(this,De)}}var ce=Y;if(F(R)){var ne=R.length-1;ce=function(){return Y.apply(this,it(arguments,0,ne).concat([it(arguments,ne)]))}}return ce}function ve(R){var U,Y,ue,ee,ce=[],ne=[];switch(R.types.forEach(function(ae){ae.conversion&&(ce.push(f(ae.conversion.from).test),ne.push(ae.conversion.convert))}),ne.length){case 0:return function(De){return De};case 1:return U=ce[0],ue=ne[0],function(De){return U(De)?ue(De):De};case 2:return U=ce[0],Y=ce[1],ue=ne[0],ee=ne[1],function(De){return U(De)?ue(De):Y(De)?ee(De):De};default:return function(De){for(var Be=0;Be<ne.length;Be++)if(ce[Be](De))return ne[Be](De);return De}}}function we(R){function U(Y,ue,ee){if(ue<Y.length){var ce=Y[ue],ne=[];if(ce.restParam){var ae=ce.types.filter(V);ae.length<ce.types.length&&ne.push({types:ae,name:"..."+ae.map(function(De){return De.name}).join("|"),hasAny:ae.some(function(De){return De.isAny}),hasConversion:!1,restParam:!0}),ne.push(ce)}else ne=ce.types.map(function(De){return{types:[De],name:De.name,hasAny:De.isAny,hasConversion:De.conversion,restParam:!1}});return dt(ne,function(De){return U(Y,ue+1,ee.concat([De]))})}else return[ee]}return U(R,0,[])}function Se(R,U){for(var Y=Math.max(R.length,U.length),ue=0;ue<Y;ue++){var ee=I(R,ue),ce=I(U,ue),ne=!1,ae=void 0,De=yn(ce),Be;try{for(De.s();!(Be=De.n()).done;)if(ae=Be.value,ee.has(ae)){ne=!0;break}}catch(Jt){De.e(Jt)}finally{De.f()}if(!ne)return!1}var We=R.length,Ae=U.length,Lt=F(R),Mt=F(U);return Lt?Mt?We===Ae:Ae>=We:Mt?We>=Ae:We===Ae}function Pe(R){return R.map(function(U){return wt(U)?At(U.referToSelf.callback):Ar(U)?Je(U.referTo.references,U.referTo.callback):U})}function Ce(R,U,Y){var ue=[],ee,ce=yn(R),ne;try{for(ce.s();!(ne=ce.n()).done;){ee=ne.value;var ae=Y[ee];if(typeof ae!="number")throw new TypeError('No definition for referenced signature "'+ee+'"');if(ae=U[ae],typeof ae!="function")return!1;ue.push(ae)}}catch(De){ce.e(De)}finally{ce.f()}return ue}function xe(R,U,Y){for(var ue=Pe(R),ee=new Array(ue.length).fill(!1),ce=!0;ce;){ce=!1;for(var ne=!0,ae=0;ae<ue.length;++ae)if(!ee[ae]){var De=ue[ae];if(wt(De))ue[ae]=De.referToSelf.callback(Y),ue[ae].referToSelf=De.referToSelf,ee[ae]=!0,ne=!1;else if(Ar(De)){var Be=Ce(De.referTo.references,ue,U);Be?(ue[ae]=De.referTo.callback.apply(this,Be),ue[ae].referTo=De.referTo,ee[ae]=!0,ne=!1):ce=!0}}if(ne&&ce)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ue}function Ie(R){var U=/\bthis(\(|\.signatures\b)/;Object.keys(R).forEach(function(Y){var ue=R[Y];if(U.test(ue.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Le(R,U){if(l.createCount++,Object.keys(U).length===0)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&Ie(U);var Y=[],ue=[],ee={},ce=[],ne,ae=function(){if(!Object.prototype.hasOwnProperty.call(U,ne))return"continue";var tr=O(ne);if(!tr)return"continue";Y.forEach(function(en){if(Se(en,tr))throw new TypeError('Conflicting signatures "'+D(en)+'" and "'+D(tr)+'".')}),Y.push(tr);var Pr=ue.length;ue.push(U[ne]);var Ci=tr.map(C),qn=void 0,Mn=yn(we(Ci)),Si;try{for(Mn.s();!(Si=Mn.n()).done;){qn=Si.value;var vn=D(qn);ce.push({params:qn,name:vn,fn:Pr}),qn.every(function(en){return!en.hasConversion})&&(ee[vn]=Pr)}}catch(en){Mn.e(en)}finally{Mn.f()}};for(ne in U)var De=ae();ce.sort(H);var Be=xe(ue,ee,On),We;for(We in ee)Object.prototype.hasOwnProperty.call(ee,We)&&(ee[We]=Be[ee[We]]);for(var Ae=[],Lt=new Map,Mt=0,Jt=ce;Mt<Jt.length;Mt++)We=Jt[Mt],Lt.has(We.name)||(We.fn=Be[We.fn],Ae.push(We),Lt.set(We.name,We));for(var Ut=Ae[0]&&Ae[0].params.length<=2&&!F(Ae[0].params),pr=Ae[1]&&Ae[1].params.length<=2&&!F(Ae[1].params),jt=Ae[2]&&Ae[2].params.length<=2&&!F(Ae[2].params),vr=Ae[3]&&Ae[3].params.length<=2&&!F(Ae[3].params),ar=Ae[4]&&Ae[4].params.length<=2&&!F(Ae[4].params),sr=Ae[5]&&Ae[5].params.length<=2&&!F(Ae[5].params),$r=Ut&&pr&&jt&&vr&&ar&&sr,fr=0;fr<Ae.length;++fr)Ae[fr].test=x(Ae[fr].params);for(var pn=Ut?B(Ae[0].params[0]):fn,jn=pr?B(Ae[1].params[0]):fn,Sn=jt?B(Ae[2].params[0]):fn,Bn=vr?B(Ae[3].params[0]):fn,Li=ar?B(Ae[4].params[0]):fn,Ei=sr?B(Ae[5].params[0]):fn,vu=Ut?B(Ae[0].params[1]):fn,br=pr?B(Ae[1].params[1]):fn,$t=jt?B(Ae[2].params[1]):fn,gu=vr?B(Ae[3].params[1]):fn,ri=ar?B(Ae[4].params[1]):fn,Qr=sr?B(Ae[5].params[1]):fn,Vn=0;Vn<Ae.length;++Vn)Ae[Vn].implementation=he(Ae[Vn].params,Ae[Vn].fn);var Fi=Ut?Ae[0].implementation:tu,mu=pr?Ae[1].implementation:tu,Du=jt?Ae[2].implementation:tu,Ui=vr?Ae[3].implementation:tu,_u=ar?Ae[4].implementation:tu,yu=sr?Ae[5].implementation:tu,Au=Ut?Ae[0].params.length:-1,bu=pr?Ae[1].params.length:-1,wu=jt?Ae[2].params.length:-1,Eu=vr?Ae[3].params.length:-1,ni=ar?Ae[4].params.length:-1,Fu=sr?Ae[5].params.length:-1,ii=$r?6:0,Cu=Ae.length,Su=Ae.map(function(gr){return gr.test}),Bu=Ae.map(function(gr){return gr.implementation}),ji=function(){for(var tr=ii;tr<Cu;tr++)if(Su[tr](arguments))return Bu[tr].apply(this,arguments);return l.onMismatch(R,arguments,Ae)};function On(gr,tr){return arguments.length===Au&&pn(gr)&&vu(tr)?Fi.apply(this,arguments):arguments.length===bu&&jn(gr)&&br(tr)?mu.apply(this,arguments):arguments.length===wu&&Sn(gr)&&$t(tr)?Du.apply(this,arguments):arguments.length===Eu&&Bn(gr)&&gu(tr)?Ui.apply(this,arguments):arguments.length===ni&&Li(gr)&&ri(tr)?_u.apply(this,arguments):arguments.length===Fu&&Ei(gr)&&Qr(tr)?yu.apply(this,arguments):ji.apply(this,arguments)}try{Object.defineProperty(On,"name",{value:R})}catch{}return On.signatures=ee,On._typedFunctionData={signatures:Ae,signatureMap:Lt},On}function at(R,U,Y){throw K(R,U,Y)}function ct(R){return it(R,0,R.length-1)}function Qe(R){return R[R.length-1]}function it(R,U,Y){return Array.prototype.slice.call(R,U,Y)}function ht(R,U){for(var Y=0;Y<R.length;Y++)if(U(R[Y]))return R[Y]}function dt(R,U){return Array.prototype.concat.apply([],R.map(U))}function rt(){var R=ct(arguments).map(function(Y){return D(O(Y))}),U=Qe(arguments);if(typeof U!="function")throw new TypeError("Callback function expected as last argument");return Je(R,U)}function Je(R,U){return{referTo:{references:R,callback:U}}}function At(R){if(typeof R!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:R}}}function Ar(R){return R&&iu(R.referTo)==="object"&&Array.isArray(R.referTo.references)&&typeof R.referTo.callback=="function"}function wt(R){return R&&iu(R.referToSelf)==="object"&&typeof R.referToSelf.callback=="function"}function ye(R,U){if(!R)return U;if(U&&U!==R){var Y=new Error("Function names do not match (expected: "+R+", actual: "+U+")");throw Y.data={actual:U,expected:R},Y}return R}function _e(R){var U;for(var Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&(c(R[Y])||typeof R[Y].signature=="string")&&(U=ye(U,R[Y].name));return U}function pt(R,U){var Y;for(Y in U)if(Object.prototype.hasOwnProperty.call(U,Y)){if(Y in R&&U[Y]!==R[Y]){var ue=new Error('Signature "'+Y+'" is defined twice');throw ue.data={signature:Y,sourceFunction:U[Y],destFunction:R[Y]},ue}R[Y]=U[Y]}}var Nt=l;l=function(U){for(var Y=typeof U=="string",ue=Y?1:0,ee=Y?U:"",ce={},ne=ue;ne<arguments.length;++ne){var ae=arguments[ne],De={},Be=void 0;if(typeof ae=="function"?(Be=ae.name,typeof ae.signature=="string"?De[ae.signature]=ae:c(ae)&&(De=ae.signatures)):e(ae)&&(De=ae,Y||(Be=_e(ae))),Object.keys(De).length===0){var We=new TypeError("Argument to 'typed' at index "+ne+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw We.data={index:ne,argument:ae},We}Y||(ee=ye(ee,Be)),pt(ce,De)}return Le(ee||"",ce)},l.create=md,l.createCount=Nt.createCount,l.onMismatch=at,l.throwMismatchError=at,l.createError=K,l.clear=p,l.clearConversions=h,l.addTypes=d,l._findType=f,l.referTo=rt,l.referToSelf=At,l.convert=g,l.findSignature=m,l.find=A,l.isTypedFunction=c,l.warnAgainstDeprecatedThis=!0,l.addType=function(R,U){var Y="any";U!==!1&&i.has("Object")&&(Y="Object"),l.addTypes([R],Y)};function ur(R){if(!R||typeof R.from!="string"||typeof R.to!="string"||typeof R.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(R.to===R.from)throw new SyntaxError('Illegal to define conversion from "'+R.from+'" to itself.')}return l.addConversion=function(R){ur(R);var U=f(R.to);if(U.conversionsTo.every(function(Y){return Y.from!==R.from}))U.conversionsTo.push({from:R.from,convert:R.convert,index:a++});else throw new Error('There is already a conversion from "'+R.from+'" to "'+U.name+'"')},l.addConversions=function(R){R.forEach(l.addConversion)},l.removeConversion=function(R){ur(R);var U=f(R.to),Y=ht(U.conversionsTo,function(ee){return ee.from===R.from});if(!Y)throw new Error("Attempt to remove nonexistent conversion from "+R.from+" to "+R.to);if(Y.convert!==R.convert)throw new Error("Conversion to remove does not match existing conversion");var ue=U.conversionsTo.indexOf(Y);U.conversionsTo.splice(ue,1)},l.resolve=function(R,U){if(!c(R))throw new TypeError(B0);for(var Y=R._typedFunctionData.signatures,ue=0;ue<Y.length;++ue)if(Y[ue].test(U))return Y[ue];return null},l}const O0=md();function yr(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function qo(e,t,r){var i={2:"0b",8:"0o",16:"0x"},u=i[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!yr(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var l="";return e<0&&(e=-e,l="-"),"".concat(l).concat(u).concat(e.toString(t)).concat(a)}function El(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",i,u;if(t&&(t.notation&&(r=t.notation),Ht(t)?i=t:Ht(t.precision)&&(i=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return cA(e,i);case"exponential":return Dd(e,i);case"engineering":return fA(e,i);case"bin":return qo(e,2,u);case"oct":return qo(e,8,u);case"hex":return qo(e,16,u);case"auto":return hA(e,i,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],l=arguments[4];return a!=="."?a+l:l});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ms(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],i=t[2],u=parseFloat(t[4]||"0"),a=i.indexOf(".");u+=a!==-1?a-1:i.length-1;var l=i.replace(".","").replace(/^0*/,function(f){return u-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return l.length===0&&(l.push(0),u++),{sign:r,coefficients:l,exponent:u}}function fA(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=ms(e),i=Ds(r,t),u=i.exponent,a=i.coefficients,l=u%3===0?u:u<0?u-3-u%3:u-u%3;if(Ht(t))for(;t>a.length||u-l+1>a.length;)a.push(0);else for(var f=Math.abs(u-l)-(a.length-1),d=0;d<f;d++)a.push(0);for(var p=Math.abs(u-l),h=1;p>0;)h++,p--;var o=a.slice(h).join(""),c=Ht(t)&&o.length||o.match(/[1-9]/)?"."+o:"",m=a.slice(0,h).join("")+c+"e"+(u>=0?"+":"")+l.toString();return i.sign+m}function cA(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=ms(e),i=typeof t=="number"?Ds(r,r.exponent+1+t):r,u=i.coefficients,a=i.exponent+1,l=a+(t||0);return u.length<l&&(u=u.concat(au(l-u.length))),a<0&&(u=au(-a+1).concat(u),a=1),a<u.length&&u.splice(a,0,a===0?"0.":"."),i.sign+u.join("")}function Dd(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=ms(e),i=t?Ds(r,t):r,u=i.coefficients,a=i.exponent;u.length<t&&(u=u.concat(au(t-u.length)));var l=u.shift();return i.sign+l+(u.length>0?"."+u.join(""):"")+"e"+(a>=0?"+":"")+a}function hA(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var i=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5,a=ms(e),l=t?Ds(a,t):a;if(l.exponent<i||l.exponent>=u)return Dd(e,t);var f=l.coefficients,d=l.exponent;f.length<t&&(f=f.concat(au(t-f.length))),f=f.concat(au(d-f.length+1+(f.length<t?t-f.length:0))),f=au(-d).concat(f);var p=d>0?d:0;return p<f.length-1&&f.splice(p+1,0,"."),l.sign+f.join("")}function Ds(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=r.coefficients;t<=0;)i.unshift(0),r.exponent++,t++;if(i.length>t){var u=i.splice(t,i.length-t);if(u[0]>=5){var a=t-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),r.exponent++,a++),a--,i[a]++}}return r}function au(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function dA(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var pA=Number.EPSILON||2220446049250313e-31;function Za(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<pA?!0:i<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function zo(e,t,r){var i=e.constructor,u=new i(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!yr(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function vA(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",i,u;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?i=t:t.precision&&(i=t.precision),t.wordSize&&(u=t.wordSize,typeof u!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return mA(e,i);case"exponential":return M0(e,i);case"engineering":return gA(e,i);case"bin":return zo(e,2,u);case"oct":return zo(e,8,u);case"hex":return zo(e,16,u);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,l=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var f,d=e.toSignificantDigits(i),p=d.e;return p>=a&&p<l?f=d.toFixed():f=M0(e,i),f.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],o=arguments[4];return h!=="."?h+o:o})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function gA(e,t){var r=e.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-i)),a=u.toPrecision(t);return a.indexOf("e")!==-1&&(a=u.toString()),a+"e"+(r>=0?"+":"")+i.toString()}function M0(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function mA(e,t){return e.toFixed(t)}function Vr(e,t){var r=DA(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function DA(e,t){if(typeof e=="number")return El(e,t);if(hn(e))return vA(e,t);if(_A(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return _d(e,t);if(In(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(i=>'"'+i+'": '+Vr(e[i],t));return"{"+r.join(", ")+"}"}return String(e)}function _d(e,t){if(Array.isArray(e)){for(var r="[",i=e.length,u=0;u<i;u++)u!==0&&(r+=", "),r+=_d(e[u],t);return r+="]",r}else return Vr(e,t)}function _A(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Et(e,t,r){if(!(this instanceof Et))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Et.prototype=new RangeError;Et.prototype.constructor=RangeError;Et.prototype.name="DimensionError";Et.prototype.isDimensionError=!0;function Ri(e,t,r){if(!(this instanceof Ri))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ri.prototype=new RangeError;Ri.prototype.constructor=RangeError;Ri.prototype.name="IndexError";Ri.prototype.isIndexError=!0;function _i(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function yd(e,t,r){var i,u=e.length;if(u!==t[r])throw new Et(u,t[r]);if(r<t.length-1){var a=r+1;for(i=0;i<u;i++){var l=e[i];if(!Array.isArray(l))throw new Et(t.length-1,t.length,"<");yd(e[i],t,a)}}else for(i=0;i<u;i++)if(Array.isArray(e[i]))throw new Et(t.length+1,t.length,">")}function x0(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Et(e.length,0)}else yd(e,t,0)}function zt(e,t){if(!Ht(e)||!yr(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ri(e,t)}function P0(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!Ht(u)||!yr(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(t)+")")});var i=r!==void 0?r:0;return Fl(e,t,0,i),e}function Fl(e,t,r,i){var u,a,l=e.length,f=t[r],d=Math.min(l,f);if(e.length=f,r<t.length-1){var p=r+1;for(u=0;u<d;u++)a=e[u],Array.isArray(a)||(a=[a],e[u]=a),Fl(a,t,p,i);for(u=d;u<f;u++)a=[],e[u]=a,Fl(a,t,p,i)}else{for(u=0;u<d;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=d;u<f;u++)e[u]=i}}function yA(e,t){var r=bA(e),i=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Et(0,i,"!=");t=Yl(t,i);var u=Ad(t);if(i!==u)throw new Et(u,i,"!=");try{return AA(r,t)}catch(a){throw a instanceof Et?new Et(u,i,"!="):a}}function Yl(e,t){var r=Ad(e),i=e.slice(),u=-1,a=e.indexOf(u),l=e.indexOf(u,a+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var f=a>=0,d=t%r===0;if(f)if(d)i[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return i}function Ad(e){return e.reduce((t,r)=>t*r,1)}function AA(e,t){for(var r=e,i,u=t.length-1;u>0;u--){var a=t[u];i=[];for(var l=r.length/a,f=0;f<l;f++)i.push(r.slice(f*a,(f+1)*a));r=i}return r}function bd(e,t,r,i){var u=i||_i(e);if(r)for(var a=0;a<r;a++)e=[e],u.unshift(1);for(e=wd(e,t,0);u.length<t;)u.push(1);return e}function wd(e,t,r){var i,u;if(Array.isArray(e)){var a=r+1;for(i=0,u=e.length;i<u;i++)e[i]=wd(e[i],t,a)}else for(var l=r;l<t;l++)e=[e];return e}function bA(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(i){Array.isArray(i)?i.forEach(r):t.push(i)}),t}function Xa(e,t){for(var r,i=0,u=0;u<e.length;u++){var a=e[u],l=Array.isArray(a);if(u===0&&l&&(i=a.length),l&&a.length!==i)return;var f=l?Xa(a,t):t(a);if(r===void 0)r=f;else if(r!==f)return"mixed"}return r}function Ct(e,t,r,i){function u(a){var l=aA(a,t.map(FA));return wA(e,t,a),r(l)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),i&&(u.meta=i),u}function wA(e,t,r){var i=t.filter(a=>!EA(a)).every(a=>r[a]!==void 0);if(!i){var u=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function EA(e){return e&&e[0]==="?"}function FA(e){return e&&e[0]==="?"?e.slice(1):e}function CA(e,t){if(Fd(e)&&Ed(e,t))return e[t];throw typeof e[t]=="function"&&OA(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function SA(e,t,r){if(Fd(e)&&Ed(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function BA(e,t){return t in e}function Ed(e,t){return!e||typeof e!="object"?!1:Ku(MA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function OA(e,t){return e==null||typeof e[t]!="function"||Ku(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Ku(xA,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Fd(e){return typeof e=="object"&&e&&e.constructor===Object}var MA={length:!0,name:!0},xA={toString:!0,valueOf:!0,toLocaleString:!0};class PA{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return CA(this.wrappedObject,t)}set(t,r){return SA(this.wrappedObject,t,r),this}has(t){return BA(this.wrappedObject,t)}}function TA(e){return e?e instanceof Map||e instanceof PA||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Cd=function(){return Cd=O0.create,O0},IA=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],NA=Ct("typed",IA,function(t){var{BigNumber:r,Complex:i,DenseMatrix:u,Fraction:a}=t,l=Cd();return l.clear(),l.addTypes([{name:"number",test:Ht},{name:"Complex",test:dd},{name:"BigNumber",test:hn},{name:"Fraction",test:pd},{name:"Unit",test:vd},{name:"identifier",test:f=>In&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(f)},{name:"string",test:In},{name:"Chain",test:nA},{name:"Array",test:qt},{name:"Matrix",test:kr},{name:"DenseMatrix",test:My},{name:"SparseMatrix",test:xy},{name:"Range",test:Py},{name:"Index",test:Kl},{name:"boolean",test:Ty},{name:"ResultSet",test:Iy},{name:"Help",test:Ny},{name:"function",test:ky},{name:"Date",test:Ry},{name:"RegExp",test:Ly},{name:"null",test:jy},{name:"undefined",test:gd},{name:"AccessorNode",test:Vy},{name:"ArrayNode",test:qy},{name:"AssignmentNode",test:zy},{name:"BlockNode",test:Wy},{name:"ConditionalNode",test:Hy},{name:"ConstantNode",test:Gy},{name:"FunctionNode",test:Yy},{name:"FunctionAssignmentNode",test:Ky},{name:"IndexNode",test:Zy},{name:"Node",test:Xy},{name:"ObjectNode",test:Jy},{name:"OperatorNode",test:$y},{name:"ParenthesisNode",test:Qy},{name:"RangeNode",test:eA},{name:"RelationalNode",test:tA},{name:"SymbolNode",test:rA},{name:"Map",test:TA},{name:"Object",test:Uy}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(d){if(r||Wo(d),dA(d)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+d+"). Use function bignumber(x) to convert to BigNumber.");return new r(d)}},{from:"number",to:"Complex",convert:function(d){return i||Ra(d),new i(d,0)}},{from:"BigNumber",to:"Complex",convert:function(d){return i||Ra(d),new i(d.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(d){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(d){return i||Ra(d),new i(d.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(d){a||Ho(d);var p=new a(d);if(p.valueOf()!==d)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+d+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(d){var p=Number(d);if(isNaN(p))throw new Error('Cannot convert "'+d+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(d){r||Wo(d);try{return new r(d)}catch{throw new Error('Cannot convert "'+d+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(d){a||Ho(d);try{return new a(d)}catch{throw new Error('Cannot convert "'+d+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(d){i||Ra(d);try{return new i(d)}catch{throw new Error('Cannot convert "'+d+'" to Complex')}}},{from:"boolean",to:"number",convert:function(d){return+d}},{from:"boolean",to:"BigNumber",convert:function(d){return r||Wo(d),new r(+d)}},{from:"boolean",to:"Fraction",convert:function(d){return a||Ho(d),new a(+d)}},{from:"boolean",to:"string",convert:function(d){return String(d)}},{from:"Array",to:"Matrix",convert:function(d){return u||kA(),new u(d)}},{from:"Matrix",to:"Array",convert:function(d){return d.valueOf()}}]),l.onMismatch=(f,d,p)=>{var h=l.createError(f,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&Ka(d[0])&&p.some(c=>!c.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=h.data,o}throw h},l.onMismatch=(f,d,p)=>{var h=l.createError(f,d,p);if(["wrongType","mismatch"].includes(h.data.category)&&d.length===1&&Ka(d[0])&&p.some(c=>!c.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=h.data,o}throw h},l});function Wo(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Ra(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function kA(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ho(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var uu=9e15,bi=1e9,Cl="0123456789abcdef",Ja="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$a="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-uu,maxE:uu,crypto:!1},Sd,Qn,He=!0,_s="[DecimalError] ",yi=_s+"Invalid argument: ",Bd=_s+"Precision limit exceeded",Od=_s+"crypto unavailable",Md="[object Decimal]",xr=Math.floor,dr=Math.pow,RA=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,LA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,UA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,xd=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn=1e7,je=7,jA=9007199254740991,VA=Ja.length-1,Bl=$a.length-1,ge={toStringTag:Md};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Ne(e)};ge.ceil=function(){return Ne(new this.constructor(this),this.e+1,2)};ge.clampedTo=ge.clamp=function(e,t){var r,i=this,u=i.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(yi+t);return r=i.cmp(e),r<0?e:i.cmp(t)>0?t:new u(i)};ge.comparedTo=ge.cmp=function(e){var t,r,i,u,a=this,l=a.d,f=(e=new a.constructor(e)).d,d=a.s,p=e.s;if(!l||!f)return!d||!p?NaN:d!==p?d:l===f?0:!l^d<0?1:-1;if(!l[0]||!f[0])return l[0]?d:f[0]?-p:0;if(d!==p)return d;if(a.e!==e.e)return a.e>e.e^d<0?1:-1;for(i=l.length,u=f.length,t=0,r=i<u?i:u;t<r;++t)if(l[t]!==f[t])return l[t]>f[t]^d<0?1:-1;return i===u?0:i>u^d<0?1:-1};ge.cosine=ge.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+je,i.rounding=1,r=qA(i,kd(i,r)),i.precision=e,i.rounding=t,Ne(Qn==2||Qn==3?r.neg():r,e,t,!0)):new i(1):new i(NaN)};ge.cubeRoot=ge.cbrt=function(){var e,t,r,i,u,a,l,f,d,p,h=this,o=h.constructor;if(!h.isFinite()||h.isZero())return new o(h);for(He=!1,a=h.s*dr(h.s*h,1/3),!a||Math.abs(a)==1/0?(r=Br(h.d),e=h.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=dr(r,1/3),e=xr((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),i=new o(r),i.s=h.s):i=new o(a.toString()),l=(e=o.precision)+3;;)if(f=i,d=f.times(f).times(f),p=d.plus(h),i=Ot(p.plus(h).times(f),p.plus(d),l+2,1),Br(f.d).slice(0,l)===(r=Br(i.d)).slice(0,l))if(r=r.slice(l-3,l+1),r=="9999"||!u&&r=="4999"){if(!u&&(Ne(f,e+1,0),f.times(f).times(f).eq(h))){i=f;break}l+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ne(i,e+1,1),t=!i.times(i).times(i).eq(h));break}return He=!0,Ne(i,e,o.rounding,t)};ge.decimalPlaces=ge.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-xr(this.e/je))*je,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};ge.dividedBy=ge.div=function(e){return Ot(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.divToInt=function(e){var t=this,r=t.constructor;return Ne(Ot(t,new r(e),0,1,1),r.precision,r.rounding)};ge.equals=ge.eq=function(e){return this.cmp(e)===0};ge.floor=function(){return Ne(new this.constructor(this),this.e+1,3)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){var t=this.cmp(e);return t==1||t===0};ge.hyperbolicCosine=ge.cosh=function(){var e,t,r,i,u,a=this,l=a.constructor,f=new l(1);if(!a.isFinite())return new l(a.s?1/0:NaN);if(a.isZero())return f;r=l.precision,i=l.rounding,l.precision=r+Math.max(a.e,a.sd())+4,l.rounding=1,u=a.d.length,u<32?(e=Math.ceil(u/3),t=(1/As(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=lu(l,1,a.times(t),new l(1),!0);for(var d,p=e,h=new l(8);p--;)d=a.times(a),a=f.minus(d.times(h.minus(d.times(h))));return Ne(a,l.precision=r,l.rounding=i,!0)};ge.hyperbolicSine=ge.sinh=function(){var e,t,r,i,u=this,a=u.constructor;if(!u.isFinite()||u.isZero())return new a(u);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<3)u=lu(a,2,u,u,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,u=u.times(1/As(5,e)),u=lu(a,2,u,u,!0);for(var l,f=new a(5),d=new a(16),p=new a(20);e--;)l=u.times(u),u=u.times(f.plus(l.times(d.times(l).plus(p))))}return a.precision=t,a.rounding=r,Ne(u,t,r,!0)};ge.hyperbolicTangent=ge.tanh=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,Ot(r.sinh(),r.cosh(),i.precision=e,i.rounding=t)):new i(r.s)};ge.inverseCosine=ge.acos=function(){var e,t=this,r=t.constructor,i=t.abs().cmp(1),u=r.precision,a=r.rounding;return i!==-1?i===0?t.isNeg()?An(r,u,a):new r(0):new r(NaN):t.isZero()?An(r,u+4,a).times(.5):(r.precision=u+6,r.rounding=1,t=t.asin(),e=An(r,u+4,a).times(.5),r.precision=u,r.rounding=a,e.minus(t))};ge.inverseHyperbolicCosine=ge.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,He=!1,r=r.times(r).minus(1).sqrt().plus(r),He=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)};ge.inverseHyperbolicSine=ge.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,He=!1,r=r.times(r).plus(1).sqrt().plus(r),He=!0,i.precision=e,i.rounding=t,r.ln())};ge.inverseHyperbolicTangent=ge.atanh=function(){var e,t,r,i,u=this,a=u.constructor;return u.isFinite()?u.e>=0?new a(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=a.precision,t=a.rounding,i=u.sd(),Math.max(i,e)<2*-u.e-1?Ne(new a(u),e,t,!0):(a.precision=r=i-u.e,u=Ot(u.plus(1),new a(1).minus(u),r+e,1),a.precision=e+4,a.rounding=1,u=u.ln(),a.precision=e,a.rounding=t,u.times(.5))):new a(NaN)};ge.inverseSine=ge.asin=function(){var e,t,r,i,u=this,a=u.constructor;return u.isZero()?new a(u):(t=u.abs().cmp(1),r=a.precision,i=a.rounding,t!==-1?t===0?(e=An(a,r+4,i).times(.5),e.s=u.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,u=u.div(new a(1).minus(u.times(u)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,u.times(2)))};ge.inverseTangent=ge.atan=function(){var e,t,r,i,u,a,l,f,d,p=this,h=p.constructor,o=h.precision,c=h.rounding;if(p.isFinite()){if(p.isZero())return new h(p);if(p.abs().eq(1)&&o+4<=Bl)return l=An(h,o+4,c).times(.25),l.s=p.s,l}else{if(!p.s)return new h(NaN);if(o+4<=Bl)return l=An(h,o+4,c).times(.5),l.s=p.s,l}for(h.precision=f=o+10,h.rounding=1,r=Math.min(28,f/je+2|0),e=r;e;--e)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(He=!1,t=Math.ceil(f/je),i=1,d=p.times(p),l=new h(p),u=p;e!==-1;)if(u=u.times(d),a=l.minus(u.div(i+=2)),u=u.times(d),l=a.plus(u.div(i+=2)),l.d[t]!==void 0)for(e=t;l.d[e]===a.d[e]&&e--;);return r&&(l=l.times(2<<r-1)),He=!0,Ne(l,h.precision=o,h.rounding=c,!0)};ge.isFinite=function(){return!!this.d};ge.isInteger=ge.isInt=function(){return!!this.d&&xr(this.e/je)>this.d.length-2};ge.isNaN=function(){return!this.s};ge.isNegative=ge.isNeg=function(){return this.s<0};ge.isPositive=ge.isPos=function(){return this.s>0};ge.isZero=function(){return!!this.d&&this.d[0]===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r,i,u,a,l,f,d,p=this,h=p.constructor,o=h.precision,c=h.rounding,m=5;if(e==null)e=new h(10),t=!0;else{if(e=new h(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new h(NaN);t=e.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new h(r&&!r[0]?-1/0:p.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(u=r[0];u%10===0;)u/=10;a=u!==1}if(He=!1,f=o+m,l=vi(p,f),i=t?Qa(h,f+10):vi(e,f),d=Ot(l,i,f,1),Yu(d.d,u=o,c))do if(f+=10,l=vi(p,f),i=t?Qa(h,f+10):vi(e,f),d=Ot(l,i,f,1),!a){+Br(d.d).slice(u+1,u+15)+1==1e14&&(d=Ne(d,o+1,0));break}while(Yu(d.d,u+=10,c));return He=!0,Ne(d,o,c)};ge.minus=ge.sub=function(e){var t,r,i,u,a,l,f,d,p,h,o,c,m=this,A=m.constructor;if(e=new A(e),!m.d||!e.d)return!m.s||!e.s?e=new A(NaN):m.d?e.s=-e.s:e=new A(e.d||m.s!==e.s?m:NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(p=m.d,c=e.d,f=A.precision,d=A.rounding,!p[0]||!c[0]){if(c[0])e.s=-e.s;else if(p[0])e=new A(m);else return new A(d===3?-0:0);return He?Ne(e,f,d):e}if(r=xr(e.e/je),h=xr(m.e/je),p=p.slice(),a=h-r,a){for(o=a<0,o?(t=p,a=-a,l=c.length):(t=c,r=h,l=p.length),i=Math.max(Math.ceil(f/je),l)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=p.length,l=c.length,o=i<l,o&&(l=i),i=0;i<l;i++)if(p[i]!=c[i]){o=p[i]<c[i];break}a=0}for(o&&(t=p,p=c,c=t,e.s=-e.s),l=p.length,i=c.length-l;i>0;--i)p[l++]=0;for(i=c.length;i>a;){if(p[--i]<c[i]){for(u=i;u&&p[--u]===0;)p[u]=bn-1;--p[u],p[i]+=bn}p[i]-=c[i]}for(;p[--l]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(e.d=p,e.e=ys(p,r),He?Ne(e,f,d):e):new A(d===3?-0:0)};ge.modulo=ge.mod=function(e){var t,r=this,i=r.constructor;return e=new i(e),!r.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||r.d&&!r.d[0]?Ne(new i(r),i.precision,i.rounding):(He=!1,i.modulo==9?(t=Ot(r,e.abs(),0,3,1),t.s*=e.s):t=Ot(r,e,0,i.modulo,1),t=t.times(e),He=!0,r.minus(t))};ge.naturalExponential=ge.exp=function(){return Ol(this)};ge.naturalLogarithm=ge.ln=function(){return vi(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Ne(e)};ge.plus=ge.add=function(e){var t,r,i,u,a,l,f,d,p,h,o=this,c=o.constructor;if(e=new c(e),!o.d||!e.d)return!o.s||!e.s?e=new c(NaN):o.d||(e=new c(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(p=o.d,h=e.d,f=c.precision,d=c.rounding,!p[0]||!h[0])return h[0]||(e=new c(o)),He?Ne(e,f,d):e;if(a=xr(o.e/je),i=xr(e.e/je),p=p.slice(),u=a-i,u){for(u<0?(r=p,u=-u,l=h.length):(r=h,i=a,l=p.length),a=Math.ceil(f/je),l=a>l?a+1:l+1,u>l&&(u=l,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(l=p.length,u=h.length,l-u<0&&(u=l,r=h,h=p,p=r),t=0;u;)t=(p[--u]=p[u]+h[u]+t)/bn|0,p[u]%=bn;for(t&&(p.unshift(t),++i),l=p.length;p[--l]==0;)p.pop();return e.d=p,e.e=ys(p,i),He?Ne(e,f,d):e};ge.precision=ge.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yi+e);return r.d?(t=Pd(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};ge.round=function(){var e=this,t=e.constructor;return Ne(new t(e),e.e+1,t.rounding)};ge.sine=ge.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+je,i.rounding=1,r=WA(i,kd(i,r)),i.precision=e,i.rounding=t,Ne(Qn>2?r.neg():r,e,t,!0)):new i(NaN)};ge.squareRoot=ge.sqrt=function(){var e,t,r,i,u,a,l=this,f=l.d,d=l.e,p=l.s,h=l.constructor;if(p!==1||!f||!f[0])return new h(!p||p<0&&(!f||f[0])?NaN:f?l:1/0);for(He=!1,p=Math.sqrt(+l),p==0||p==1/0?(t=Br(f),(t.length+d)%2==0&&(t+="0"),p=Math.sqrt(t),d=xr((d+1)/2)-(d<0||d%2),p==1/0?t="5e"+d:(t=p.toExponential(),t=t.slice(0,t.indexOf("e")+1)+d),i=new h(t)):i=new h(p.toString()),r=(d=h.precision)+3;;)if(a=i,i=a.plus(Ot(l,a,r+2,1)).times(.5),Br(a.d).slice(0,r)===(t=Br(i.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(Ne(a,d+1,0),a.times(a).eq(l))){i=a;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Ne(i,d+1,1),e=!i.times(i).eq(l));break}return He=!0,Ne(i,d,h.rounding,e)};ge.tangent=ge.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,r=r.sin(),r.s=1,r=Ot(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,Ne(Qn==2||Qn==4?r.neg():r,e,t,!0)):new i(NaN)};ge.times=ge.mul=function(e){var t,r,i,u,a,l,f,d,p,h=this,o=h.constructor,c=h.d,m=(e=new o(e)).d;if(e.s*=h.s,!c||!c[0]||!m||!m[0])return new o(!e.s||c&&!c[0]&&!m||m&&!m[0]&&!c?NaN:!c||!m?e.s/0:e.s*0);for(r=xr(h.e/je)+xr(e.e/je),d=c.length,p=m.length,d<p&&(a=c,c=m,m=a,l=d,d=p,p=l),a=[],l=d+p,i=l;i--;)a.push(0);for(i=p;--i>=0;){for(t=0,u=d+i;u>i;)f=a[u]+m[i]*c[u-i-1]+t,a[u--]=f%bn|0,t=f/bn|0;a[u]=(a[u]+t)%bn|0}for(;!a[--l];)a.pop();return t?++r:a.shift(),e.d=a,e.e=ys(a,r),He?Ne(e,o.precision,o.rounding):e};ge.toBinary=function(e,t){return Zl(this,2,e,t)};ge.toDecimalPlaces=ge.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),e===void 0?r:(qr(e,0,bi),t===void 0?t=i.rounding:qr(t,0,8),Ne(r,e+r.e+1,t))};ge.toExponential=function(e,t){var r,i=this,u=i.constructor;return e===void 0?r=Rn(i,!0):(qr(e,0,bi),t===void 0?t=u.rounding:qr(t,0,8),i=Ne(new u(i),e+1,t),r=Rn(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toFixed=function(e,t){var r,i,u=this,a=u.constructor;return e===void 0?r=Rn(u):(qr(e,0,bi),t===void 0?t=a.rounding:qr(t,0,8),i=Ne(new a(u),e+u.e+1,t),r=Rn(i,!1,e+i.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};ge.toFraction=function(e){var t,r,i,u,a,l,f,d,p,h,o,c,m=this,A=m.d,g=m.constructor;if(!A)return new g(m);if(p=r=new g(1),i=d=new g(0),t=new g(i),a=t.e=Pd(A)-m.e-1,l=a%je,t.d[0]=dr(10,l<0?je+l:l),e==null)e=a>0?t:p;else{if(f=new g(e),!f.isInt()||f.lt(p))throw Error(yi+f);e=f.gt(t)?a>0?t:p:f}for(He=!1,f=new g(Br(A)),h=g.precision,g.precision=a=A.length*je*2;o=Ot(f,t,0,1,1),u=r.plus(o.times(i)),u.cmp(e)!=1;)r=i,i=u,u=p,p=d.plus(o.times(u)),d=u,u=t,t=f.minus(o.times(u)),f=u;return u=Ot(e.minus(r),i,0,1,1),d=d.plus(u.times(p)),r=r.plus(u.times(i)),d.s=p.s=m.s,c=Ot(p,i,a,1).minus(m).abs().cmp(Ot(d,r,a,1).minus(m).abs())<1?[p,i]:[d,r],g.precision=h,He=!0,c};ge.toHexadecimal=ge.toHex=function(e,t){return Zl(this,16,e,t)};ge.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),e==null){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:qr(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(He=!1,r=Ot(r,e,0,t,1).times(e),He=!0,Ne(r)):(e.s=r.s,r=e),r};ge.toNumber=function(){return+this};ge.toOctal=function(e,t){return Zl(this,8,e,t)};ge.toPower=ge.pow=function(e){var t,r,i,u,a,l,f=this,d=f.constructor,p=+(e=new d(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new d(dr(+f,p));if(f=new d(f),f.eq(1))return f;if(i=d.precision,a=d.rounding,e.eq(1))return Ne(f,i,a);if(t=xr(e.e/je),t>=e.d.length-1&&(r=p<0?-p:p)<=jA)return u=Td(d,f,r,i),e.s<0?new d(1).div(u):Ne(u,i,a);if(l=f.s,l<0){if(t<e.d.length-1)return new d(NaN);if(e.d[t]&1||(l=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=l,f}return r=dr(+f,p),t=r==0||!isFinite(r)?xr(p*(Math.log("0."+Br(f.d))/Math.LN10+f.e+1)):new d(r+"").e,t>d.maxE+1||t<d.minE-1?new d(t>0?l/0:0):(He=!1,d.rounding=f.s=1,r=Math.min(12,(t+"").length),u=Ol(e.times(vi(f,i+r)),i),u.d&&(u=Ne(u,i+5,1),Yu(u.d,i,a)&&(t=i+10,u=Ne(Ol(e.times(vi(f,t+r)),t),t+5,1),+Br(u.d).slice(i+1,i+15)+1==1e14&&(u=Ne(u,i+1,0)))),u.s=l,He=!0,d.rounding=a,Ne(u,i,a))};ge.toPrecision=function(e,t){var r,i=this,u=i.constructor;return e===void 0?r=Rn(i,i.e<=u.toExpNeg||i.e>=u.toExpPos):(qr(e,1,bi),t===void 0?t=u.rounding:qr(t,0,8),i=Ne(new u(i),e,t),r=Rn(i,e<=i.e||i.e<=u.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r};ge.toSignificantDigits=ge.toSD=function(e,t){var r=this,i=r.constructor;return e===void 0?(e=i.precision,t=i.rounding):(qr(e,1,bi),t===void 0?t=i.rounding:qr(t,0,8)),Ne(new i(r),e,t)};ge.toString=function(){var e=this,t=e.constructor,r=Rn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};ge.truncated=ge.trunc=function(){return Ne(new this.constructor(this),this.e+1,1)};ge.valueOf=ge.toJSON=function(){var e=this,t=e.constructor,r=Rn(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Br(e){var t,r,i,u=e.length-1,a="",l=e[0];if(u>0){for(a+=l,t=1;t<u;t++)i=e[t]+"",r=je-i.length,r&&(a+=pi(r)),a+=i;l=e[t],i=l+"",r=je-i.length,r&&(a+=pi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}function qr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yi+e)}function Yu(e,t,r,i){var u,a,l,f;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=je,u=0):(u=Math.ceil((t+1)/je),t%=je),a=dr(10,je-t),f=e[u]%a|0,i==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),l=r<4&&f==99999||r>3&&f==49999||f==5e4||f==0):l=(r<4&&f+1==a||r>3&&f+1==a/2)&&(e[u+1]/a/100|0)==dr(10,t-2)-1||(f==a/2||f==0)&&(e[u+1]/a/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),l=(i||r<4)&&f==9999||!i&&r>3&&f==4999):l=((i||r<4)&&f+1==a||!i&&r>3&&f+1==a/2)&&(e[u+1]/a/1e3|0)==dr(10,t-3)-1,l}function za(e,t,r){for(var i,u=[0],a,l=0,f=e.length;l<f;){for(a=u.length;a--;)u[a]*=t;for(u[0]+=Cl.indexOf(e.charAt(l++)),i=0;i<u.length;i++)u[i]>r-1&&(u[i+1]===void 0&&(u[i+1]=0),u[i+1]+=u[i]/r|0,u[i]%=r)}return u.reverse()}function qA(e,t){var r,i,u;if(t.isZero())return t;i=t.d.length,i<32?(r=Math.ceil(i/3),u=(1/As(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=lu(e,1,t.times(u),new e(1));for(var a=r;a--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=r,t}var Ot=function(){function e(i,u,a){var l,f=0,d=i.length;for(i=i.slice();d--;)l=i[d]*u+f,i[d]=l%a|0,f=l/a|0;return f&&i.unshift(f),i}function t(i,u,a,l){var f,d;if(a!=l)d=a>l?1:-1;else for(f=d=0;f<a;f++)if(i[f]!=u[f]){d=i[f]>u[f]?1:-1;break}return d}function r(i,u,a,l){for(var f=0;a--;)i[a]-=f,f=i[a]<u[a]?1:0,i[a]=f*l+i[a]-u[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,u,a,l,f,d){var p,h,o,c,m,A,g,D,y,C,w,O,F,B,x,T,I,V,J,K,W=i.constructor,G=i.s==u.s?1:-1,j=i.d,H=u.d;if(!j||!j[0]||!H||!H[0])return new W(!i.s||!u.s||(j?H&&j[0]==H[0]:!H)?NaN:j&&j[0]==0||!H?G*0:G/0);for(d?(m=1,h=i.e-u.e):(d=bn,m=je,h=xr(i.e/m)-xr(u.e/m)),J=H.length,I=j.length,y=new W(G),C=y.d=[],o=0;H[o]==(j[o]||0);o++);if(H[o]>(j[o]||0)&&h--,a==null?(B=a=W.precision,l=W.rounding):f?B=a+(i.e-u.e)+1:B=a,B<0)C.push(1),A=!0;else{if(B=B/m+2|0,o=0,J==1){for(c=0,H=H[0],B++;(o<I||c)&&B--;o++)x=c*d+(j[o]||0),C[o]=x/H|0,c=x%H|0;A=c||o<I}else{for(c=d/(H[0]+1)|0,c>1&&(H=e(H,c,d),j=e(j,c,d),J=H.length,I=j.length),T=J,w=j.slice(0,J),O=w.length;O<J;)w[O++]=0;K=H.slice(),K.unshift(0),V=H[0],H[1]>=d/2&&++V;do c=0,p=t(H,w,J,O),p<0?(F=w[0],J!=O&&(F=F*d+(w[1]||0)),c=F/V|0,c>1?(c>=d&&(c=d-1),g=e(H,c,d),D=g.length,O=w.length,p=t(g,w,D,O),p==1&&(c--,r(g,J<D?K:H,D,d))):(c==0&&(p=c=1),g=H.slice()),D=g.length,D<O&&g.unshift(0),r(w,g,O,d),p==-1&&(O=w.length,p=t(H,w,J,O),p<1&&(c++,r(w,J<O?K:H,O,d))),O=w.length):p===0&&(c++,w=[0]),C[o++]=c,p&&w[0]?w[O++]=j[T]||0:(w=[j[T]],O=1);while((T++<I||w[0]!==void 0)&&B--);A=w[0]!==void 0}C[0]||C.shift()}if(m==1)y.e=h,Sd=A;else{for(o=1,c=C[0];c>=10;c/=10)o++;y.e=o+h*m-1,Ne(y,f?a+y.e+1:a,l,A)}return y}}();function Ne(e,t,r,i){var u,a,l,f,d,p,h,o,c,m=e.constructor;e:if(t!=null){if(o=e.d,!o)return e;for(u=1,f=o[0];f>=10;f/=10)u++;if(a=t-u,a<0)a+=je,l=t,h=o[c=0],d=h/dr(10,u-l-1)%10|0;else if(c=Math.ceil((a+1)/je),f=o.length,c>=f)if(i){for(;f++<=c;)o.push(0);h=d=0,u=1,a%=je,l=a-je+1}else break e;else{for(h=f=o[c],u=1;f>=10;f/=10)u++;a%=je,l=a-je+u,d=l<0?0:h/dr(10,u-l-1)%10|0}if(i=i||t<0||o[c+1]!==void 0||(l<0?h:h%dr(10,u-l-1)),p=r<4?(d||i)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||i||r==6&&(a>0?l>0?h/dr(10,u-l):0:o[c-1])%10&1||r==(e.s<0?8:7)),t<1||!o[0])return o.length=0,p?(t-=e.e+1,o[0]=dr(10,(je-t%je)%je),e.e=-t||0):o[0]=e.e=0,e;if(a==0?(o.length=c,f=1,c--):(o.length=c+1,f=dr(10,je-a),o[c]=l>0?(h/dr(10,u-l)%dr(10,l)|0)*f:0),p)for(;;)if(c==0){for(a=1,l=o[0];l>=10;l/=10)a++;for(l=o[0]+=f,f=1;l>=10;l/=10)f++;a!=f&&(e.e++,o[0]==bn&&(o[0]=1));break}else{if(o[c]+=f,o[c]!=bn)break;o[c--]=0,f=1}for(a=o.length;o[--a]===0;)o.pop()}return He&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function Rn(e,t,r){if(!e.isFinite())return Nd(e);var i,u=e.e,a=Br(e.d),l=a.length;return t?(r&&(i=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+pi(i):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):u<0?(a="0."+pi(-u-1)+a,r&&(i=r-l)>0&&(a+=pi(i))):u>=l?(a+=pi(u+1-l),r&&(i=r-u-1)>0&&(a=a+"."+pi(i))):((i=u+1)<l&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-l)>0&&(u+1===l&&(a+="."),a+=pi(i))),a}function ys(e,t){var r=e[0];for(t*=je;r>=10;r/=10)t++;return t}function Qa(e,t,r){if(t>VA)throw He=!0,r&&(e.precision=r),Error(Bd);return Ne(new e(Ja),t,1,!0)}function An(e,t,r){if(t>Bl)throw Error(Bd);return Ne(new e($a),t,r,!0)}function Pd(e){var t=e.length-1,r=t*je+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function pi(e){for(var t="";e--;)t+="0";return t}function Td(e,t,r,i){var u,a=new e(1),l=Math.ceil(i/je+4);for(He=!1;;){if(r%2&&(a=a.times(t),I0(a.d,l)&&(u=!0)),r=xr(r/2),r===0){r=a.d.length-1,u&&a.d[r]===0&&++a.d[r];break}t=t.times(t),I0(t.d,l)}return He=!0,a}function T0(e){return e.d[e.d.length-1]&1}function Id(e,t,r){for(var i,u=new e(t[0]),a=0;++a<t.length;)if(i=new e(t[a]),i.s)u[r](i)&&(u=i);else{u=i;break}return u}function Ol(e,t){var r,i,u,a,l,f,d,p=0,h=0,o=0,c=e.constructor,m=c.rounding,A=c.precision;if(!e.d||!e.d[0]||e.e>17)return new c(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(He=!1,d=A):d=t,f=new c(.03125);e.e>-2;)e=e.times(f),o+=5;for(i=Math.log(dr(2,o))/Math.LN10*2+5|0,d+=i,r=a=l=new c(1),c.precision=d;;){if(a=Ne(a.times(e),d,1),r=r.times(++h),f=l.plus(Ot(a,r,d,1)),Br(f.d).slice(0,d)===Br(l.d).slice(0,d)){for(u=o;u--;)l=Ne(l.times(l),d,1);if(t==null)if(p<3&&Yu(l.d,d-i,m,p))c.precision=d+=10,r=a=f=new c(1),h=0,p++;else return Ne(l,c.precision=A,m,He=!0);else return c.precision=A,l}l=f}}function vi(e,t){var r,i,u,a,l,f,d,p,h,o,c,m=1,A=10,g=e,D=g.d,y=g.constructor,C=y.rounding,w=y.precision;if(g.s<0||!D||!D[0]||!g.e&&D[0]==1&&D.length==1)return new y(D&&!D[0]?-1/0:g.s!=1?NaN:D?0:g);if(t==null?(He=!1,h=w):h=t,y.precision=h+=A,r=Br(D),i=r.charAt(0),Math.abs(a=g.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)g=g.times(e),r=Br(g.d),i=r.charAt(0),m++;a=g.e,i>1?(g=new y("0."+r),a++):g=new y(i+"."+r.slice(1))}else return p=Qa(y,h+2,w).times(a+""),g=vi(new y(i+"."+r.slice(1)),h-A).plus(p),y.precision=w,t==null?Ne(g,w,C,He=!0):g;for(o=g,d=l=g=Ot(g.minus(1),g.plus(1),h,1),c=Ne(g.times(g),h,1),u=3;;){if(l=Ne(l.times(c),h,1),p=d.plus(Ot(l,new y(u),h,1)),Br(p.d).slice(0,h)===Br(d.d).slice(0,h))if(d=d.times(2),a!==0&&(d=d.plus(Qa(y,h+2,w).times(a+""))),d=Ot(d,new y(m),h,1),t==null)if(Yu(d.d,h-A,C,f))y.precision=h+=A,p=l=g=Ot(o.minus(1),o.plus(1),h,1),c=Ne(g.times(g),h,1),u=f=1;else return Ne(d,y.precision=w,C,He=!0);else return y.precision=w,d;d=p,u+=2}}function Nd(e){return String(e.s*e.s/0)}function Ml(e,t){var r,i,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;t.charCodeAt(i)===48;i++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(i,u),t){if(u-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%je,r<0&&(i+=je),i<u){for(i&&e.d.push(+t.slice(0,i)),u-=je;i<u;)e.d.push(+t.slice(i,i+=je));t=t.slice(i),i=je-t.length}else i-=u;for(;i--;)t+="0";e.d.push(+t),He&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function zA(e,t){var r,i,u,a,l,f,d,p,h;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),xd.test(t))return Ml(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(LA.test(t))r=16,t=t.toLowerCase();else if(RA.test(t))r=2;else if(UA.test(t))r=8;else throw Error(yi+t);for(a=t.search(/p/i),a>0?(d=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),l=a>=0,i=e.constructor,l&&(t=t.replace(".",""),f=t.length,a=f-a,u=Td(i,new i(r),a,a*2)),p=za(t,r,bn),h=p.length-1,a=h;p[a]===0;--a)p.pop();return a<0?new i(e.s*0):(e.e=ys(p,h),e.d=p,He=!1,l&&(e=Ot(e,u,f*4)),d&&(e=e.times(Math.abs(d)<54?dr(2,d):fu.pow(2,d))),He=!0,e)}function WA(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:lu(e,2,t,t);r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/As(5,r)),t=lu(e,2,t,t);for(var u,a=new e(5),l=new e(16),f=new e(20);r--;)u=t.times(t),t=t.times(a.plus(u.times(l.times(u).minus(f))));return t}function lu(e,t,r,i,u){var a,l,f,d,p=e.precision,h=Math.ceil(p/je);for(He=!1,d=r.times(r),f=new e(i);;){if(l=Ot(f.times(d),new e(t++*t++),p,1),f=u?i.plus(l):i.minus(l),i=Ot(l.times(d),new e(t++*t++),p,1),l=f.plus(i),l.d[h]!==void 0){for(a=h;l.d[a]===f.d[a]&&a--;);if(a==-1)break}a=f,f=i,i=l,l=a}return He=!0,l.d.length=h+1,l}function As(e,t){for(var r=e;--t;)r*=e;return r}function kd(e,t){var r,i=t.s<0,u=An(e,e.precision,1),a=u.times(.5);if(t=t.abs(),t.lte(a))return Qn=i?4:1,t;if(r=t.divToInt(u),r.isZero())Qn=i?3:2;else{if(t=t.minus(r.times(u)),t.lte(a))return Qn=T0(r)?i?2:3:i?4:1,t;Qn=T0(r)?i?1:4:i?3:2}return t.minus(u).abs()}function Zl(e,t,r,i){var u,a,l,f,d,p,h,o,c,m=e.constructor,A=r!==void 0;if(A?(qr(r,1,bi),i===void 0?i=m.rounding:qr(i,0,8)):(r=m.precision,i=m.rounding),!e.isFinite())h=Nd(e);else{for(h=Rn(e),l=h.indexOf("."),A?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,l>=0&&(h=h.replace(".",""),c=new m(1),c.e=h.length-l,c.d=za(Rn(c),10,u),c.e=c.d.length),o=za(h,10,u),a=d=o.length;o[--d]==0;)o.pop();if(!o[0])h=A?"0p+0":"0";else{if(l<0?a--:(e=new m(e),e.d=o,e.e=a,e=Ot(e,c,r,i,0,u),o=e.d,a=e.e,p=Sd),l=o[r],f=u/2,p=p||o[r+1]!==void 0,p=i<4?(l!==void 0||p)&&(i===0||i===(e.s<0?3:2)):l>f||l===f&&(i===4||p||i===6&&o[r-1]&1||i===(e.s<0?8:7)),o.length=r,p)for(;++o[--r]>u-1;)o[r]=0,r||(++a,o.unshift(1));for(d=o.length;!o[d-1];--d);for(l=0,h="";l<d;l++)h+=Cl.charAt(o[l]);if(A){if(d>1)if(t==16||t==8){for(l=t==16?4:3,--d;d%l;d++)h+="0";for(o=za(h,u,t),d=o.length;!o[d-1];--d);for(l=1,h="1.";l<d;l++)h+=Cl.charAt(o[l])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>d)for(a-=d;a--;)h+="0";else a<d&&(h=h.slice(0,a)+"."+h.slice(a))}h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}return e.s<0?"-"+h:h}function I0(e,t){if(e.length>t)return e.length=t,!0}function HA(e){return new this(e).abs()}function GA(e){return new this(e).acos()}function KA(e){return new this(e).acosh()}function YA(e,t){return new this(e).plus(t)}function ZA(e){return new this(e).asin()}function XA(e){return new this(e).asinh()}function JA(e){return new this(e).atan()}function $A(e){return new this(e).atanh()}function QA(e,t){e=new this(e),t=new this(t);var r,i=this.precision,u=this.rounding,a=i+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=An(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?An(this,i,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=An(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(Ot(e,t,a,1)),t=An(this,a,1),this.precision=i,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Ot(e,t,a,1)),r}function eb(e){return new this(e).cbrt()}function tb(e){return Ne(e=new this(e),e.e+1,2)}function rb(e,t,r){return new this(e).clamp(t,r)}function nb(e){if(!e||typeof e!="object")throw Error(_s+"Object expected");var t,r,i,u=e.defaults===!0,a=["precision",1,bi,"rounding",0,8,"toExpNeg",-uu,0,"toExpPos",0,uu,"maxE",0,uu,"minE",-uu,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],u&&(this[r]=Sl[r]),(i=e[r])!==void 0)if(xr(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(yi+r+": "+i);if(r="crypto",u&&(this[r]=Sl[r]),(i=e[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Od);else this[r]=!1;else throw Error(yi+r+": "+i);return this}function ib(e){return new this(e).cos()}function ub(e){return new this(e).cosh()}function Rd(e){var t,r,i;function u(a){var l,f,d,p=this;if(!(p instanceof u))return new u(a);if(p.constructor=u,N0(a)){p.s=a.s,He?!a.d||a.e>u.maxE?(p.e=NaN,p.d=null):a.e<u.minE?(p.e=0,p.d=[0]):(p.e=a.e,p.d=a.d.slice()):(p.e=a.e,p.d=a.d?a.d.slice():a.d);return}if(d=typeof a,d==="number"){if(a===0){p.s=1/a<0?-1:1,p.e=0,p.d=[0];return}if(a<0?(a=-a,p.s=-1):p.s=1,a===~~a&&a<1e7){for(l=0,f=a;f>=10;f/=10)l++;He?l>u.maxE?(p.e=NaN,p.d=null):l<u.minE?(p.e=0,p.d=[0]):(p.e=l,p.d=[a]):(p.e=l,p.d=[a]);return}else if(a*0!==0){a||(p.s=NaN),p.e=NaN,p.d=null;return}return Ml(p,a.toString())}else if(d!=="string")throw Error(yi+a);return(f=a.charCodeAt(0))===45?(a=a.slice(1),p.s=-1):(f===43&&(a=a.slice(1)),p.s=1),xd.test(a)?Ml(p,a):zA(p,a)}if(u.prototype=ge,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=nb,u.clone=Rd,u.isDecimal=N0,u.abs=HA,u.acos=GA,u.acosh=KA,u.add=YA,u.asin=ZA,u.asinh=XA,u.atan=JA,u.atanh=$A,u.atan2=QA,u.cbrt=eb,u.ceil=tb,u.clamp=rb,u.cos=ib,u.cosh=ub,u.div=ab,u.exp=sb,u.floor=ob,u.hypot=lb,u.ln=fb,u.log=cb,u.log10=db,u.log2=hb,u.max=pb,u.min=vb,u.mod=gb,u.mul=mb,u.pow=Db,u.random=_b,u.round=yb,u.sign=Ab,u.sin=bb,u.sinh=wb,u.sqrt=Eb,u.sub=Fb,u.sum=Cb,u.tan=Sb,u.tanh=Bb,u.trunc=Ob,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return u.config(e),u}function ab(e,t){return new this(e).div(t)}function sb(e){return new this(e).exp()}function ob(e){return Ne(e=new this(e),e.e+1,3)}function lb(){var e,t,r=new this(0);for(He=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return He=!0,new this(1/0);r=t}return He=!0,r.sqrt()}function N0(e){return e instanceof fu||e&&e.toStringTag===Md||!1}function fb(e){return new this(e).ln()}function cb(e,t){return new this(e).log(t)}function hb(e){return new this(e).log(2)}function db(e){return new this(e).log(10)}function pb(){return Id(this,arguments,"lt")}function vb(){return Id(this,arguments,"gt")}function gb(e,t){return new this(e).mod(t)}function mb(e,t){return new this(e).mul(t)}function Db(e,t){return new this(e).pow(t)}function _b(e){var t,r,i,u,a=0,l=new this(1),f=[];if(e===void 0?e=this.precision:qr(e,1,bi),i=Math.ceil(e/je),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)u=t[a],u>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:f[a++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)u=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,a):(f.push(u%1e7),a+=4);a=i/4}else throw Error(Od);else for(;a<i;)f[a++]=Math.random()*1e7|0;for(i=f[--a],e%=je,i&&e&&(u=dr(10,je-e),f[a]=(i/u|0)*u);f[a]===0;a--)f.pop();if(a<0)r=0,f=[0];else{for(r=-1;f[0]===0;r-=je)f.shift();for(i=1,u=f[0];u>=10;u/=10)i++;i<je&&(r-=je-i)}return l.e=r,l.d=f,l}function yb(e){return Ne(e=new this(e),e.e+1,this.rounding)}function Ab(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function bb(e){return new this(e).sin()}function wb(e){return new this(e).sinh()}function Eb(e){return new this(e).sqrt()}function Fb(e,t){return new this(e).sub(t)}function Cb(){var e=0,t=arguments,r=new this(t[e]);for(He=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return He=!0,Ne(r,this.precision,this.rounding)}function Sb(e){return new this(e).tan()}function Bb(e){return new this(e).tanh()}function Ob(e){return Ne(e=new this(e),e.e+1,1)}ge[Symbol.for("nodejs.util.inspect.custom")]=ge.toString;ge[Symbol.toStringTag]="Decimal";var fu=ge.constructor=Rd(Sl);Ja=new fu(Ja);$a=new fu($a);var Mb="BigNumber",xb=["?on","config"],Pb=Ct(Mb,xb,e=>{var{on:t,config:r}=e,i=fu.clone({precision:r.precision,modulo:fu.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(u){return new i(u.value)},t&&t("config",function(u,a){u.precision!==a.precision&&i.config({precision:u.precision})}),i},{isClass:!0}),or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xl={},Tb={get exports(){return xl},set exports(e){xl=e}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var i=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},u=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},a=function(o){var c=Math.PI/4;if(-c>o||o>c)return Math.cos(o)-1;var m=o*o;return m*(m*(m*(m*(m*(m*(m*(m/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},l=function(o,c){var m=Math.abs(o),A=Math.abs(c);return m<3e3&&A<3e3?Math.sqrt(m*m+A*A):(m<A?(m=A,A=o/c):A=c/o,m*Math.sqrt(1+A*A))},f=function(){throw SyntaxError("Invalid Param")};function d(o,c){var m=Math.abs(o),A=Math.abs(c);return o===0?Math.log(A):c===0?Math.log(m):m<3e3&&A<3e3?Math.log(o*o+c*c)*.5:(o=o/2,c=c/2,.5*Math.log(o*o+c*c)+Math.LN2)}var p=function(o,c){var m={re:0,im:0};if(o==null)m.re=m.im=0;else if(c!==void 0)m.re=o,m.im=c;else switch(typeof o){case"object":if("im"in o&&"re"in o)m.re=o.re,m.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return h.INFINITY;m.re=o.abs*Math.cos(o.arg),m.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return h.INFINITY;m.re=o.r*Math.cos(o.phi),m.im=o.r*Math.sin(o.phi)}else o.length===2?(m.re=o[0],m.im=o[1]):f();break;case"string":m.im=m.re=0;var A=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,D=0;A===null&&f();for(var y=0;y<A.length;y++){var C=A[y];C===" "||C==="	"||C===`
`||(C==="+"?g++:C==="-"?D++:C==="i"||C==="I"?(g+D===0&&f(),A[y+1]!==" "&&!isNaN(A[y+1])?(m.im+=parseFloat((D%2?"-":"")+A[y+1]),y++):m.im+=parseFloat((D%2?"-":"")+"1"),g=D=0):((g+D===0||isNaN(C))&&f(),A[y+1]==="i"||A[y+1]==="I"?(m.im+=parseFloat((D%2?"-":"")+C),y++):m.re+=parseFloat((D%2?"-":"")+C),g=D=0))}g+D>0&&f();break;case"number":m.im=0,m.re=o;break;default:f()}return isNaN(m.re)||isNaN(m.im),m};function h(o,c){if(!(this instanceof h))return new h(o,c);var m=p(o,c);this.re=m.re,this.im=m.im}h.prototype={re:0,im:0,sign:function(){var o=this.abs();return new h(this.re/o,this.im/o)},add:function(o,c){var m=new h(o,c);return this.isInfinite()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:new h(this.re+m.re,this.im+m.im)},sub:function(o,c){var m=new h(o,c);return this.isInfinite()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:new h(this.re-m.re,this.im-m.im)},mul:function(o,c){var m=new h(o,c);return this.isInfinite()&&m.isZero()||this.isZero()&&m.isInfinite()?h.NAN:this.isInfinite()||m.isInfinite()?h.INFINITY:m.im===0&&this.im===0?new h(this.re*m.re,0):new h(this.re*m.re-this.im*m.im,this.re*m.im+this.im*m.re)},div:function(o,c){var m=new h(o,c);if(this.isZero()&&m.isZero()||this.isInfinite()&&m.isInfinite())return h.NAN;if(this.isInfinite()||m.isZero())return h.INFINITY;if(this.isZero()||m.isInfinite())return h.ZERO;o=this.re,c=this.im;var A=m.re,g=m.im,D,y;return g===0?new h(o/A,c/A):Math.abs(A)<Math.abs(g)?(y=A/g,D=A*y+g,new h((o*y+c)/D,(c*y-o)/D)):(y=g/A,D=g*y+A,new h((o+c*y)/D,(c-o*y)/D))},pow:function(o,c){var m=new h(o,c);if(o=this.re,c=this.im,m.isZero())return h.ONE;if(m.im===0){if(c===0&&o>0)return new h(Math.pow(o,m.re),0);if(o===0)switch((m.re%4+4)%4){case 0:return new h(Math.pow(c,m.re),0);case 1:return new h(0,Math.pow(c,m.re));case 2:return new h(-Math.pow(c,m.re),0);case 3:return new h(0,-Math.pow(c,m.re))}}if(o===0&&c===0&&m.re>0&&m.im>=0)return h.ZERO;var A=Math.atan2(c,o),g=d(o,c);return o=Math.exp(m.re*g-m.im*A),c=m.im*g+m.re*A,new h(o*Math.cos(c),o*Math.sin(c))},sqrt:function(){var o=this.re,c=this.im,m=this.abs(),A,g;if(o>=0){if(c===0)return new h(Math.sqrt(o),0);A=.5*Math.sqrt(2*(m+o))}else A=Math.abs(c)/Math.sqrt(2*(m-o));return o<=0?g=.5*Math.sqrt(2*(m-o)):g=Math.abs(c)/Math.sqrt(2*(m+o)),new h(A,c<0?-g:g)},exp:function(){var o=Math.exp(this.re);return this.im,new h(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,c=this.im;return new h(Math.expm1(o)*Math.cos(c)+a(c),Math.exp(o)*Math.sin(c))},log:function(){var o=this.re,c=this.im;return new h(d(o,c),Math.atan2(c,o))},abs:function(){return l(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,c=this.im;return new h(Math.sin(o)*i(c),Math.cos(o)*u(c))},cos:function(){var o=this.re,c=this.im;return new h(Math.cos(o)*i(c),-Math.sin(o)*u(c))},tan:function(){var o=2*this.re,c=2*this.im,m=Math.cos(o)+i(c);return new h(Math.sin(o)/m,u(c)/m)},cot:function(){var o=2*this.re,c=2*this.im,m=Math.cos(o)-i(c);return new h(-Math.sin(o)/m,u(c)/m)},sec:function(){var o=this.re,c=this.im,m=.5*i(2*c)+.5*Math.cos(2*o);return new h(Math.cos(o)*i(c)/m,Math.sin(o)*u(c)/m)},csc:function(){var o=this.re,c=this.im,m=.5*i(2*c)-.5*Math.cos(2*o);return new h(Math.sin(o)*i(c)/m,-Math.cos(o)*u(c)/m)},asin:function(){var o=this.re,c=this.im,m=new h(c*c-o*o+1,-2*o*c).sqrt(),A=new h(m.re-c,m.im+o).log();return new h(A.im,-A.re)},acos:function(){var o=this.re,c=this.im,m=new h(c*c-o*o+1,-2*o*c).sqrt(),A=new h(m.re-c,m.im+o).log();return new h(Math.PI/2-A.im,A.re)},atan:function(){var o=this.re,c=this.im;if(o===0){if(c===1)return new h(0,1/0);if(c===-1)return new h(0,-1/0)}var m=o*o+(1-c)*(1-c),A=new h((1-c*c-o*o)/m,-2*o/m).log();return new h(-.5*A.im,.5*A.re)},acot:function(){var o=this.re,c=this.im;if(c===0)return new h(Math.atan2(1,o),0);var m=o*o+c*c;return m!==0?new h(o/m,-c/m).atan():new h(o!==0?o/0:0,c!==0?-c/0:0).atan()},asec:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new h(0,1/0);var m=o*o+c*c;return m!==0?new h(o/m,-c/m).acos():new h(o!==0?o/0:0,c!==0?-c/0:0).acos()},acsc:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new h(Math.PI/2,1/0);var m=o*o+c*c;return m!==0?new h(o/m,-c/m).asin():new h(o!==0?o/0:0,c!==0?-c/0:0).asin()},sinh:function(){var o=this.re,c=this.im;return new h(u(o)*Math.cos(c),i(o)*Math.sin(c))},cosh:function(){var o=this.re,c=this.im;return new h(i(o)*Math.cos(c),u(o)*Math.sin(c))},tanh:function(){var o=2*this.re,c=2*this.im,m=i(o)+Math.cos(c);return new h(u(o)/m,Math.sin(c)/m)},coth:function(){var o=2*this.re,c=2*this.im,m=i(o)-Math.cos(c);return new h(u(o)/m,-Math.sin(c)/m)},csch:function(){var o=this.re,c=this.im,m=Math.cos(2*c)-i(2*o);return new h(-2*u(o)*Math.cos(c)/m,2*i(o)*Math.sin(c)/m)},sech:function(){var o=this.re,c=this.im,m=Math.cos(2*c)+i(2*o);return new h(2*i(o)*Math.cos(c)/m,-2*u(o)*Math.sin(c)/m)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var c=this.asin();return this.re=-this.im,this.im=o,o=c.re,c.re=-c.im,c.im=o,c},acosh:function(){var o=this.acos();if(o.im<=0){var c=o.re;o.re=-o.im,o.im=c}else{var c=o.im;o.im=-o.re,o.re=c}return o},atanh:function(){var o=this.re,c=this.im,m=o>1&&c===0,A=1-o,g=1+o,D=A*A+c*c,y=D!==0?new h((g*A-c*c)/D,(c*A+g*c)/D):new h(o!==-1?o/0:0,c!==0?c/0:0),C=y.re;return y.re=d(y.re,y.im)/2,y.im=Math.atan2(y.im,C)/2,m&&(y.im=-y.im),y},acoth:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new h(0,Math.PI/2);var m=o*o+c*c;return m!==0?new h(o/m,-c/m).atanh():new h(o!==0?o/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var o=this.re,c=this.im;if(c===0)return new h(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var m=o*o+c*c;return m!==0?new h(o/m,-c/m).asinh():new h(o!==0?o/0:0,c!==0?-c/0:0).asinh()},asech:function(){var o=this.re,c=this.im;if(this.isZero())return h.INFINITY;var m=o*o+c*c;return m!==0?new h(o/m,-c/m).acosh():new h(o!==0?o/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var o=this.re,c=this.im,m=o*o+c*c;return new h(o/m,-c/m)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new h(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new h(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new h(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,c){var m=new h(o,c);return Math.abs(m.re-this.re)<=h.EPSILON&&Math.abs(m.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var o=this.re,c=this.im,m="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<h.EPSILON&&(o=0),Math.abs(c)<h.EPSILON&&(c=0),c===0?m+o:(o!==0?(m+=o,m+=" ",c<0?(c=-c,m+="-"):m+="+",m+=" "):c<0&&(c=-c,m+="-"),c!==1&&(m+=c),m+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-15,Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Complex=h,e.exports=h})()})(Tb);const Fr=Xl(xl);var Ib="Complex",Nb=[],kb=Ct(Ib,Nb,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(e){var t="",r=this.im,i=this.re,u=El(this.re,e),a=El(this.im,e),l=Ht(e)?e:e?e.precision:null;if(l!==null){var f=Math.pow(10,-l);Math.abs(i/r)<f&&(i=0),Math.abs(r/i)<f&&(r=0)}return r===0?t=u:i===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=u+" - i":t=u+" - "+a.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+a+"i",t},Fr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Fr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(Ht(r)){if(vd(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Ht(i))return new Fr({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(e){return new Fr(e)},Fr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Fr),{isClass:!0}),Pl={},Rb={get exports(){return Pl},set exports(e){Pl=e}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var i=2e3,u={s:1,n:0,d:1};function a(A,g){if(isNaN(A=parseInt(A,10)))throw m.InvalidParameter;return A*g}function l(A,g){if(g===0)throw m.DivisionByZero;var D=Object.create(m.prototype);D.s=A<0?-1:1,A=A<0?-A:A;var y=c(A,g);return D.n=A/y,D.d=g/y,D}function f(A){for(var g={},D=A,y=2,C=4;C<=D;){for(;D%y===0;)D/=y,g[y]=(g[y]||0)+1;C+=1+2*y++}return D!==A?D>1&&(g[D]=(g[D]||0)+1):g[A]=(g[A]||0)+1,g}var d=function(A,g){var D=0,y=1,C=1,w=0,O=0,F=0,B=1,x=1,T=0,I=1,V=1,J=1,K=1e7,W;if(A!=null)if(g!==void 0){if(D=A,y=g,C=D*y,D%1!==0||y%1!==0)throw m.NonIntegerParameter}else switch(typeof A){case"object":{if("d"in A&&"n"in A)D=A.n,y=A.d,"s"in A&&(D*=A.s);else if(0 in A)D=A[0],1 in A&&(y=A[1]);else throw m.InvalidParameter;C=D*y;break}case"number":{if(A<0&&(C=A,A=-A),A%1===0)D=A;else if(A>0){for(A>=1&&(x=Math.pow(10,Math.floor(1+Math.log(A)/Math.LN10)),A/=x);I<=K&&J<=K;)if(W=(T+V)/(I+J),A===W){I+J<=K?(D=T+V,y=I+J):J>I?(D=V,y=J):(D=T,y=I);break}else A>W?(T+=V,I+=J):(V+=T,J+=I),I>K?(D=V,y=J):(D=T,y=I);D*=x}else(isNaN(A)||isNaN(g))&&(y=D=NaN);break}case"string":{if(I=A.match(/\d+|./g),I===null)throw m.InvalidParameter;if(I[T]==="-"?(C=-1,T++):I[T]==="+"&&T++,I.length===T+1?O=a(I[T++],C):I[T+1]==="."||I[T]==="."?(I[T]!=="."&&(w=a(I[T++],C)),T++,(T+1===I.length||I[T+1]==="("&&I[T+3]===")"||I[T+1]==="'"&&I[T+3]==="'")&&(O=a(I[T],C),B=Math.pow(10,I[T].length),T++),(I[T]==="("&&I[T+2]===")"||I[T]==="'"&&I[T+2]==="'")&&(F=a(I[T+1],C),x=Math.pow(10,I[T+1].length)-1,T+=3)):I[T+1]==="/"||I[T+1]===":"?(O=a(I[T],C),B=a(I[T+2],1),T+=3):I[T+3]==="/"&&I[T+1]===" "&&(w=a(I[T],C),O=a(I[T+2],C),B=a(I[T+4],1),T+=5),I.length<=T){y=B*x,C=D=F+y*w+x*O;break}}default:throw m.InvalidParameter}if(y===0)throw m.DivisionByZero;u.s=C<0?-1:1,u.n=Math.abs(D),u.d=Math.abs(y)};function p(A,g,D){for(var y=1;g>0;A=A*A%D,g>>=1)g&1&&(y=y*A%D);return y}function h(A,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var D=10%g,y=1;D!==1;y++)if(D=D*10%g,y>i)return 0;return y}function o(A,g,D){for(var y=1,C=p(10,D,g),w=0;w<300;w++){if(y===C)return w;y=y*10%g,C=C*10%g}return 0}function c(A,g){if(!A)return g;if(!g)return A;for(;;){if(A%=g,!A)return g;if(g%=A,!g)return A}}function m(A,g){if(d(A,g),this instanceof m)A=c(u.d,u.n),this.s=u.s,this.n=u.n/A,this.d=u.d/A;else return l(u.s*u.n,u.d)}m.DivisionByZero=new Error("Division by Zero"),m.InvalidParameter=new Error("Invalid argument"),m.NonIntegerParameter=new Error("Parameters must be integer"),m.prototype={s:1,n:0,d:1,abs:function(){return l(this.n,this.d)},neg:function(){return l(-this.s*this.n,this.d)},add:function(A,g){return d(A,g),l(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(A,g){return d(A,g),l(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(A,g){return d(A,g),l(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(A,g){return d(A,g),l(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return l(this.s*this.n,this.d)},mod:function(A,g){if(isNaN(this.n)||isNaN(this.d))return new m(NaN);if(A===void 0)return l(this.s*this.n%this.d,1);if(d(A,g),u.n===0&&this.d===0)throw m.DivisionByZero;return l(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(A,g){return d(A,g),l(c(u.n,this.n)*c(u.d,this.d),u.d*this.d)},lcm:function(A,g){return d(A,g),u.n===0&&this.n===0?l(0,1):l(u.n*this.n,c(u.n,this.n)*c(u.d,this.d))},ceil:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.ceil(A*this.s*this.n/this.d),A)},floor:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.floor(A*this.s*this.n/this.d),A)},round:function(A){return A=Math.pow(10,A||0),isNaN(this.n)||isNaN(this.d)?new m(NaN):l(Math.round(A*this.s*this.n/this.d),A)},inverse:function(){return l(this.s*this.d,this.n)},pow:function(A,g){if(d(A,g),u.d===1)return u.s<0?l(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):l(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var D=f(this.n),y=f(this.d),C=1,w=1;for(var O in D)if(O!=="1"){if(O==="0"){C=0;break}if(D[O]*=u.n,D[O]%u.d===0)D[O]/=u.d;else return null;C*=Math.pow(O,D[O])}for(var O in y)if(O!=="1"){if(y[O]*=u.n,y[O]%u.d===0)y[O]/=u.d;else return null;w*=Math.pow(O,y[O])}return u.s<0?l(w,C):l(C,w)},equals:function(A,g){return d(A,g),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(A,g){d(A,g);var D=this.s*this.n*u.d-u.s*u.n*this.d;return(0<D)-(D<0)},simplify:function(A){if(isNaN(this.n)||isNaN(this.d))return this;A=A||.001;for(var g=this.abs(),D=g.toContinued(),y=1;y<D.length;y++){for(var C=l(D[y-1],1),w=y-2;w>=0;w--)C=C.inverse().add(D[w]);if(C.sub(g).abs().valueOf()<A)return C.mul(this.s)}return this},divisible:function(A,g){return d(A,g),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(A){var g,D="",y=this.n,C=this.d;return this.s<0&&(D+="-"),C===1?D+=y:(A&&(g=Math.floor(y/C))>0&&(D+=g,D+=" ",y%=C),D+=y,D+="/",D+=C),D},toLatex:function(A){var g,D="",y=this.n,C=this.d;return this.s<0&&(D+="-"),C===1?D+=y:(A&&(g=Math.floor(y/C))>0&&(D+=g,y%=C),D+="\\frac{",D+=y,D+="}{",D+=C,D+="}"),D},toContinued:function(){var A,g=this.n,D=this.d,y=[];if(isNaN(g)||isNaN(D))return y;do y.push(Math.floor(g/D)),A=g%D,g=D,D=A;while(g!==1);return y},toString:function(A){var g=this.n,D=this.d;if(isNaN(g)||isNaN(D))return"NaN";A=A||15;var y=h(g,D),C=o(g,D,y),w=this.s<0?"-":"";if(w+=g/D|0,g%=D,g*=10,g&&(w+="."),y){for(var O=C;O--;)w+=g/D|0,g%=D,g*=10;w+="(";for(var O=y;O--;)w+=g/D|0,g%=D,g*=10;w+=")"}else for(var O=A;g&&O--;)w+=g/D|0,g%=D,g*=10;return w}},Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Fraction=m,e.exports=m})()})(Rb);const $n=Xl(Pl);var Lb="Fraction",Ub=[],jb=Ct(Lb,Ub,()=>(Object.defineProperty($n,"name",{value:"Fraction"}),$n.prototype.constructor=$n,$n.prototype.type="Fraction",$n.prototype.isFraction=!0,$n.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},$n.fromJSON=function(e){return new $n(e)},$n),{isClass:!0}),Vb="Matrix",qb=[],zb=Ct(Vb,qb,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Ld(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var i=(r.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var Wb="DenseMatrix",Hb=["Matrix"],Gb=Ct(Wb,Hb,e=>{var{Matrix:t}=e;function r(h,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!In(o))throw new Error("Invalid datatype: "+o);if(kr(h))h.type==="DenseMatrix"?(this._data=_r(h._data),this._size=_r(h._size),this._datatype=o||h._datatype):(this._data=h.toArray(),this._size=h.size(),this._datatype=o||h._datatype);else if(h&&qt(h.data)&&qt(h.size))this._data=h.data,this._size=h.size,x0(this._data,this._size),this._datatype=o||h.datatype;else if(qt(h))this._data=p(h),this._size=_i(this._data),x0(this._data,this._size),this._datatype=o;else{if(h)throw new TypeError("Unsupported type of data ("+Gu(h)+")");this._data=[],this._size=[0],this._datatype=o}}r.prototype=new t,r.prototype.createDenseMatrix=function(h,o){return new r(h,o)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Xa(this._data,Gu)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(h,o){return new r(h,o)},r.prototype.subset=function(h,o,c){switch(arguments.length){case 1:return i(this,h);case 2:case 3:return a(this,h,o,c);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(h){if(!qt(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Et(h.length,this._size.length);for(var o=0;o<h.length;o++)zt(h[o],this._size[o]);for(var c=this._data,m=0,A=h.length;m<A;m++){var g=h[m];zt(g,c.length),c=c[g]}return c},r.prototype.set=function(h,o,c){if(!qt(h))throw new TypeError("Array expected");if(h.length<this._size.length)throw new Et(h.length,this._size.length,"<");var m,A,g,D=h.map(function(C){return C+1});d(this,D,c);var y=this._data;for(m=0,A=h.length-1;m<A;m++)g=h[m],zt(g,y.length),y=y[g];return g=h[h.length-1],zt(g,y.length),y[g]=o,this};function i(h,o){if(!Kl(o))throw new TypeError("Invalid index");var c=o.isScalar();if(c)return h.get(o.min());var m=o.size();if(m.length!==h._size.length)throw new Et(m.length,h._size.length);for(var A=o.min(),g=o.max(),D=0,y=h._size.length;D<y;D++)zt(A[D],h._size[D]),zt(g[D],h._size[D]);return new r(u(h._data,o,m.length,0),h._datatype)}function u(h,o,c,m){var A=m===c-1,g=o.dimension(m);return A?g.map(function(D){return zt(D,h.length),h[D]}).valueOf():g.map(function(D){zt(D,h.length);var y=h[D];return u(y,o,c,m+1)}).valueOf()}function a(h,o,c,m){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var A=o.size(),g=o.isScalar(),D;if(kr(c)?(D=c.size(),c=c.valueOf()):D=_i(c),g){if(D.length!==0)throw new TypeError("Scalar expected");h.set(o.min(),c,m)}else{if(A.length<h._size.length)throw new Et(A.length,h._size.length,"<");if(D.length<A.length){for(var y=0,C=0;A[y]===1&&D[y]===1;)y++;for(;A[y]===1;)C++,y++;c=bd(c,A.length,C,D)}if(!Ya(A,D))throw new Et(A,D,">");var w=o.max().map(function(B){return B+1});d(h,w,m);var O=A.length,F=0;l(h._data,o,c,O,F)}return h}function l(h,o,c,m,A){var g=A===m-1,D=o.dimension(A);g?D.forEach(function(y,C){zt(y),h[y]=c[C[0]]}):D.forEach(function(y,C){zt(y),l(h[y],o,c[C[0]],m,A+1)})}r.prototype.resize=function(h,o,c){if(!Ka(h))throw new TypeError("Array or Matrix expected");var m=h.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),A=c?this.clone():this;return f(A,m,o)};function f(h,o,c){if(o.length===0){for(var m=h._data;qt(m);)m=m[0];return m}return h._size=o.slice(0),h._data=P0(h._data,h._size,c),h}r.prototype.reshape=function(h,o){var c=o?this.clone():this;c._data=yA(c._data,h);var m=c._size.reduce((A,g)=>A*g);return c._size=Yl(h,m),c};function d(h,o,c){for(var m=h._size.slice(0),A=!1;m.length<o.length;)m.push(0),A=!0;for(var g=0,D=o.length;g<D;g++)o[g]>m[g]&&(m[g]=o[g],A=!0);A&&f(h,m,c)}r.prototype.clone=function(){var h=new r({data:_r(this._data),size:_r(this._size),datatype:this._datatype});return h},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(h){var o=this,c=Ld(h),m=function D(y,C){return qt(y)?y.map(function(w,O){return D(w,C.concat(O))}):c===1?h(y):c===2?h(y,C):h(y,C,o)},A=m(this._data,[]),g=this._datatype!==void 0?Xa(A,Gu):void 0;return new r(A,g)},r.prototype.forEach=function(h){var o=this,c=function m(A,g){qt(A)?A.forEach(function(D,y){m(D,g.concat(y))}):h(A,g,o)};c(this._data,[])},r.prototype[Symbol.iterator]=function*(){var h=function*o(c,m){if(qt(c))for(var A=0;A<c.length;A++)yield*o(c[A],m.concat(A));else yield{value:c,index:m}};yield*h(this._data,[])},r.prototype.rows=function(){var h=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var m of c)h.push(new r([m],this._datatype));return h},r.prototype.columns=function(){var h=this,o=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,A=function(y){var C=m.map(w=>[w[y]]);o.push(new r(C,h._datatype))},g=0;g<c[1];g++)A(g);return o},r.prototype.toArray=function(){return _r(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(h){return Vr(this._data,h)},r.prototype.toString=function(){return Vr(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(h){if(h){if(hn(h)&&(h=h.toNumber()),!Ht(h)||!yr(h))throw new TypeError("The parameter k must be an integer number")}else h=0;for(var o=h>0?h:0,c=h<0?-h:0,m=this._size[0],A=this._size[1],g=Math.min(m-c,A-o),D=[],y=0;y<g;y++)D[y]=this._data[y+c][y+o];return new r({data:D,size:[g],datatype:this._datatype})},r.diagonal=function(h,o,c,m){if(!qt(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(x){if(hn(x)&&(x=x.toNumber()),!Ht(x)||!yr(x)||x<1)throw new Error("Size values must be positive integers");return x}),c){if(hn(c)&&(c=c.toNumber()),!Ht(c)||!yr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var A=c>0?c:0,g=c<0?-c:0,D=h[0],y=h[1],C=Math.min(D-g,y-A),w;if(qt(o)){if(o.length!==C)throw new Error("Invalid value array length");w=function(T){return o[T]}}else if(kr(o)){var O=o.size();if(O.length!==1||O[0]!==C)throw new Error("Invalid matrix length");w=function(T){return o.get([T])}}else w=function(){return o};m||(m=hn(w(0))?w(0).mul(0):0);var F=[];if(h.length>0){F=P0(F,h,m);for(var B=0;B<C;B++)F[B+g][B+A]=w(B)}return new r({data:F,size:[D,y]})},r.fromJSON=function(h){return new r(h)},r.prototype.swapRows=function(h,o){if(!Ht(h)||!yr(h)||!Ht(o)||!yr(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(h,this._size[0]),zt(o,this._size[0]),r._swapRows(h,o,this._data),this},r._swapRows=function(h,o,c){var m=c[h];c[h]=c[o],c[o]=m};function p(h){for(var o=0,c=h.length;o<c;o++){var m=h[o];qt(m)?h[o]=p(m):m&&m.isMatrix===!0&&(h[o]=p(m.valueOf()))}return h}return r},{isClass:!0});function Jl(e,t,r){return e&&typeof e.map=="function"?e.map(function(i){return Jl(i,t)}):t(e)}var k0="isInteger",Kb=["typed"],Yb=Ct(k0,Kb,e=>{var{typed:t}=e;return t(k0,{number:yr,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":t.referToSelf(r=>i=>Jl(i,r))})}),Ud="number, number";function jd(e,t){return e+t}jd.signature=Ud;function Vd(e,t){return e*t}Vd.signature=Ud;function Zb(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var i=e.minus(t).abs();if(i.isZero())return!0;var u=e.constructor.max(e.abs(),t.abs());return i.lte(u.times(r))}return!1}function Xb(e,t,r){return Za(e.re,t.re,r)&&Za(e.im,t.im,r)}var Jb=Ct("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(i,u)=>{if(!i.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[i.valueType(),u.valueType()])(i.value,u.value)})}}),es="equalScalar",$b=["typed","config"],Qb=Ct(es,$b,e=>{var{typed:t,config:r}=e,i=Jb({typed:t});return t(es,{"boolean, boolean":function(a,l){return a===l},"number, number":function(a,l){return Za(a,l,r.epsilon)},"BigNumber, BigNumber":function(a,l){return a.eq(l)||Zb(a,l,r.epsilon)},"Fraction, Fraction":function(a,l){return a.equals(l)},"Complex, Complex":function(a,l){return Xb(a,l,r.epsilon)}},i)});Ct(es,["typed","config"],e=>{var{typed:t,config:r}=e;return t(es,{"number, number":function(u,a){return Za(u,a,r.epsilon)}})});var ew="SparseMatrix",tw=["typed","equalScalar","Matrix"],rw=Ct(ew,tw,e=>{var{typed:t,equalScalar:r,Matrix:i}=e;function u(g,D){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!In(D))throw new Error("Invalid datatype: "+D);if(kr(g))a(this,g,D);else if(g&&qt(g.index)&&qt(g.ptr)&&qt(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=D||g.datatype;else if(qt(g))l(this,g,D);else{if(g)throw new TypeError("Unsupported type of data ("+Gu(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function a(g,D,y){D.type==="SparseMatrix"?(g._values=D._values?_r(D._values):void 0,g._index=_r(D._index),g._ptr=_r(D._ptr),g._size=_r(D._size),g._datatype=y||D._datatype):l(g,D.valueOf(),y||D._datatype)}function l(g,D,y){g._values=[],g._index=[],g._ptr=[],g._datatype=y;var C=D.length,w=0,O=r,F=0;if(In(y)&&(O=t.find(r,[y,y])||r,F=t.convert(0,y)),C>0){var B=0;do{g._ptr.push(g._index.length);for(var x=0;x<C;x++){var T=D[x];if(qt(T)){if(B===0&&w<T.length&&(w=T.length),B<T.length){var I=T[B];O(I,F)||(g._values.push(I),g._index.push(x))}}else B===0&&w<1&&(w=1),O(T,F)||(g._values.push(T),g._index.push(x))}B++}while(B<w)}g._ptr.push(g._index.length),g._size=[C,w]}u.prototype=new i,u.prototype.createSparseMatrix=function(g,D){return new u(g,D)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Xa(this._values,Gu)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(g,D){return new u(g,D)},u.prototype.density=function(){var g=this._size[0],D=this._size[1];return g!==0&&D!==0?this._index.length/(g*D):0},u.prototype.subset=function(g,D,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,g);case 2:case 3:return d(this,g,D,y);default:throw new SyntaxError("Wrong number of arguments")}};function f(g,D){if(!Kl(D))throw new TypeError("Invalid index");var y=D.isScalar();if(y)return g.get(D.min());var C=D.size();if(C.length!==g._size.length)throw new Et(C.length,g._size.length);var w,O,F,B,x=D.min(),T=D.max();for(w=0,O=g._size.length;w<O;w++)zt(x[w],g._size[w]),zt(T[w],g._size[w]);var I=g._values,V=g._index,J=g._ptr,K=D.dimension(0),W=D.dimension(1),G=[],j=[];K.forEach(function(ve,we){j[ve]=we[0],G[ve]=!0});var H=I?[]:void 0,re=[],he=[];return W.forEach(function(ve){for(he.push(re.length),F=J[ve],B=J[ve+1];F<B;F++)w=V[F],G[w]===!0&&(re.push(j[w]),H&&H.push(I[F]))}),he.push(re.length),new u({values:H,index:re,ptr:he,size:C,datatype:g._datatype})}function d(g,D,y,C){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var w=D.size(),O=D.isScalar(),F;if(kr(y)?(F=y.size(),y=y.toArray()):F=_i(y),O){if(F.length!==0)throw new TypeError("Scalar expected");g.set(D.min(),y,C)}else{if(w.length!==1&&w.length!==2)throw new Et(w.length,g._size.length,"<");if(F.length<w.length){for(var B=0,x=0;w[B]===1&&F[B]===1;)B++;for(;w[B]===1;)x++,B++;y=bd(y,w.length,x,F)}if(!Ya(w,F))throw new Et(w,F,">");if(w.length===1){var T=D.dimension(0);T.forEach(function(J,K){zt(J),g.set([J,0],y[K[0]],C)})}else{var I=D.dimension(0),V=D.dimension(1);I.forEach(function(J,K){zt(J),V.forEach(function(W,G){zt(W),g.set([J,W],y[K[0]][G[0]],C)})})}}return g}u.prototype.get=function(g){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=g[0],y=g[1];zt(D,this._size[0]),zt(y,this._size[1]);var C=p(D,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===D?this._values[C]:0},u.prototype.set=function(g,D,y){if(!qt(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Et(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=g[0],w=g[1],O=this._size[0],F=this._size[1],B=r,x=0;In(this._datatype)&&(B=t.find(r,[this._datatype,this._datatype])||r,x=t.convert(0,this._datatype)),(C>O-1||w>F-1)&&(c(this,Math.max(C+1,O),Math.max(w+1,F),y),O=this._size[0],F=this._size[1]),zt(C,O),zt(w,F);var T=p(C,this._ptr[w],this._ptr[w+1],this._index);return T<this._ptr[w+1]&&this._index[T]===C?B(D,x)?h(T,w,this._values,this._index,this._ptr):this._values[T]=D:B(D,x)||o(T,C,w,D,this._values,this._index,this._ptr),this};function p(g,D,y,C){if(y-D===0)return y;for(var w=D;w<y;w++)if(C[w]===g)return w;return D}function h(g,D,y,C,w){y.splice(g,1),C.splice(g,1);for(var O=D+1;O<w.length;O++)w[O]--}function o(g,D,y,C,w,O,F){w.splice(g,0,C),O.splice(g,0,D);for(var B=y+1;B<F.length;B++)F[B]++}u.prototype.resize=function(g,D,y){if(!Ka(g))throw new TypeError("Array or Matrix expected");var C=g.valueOf().map(O=>Array.isArray(O)&&O.length===1?O[0]:O);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(O){if(!Ht(O)||!yr(O)||O<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Vr(C)+")")});var w=y?this.clone():this;return c(w,C[0],C[1],D)};function c(g,D,y,C){var w=C||0,O=r,F=0;In(g._datatype)&&(O=t.find(r,[g._datatype,g._datatype])||r,F=t.convert(0,g._datatype),w=t.convert(w,g._datatype));var B=!O(w,F),x=g._size[0],T=g._size[1],I,V,J;if(y>T){for(V=T;V<y;V++)if(g._ptr[V]=g._values.length,B)for(I=0;I<x;I++)g._values.push(w),g._index.push(I);g._ptr[y]=g._values.length}else y<T&&(g._ptr.splice(y+1,T-y),g._values.splice(g._ptr[y],g._values.length),g._index.splice(g._ptr[y],g._index.length));if(T=y,D>x){if(B){var K=0;for(V=0;V<T;V++){g._ptr[V]=g._ptr[V]+K,J=g._ptr[V+1]+K;var W=0;for(I=x;I<D;I++,W++)g._values.splice(J+W,0,w),g._index.splice(J+W,0,I),K++}g._ptr[T]=g._values.length}}else if(D<x){var G=0;for(V=0;V<T;V++){g._ptr[V]=g._ptr[V]-G;var j=g._ptr[V],H=g._ptr[V+1]-G;for(J=j;J<H;J++)I=g._index[J],I>D-1&&(g._values.splice(J,1),g._index.splice(J,1),G++)}g._ptr[V]=g._values.length}return g._size[0]=D,g._size[1]=y,g}u.prototype.reshape=function(g,D){if(!qt(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(ve){if(!Ht(ve)||!yr(ve)||ve<=-2||ve===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Vr(g)+")")});var y=this._size[0]*this._size[1];g=Yl(g,y);var C=g[0]*g[1];if(y!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=D?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return w;for(var O=[],F=0;F<w._ptr.length;F++)for(var B=0;B<w._ptr[F+1]-w._ptr[F];B++)O.push(F);for(var x=w._values.slice(),T=w._index.slice(),I=0;I<w._index.length;I++){var V=T[I],J=O[I],K=V*w._size[1]+J;O[I]=K%g[1],T[I]=Math.floor(K/g[1])}w._values.length=0,w._index.length=0,w._ptr.length=g[1]+1,w._size=g.slice();for(var W=0;W<w._ptr.length;W++)w._ptr[W]=0;for(var G=0;G<x.length;G++){var j=T[G],H=O[G],re=x[G],he=p(j,w._ptr[H],w._ptr[H+1],w._index);o(he,j,H,re,w._values,w._index,w._ptr)}return w},u.prototype.clone=function(){var g=new u({values:this._values?_r(this._values):void 0,index:_r(this._index),ptr:_r(this._ptr),size:_r(this._size),datatype:this._datatype});return g},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(g,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,C=this._size[0],w=this._size[1],O=Ld(g),F=function(x,T,I){return O===1?g(x):O===2?g(x,[T,I]):g(x,[T,I],y)};return m(this,0,C-1,0,w-1,F,D)};function m(g,D,y,C,w,O,F){var B=[],x=[],T=[],I=r,V=0;In(g._datatype)&&(I=t.find(r,[g._datatype,g._datatype])||r,V=t.convert(0,g._datatype));for(var J=function(Ce,xe,Ie){Ce=O(Ce,xe,Ie),I(Ce,V)||(B.push(Ce),x.push(xe))},K=C;K<=w;K++){T.push(B.length);var W=g._ptr[K],G=g._ptr[K+1];if(F)for(var j=W;j<G;j++){var H=g._index[j];H>=D&&H<=y&&J(g._values[j],H-D,K-C)}else{for(var re={},he=W;he<G;he++){var ve=g._index[he];re[ve]=g._values[he]}for(var we=D;we<=y;we++){var Se=we in re?re[we]:0;J(Se,we-D,K-C)}}}return T.push(B.length),new u({values:B,index:x,ptr:T,size:[y-D+1,w-C+1]})}u.prototype.forEach=function(g,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,C=this._size[0],w=this._size[1],O=0;O<w;O++){var F=this._ptr[O],B=this._ptr[O+1];if(D)for(var x=F;x<B;x++){var T=this._index[x];g(this._values[x],[T,O],y)}else{for(var I={},V=F;V<B;V++){var J=this._index[V];I[J]=this._values[V]}for(var K=0;K<C;K++){var W=K in I?I[K]:0;g(W,[K,O],y)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],D=0;D<g;D++)for(var y=this._ptr[D],C=this._ptr[D+1],w=y;w<C;w++){var O=this._index[w];yield{value:this._values[w],index:[O,D]}}},u.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(g,D,y,C,w){var O=C[0],F=C[1],B=[],x,T;for(x=0;x<O;x++)for(B[x]=[],T=0;T<F;T++)B[x][T]=0;for(T=0;T<F;T++)for(var I=y[T],V=y[T+1],J=I;J<V;J++)x=D[J],B[x][T]=g?w?_r(g[J]):g[J]:1;return B}return u.prototype.format=function(g){for(var D=this._size[0],y=this._size[1],C=this.density(),w="Sparse Matrix ["+Vr(D,g)+" x "+Vr(y,g)+"] density: "+Vr(C,g)+`
`,O=0;O<y;O++)for(var F=this._ptr[O],B=this._ptr[O+1],x=F;x<B;x++){var T=this._index[x];w+=`
    (`+Vr(T,g)+", "+Vr(O,g)+") ==> "+(this._values?Vr(this._values[x],g):"X")}return w},u.prototype.toString=function(){return Vr(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(g){if(g){if(hn(g)&&(g=g.toNumber()),!Ht(g)||!yr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var D=g>0?g:0,y=g<0?-g:0,C=this._size[0],w=this._size[1],O=Math.min(C-y,w-D),F=[],B=[],x=[];x[0]=0;for(var T=D;T<w&&F.length<O;T++)for(var I=this._ptr[T],V=this._ptr[T+1],J=I;J<V;J++){var K=this._index[J];if(K===T-D+y){F.push(this._values[J]),B[F.length-1]=K-y;break}}return x.push(F.length),new u({values:F,index:B,ptr:x,size:[O,1]})},u.fromJSON=function(g){return new u(g)},u.diagonal=function(g,D,y,C,w){if(!qt(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(ve){if(hn(ve)&&(ve=ve.toNumber()),!Ht(ve)||!yr(ve)||ve<1)throw new Error("Size values must be positive integers");return ve}),y){if(hn(y)&&(y=y.toNumber()),!Ht(y)||!yr(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var O=r,F=0;In(w)&&(O=t.find(r,[w,w])||r,F=t.convert(0,w));var B=y>0?y:0,x=y<0?-y:0,T=g[0],I=g[1],V=Math.min(T-x,I-B),J;if(qt(D)){if(D.length!==V)throw new Error("Invalid value array length");J=function(we){return D[we]}}else if(kr(D)){var K=D.size();if(K.length!==1||K[0]!==V)throw new Error("Invalid matrix length");J=function(we){return D.get([we])}}else J=function(){return D};for(var W=[],G=[],j=[],H=0;H<I;H++){j.push(W.length);var re=H-B;if(re>=0&&re<V){var he=J(re);O(he,F)||(G.push(re+x),W.push(he))}}return j.push(W.length),new u({values:W,index:G,ptr:j,size:[T,I]})},u.prototype.swapRows=function(g,D){if(!Ht(g)||!yr(g)||!Ht(D)||!yr(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return zt(g,this._size[0]),zt(D,this._size[0]),u._swapRows(g,D,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(g,D,y,C,w){for(var O=C[g],F=C[g+1],B=O;B<F;B++)w(y[B],D[B])},u._swapRows=function(g,D,y,C,w,O){for(var F=0;F<y;F++){var B=O[F],x=O[F+1],T=p(g,B,x,w),I=p(D,B,x,w);if(T<x&&I<x&&w[T]===g&&w[I]===D){if(C){var V=C[T];C[T]=C[I],C[I]=V}continue}if(T<x&&w[T]===g&&(I>=x||w[I]!==D)){var J=C?C[T]:void 0;w.splice(I,0,D),C&&C.splice(I,0,J),w.splice(I<=T?T+1:T,1),C&&C.splice(I<=T?T+1:T,1);continue}if(I<x&&w[I]===D&&(T>=x||w[T]!==g)){var K=C?C[I]:void 0;w.splice(T,0,g),C&&C.splice(T,0,K),w.splice(T<=I?I+1:I,1),C&&C.splice(T<=I?I+1:I,1)}}},u},{isClass:!0}),R0="matrix",nw=["typed","Matrix","DenseMatrix","SparseMatrix"],iw=Ct(R0,nw,e=>{var{typed:t,Matrix:r,DenseMatrix:i,SparseMatrix:u}=e;return t(R0,{"":function(){return a([])},string:function(f){return a([],f)},"string, string":function(f,d){return a([],f,d)},Array:function(f){return a(f)},Matrix:function(f){return a(f,f.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(l,f,d){if(f==="dense"||f==="default"||f===void 0)return new i(l,d);if(f==="sparse")return new u(l,d);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),L0="addScalar",uw=["typed"],aw=Ct(L0,uw,e=>{var{typed:t}=e;return t(L0,{"number, number":jd,"Complex, Complex":function(i,u){return i.add(u)},"BigNumber, BigNumber":function(i,u){return i.plus(u)},"Fraction, Fraction":function(i,u){return i.add(u)},"Unit, Unit":t.referToSelf(r=>(i,u)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(u))throw new Error("Units do not match");var a=i.clone();return a.value=t.find(r,[a.valueType(),u.valueType()])(a.value,u.value),a.fixPrefix=!1,a})})}),sw="matAlgo11xS0s",ow=["typed","equalScalar"],lw=Ct(sw,ow,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,l,f){var d=u._values,p=u._index,h=u._ptr,o=u._size,c=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=o[0],A=o[1],g,D=r,y=0,C=l;typeof c=="string"&&(g=c,D=t.find(r,[g,g]),y=t.convert(0,g),a=t.convert(a,g),C=t.find(l,[g,g]));for(var w=[],O=[],F=[],B=0;B<A;B++){F[B]=O.length;for(var x=h[B],T=h[B+1],I=x;I<T;I++){var V=p[I],J=f?C(a,d[I]):C(d[I],a);D(J,y)||(O.push(V),w.push(J))}}return F[A]=O.length,u.createSparseMatrix({values:w,index:O,ptr:F,size:[m,A],datatype:g})}}),fw="matAlgo14xDs",cw=["typed"],qd=Ct(fw,cw,e=>{var{typed:t}=e;return function(u,a,l,f){var d=u._data,p=u._size,h=u._datatype,o,c=l;typeof h=="string"&&(o=h,a=t.convert(a,o),c=t.find(l,[o,o]));var m=p.length>0?r(c,0,p,p[0],d,a,f):[];return u.createDenseMatrix({data:m,size:_r(p),datatype:o})};function r(i,u,a,l,f,d,p){var h=[];if(u===a.length-1)for(var o=0;o<l;o++)h[o]=p?i(d,f[o]):i(f[o],d);else for(var c=0;c<l;c++)h[c]=r(i,u+1,a,a[u+1],f[c],d,p);return h}}),hw="matAlgo01xDSid",dw=["typed"],pw=Ct(hw,dw,e=>{var{typed:t}=e;return function(i,u,a,l){var f=i._data,d=i._size,p=i._datatype,h=u._values,o=u._index,c=u._ptr,m=u._size,A=u._datatype;if(d.length!==m.length)throw new Et(d.length,m.length);if(d[0]!==m[0]||d[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+m+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=d[0],D=d[1],y=typeof p=="string"&&p===A?p:void 0,C=y?t.find(a,[y,y]):a,w,O,F=[];for(w=0;w<g;w++)F[w]=[];var B=[],x=[];for(O=0;O<D;O++){for(var T=O+1,I=c[O],V=c[O+1],J=I;J<V;J++)w=o[J],B[w]=l?C(h[J],f[w][O]):C(f[w][O],h[J]),x[w]=T;for(w=0;w<g;w++)x[w]===T?F[w][O]=B[w]:F[w][O]=f[w][O]}return i.createDenseMatrix({data:F,size:[g,D],datatype:y})}}),vw="matAlgo04xSidSid",gw=["typed","equalScalar"],mw=Ct(vw,gw,e=>{var{typed:t,equalScalar:r}=e;return function(u,a,l){var f=u._values,d=u._index,p=u._ptr,h=u._size,o=u._datatype,c=a._values,m=a._index,A=a._ptr,g=a._size,D=a._datatype;if(h.length!==g.length)throw new Et(h.length,g.length);if(h[0]!==g[0]||h[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+g+")");var y=h[0],C=h[1],w,O=r,F=0,B=l;typeof o=="string"&&o===D&&(w=o,O=t.find(r,[w,w]),F=t.convert(0,w),B=t.find(l,[w,w]));var x=f&&c?[]:void 0,T=[],I=[],V=f&&c?[]:void 0,J=f&&c?[]:void 0,K=[],W=[],G,j,H,re,he;for(j=0;j<C;j++){I[j]=T.length;var ve=j+1;for(re=p[j],he=p[j+1],H=re;H<he;H++)G=d[H],T.push(G),K[G]=ve,V&&(V[G]=f[H]);for(re=A[j],he=A[j+1],H=re;H<he;H++)if(G=m[H],K[G]===ve){if(V){var we=B(V[G],c[H]);O(we,F)?K[G]=null:V[G]=we}}else T.push(G),W[G]=ve,J&&(J[G]=c[H]);if(V&&J)for(H=I[j];H<T.length;)G=T[H],K[G]===ve?(x[H]=V[G],H++):W[G]===ve?(x[H]=J[G],H++):T.splice(H,1)}return I[C]=T.length,u.createSparseMatrix({values:x,index:T,ptr:I,size:[y,C],datatype:w})}}),Dw="matAlgo10xSids",_w=["typed","DenseMatrix"],yw=Ct(Dw,_w,e=>{var{typed:t,DenseMatrix:r}=e;return function(u,a,l,f){var d=u._values,p=u._index,h=u._ptr,o=u._size,c=u._datatype;if(!d)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=o[0],A=o[1],g,D=l;typeof c=="string"&&(g=c,a=t.convert(a,g),D=t.find(l,[g,g]));for(var y=[],C=[],w=[],O=0;O<A;O++){for(var F=O+1,B=h[O],x=h[O+1],T=B;T<x;T++){var I=p[T];C[I]=d[T],w[I]=F}for(var V=0;V<m;V++)O===0&&(y[V]=[]),w[V]===F?y[V][O]=f?D(a,C[V]):D(C[V],a):y[V][O]=a}return new r({data:y,size:[m,A],datatype:g})}}),Aw="matAlgo13xDD",bw=["typed"],ww=Ct(Aw,bw,e=>{var{typed:t}=e;return function(u,a,l){var f=u._data,d=u._size,p=u._datatype,h=a._data,o=a._size,c=a._datatype,m=[];if(d.length!==o.length)throw new Et(d.length,o.length);for(var A=0;A<d.length;A++){if(d[A]!==o[A])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+o+")");m[A]=d[A]}var g,D=l;typeof p=="string"&&p===c&&(g=p,D=t.find(l,[g,g]));var y=m.length>0?r(D,0,m,m[0],f,h):[];return u.createDenseMatrix({data:y,size:m,datatype:g})};function r(i,u,a,l,f,d){var p=[];if(u===a.length-1)for(var h=0;h<l;h++)p[h]=i(f[h],d[h]);else for(var o=0;o<l;o++)p[o]=r(i,u+1,a,a[u+1],f[o],d[o]);return p}}),Ew="broadcast",Fw=["concat"],Cw=Ct(Ew,Fw,e=>{var{concat:t}=e;return function(a,l){var f=Math.max(a._size.length,l._size.length);if(a._size.length===l._size.length&&a._size.every((D,y)=>D===l._size[y]))return[a,l];for(var d=r(a._size,f,0),p=r(l._size,f,0),h=[],o=0;o<f;o++)h[o]=Math.max(d[o],p[o]);for(var c=0;c<f;c++)u(d,h,c),u(p,h,c);var m=a.clone(),A=l.clone();m._size.length<f?m.reshape(r(m._size,f,1)):A._size.length<f&&A.reshape(r(A._size,f,1));for(var g=0;g<f;g++)m._size[g]<h[g]&&(m=i(m,h[g],g)),A._size[g]<h[g]&&(A=i(A,h[g],g));return[m,A]};function r(a,l,f){return[...Array(l-a.length).fill(f),...a]}function i(a,l,f){return t(...Array(l).fill(a),f)}function u(a,l,f){if(a[f]<l[f]&a[f]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(f," with size ").concat(a[f]," to size ").concat(l[f]))}}),Sw="matrixAlgorithmSuite",Bw=["typed","matrix","concat"],Ow=Ct(Sw,Bw,e=>{var{typed:t,matrix:r,concat:i}=e,u=ww({typed:t}),a=qd({typed:t}),l=Cw({concat:i});return function(d){var p=d.elop,h=d.SD||d.DS,o;p?(o={"DenseMatrix, DenseMatrix":(g,D)=>u(...l(g,D),p),"Array, Array":(g,D)=>u(...l(r(g),r(D)),p).valueOf(),"Array, DenseMatrix":(g,D)=>u(...l(r(g),D),p),"DenseMatrix, Array":(g,D)=>u(...l(g,r(D)),p)},d.SS&&(o["SparseMatrix, SparseMatrix"]=(g,D)=>d.SS(...l(g,D),p,!1)),d.DS&&(o["DenseMatrix, SparseMatrix"]=(g,D)=>d.DS(...l(g,D),p,!1),o["Array, SparseMatrix"]=(g,D)=>d.DS(...l(r(g),D),p,!1)),h&&(o["SparseMatrix, DenseMatrix"]=(g,D)=>h(...l(D,g),p,!0),o["SparseMatrix, Array"]=(g,D)=>h(...l(r(D),g),p,!0))):(o={"DenseMatrix, DenseMatrix":t.referToSelf(g=>(D,y)=>u(...l(D,y),g)),"Array, Array":t.referToSelf(g=>(D,y)=>u(...l(r(D),r(y)),g).valueOf()),"Array, DenseMatrix":t.referToSelf(g=>(D,y)=>u(...l(r(D),y),g)),"DenseMatrix, Array":t.referToSelf(g=>(D,y)=>u(...l(D,r(y)),g))},d.SS&&(o["SparseMatrix, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.SS(...l(D,y),g,!1))),d.DS&&(o["DenseMatrix, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.DS(...l(D,y),g,!1)),o["Array, SparseMatrix"]=t.referToSelf(g=>(D,y)=>d.DS(...l(r(D),y),g,!1))),h&&(o["SparseMatrix, DenseMatrix"]=t.referToSelf(g=>(D,y)=>h(...l(y,D),g,!0)),o["SparseMatrix, Array"]=t.referToSelf(g=>(D,y)=>h(...l(r(y),D),g,!0))));var c=d.scalar||"any",m=d.Ds||d.Ss;m&&(p?(o["DenseMatrix,"+c]=(g,D)=>a(g,D,p,!1),o[c+", DenseMatrix"]=(g,D)=>a(D,g,p,!0),o["Array,"+c]=(g,D)=>a(r(g),D,p,!1).valueOf(),o[c+", Array"]=(g,D)=>a(r(D),g,p,!0).valueOf()):(o["DenseMatrix,"+c]=t.referToSelf(g=>(D,y)=>a(D,y,g,!1)),o[c+", DenseMatrix"]=t.referToSelf(g=>(D,y)=>a(y,D,g,!0)),o["Array,"+c]=t.referToSelf(g=>(D,y)=>a(r(D),y,g,!1).valueOf()),o[c+", Array"]=t.referToSelf(g=>(D,y)=>a(r(y),D,g,!0).valueOf())));var A=d.sS!==void 0?d.sS:d.Ss;return p?(d.Ss&&(o["SparseMatrix,"+c]=(g,D)=>d.Ss(g,D,p,!1)),A&&(o[c+", SparseMatrix"]=(g,D)=>A(D,g,p,!0))):(d.Ss&&(o["SparseMatrix,"+c]=t.referToSelf(g=>(D,y)=>d.Ss(D,y,g,!1))),A&&(o[c+", SparseMatrix"]=t.referToSelf(g=>(D,y)=>A(y,D,g,!0)))),p&&p.signatures&&uA(o,p.signatures),o}}),Mw="multiplyScalar",xw=["typed"],Pw=Ct(Mw,xw,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Vd,"Complex, Complex":function(i,u){return i.mul(u)},"BigNumber, BigNumber":function(i,u){return i.times(u)},"Fraction, Fraction":function(i,u){return i.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),U0="multiply",Tw=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Iw=Ct(U0,Tw,e=>{var{typed:t,matrix:r,addScalar:i,multiplyScalar:u,equalScalar:a,dot:l}=e,f=lw({typed:t,equalScalar:a}),d=qd({typed:t});function p(F,B){switch(F.length){case 1:switch(B.length){case 1:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;case 2:switch(B.length){case 1:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+B[0]+")");break;case 2:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}function h(F,B,x){if(x===0)throw new Error("Cannot multiply two empty vectors");return l(F,B)}function o(F,B){if(B.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(F,B)}function c(F,B){var x=F._data,T=F._size,I=F._datatype,V=B._data,J=B._size,K=B._datatype,W=T[0],G=J[1],j,H=i,re=u;I&&K&&I===K&&typeof I=="string"&&(j=I,H=t.find(i,[j,j]),re=t.find(u,[j,j]));for(var he=[],ve=0;ve<G;ve++){for(var we=re(x[0],V[0][ve]),Se=1;Se<W;Se++)we=H(we,re(x[Se],V[Se][ve]));he[ve]=we}return F.createDenseMatrix({data:he,size:[G],datatype:j})}var m=t("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":C}),A=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":O});function g(F,B){var x=F._data,T=F._size,I=F._datatype,V=B._data,J=B._datatype,K=T[0],W=T[1],G,j=i,H=u;I&&J&&I===J&&typeof I=="string"&&(G=I,j=t.find(i,[G,G]),H=t.find(u,[G,G]));for(var re=[],he=0;he<K;he++){for(var ve=x[he],we=H(ve[0],V[0]),Se=1;Se<W;Se++)we=j(we,H(ve[Se],V[Se]));re[he]=we}return F.createDenseMatrix({data:re,size:[K],datatype:G})}function D(F,B){var x=F._data,T=F._size,I=F._datatype,V=B._data,J=B._size,K=B._datatype,W=T[0],G=T[1],j=J[1],H,re=i,he=u;I&&K&&I===K&&typeof I=="string"&&(H=I,re=t.find(i,[H,H]),he=t.find(u,[H,H]));for(var ve=[],we=0;we<W;we++){var Se=x[we];ve[we]=[];for(var Pe=0;Pe<j;Pe++){for(var Ce=he(Se[0],V[0][Pe]),xe=1;xe<G;xe++)Ce=re(Ce,he(Se[xe],V[xe][Pe]));ve[we][Pe]=Ce}}return F.createDenseMatrix({data:ve,size:[W,j],datatype:H})}function y(F,B){var x=F._data,T=F._size,I=F._datatype,V=B._values,J=B._index,K=B._ptr,W=B._size,G=B._datatype;if(!V)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var j=T[0],H=W[1],re,he=i,ve=u,we=a,Se=0;I&&G&&I===G&&typeof I=="string"&&(re=I,he=t.find(i,[re,re]),ve=t.find(u,[re,re]),we=t.find(a,[re,re]),Se=t.convert(0,re));for(var Pe=[],Ce=[],xe=[],Ie=B.createSparseMatrix({values:Pe,index:Ce,ptr:xe,size:[j,H],datatype:re}),Le=0;Le<H;Le++){xe[Le]=Ce.length;var at=K[Le],ct=K[Le+1];if(ct>at)for(var Qe=0,it=0;it<j;it++){for(var ht=it+1,dt=void 0,rt=at;rt<ct;rt++){var Je=J[rt];Qe!==ht?(dt=ve(x[it][Je],V[rt]),Qe=ht):dt=he(dt,ve(x[it][Je],V[rt]))}Qe===ht&&!we(dt,Se)&&(Ce.push(it),Pe.push(dt))}}return xe[H]=Ce.length,Ie}function C(F,B){var x=F._values,T=F._index,I=F._ptr,V=F._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var J=B._data,K=B._datatype,W=F._size[0],G=B._size[0],j=[],H=[],re=[],he,ve=i,we=u,Se=a,Pe=0;V&&K&&V===K&&typeof V=="string"&&(he=V,ve=t.find(i,[he,he]),we=t.find(u,[he,he]),Se=t.find(a,[he,he]),Pe=t.convert(0,he));var Ce=[],xe=[];re[0]=0;for(var Ie=0;Ie<G;Ie++){var Le=J[Ie];if(!Se(Le,Pe))for(var at=I[Ie],ct=I[Ie+1],Qe=at;Qe<ct;Qe++){var it=T[Qe];xe[it]?Ce[it]=ve(Ce[it],we(Le,x[Qe])):(xe[it]=!0,H.push(it),Ce[it]=we(Le,x[Qe]))}}for(var ht=H.length,dt=0;dt<ht;dt++){var rt=H[dt];j[dt]=Ce[rt]}return re[1]=H.length,F.createSparseMatrix({values:j,index:H,ptr:re,size:[W,1],datatype:he})}function w(F,B){var x=F._values,T=F._index,I=F._ptr,V=F._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var J=B._data,K=B._datatype,W=F._size[0],G=B._size[0],j=B._size[1],H,re=i,he=u,ve=a,we=0;V&&K&&V===K&&typeof V=="string"&&(H=V,re=t.find(i,[H,H]),he=t.find(u,[H,H]),ve=t.find(a,[H,H]),we=t.convert(0,H));for(var Se=[],Pe=[],Ce=[],xe=F.createSparseMatrix({values:Se,index:Pe,ptr:Ce,size:[W,j],datatype:H}),Ie=[],Le=[],at=0;at<j;at++){Ce[at]=Pe.length;for(var ct=at+1,Qe=0;Qe<G;Qe++){var it=J[Qe][at];if(!ve(it,we))for(var ht=I[Qe],dt=I[Qe+1],rt=ht;rt<dt;rt++){var Je=T[rt];Le[Je]!==ct?(Le[Je]=ct,Pe.push(Je),Ie[Je]=he(it,x[rt])):Ie[Je]=re(Ie[Je],he(it,x[rt]))}}for(var At=Ce[at],Ar=Pe.length,wt=At;wt<Ar;wt++){var ye=Pe[wt];Se[wt]=Ie[ye]}}return Ce[j]=Pe.length,xe}function O(F,B){var x=F._values,T=F._index,I=F._ptr,V=F._datatype,J=B._values,K=B._index,W=B._ptr,G=B._datatype,j=F._size[0],H=B._size[1],re=x&&J,he,ve=i,we=u;V&&G&&V===G&&typeof V=="string"&&(he=V,ve=t.find(i,[he,he]),we=t.find(u,[he,he]));for(var Se=re?[]:void 0,Pe=[],Ce=[],xe=F.createSparseMatrix({values:Se,index:Pe,ptr:Ce,size:[j,H],datatype:he}),Ie=re?[]:void 0,Le=[],at,ct,Qe,it,ht,dt,rt,Je,At=0;At<H;At++){Ce[At]=Pe.length;var Ar=At+1;for(ht=W[At],dt=W[At+1],it=ht;it<dt;it++)if(Je=K[it],re)for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],Le[rt]!==Ar?(Le[rt]=Ar,Pe.push(rt),Ie[rt]=we(J[it],x[at])):Ie[rt]=ve(Ie[rt],we(J[it],x[at]));else for(ct=I[Je],Qe=I[Je+1],at=ct;at<Qe;at++)rt=T[at],Le[rt]!==Ar&&(Le[rt]=Ar,Pe.push(rt));if(re)for(var wt=Ce[At],ye=Pe.length,_e=wt;_e<ye;_e++){var pt=Pe[_e];Se[_e]=Ie[pt]}}return Ce[H]=Pe.length,xe}return t(U0,u,{"Array, Array":t.referTo("Matrix, Matrix",F=>(B,x)=>{p(_i(B),_i(x));var T=F(r(B),r(x));return kr(T)?T.valueOf():T}),"Matrix, Matrix":function(B,x){var T=B.size(),I=x.size();return p(T,I),T.length===1?I.length===1?h(B,x,T[0]):o(B,x):I.length===1?m(B,x):A(B,x)},"Matrix, Array":t.referTo("Matrix,Matrix",F=>(B,x)=>F(B,r(x))),"Array, Matrix":t.referToSelf(F=>(B,x)=>F(r(B,x.storage()),x)),"SparseMatrix, any":function(B,x){return f(B,x,u,!1)},"DenseMatrix, any":function(B,x){return d(B,x,u,!1)},"any, SparseMatrix":function(B,x){return f(x,B,u,!0)},"any, DenseMatrix":function(B,x){return d(x,B,u,!0)},"Array, any":function(B,x){return d(r(B),x,u,!1).valueOf()},"any, Array":function(B,x){return d(r(x),B,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(F=>(B,x,T)=>{for(var I=F(B,x),V=0;V<T.length;V++)I=F(I,T[V]);return I})})}),j0="conj",Nw=["typed"],kw=Ct(j0,Nw,e=>{var{typed:t}=e;return t(j0,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>i=>Jl(i,r))})}),V0="concat",Rw=["typed","matrix","isInteger"],Lw=Ct(V0,Rw,e=>{var{typed:t,matrix:r,isInteger:i}=e;return t(V0,{"...Array | Matrix | number | BigNumber":function(a){var l,f=a.length,d=-1,p,h=!1,o=[];for(l=0;l<f;l++){var c=a[l];if(kr(c)&&(h=!0),Ht(c)||hn(c)){if(l!==f-1)throw new Error("Dimension must be specified as last argument");if(p=d,d=c.valueOf(),!i(d))throw new TypeError("Integer number expected for dimension");if(d<0||l>0&&d>p)throw new Ri(d,p+1)}else{var m=_r(c).valueOf(),A=_i(m);if(o[l]=m,p=d,d=A.length-1,l>0&&d!==p)throw new Et(p+1,d+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var g=o.shift();o.length;)g=zd(g,o.shift(),d,0);return h?r(g):g},"...string":function(a){return a.join("")}})});function zd(e,t,r,i){if(i<r){if(e.length!==t.length)throw new Et(e.length,t.length);for(var u=[],a=0;a<e.length;a++)u[a]=zd(e[a],t[a],r,i+1);return u}else return e.concat(t)}function Uw(){throw new Error('No "matrix" implementation available')}var q0="size",jw=["typed","config","?matrix"],Vw=Ct(q0,jw,e=>{var{typed:t,config:r,matrix:i}=e;return t(q0,{Matrix:function(a){return a.create(a.size())},Array:_i,string:function(a){return r.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:i?i([]):Uw()}})}),z0="add",qw=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],zw=Ct(z0,qw,e=>{var{typed:t,matrix:r,addScalar:i,equalScalar:u,DenseMatrix:a,SparseMatrix:l,concat:f}=e,d=pw({typed:t}),p=mw({typed:t,equalScalar:u}),h=yw({typed:t,DenseMatrix:a}),o=Ow({typed:t,matrix:r,concat:f});return t(z0,{"any, any":i,"any, any, ...any":t.referToSelf(c=>(m,A,g)=>{for(var D=c(m,A),y=0;y<g.length;y++)D=c(D,g[y]);return D})},o({elop:i,DS:d,SS:p,Ss:h}))}),W0="dot",Ww=["typed","addScalar","multiplyScalar","conj","size"],Hw=Ct(W0,Ww,e=>{var{typed:t,addScalar:r,multiplyScalar:i,conj:u,size:a}=e;return t(W0,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":d});function l(h,o){var c=p(h),m=p(o),A,g;if(c.length===1)A=c[0];else if(c.length===2&&c[1]===1)A=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(m.length===1)g=m[0];else if(m.length===2&&m[1]===1)g=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(A!==g)throw new RangeError("Vectors must have equal length ("+A+" != "+g+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function f(h,o){var c=l(h,o),m=kr(h)?h._data:h,A=kr(h)?h._datatype:void 0,g=kr(o)?o._data:o,D=kr(o)?o._datatype:void 0,y=p(h).length===2,C=p(o).length===2,w=r,O=i;if(A&&D&&A===D&&typeof A=="string"){var F=A;w=t.find(r,[F,F]),O=t.find(i,[F,F])}if(!y&&!C){for(var B=O(u(m[0]),g[0]),x=1;x<c;x++)B=w(B,O(u(m[x]),g[x]));return B}if(!y&&C){for(var T=O(u(m[0]),g[0][0]),I=1;I<c;I++)T=w(T,O(u(m[I]),g[I][0]));return T}if(y&&!C){for(var V=O(u(m[0][0]),g[0]),J=1;J<c;J++)V=w(V,O(u(m[J][0]),g[J]));return V}if(y&&C){for(var K=O(u(m[0][0]),g[0][0]),W=1;W<c;W++)K=w(K,O(u(m[W][0]),g[W][0]));return K}}function d(h,o){l(h,o);for(var c=h._index,m=h._values,A=o._index,g=o._values,D=0,y=r,C=i,w=0,O=0;w<c.length&&O<A.length;){var F=c[w],B=A[O];if(F<B){w++;continue}if(F>B){O++;continue}F===B&&(D=y(D,C(m[w],g[O])),w++,O++)}return D}function p(h){return kr(h)?h.size():a(h)}}),Gw=Pb({config:gs}),Kw=kb({}),Yw=jb({}),$l=zb({}),Ql=Gb({Matrix:$l}),dn=NA({BigNumber:Gw,Complex:Kw,DenseMatrix:Ql,Fraction:Yw}),ef=aw({typed:dn}),Zw=kw({typed:dn}),tf=Qb({config:gs,typed:dn}),Xw=Yb({typed:dn}),Wd=Pw({typed:dn}),Hd=rw({Matrix:$l,equalScalar:tf,typed:dn}),bs=iw({DenseMatrix:Ql,Matrix:$l,SparseMatrix:Hd,typed:dn}),Jw=Vw({matrix:bs,config:gs,typed:dn}),$w=Lw({isInteger:Xw,matrix:bs,typed:dn}),ts=zw({DenseMatrix:Ql,SparseMatrix:Hd,addScalar:ef,concat:$w,equalScalar:tf,matrix:bs,typed:dn}),Qw=Hw({addScalar:ef,conj:Zw,multiplyScalar:Wd,size:Jw,typed:dn}),Tl=Iw({addScalar:ef,dot:Qw,equalScalar:tf,matrix:bs,multiplyScalar:Wd,typed:dn});const La="activePromptStore";function Dr(e,t,r,i=1){return{id:e,text:t,barWeight:i,parsedWeight:r}}function H0(){return{0:Dr(0,"Magic potion in a mystical bottle",1),1:Dr(1,"A crystalline decanter",1),2:Dr(2,"An ornate tequila bottle",1),3:Dr(3,"An antique sake bottle",1),4:Dr(4,"A colorful perfume bottle",1),5:Dr(5,"A glass vase full of vibrant flowers",1),6:Dr(6,"A minimalist glass tea kettle",1),7:Dr(7,"Chihuly glass art",1),8:Dr(8,"A fine wine bottle",1),9:Dr(9,"A gourmet vinegar bottle",1),10:Dr(10,"A stunning fishbowl",1),11:Dr(11,"A striking piece of tourmaline",1),12:Dr(12,"A finely cut piece of sapphire",1),13:Dr(13,"Iittala glass art",1)}}function cu(e,t="circle"){return{weightedPrompts:e||{},weightMode:t,circleAngles:{},circleMarker:[270,.33],circleWeightScaling:2,circleExponentialScaling:!0,embedExponentialScaling:2,embedWeightScaling:!0,embedPromptLimit:Object.keys(e).length}}function eE(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[La]?JSON.parse(localStorage[La]):cu(H0())),{subscribe:t,updateActivePrompt:a=>{!a||!u||(localStorage[La]=JSON.stringify(a),r(a))},getActivePrompt:()=>Pt(e),deleteActivePrompt:()=>{u&&(delete localStorage[La],r(cu(H0())))}}}const It=eE(),Cn=En(It,e=>Pt(It));function tE(e){let t,r,i;return{c(){t=Gt("circle"),this.h()},l(u){t=Kt(u,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),ie(t).forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),k(t,"stroke",e[3]),k(t,"stroke-width",e[2]),Wt(t,"fill","rgba(0,0,0,0)")},m(u,a){Fe(u,t,a)},p(u,[a]){a&1&&r!==(r=u[0][0])&&k(t,"cx",r),a&1&&i!==(i=u[0][1])&&k(t,"cy",i),a&2&&k(t,"r",u[1]),a&8&&k(t,"stroke",u[3]),a&4&&k(t,"stroke-width",u[2])},i:Te,o:Te,d(u){u&&q(t)}}}function rE(e,t,r){let{xy:i=[500,500]}=t,{radius:u=400}=t,{stroke:a=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=f=>{"xy"in f&&r(0,i=f.xy),"radius"in f&&r(1,u=f.radius),"stroke"in f&&r(2,a=f.stroke),"color"in f&&r(3,l=f.color)},[i,u,a,l]}class nE extends Yt{constructor(t){super(),Zt(this,t,rE,tE,Xt,{xy:0,radius:1,stroke:2,color:3})}}function iE(e){let t,r,i,u,a;return{c(){t=Gt("circle"),this.h()},l(l){t=Kt(l,"circle",{cx:!0,cy:!0,r:!0}),ie(t).forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),Wt(t,"fill",e[2])},m(l,f){Fe(l,t,f),u||(a=[Re(t,"mouseover",e[3]),Re(t,"mouseout",e[4]),Re(t,"mousedown",e[5])],u=!0)},p(l,[f]){f&1&&r!==(r=l[0][0])&&k(t,"cx",r),f&1&&i!==(i=l[0][1])&&k(t,"cy",i),f&2&&k(t,"r",l[1]),f&4&&Wt(t,"fill",l[2])},i:Te,o:Te,d(l){l&&q(t),u=!1,Jr(a)}}}function uE(e,t,r){let{xy:i=[100,100]}=t,{radius:u=5}=t,{color:a="black"}=t,{hoverColor:l="white"}=t,{handleMouseDown:f=c=>{}}=t,d=a;function p(){r(2,d=l)}function h(){r(2,d=a)}function o(c){f(c)}return e.$$set=c=>{"xy"in c&&r(0,i=c.xy),"radius"in c&&r(1,u=c.radius),"color"in c&&r(6,a=c.color),"hoverColor"in c&&r(7,l=c.hoverColor),"handleMouseDown"in c&&r(8,f=c.handleMouseDown)},[i,u,d,p,h,o,a,l,f]}class ws extends Yt{constructor(t){super(),Zt(this,t,uE,iE,Xt,{xy:0,radius:1,color:6,hoverColor:7,handleMouseDown:8})}}function aE(e){let t,r,i,u,a;return{c(){t=Gt("line"),this.h()},l(l){t=Kt(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),ie(t).forEach(q),this.h()},h(){k(t,"x1",r=e[0][0]),k(t,"y1",i=e[0][1]),k(t,"x2",u=e[1][0]),k(t,"y2",a=e[1][1]),k(t,"stroke",e[3]),k(t,"stroke-dasharray","10,10"),k(t,"stroke-width",e[2])},m(l,f){Fe(l,t,f)},p(l,[f]){f&1&&r!==(r=l[0][0])&&k(t,"x1",r),f&1&&i!==(i=l[0][1])&&k(t,"y1",i),f&2&&u!==(u=l[1][0])&&k(t,"x2",u),f&2&&a!==(a=l[1][1])&&k(t,"y2",a),f&8&&k(t,"stroke",l[3]),f&4&&k(t,"stroke-width",l[2])},i:Te,o:Te,d(l){l&&q(t)}}}function sE(e,t,r){let{p1:i=[100,100]}=t,{p2:u=[100,100]}=t,{stroke:a=2}=t,{color:l="rgba(46,67,101, 0.4)"}=t;return e.$$set=f=>{"p1"in f&&r(0,i=f.p1),"p2"in f&&r(1,u=f.p2),"stroke"in f&&r(2,a=f.stroke),"color"in f&&r(3,l=f.color)},[i,u,a,l]}class Gd extends Yt{constructor(t){super(),Zt(this,t,sE,aE,Xt,{p1:0,p2:1,stroke:2,color:3})}}function oE(e){let t,r,i,u,a,l,f,d;return{c(){t=Gt("foreignObject"),r=oe("div"),i=oe("p"),u=Ze(e[2]),this.h()},l(p){t=Kt(p,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var h=ie(t);r=le(h,"DIV",{class:!0});var o=ie(r);i=le(o,"P",{});var c=ie(i);u=Xe(c,e[2]),c.forEach(q),o.forEach(q),h.forEach(q),this.h()},h(){Wt(i,"color",e[3]),Wt(i,"user-select","none"),Wt(i,"margin","0"),Wt(i,"pointer-events","none"),Wt(i,"text-align",e[4]),Wt(i,"font-size",`${e[5]}px`),Wt(i,"font-family","sans-serif"),Wt(i,"font-style","italic"),k(r,"class","h-full flex flex-col justify-center"),k(t,"x",a=e[0][0]),k(t,"y",l=e[0][1]),k(t,"width",f=e[1][0]),k(t,"height",d=e[1][1])},m(p,h){Fe(p,t,h),Q(t,r),Q(r,i),Q(i,u)},p(p,[h]){h&4&&wn(u,p[2]),h&8&&Wt(i,"color",p[3]),h&16&&Wt(i,"text-align",p[4]),h&32&&Wt(i,"font-size",`${p[5]}px`),h&1&&a!==(a=p[0][0])&&k(t,"x",a),h&1&&l!==(l=p[0][1])&&k(t,"y",l),h&2&&f!==(f=p[1][0])&&k(t,"width",f),h&2&&d!==(d=p[1][1])&&k(t,"height",d)},i:Te,o:Te,d(p){p&&q(t)}}}function lE(e,t,r){let{xy:i=[100,100]}=t,{wh:u=[100,100]}=t,{text:a=""}=t,{color:l="rgba(96,117,151, 1)"}=t,{textAlign:f="center"}=t,{fontSize:d=12}=t;return e.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"text"in p&&r(2,a=p.text),"color"in p&&r(3,l=p.color),"textAlign"in p&&r(4,f=p.textAlign),"fontSize"in p&&r(5,d=p.fontSize)},[i,u,a,l,f,d]}class rf extends Yt{constructor(t){super(),Zt(this,t,lE,oE,Xt,{xy:0,wh:1,text:2,color:3,textAlign:4,fontSize:5})}}function fE(e){let t,r,i,u,a,l,f,d,p,h,o;return{c(){t=Gt("circle"),u=Ke(),a=Gt("foreignObject"),l=oe("p"),f=Ze(e[4]),this.h()},l(c){t=Kt(c,"circle",{cx:!0,cy:!0,r:!0}),ie(t).forEach(q),u=Ye(c),a=Kt(c,"foreignObject",{x:!0,y:!0,width:!0,height:!0});var m=ie(a);l=le(m,"P",{style:!0,class:!0});var A=ie(l);f=Xe(A,e[4]),A.forEach(q),m.forEach(q),this.h()},h(){k(t,"cx",r=e[0][0]),k(t,"cy",i=e[0][1]),k(t,"r",e[1]),Wt(t,"fill",e[3]),Wt(l,"color",e[2]),Wt(l,"user-select","none"),Wt(l,"margin","0"),k(l,"class","heavy svelte-6if1p2"),k(a,"x",d=e[0][0]-e[1]),k(a,"y",p=e[0][1]-e[1]),k(a,"width",h=e[1]*2),k(a,"height",o=e[1]*2)},m(c,m){Fe(c,t,m),Fe(c,u,m),Fe(c,a,m),Q(a,l),Q(l,f)},p(c,[m]){m&1&&r!==(r=c[0][0])&&k(t,"cx",r),m&1&&i!==(i=c[0][1])&&k(t,"cy",i),m&2&&k(t,"r",c[1]),m&8&&Wt(t,"fill",c[3]),m&16&&wn(f,c[4]),m&4&&Wt(l,"color",c[2]),m&3&&d!==(d=c[0][0]-c[1])&&k(a,"x",d),m&3&&p!==(p=c[0][1]-c[1])&&k(a,"y",p),m&2&&h!==(h=c[1]*2)&&k(a,"width",h),m&2&&o!==(o=c[1]*2)&&k(a,"height",o)},i:Te,o:Te,d(c){c&&q(t),c&&q(u),c&&q(a)}}}function cE(e,t,r){let{xy:i=[100,100]}=t,{radius:u=25}=t,{textColor:a="rgba(96,117,151, 1)"}=t,{bgColor:l="black"}=t,{weight:f=""}=t;return e.$$set=d=>{"xy"in d&&r(0,i=d.xy),"radius"in d&&r(1,u=d.radius),"textColor"in d&&r(2,a=d.textColor),"bgColor"in d&&r(3,l=d.bgColor),"weight"in d&&r(4,f=d.weight)},[i,u,a,l,f]}class hE extends Yt{constructor(t){super(),Zt(this,t,cE,fE,Xt,{xy:0,radius:1,textColor:2,bgColor:3,weight:4})}}function Ua(e,t,r){const i=e[0]-t[0],u=e[1]-t[1],a=360+Math.atan2(u,i)*180/Math.PI,l=Math.sqrt(i*i+u*u);return[a%360,l/r]}function gi(e,t,r){const i=t[0]%360*Math.PI/180,u=[r*t[1]*Math.cos(i),r*t[1]*Math.sin(i)];return ts(e,u)}function G0(e,t,r){const i=e[0]-t[0],u=e[1]-t[1],a=Math.sqrt(i*i+u*u),l=r/a,f=t[0]+i*l,d=t[1]+u*l;return[f,d]}function dE(e,t,r){const i=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(i*i+u*u)<r}function pE(e,t){const r=t%360*Math.PI/180;let i,u;const a=Math.cos(r),l=Math.sin(r);return i=(e[0]+5)*-1.2*a,u=(e[1]+5)*-1.2*l,i-=e[0],u-=e[1],[i,u]}function vE(e){return Math.round(e*100)}function cn(e){return Math.max(1-Math.pow(1-e,2),.25).toFixed(2)}function ti(e,t){const r=t==="circle"?e.circleWeight:t==="bars"?e.barWeight:t==="embed"?e.embedWeight:e.parsedWeight;return vE(r||0)}function gE(e,t,r){const a=r*.6,l=Math.floor(e/a);return Math.ceil(t/l)*r*1.2}function ei(e,t,r){const i=gE(e,t,r)+10;return[e,i]}function Il(e,t){const r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)}function nf(e){return Tl(e,.5)}function hu(e){const t=e.currentTarget;var r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const i=r.matrixTransform(t.getScreenCTM().inverse());return[i.x,i.y]}function K0(e,t,r){const i=e.slice();return i[18]=t[r][0],i[19]=t[r][1],i}function Y0(e){let t,r,i=Object.entries(e[5].weightedPrompts).length>0,u,a;t=new nE({props:{xy:e[0],radius:e[1]}});let l=Object.entries(e[5].weightedPrompts),f=[];for(let h=0;h<l.length;h+=1)f[h]=Z0(K0(e,l,h));const d=h=>ze(f[h],1,1,()=>{f[h]=null});let p=i&&X0(e);return{c(){mt(t.$$.fragment);for(let h=0;h<f.length;h+=1)f[h].c();r=lr(),p&&p.c(),u=lr()},l(h){Dt(t.$$.fragment,h);for(let o=0;o<f.length;o+=1)f[o].l(h);r=lr(),p&&p.l(h),u=lr()},m(h,o){_t(t,h,o);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(h,o);Fe(h,r,o),p&&p.m(h,o),Fe(h,u,o),a=!0},p(h,o){const c={};if(o&1&&(c.xy=h[0]),o&2&&(c.radius=h[1]),t.$set(c),o&895){l=Object.entries(h[5].weightedPrompts);let m;for(m=0;m<l.length;m+=1){const A=K0(h,l,m);f[m]?(f[m].p(A,o),ke(f[m],1)):(f[m]=Z0(A),f[m].c(),ke(f[m],1),f[m].m(r.parentNode,r))}for(Nn(),m=l.length;m<f.length;m+=1)d(m);kn()}o&32&&(i=Object.entries(h[5].weightedPrompts).length>0),i?p?(p.p(h,o),o&32&&ke(p,1)):(p=X0(h),p.c(),ke(p,1),p.m(u.parentNode,u)):p&&(Nn(),ze(p,1,1,()=>{p=null}),kn())},i(h){if(!a){ke(t.$$.fragment,h);for(let o=0;o<l.length;o+=1)ke(f[o]);ke(p),a=!0}},o(h){ze(t.$$.fragment,h),f=f.filter(Boolean);for(let o=0;o<f.length;o+=1)ze(f[o]);ze(p),a=!1},d(h){yt(t,h),fd(f,h),h&&q(r),p&&p.d(h),h&&q(u)}}}function Z0(e){let t,r,i,u,a;t=new Gd({props:{p1:gi(e[0],e[5].circleMarker,e[1]),p2:e[6][e[18]].xy}});function l(){return e[12](e[18])}return r=new ws({props:{xy:e[6][e[18]].xy,radius:e[2],color:"rgba(76,97,141, 1)",handleMouseDown:l}}),i=new rf({props:{xy:e[9](e[6][e[18]].xy,ei(e[3],e[19].text.length,e[4])),color:`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`,wh:ei(e[3],e[19].text.length,e[4]),fontSize:e[4],text:e[19].text}}),u=new hE({props:{xy:Tl(ts(gi(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5),weight:ti(e[5].weightedPrompts[e[18]],e[5].weightMode),radius:15,textColor:`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`,bgColor:"rgb(8, 11, 22)"}}),{c(){mt(t.$$.fragment),mt(r.$$.fragment),mt(i.$$.fragment),mt(u.$$.fragment)},l(f){Dt(t.$$.fragment,f),Dt(r.$$.fragment,f),Dt(i.$$.fragment,f),Dt(u.$$.fragment,f)},m(f,d){_t(t,f,d),_t(r,f,d),_t(i,f,d),_t(u,f,d),a=!0},p(f,d){e=f;const p={};d&35&&(p.p1=gi(e[0],e[5].circleMarker,e[1])),d&96&&(p.p2=e[6][e[18]].xy),t.$set(p);const h={};d&96&&(h.xy=e[6][e[18]].xy),d&4&&(h.radius=e[2]),d&32&&(h.handleMouseDown=l),r.$set(h);const o={};d&120&&(o.xy=e[9](e[6][e[18]].xy,ei(e[3],e[19].text.length,e[4]))),d&96&&(o.color=`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`),d&56&&(o.wh=ei(e[3],e[19].text.length,e[4])),d&16&&(o.fontSize=e[4]),d&32&&(o.text=e[19].text),i.$set(o);const c={};d&99&&(c.xy=Tl(ts(gi(e[0],e[5].circleMarker,e[1]),e[6][e[18]].xy),.5)),d&32&&(c.weight=ti(e[5].weightedPrompts[e[18]],e[5].weightMode)),d&96&&(c.textColor=`rgba(255,255,255,${cn(e[6][e[18]].unitWeight)}`),u.$set(c)},i(f){a||(ke(t.$$.fragment,f),ke(r.$$.fragment,f),ke(i.$$.fragment,f),ke(u.$$.fragment,f),a=!0)},o(f){ze(t.$$.fragment,f),ze(r.$$.fragment,f),ze(i.$$.fragment,f),ze(u.$$.fragment,f),a=!1},d(f){yt(t,f),yt(r,f),yt(i,f),yt(u,f)}}}function X0(e){let t,r;return t=new ws({props:{xy:gi(e[0],e[5].circleMarker,e[1]),radius:10,color:"rgba(136,157,191, 1)",handleMouseDown:e[13]}}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},p(i,u){const a={};u&35&&(a.xy=gi(i[0],i[5].circleMarker,i[1])),t.$set(a)},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function mE(e){let t,r,i,u,a=e[6]&&e[5].weightedPrompts&&Y0(e);return{c(){t=Gt("svg"),a&&a.c(),this.h()},l(l){t=Kt(l,"svg",{id:!0,class:!0});var f=ie(t);a&&a.l(f),f.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(l,f){Fe(l,t,f),a&&a.m(t,null),r=!0,i||(u=[Re(t,"mousemove",e[10]),Re(t,"mouseup",e[7]),Re(t,"dblclick",e[11])],i=!0)},p(l,[f]){l[6]&&l[5].weightedPrompts?a?(a.p(l,f),f&96&&ke(a,1)):(a=Y0(l),a.c(),ke(a,1),a.m(t,null)):a&&(Nn(),ze(a,1,1,()=>{a=null}),kn())},i(l){r||(ke(a),r=!0)},o(l){ze(a),r=!1},d(l){l&&q(t),a&&a.d(),i=!1,Jr(u)}}}function J0(e,t){return e?Object.entries(e).reduce((r,[i,u],a)=>{const l=r[i]||a*(360/Object.keys(e).length)-90;return r[i]=l,r},t):null}function DE(e,t,r){let i,u;Bt(e,Cn,F=>r(5,u=F));let{center:a=[450,450]}=t,{radius:l=250}=t,{pointRadius:f=10}=t,{textWidth:d=150}=t,{fontSize:p=13}=t,h=[0,0],o=null;function c(F){o=null}function m(F){o=F}function A(F,B){let x=Ua(F,a,l)[0]-180;x<0&&(x+=360);const T=pE(nf(B),x);return ts(F,T)}function g(F){const B=dE(F,a,l)?Ua(F,a,l):Ua(G0(F,a,l),a,l);r(6,i=C(u.weightedPrompts,a,l,u.circleWeightScaling,u.circleExponentialScaling,B,u.circleAngles))}function D(F){if(h=hu(F),o==="main")g(h);else if(o){const B={...u.weightedPrompts[o]},x=G0(h,a,l),T=Ua(x,a,l)[0],I={...u.circleAngles};I[B.id]=T;const V={...u.weightedPrompts};V[o]=B,r(6,i=C(V,a,l,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,I))}}function y(F){h=hu(F),g(h)}function C(F,B,x,T,I,V,J){if(!F||!B||!x||!T||!V)return null;let K=Object.entries(F).reduce((j,[H,re])=>(j[H]={xy:gi(B,[J[H],1],x)},j),{});K=Object.entries(K).reduce((j,[H,re])=>(j[H]={...j[H],distance:Il(re.xy,gi(B,V,x))},j),K);const W=Object.values(K).reduce((j,H)=>j+H.distance,0);K=Object.entries(K).reduce((j,[H,re])=>(j[H]={...j[H],unitDistance:Math.round(re.distance/W*100)/100},j),K),K=Object.entries(K).reduce((j,[H,re])=>(j[H]={...j[H],invertedUnitDistance:Math.round((1-re.unitDistance)*100)/100},j),K),K=Object.entries(K).reduce((j,[H,re])=>(I?j[H]={...j[H],unitWeight:Math.round(Math.pow(1-re.distance/(2*x),T)*100)/100}:j[H]={...j[H],unitWeight:Math.round((1-re.distance/(2*x))*100)/100},j),K);const G={...F};return Object.entries(K).forEach(([j,H])=>{G[j].circleWeight=H.unitWeight}),It.updateActivePrompt({...u,circleMarker:V,weightedPrompts:G,circleAngles:J}),K}const w=F=>m(F),O=()=>m("main");return e.$$set=F=>{"center"in F&&r(0,a=F.center),"radius"in F&&r(1,l=F.radius),"pointRadius"in F&&r(2,f=F.pointRadius),"textWidth"in F&&r(3,d=F.textWidth),"fontSize"in F&&r(4,p=F.fontSize)},e.$$.update=()=>{e.$$.dirty&32&&Object.keys(u.circleAngles).length!==Object.keys(u.weightedPrompts).length&&It.updateActivePrompt({...u,circleAngles:J0(u.weightedPrompts,{})}),e.$$.dirty&35&&r(6,i=C(u.weightedPrompts,a,l,u.circleWeightScaling,u.circleExponentialScaling,u.circleMarker,u.circleAngles||J0(u.weightedPrompts,{})))},[a,l,f,d,p,u,i,c,m,A,D,y,w,O]}class _E extends Yt{constructor(t){super(),Zt(this,t,DE,mE,Xt,{center:0,radius:1,pointRadius:2,textWidth:3,fontSize:4})}}function $0(e){let t,r,i,u,a,l,f,d;return{c(){t=oe("div"),r=oe("label"),i=oe("span"),u=Ze("Scaling Power"),a=Ke(),l=oe("input"),this.h()},l(p){t=le(p,"DIV",{class:!0});var h=ie(t);r=le(h,"LABEL",{class:!0});var o=ie(r);i=le(o,"SPAN",{class:!0});var c=ie(i);u=Xe(c,"Scaling Power"),c.forEach(q),o.forEach(q),a=Ye(h),l=le(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h.forEach(q),this.h()},h(){k(i,"class","label-text"),k(r,"class","label"),k(l,"type","range"),k(l,"min","0.5"),k(l,"max","3"),k(l,"step","0.1"),k(l,"class","range"),k(t,"class","w-full px-2")},m(p,h){Fe(p,t,h),Q(t,r),Q(r,i),Q(i,u),Q(t,a),Q(t,l),mi(l,e[0]),f||(d=[Re(l,"change",e[6]),Re(l,"input",e[6])],f=!0)},p(p,h){h&1&&mi(l,p[0])},d(p){p&&q(t),f=!1,Jr(d)}}}function yE(e){let t,r,i,u,a,l,f,d,p,h,o,c,m,A,g;r=new _E({props:{center:[Math.round(e[2]/2),Math.round(e[3]/2)],radius:Math.round(Math.min(e[2],e[3])/2)-150}});let D=e[1]&&$0(e);return{c(){t=oe("div"),mt(r.$$.fragment),u=Ke(),a=oe("div"),l=oe("div"),f=oe("label"),d=oe("span"),p=Ze("Exponential Scaling"),h=Ke(),o=oe("input"),c=Ke(),D&&D.c(),this.h()},l(y){t=le(y,"DIV",{class:!0});var C=ie(t);Dt(r.$$.fragment,C),C.forEach(q),u=Ye(y),a=le(y,"DIV",{class:!0});var w=ie(a);l=le(w,"DIV",{class:!0});var O=ie(l);f=le(O,"LABEL",{class:!0});var F=ie(f);d=le(F,"SPAN",{class:!0});var B=ie(d);p=Xe(B,"Exponential Scaling"),B.forEach(q),F.forEach(q),h=Ye(O),o=le(O,"INPUT",{type:!0,class:!0}),O.forEach(q),c=Ye(w),D&&D.l(w),w.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[4].call(t)),k(d,"class","label-text"),k(f,"class","label"),k(o,"type","checkbox"),k(o,"class","toggle"),k(l,"class","w-52 px-2"),k(a,"class","px-2 py-4 pb-0 flex")},m(y,C){Fe(y,t,C),_t(r,t,null),i=Gl(t,e[4].bind(t)),Fe(y,u,C),Fe(y,a,C),Q(a,l),Q(l,f),Q(f,d),Q(d,p),Q(l,h),Q(l,o),o.checked=e[1],Q(a,c),D&&D.m(a,null),m=!0,A||(g=Re(o,"change",e[5]),A=!0)},p(y,[C]){const w={};C&12&&(w.center=[Math.round(y[2]/2),Math.round(y[3]/2)]),C&12&&(w.radius=Math.round(Math.min(y[2],y[3])/2)-150),r.$set(w),C&2&&(o.checked=y[1]),y[1]?D?D.p(y,C):(D=$0(y),D.c(),D.m(a,null)):D&&(D.d(1),D=null)},i(y){m||(ke(r.$$.fragment,y),m=!0)},o(y){ze(r.$$.fragment,y),m=!1},d(y){y&&q(t),yt(r),i(),y&&q(u),y&&q(a),D&&D.d(),A=!1,g()}}}function AE(e,t,r){let i;Bt(e,Cn,o=>r(7,i=o));let u,a,l=i.circleWeightScaling||2,f=gd(i.circleExponentialScaling)?!0:i.circleExponentialScaling;function d(){u=this.clientWidth,a=this.clientHeight,r(2,u),r(3,a)}function p(){f=this.checked,r(1,f)}function h(){l=Cy(this.value),r(0,l)}return e.$$.update=()=>{e.$$.dirty&3&&It.updateActivePrompt({...It.getActivePrompt(),circleExponentialScaling:f,circleWeightScaling:l})},[l,f,u,a,d,p,h]}class bE extends Yt{constructor(t){super(),Zt(this,t,AE,yE,Xt,{})}}function wE(e){let t,r,i,u,a,l,f;return{c(){t=Gt("rect"),this.h()},l(d){t=Kt(d,"rect",{x:!0,y:!0,width:!0,height:!0}),ie(t).forEach(q),this.h()},h(){k(t,"x",r=e[0][0]),k(t,"y",i=e[0][1]),k(t,"width",u=Math.max(e[1][0],0)),k(t,"height",a=Math.max(e[1][1],0)),Wt(t,"fill",e[2])},m(d,p){Fe(d,t,p),l||(f=[Re(t,"mouseover",function(){Vo(e[4])&&e[4].apply(this,arguments)}),Re(t,"mouseout",function(){Vo(e[5])&&e[5].apply(this,arguments)}),Re(t,"mousedown",function(){Vo(e[3])&&e[3].apply(this,arguments)})],l=!0)},p(d,[p]){e=d,p&1&&r!==(r=e[0][0])&&k(t,"x",r),p&1&&i!==(i=e[0][1])&&k(t,"y",i),p&2&&u!==(u=Math.max(e[1][0],0))&&k(t,"width",u),p&2&&a!==(a=Math.max(e[1][1],0))&&k(t,"height",a),p&4&&Wt(t,"fill",e[2])},i:Te,o:Te,d(d){d&&q(t),l=!1,Jr(f)}}}function EE(e,t,r){let{xy:i=[500,500]}=t,{wh:u=[100,100]}=t,{color:a="rgba(46,67,101, 0.4)"}=t,{handleMouseDown:l=p=>{}}=t,{handleMouseOver:f=p=>{}}=t,{handleMouseOut:d=p=>{}}=t;return e.$$set=p=>{"xy"in p&&r(0,i=p.xy),"wh"in p&&r(1,u=p.wh),"color"in p&&r(2,a=p.color),"handleMouseDown"in p&&r(3,l=p.handleMouseDown),"handleMouseOver"in p&&r(4,f=p.handleMouseOver),"handleMouseOut"in p&&r(5,d=p.handleMouseOut)},[i,u,a,l,f,d]}class Go extends Yt{constructor(t){super(),Zt(this,t,EE,wE,Xt,{xy:0,wh:1,color:2,handleMouseDown:3,handleMouseOver:4,handleMouseOut:5})}}function Q0(e,t,r){const i=e.slice();return i[51]=t[r][0],i[52]=t[r][1],i[53]=t[r][2],i}function eh(e,t){let r,i,u,a,l,f;i=new rf({props:{xy:[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]],color:`rgba(255,255,255,${cn(t[53].barWeight/t[12]||0)})`,wh:t[5][t[51]],text:t[53].text,textAlign:"right",fontSize:t[1]}});function d(...g){return t[39](t[51],...g)}function p(...g){return t[40](t[51],...g)}u=new Go({props:{color:t[13](0),handleMouseOver:d,handleMouseOut:p,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[t[11],t[4]-2]}});function h(...g){return t[41](t[51],...g)}function o(...g){return t[42](t[51],...g)}a=new Go({props:{color:t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](cn((t[53].barWeight||0)/t[12]+.15)):t[13](cn(t[53].barWeight||0)),handleMouseOver:h,handleMouseOut:o,xy:[t[10],t[3][1]+t[52]*t[4]+t[52]],wh:[(t[53].barWeight||0)*t[11],t[4]-2]}});function c(...g){return t[43](t[51],...g)}function m(...g){return t[44](t[51],...g)}function A(...g){return t[45](t[51],...g)}return l=new Go({props:{color:t[9]===t[51]?t[15]:t[14],handleMouseOver:c,handleMouseOut:m,handleMouseDown:A,xy:[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]],wh:[t[2],t[4]-2]}}),{key:e,first:null,c(){r=lr(),mt(i.$$.fragment),mt(u.$$.fragment),mt(a.$$.fragment),mt(l.$$.fragment),this.h()},l(g){r=lr(),Dt(i.$$.fragment,g),Dt(u.$$.fragment,g),Dt(a.$$.fragment,g),Dt(l.$$.fragment,g),this.h()},h(){this.first=r},m(g,D){Fe(g,r,D),_t(i,g,D),_t(u,g,D),_t(a,g,D),_t(l,g,D),f=!0},p(g,D){t=g;const y={};D[0]&89&&(y.xy=[t[3][0]+t[0],t[3][1]+t[52]*t[4]+t[52]]),D[0]&4160&&(y.color=`rgba(255,255,255,${cn(t[53].barWeight/t[12]||0)})`),D[0]&96&&(y.wh=t[5][t[51]]),D[0]&64&&(y.text=t[53].text),D[0]&2&&(y.fontSize=t[1]),i.$set(y);const C={};D[0]&64&&(C.handleMouseOver=d),D[0]&64&&(C.handleMouseOut=p),D[0]&1112&&(C.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),D[0]&2064&&(C.wh=[t[11],t[4]-2]),u.$set(C);const w={};D[0]&5056&&(w.color=t[8]===t[51]||t[7]===t[51]||t[9]===t[51]?t[13](cn((t[53].barWeight||0)/t[12]+.15)):t[13](cn(t[53].barWeight||0))),D[0]&64&&(w.handleMouseOver=h),D[0]&64&&(w.handleMouseOut=o),D[0]&1112&&(w.xy=[t[10],t[3][1]+t[52]*t[4]+t[52]]),D[0]&2128&&(w.wh=[(t[53].barWeight||0)*t[11],t[4]-2]),a.$set(w);const O={};D[0]&576&&(O.color=t[9]===t[51]?t[15]:t[14]),D[0]&64&&(O.handleMouseOver=c),D[0]&64&&(O.handleMouseOut=m),D[0]&64&&(O.handleMouseDown=A),D[0]&3160&&(O.xy=[t[10]+(t[53].barWeight||0)*t[11],t[3][1]+t[52]*t[4]+t[52]]),D[0]&20&&(O.wh=[t[2],t[4]-2]),l.$set(O)},i(g){f||(ke(i.$$.fragment,g),ke(u.$$.fragment,g),ke(a.$$.fragment,g),ke(l.$$.fragment,g),f=!0)},o(g){ze(i.$$.fragment,g),ze(u.$$.fragment,g),ze(a.$$.fragment,g),ze(l.$$.fragment,g),f=!1},d(g){g&&q(r),yt(i,g),yt(u,g),yt(a,g),yt(l,g)}}}function FE(e){let t,r=[],i=new Map,u,a,l,f=e[6];const d=p=>p[51];for(let p=0;p<f.length;p+=1){let h=Q0(e,f,p),o=d(h);i.set(o,r[p]=eh(o,h))}return{c(){t=Gt("svg");for(let p=0;p<r.length;p+=1)r[p].c();this.h()},l(p){t=Kt(p,"svg",{id:!0,class:!0});var h=ie(t);for(let o=0;o<r.length;o+=1)r[o].l(h);h.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(p,h){Fe(p,t,h);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null);u=!0,a||(l=[Re(t,"mousemove",e[25]),Re(t,"mouseup",e[24]),Re(t,"dblclick",e[23])],a=!0)},p(p,h){h[0]&8388607&&(f=p[6],Nn(),r=Ai(r,h,d,1,p,f,i,t,cd,eh,null,Q0),kn())},i(p){if(!u){for(let h=0;h<f.length;h+=1)ke(r[h]);u=!0}},o(p){for(let h=0;h<r.length;h+=1)ze(r[h]);u=!1},d(p){p&&q(t);for(let h=0;h<r.length;h+=1)r[h].d();a=!1,Jr(l)}}}function CE(e,t,r){let i,u,a,l,f,d,p,h,o,c,m,A,g;Bt(e,Cn,ye=>r(38,g=ye));let{center:D=[0,0]}=t,{dimensions:y=[100,100]}=t,{maxWidth:C=1e3}=t,{pointRadius:w=10}=t,{textWidth:O=250}=t,{horizontalPad:F=20}=t,{verticalPad:B=2}=t,{textBarPad:x=10}=t,{fontSize:T=13}=t,{handleWidth:I=20}=t,V=ye=>`rgba(46,67,101, ${ye})`,J=ye=>`rgba(76,97,131, ${ye})`,K=null,W=null,G=null,j=J(.3),H=J(.8),re=null,he=null,ve=null;function we(ye,_e){r(8,W=ye)}function Se(ye,_e){r(7,K=ye)}function Pe(ye,_e){r(9,G=ye)}function Ce(ye,_e){r(8,W=null)}function xe(ye,_e){r(7,K=null)}function Ie(ye,_e){r(9,G=null)}function Le(ye,_e){re=ye}function at(ye){let _e=re||W||G||K;if(!_e)return;const pt=hu(ye);Qe(_e,pt)}function ct(ye){re=null,clearInterval(he),he=null,ve=null}function Qe(ye,_e){let Nt=Math.min(c,Math.max(0,_e[0]-m))/c,ur={...g.weightedPrompts},R={...ur[ye]};R.barWeight=Nt,ur[ye]=R,It.updateActivePrompt({...g,weightedPrompts:ur})}function it(ye){let _e=re;if(!_e)return;const pt=hu(ye);if(Qe(_e,pt),re){let Nt=m+c+I,ur=m;pt[0]>Nt&&!he?(ve=Date.now(),he=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((Y,[ue,ee])=>(ue!==re?Y[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)}:Y[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)},Y),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<ur&&!he?(ve=Date.now(),he=setInterval(()=>{if(Date.now()-ve<1e3)return;let R={...g.weightedPrompts};const U=Object.entries(R).reduce((Y,[ue,ee])=>(ue!==re?Y[ue]={...ee,barWeight:Math.min(1,(ee.barWeight||0)+.01)}:Y[ue]={...ee,barWeight:Math.max(0,(ee.barWeight||0)-.01)},Y),{});It.updateActivePrompt({...g,weightedPrompts:U})},100)):pt[0]<Nt&&pt[0]>ur&&he&&(clearInterval(he),he=null,ve=null)}}const ht=(ye,_e)=>Se(ye),dt=(ye,_e)=>xe(),rt=(ye,_e)=>we(ye),Je=(ye,_e)=>Ce(),At=(ye,_e)=>Pe(ye),Ar=(ye,_e)=>Ie(),wt=(ye,_e)=>Le(ye);return e.$$set=ye=>{"center"in ye&&r(26,D=ye.center),"dimensions"in ye&&r(27,y=ye.dimensions),"maxWidth"in ye&&r(28,C=ye.maxWidth),"pointRadius"in ye&&r(29,w=ye.pointRadius),"textWidth"in ye&&r(30,O=ye.textWidth),"horizontalPad"in ye&&r(0,F=ye.horizontalPad),"verticalPad"in ye&&r(31,B=ye.verticalPad),"textBarPad"in ye&&r(32,x=ye.textBarPad),"fontSize"in ye&&r(1,T=ye.fontSize),"handleWidth"in ye&&r(2,I=ye.handleWidth)},e.$$.update=()=>{e.$$.dirty[1]&128&&r(6,i=Object.entries(g.weightedPrompts).map(([ye,_e],pt)=>[ye,pt,_e])),e.$$.dirty[1]&128&&r(36,u=Object.keys(g.weightedPrompts).length),e.$$.dirty[0]&134217728&&r(35,a=[y[0]-50,y[1]-50]),e.$$.dirty[0]&1073741890&&r(5,l=i.reduce((ye,[_e,pt,Nt])=>{const[ur,R]=ei(O,Nt.text.length,T);return ye[_e]=[ur,R],ye},{})),e.$$.dirty[0]&32&&r(37,f=Math.max(...Object.values(l).map(([ye,_e])=>_e))),e.$$.dirty[1]&112&&r(4,d=Math.min(a[1]/u,f)),e.$$.dirty[0]&16|e.$$.dirty[1]&33&&r(34,p=d*u+B*Math.max(u-1,0)),e.$$.dirty[0]&268435456|e.$$.dirty[1]&16&&r(33,h=Math.min(a[0],C)),e.$$.dirty[0]&67108864|e.$$.dirty[1]&12&&r(3,o=[D[0]-h/2,D[1]-p/2]),e.$$.dirty[0]&1073741829|e.$$.dirty[1]&6&&r(11,c=h-x-O-2*F-I),e.$$.dirty[0]&1073741833|e.$$.dirty[1]&2&&r(10,m=o[0]+x+O+F),e.$$.dirty[1]&128&&r(12,A=Math.max(...Object.values(g.weightedPrompts).map(ye=>ye.barWeight||0)))},[F,T,I,o,d,l,i,K,W,G,m,c,A,V,j,H,we,Se,Pe,Ce,xe,Ie,Le,at,ct,it,D,y,C,w,O,B,x,h,p,a,u,f,g,ht,dt,rt,Je,At,Ar,wt]}class SE extends Yt{constructor(t){super(),Zt(this,t,CE,FE,Xt,{center:26,dimensions:27,maxWidth:28,pointRadius:29,textWidth:30,horizontalPad:0,verticalPad:31,textBarPad:32,fontSize:1,handleWidth:2},null,[-1,-1])}}function BE(e){let t,r,i,u;return r=new SE({props:{dimensions:e[2],center:e[3]}}),{c(){t=oe("div"),mt(r.$$.fragment),this.h()},l(a){t=le(a,"DIV",{class:!0});var l=ie(t);Dt(r.$$.fragment,l),l.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[4].call(t))},m(a,l){Fe(a,t,l),_t(r,t,null),i=Gl(t,e[4].bind(t)),u=!0},p(a,[l]){const f={};l&4&&(f.dimensions=a[2]),l&8&&(f.center=a[3]),r.$set(f)},i(a){u||(ke(r.$$.fragment,a),u=!0)},o(a){ze(r.$$.fragment,a),u=!1},d(a){a&&q(t),yt(r),i()}}}function OE(e,t,r){let i,u,a,l;function f(){a=this.clientWidth,l=this.clientHeight,r(0,a),r(1,l)}return e.$$.update=()=>{e.$$.dirty&3&&r(2,i=[a||0,l||0]),e.$$.dirty&4&&r(3,u=nf(i))},[a,l,i,u,f]}class ME extends Yt{constructor(t){super(),Zt(this,t,OE,BE,Xt,{})}}function th(e,t,r){const i=e.slice();return i[26]=t[r][0],i[27]=t[r][1],i}function rh(e){let t=[],r=new Map,i,u,a,l=Object.entries(e[4].weightedPrompts);const f=d=>d[26];for(let d=0;d<l.length;d+=1){let p=th(e,l,d),h=f(p);r.set(h,t[d]=ih(h,p))}return u=new ws({props:{xy:e[7],radius:e[1],color:"rgba(136,157,191, 1)",handleMouseDown:e[19]}}),{c(){for(let d=0;d<t.length;d+=1)t[d].c();i=lr(),mt(u.$$.fragment)},l(d){for(let p=0;p<t.length;p+=1)t[p].l(d);i=lr(),Dt(u.$$.fragment,d)},m(d,p){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(d,p);Fe(d,i,p),_t(u,d,p),a=!0},p(d,p){p&221&&(l=Object.entries(d[4].weightedPrompts),Nn(),t=Ai(t,p,f,1,d,l,r,i.parentNode,cd,ih,i,th),kn());const h={};p&128&&(h.xy=d[7]),p&2&&(h.radius=d[1]),p&32&&(h.handleMouseDown=d[19]),u.$set(h)},i(d){if(!a){for(let p=0;p<l.length;p+=1)ke(t[p]);ke(u.$$.fragment,d),a=!0}},o(d){for(let p=0;p<t.length;p+=1)ze(t[p]);ze(u.$$.fragment,d),a=!1},d(d){for(let p=0;p<t.length;p+=1)t[p].d(d);d&&q(i),yt(u,d)}}}function nh(e){let t,r;return t=new Gd({props:{p1:e[6][e[26]].embedXY,p2:e[7]}}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},p(i,u){const a={};u&80&&(a.p1=i[6][i[26]].embedXY),u&128&&(a.p2=i[7]),t.$set(a)},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function ih(e,t){let r,i,u,a,l,f=t[27].embedActive&&nh(t);return u=new ws({props:{xy:t[6][t[26]].embedXY,radius:t[0],color:"rgba(136,157,191, 1)"}}),a=new rf({props:{xy:[t[6][t[26]].embedXY[0]-ei(t[2],t[27].text.length,t[3])[0]/2,t[6][t[26]].embedXY[1]+t[0]],color:`rgba(255,255,255,${cn(t[27].embedWeight)}`,wh:ei(t[2],t[27].text.length,t[3]),fontSize:t[3],text:t[27].text}}),{key:e,first:null,c(){r=lr(),f&&f.c(),i=lr(),mt(u.$$.fragment),mt(a.$$.fragment),this.h()},l(d){r=lr(),f&&f.l(d),i=lr(),Dt(u.$$.fragment,d),Dt(a.$$.fragment,d),this.h()},h(){this.first=r},m(d,p){Fe(d,r,p),f&&f.m(d,p),Fe(d,i,p),_t(u,d,p),_t(a,d,p),l=!0},p(d,p){t=d,t[27].embedActive?f?(f.p(t,p),p&16&&ke(f,1)):(f=nh(t),f.c(),ke(f,1),f.m(i.parentNode,i)):f&&(Nn(),ze(f,1,1,()=>{f=null}),kn());const h={};p&80&&(h.xy=t[6][t[26]].embedXY),p&1&&(h.radius=t[0]),u.$set(h);const o={};p&93&&(o.xy=[t[6][t[26]].embedXY[0]-ei(t[2],t[27].text.length,t[3])[0]/2,t[6][t[26]].embedXY[1]+t[0]]),p&16&&(o.color=`rgba(255,255,255,${cn(t[27].embedWeight)}`),p&28&&(o.wh=ei(t[2],t[27].text.length,t[3])),p&8&&(o.fontSize=t[3]),p&16&&(o.text=t[27].text),a.$set(o)},i(d){l||(ke(f),ke(u.$$.fragment,d),ke(a.$$.fragment,d),l=!0)},o(d){ze(f),ze(u.$$.fragment,d),ze(a.$$.fragment,d),l=!1},d(d){d&&q(r),f&&f.d(d),d&&q(i),yt(u,d),yt(a,d)}}}function xE(e){let t,r=Object.entries(e[4].weightedPrompts).length>0&&Object.entries(e[6]||{}).length>0,i,u,a,l=r&&rh(e);return{c(){t=Gt("svg"),l&&l.c(),this.h()},l(f){t=Kt(f,"svg",{id:!0,class:!0});var d=ie(t);l&&l.l(d),d.forEach(q),this.h()},h(){k(t,"id","svg"),k(t,"class","w-full h-full")},m(f,d){Fe(f,t,d),l&&l.m(t,null),i=!0,u||(a=[Re(t,"mousemove",e[9]),Re(t,"mouseup",e[10]),Re(t,"dblclick",e[8])],u=!0)},p(f,[d]){d&80&&(r=Object.entries(f[4].weightedPrompts).length>0&&Object.entries(f[6]||{}).length>0),r?l?(l.p(f,d),d&80&&ke(l,1)):(l=rh(f),l.c(),ke(l,1),l.m(t,null)):l&&(Nn(),ze(l,1,1,()=>{l=null}),kn())},i(f){i||(ke(l),i=!0)},o(f){ze(l),i=!1},d(f){f&&q(t),l&&l.d(),u=!1,Jr(a)}}}function PE(e,t,r){let i,u,a,l,f;Bt(e,Cn,W=>r(4,f=W));let{center:d=[100,100]}=t,{dimensions:p=[100,100]}=t,{pointRadius:h=4}=t,{markerRadius:o=10}=t,{textWidth:c=150}=t,{fontSize:m=12}=t,{innerPad:A=100}=t,g=!1,D=null,y=p,C=[0,0];function w(W){f.embeddings&&f.scaledEmbedMappings&&(J(),x(i,u,a,y,W))}function O(W,G){W&&G&&(J(),x(i,u,a,y,l))}function F(W,G){x(i,W,G,y,l)}function B(W){f.embeddings&&f.scaledEmbedMappings&&(J(),x(i,u,a,W,l))}function x(W,G,j,H,re){if(!D)return;let he={...f.weightedPrompts},ve=0;Object.values(D).forEach(Ce=>{Object.values(D).forEach(xe=>{const Ie=Il(Ce.embedXY,xe.embedXY);Ie>ve&&(ve=Ie)})});const we=Object.entries(D).reduce((Ce,[xe,Ie])=>{const Le=Il(W,Ie.embedXY);return Ce[xe]=Le,Ce},{}),Se=(Ce,xe)=>{const Ie=Ce?Math.round(Math.pow(1-xe/ve,j)*100)/100:0;return Ie<0?0:Ie},Pe=(Ce,xe)=>{const Ie=Ce?Math.round((1-xe/ve)*100)/100:0;return Ie<0?0:Ie};Object.entries(we).sort((Ce,xe)=>Ce[1]-xe[1]).forEach(([Ce,xe],Ie)=>{if(!he[Ce])return;const Le=Ie<re;he[Ce]={...he[Ce],embedWeight:G?Se(Le,xe):Pe(Le,xe),embedActive:Le}}),It.updateActivePrompt({...f,embedMarker:i,weightedPrompts:he})}function T(W){const G=hu(W,svg);r(7,i=G),x(i,u,a,y,l)}function I(W){if(g){const G=hu(W,svg);r(7,i=G),x(i,u,a,y,l)}}function V(W){r(5,g=!1)}function J(){const W=Object.keys(f.scaledEmbedMappings);r(6,D=W.reduce((G,j,H)=>(G[j]={embedXY:[C[0]+y[0]*f.scaledEmbedMappings[H][0],C[1]+y[1]*f.scaledEmbedMappings[H][1]]},G),{}))}const K=()=>r(5,g=!0);return e.$$set=W=>{"center"in W&&r(11,d=W.center),"dimensions"in W&&r(12,p=W.dimensions),"pointRadius"in W&&r(0,h=W.pointRadius),"markerRadius"in W&&r(1,o=W.markerRadius),"textWidth"in W&&r(2,c=W.textWidth),"fontSize"in W&&r(3,m=W.fontSize),"innerPad"in W&&r(13,A=W.innerPad)},e.$$.update=()=>{if(e.$$.dirty&2064&&r(7,i=f.embedMarker||d),e.$$.dirty&16&&r(18,u=f.embedExponentialScaling),e.$$.dirty&16&&r(17,a=f.embedWeightScaling),e.$$.dirty&16&&r(16,l=f.embedPromptLimit||Object.keys(f.weightedPrompts).length),e.$$.dirty&393216&&F(u,a),e.$$.dirty&16&&O(f.embeddings,f.scaledEmbedMappings),e.$$.dirty&45056){const W=Math.min(...p),G=p[0]===W,j=p[1]===W;r(15,C=[Math.max(G?0:(p[0]-W)/2,A),Math.max(j?0:(p[1]-W)/2,A)]),r(14,y=[p[0]-2*C[0],p[1]-2*C[1]])}e.$$.dirty&16384&&B(y),e.$$.dirty&16384&&B(y),e.$$.dirty&65536&&w(l)},[h,o,c,m,f,g,D,i,T,I,V,d,p,A,y,C,l,a,u,K]}class TE extends Yt{constructor(t){super(),Zt(this,t,PE,xE,Xt,{center:11,dimensions:12,pointRadius:0,markerRadius:1,textWidth:2,fontSize:3,innerPad:13})}}var Nl={},Kd={},rs={},IE={get exports(){return rs},set exports(e){rs=e}},ns={},NE={get exports(){return ns},set exports(e){ns=e}},Yd=function(t,r){return function(){for(var u=new Array(arguments.length),a=0;a<u.length;a++)u[a]=arguments[a];return t.apply(r,u)}},kE=Yd,wi=Object.prototype.toString;function uf(e){return Array.isArray(e)}function kl(e){return typeof e>"u"}function RE(e){return e!==null&&!kl(e)&&e.constructor!==null&&!kl(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Zd(e){return wi.call(e)==="[object ArrayBuffer]"}function LE(e){return wi.call(e)==="[object FormData]"}function UE(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zd(e.buffer),t}function jE(e){return typeof e=="string"}function VE(e){return typeof e=="number"}function Xd(e){return e!==null&&typeof e=="object"}function Wa(e){if(wi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function qE(e){return wi.call(e)==="[object Date]"}function zE(e){return wi.call(e)==="[object File]"}function WE(e){return wi.call(e)==="[object Blob]"}function Jd(e){return wi.call(e)==="[object Function]"}function HE(e){return Xd(e)&&Jd(e.pipe)}function GE(e){return wi.call(e)==="[object URLSearchParams]"}function KE(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function YE(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function af(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),uf(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.call(null,e[u],u,e)}function Rl(){var e={};function t(u,a){Wa(e[a])&&Wa(u)?e[a]=Rl(e[a],u):Wa(u)?e[a]=Rl({},u):uf(u)?e[a]=u.slice():e[a]=u}for(var r=0,i=arguments.length;r<i;r++)af(arguments[r],t);return e}function ZE(e,t,r){return af(t,function(u,a){r&&typeof u=="function"?e[a]=kE(u,r):e[a]=u}),e}function XE(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var zr={isArray:uf,isArrayBuffer:Zd,isBuffer:RE,isFormData:LE,isArrayBufferView:UE,isString:jE,isNumber:VE,isObject:Xd,isPlainObject:Wa,isUndefined:kl,isDate:qE,isFile:zE,isBlob:WE,isFunction:Jd,isStream:HE,isURLSearchParams:GE,isStandardBrowserEnv:YE,forEach:af,merge:Rl,extend:ZE,trim:KE,stripBOM:XE},ru=zr;function uh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $d=function(t,r,i){if(!r)return t;var u;if(i)u=i(r);else if(ru.isURLSearchParams(r))u=r.toString();else{var a=[];ru.forEach(r,function(d,p){d===null||typeof d>"u"||(ru.isArray(d)?p=p+"[]":d=[d],ru.forEach(d,function(o){ru.isDate(o)?o=o.toISOString():ru.isObject(o)&&(o=JSON.stringify(o)),a.push(uh(p)+"="+uh(o))}))}),u=a.join("&")}if(u){var l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t},JE=zr;function Es(){this.handlers=[]}Es.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Es.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Es.prototype.forEach=function(t){JE.forEach(this.handlers,function(i){i!==null&&t(i)})};var $E=Es,QE=zr,e2=function(t,r){QE.forEach(t,function(u,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(t[r]=u,delete t[a])})},Qd=function(t,r,i,u,a){return t.config=r,i&&(t.code=i),t.request=u,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ko,ah;function tp(){if(ah)return Ko;ah=1;var e=Qd;return Ko=function(r,i,u,a,l){var f=new Error(r);return e(f,i,u,a,l)},Ko}var Yo,sh;function t2(){if(sh)return Yo;sh=1;var e=tp();return Yo=function(r,i,u){var a=u.config.validateStatus;!u.status||!a||a(u.status)?r(u):i(e("Request failed with status code "+u.status,u.config,null,u.request,u))},Yo}var Zo,oh;function r2(){if(oh)return Zo;oh=1;var e=zr;return Zo=e.isStandardBrowserEnv()?function(){return{write:function(i,u,a,l,f,d){var p=[];p.push(i+"="+encodeURIComponent(u)),e.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),e.isString(l)&&p.push("path="+l),e.isString(f)&&p.push("domain="+f),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var u=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Zo}var Xo,lh;function n2(){return lh||(lh=1,Xo=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Xo}var Jo,fh;function i2(){return fh||(fh=1,Jo=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),Jo}var $o,ch;function u2(){if(ch)return $o;ch=1;var e=n2(),t=i2();return $o=function(i,u){return i&&!e(u)?t(i,u):u},$o}var Qo,hh;function a2(){if(hh)return Qo;hh=1;var e=zr,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Qo=function(i){var u={},a,l,f;return i&&e.forEach(i.split(`
`),function(p){if(f=p.indexOf(":"),a=e.trim(p.substr(0,f)).toLowerCase(),l=e.trim(p.substr(f+1)),a){if(u[a]&&t.indexOf(a)>=0)return;a==="set-cookie"?u[a]=(u[a]?u[a]:[]).concat([l]):u[a]=u[a]?u[a]+", "+l:l}}),u},Qo}var el,dh;function s2(){if(dh)return el;dh=1;var e=zr;return el=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),u;function a(l){var f=l;return r&&(i.setAttribute("href",f),f=i.href),i.setAttribute("href",f),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return u=a(window.location.href),function(f){var d=e.isString(f)?a(f):f;return d.protocol===u.protocol&&d.host===u.host}}():function(){return function(){return!0}}(),el}var tl,ph;function Fs(){if(ph)return tl;ph=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,tl=e,tl}var rl,vh;function gh(){if(vh)return rl;vh=1;var e=zr,t=t2(),r=r2(),i=$d,u=u2(),a=a2(),l=s2(),f=tp(),d=ep,p=Fs();return rl=function(o){return new Promise(function(m,A){var g=o.data,D=o.headers,y=o.responseType,C;function w(){o.cancelToken&&o.cancelToken.unsubscribe(C),o.signal&&o.signal.removeEventListener("abort",C)}e.isFormData(g)&&delete D["Content-Type"];var O=new XMLHttpRequest;if(o.auth){var F=o.auth.username||"",B=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";D.Authorization="Basic "+btoa(F+":"+B)}var x=u(o.baseURL,o.url);O.open(o.method.toUpperCase(),i(x,o.params,o.paramsSerializer),!0),O.timeout=o.timeout;function T(){if(O){var V="getAllResponseHeaders"in O?a(O.getAllResponseHeaders()):null,J=!y||y==="text"||y==="json"?O.responseText:O.response,K={data:J,status:O.status,statusText:O.statusText,headers:V,config:o,request:O};t(function(G){m(G),w()},function(G){A(G),w()},K),O=null}}if("onloadend"in O?O.onloadend=T:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(T)},O.onabort=function(){O&&(A(f("Request aborted",o,"ECONNABORTED",O)),O=null)},O.onerror=function(){A(f("Network Error",o,null,O)),O=null},O.ontimeout=function(){var J=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",K=o.transitional||d;o.timeoutErrorMessage&&(J=o.timeoutErrorMessage),A(f(J,o,K.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",O)),O=null},e.isStandardBrowserEnv()){var I=(o.withCredentials||l(x))&&o.xsrfCookieName?r.read(o.xsrfCookieName):void 0;I&&(D[o.xsrfHeaderName]=I)}"setRequestHeader"in O&&e.forEach(D,function(J,K){typeof g>"u"&&K.toLowerCase()==="content-type"?delete D[K]:O.setRequestHeader(K,J)}),e.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),y&&y!=="json"&&(O.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&O.addEventListener("progress",o.onDownloadProgress),typeof o.onUploadProgress=="function"&&O.upload&&O.upload.addEventListener("progress",o.onUploadProgress),(o.cancelToken||o.signal)&&(C=function(V){O&&(A(!V||V&&V.type?new p("canceled"):V),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(C),o.signal&&(o.signal.aborted?C():o.signal.addEventListener("abort",C))),g||(g=null),O.send(g)})},rl}var Sr=zr,mh=e2,o2=Qd,l2=ep,f2={"Content-Type":"application/x-www-form-urlencoded"};function Dh(e,t){!Sr.isUndefined(e)&&Sr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c2(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=gh()),e}function h2(e,t,r){if(Sr.isString(e))try{return(t||JSON.parse)(e),Sr.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var Cs={transitional:l2,adapter:c2(),transformRequest:[function(t,r){return mh(r,"Accept"),mh(r,"Content-Type"),Sr.isFormData(t)||Sr.isArrayBuffer(t)||Sr.isBuffer(t)||Sr.isStream(t)||Sr.isFile(t)||Sr.isBlob(t)?t:Sr.isArrayBufferView(t)?t.buffer:Sr.isURLSearchParams(t)?(Dh(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Sr.isObject(t)||r&&r["Content-Type"]==="application/json"?(Dh(r,"application/json"),h2(t)):t}],transformResponse:[function(t){var r=this.transitional||Cs.transitional,i=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,a=!i&&this.responseType==="json";if(a||u&&Sr.isString(t)&&t.length)try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?o2(l,this,"E_JSON_PARSE"):l}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(t){Cs.headers[t]={}});Sr.forEach(["post","put","patch"],function(t){Cs.headers[t]=Sr.merge(f2)});var sf=Cs,d2=zr,p2=sf,v2=function(t,r,i){var u=this||p2;return d2.forEach(i,function(l){t=l.call(u,t,r)}),t},nl,_h;function rp(){return _h||(_h=1,nl=function(t){return!!(t&&t.__CANCEL__)}),nl}var yh=zr,il=v2,g2=rp(),m2=sf,D2=Fs();function ul(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new D2("canceled")}var _2=function(t){ul(t),t.headers=t.headers||{},t.data=il.call(t,t.data,t.headers,t.transformRequest),t.headers=yh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),yh.forEach(["delete","get","head","post","put","patch","common"],function(u){delete t.headers[u]});var r=t.adapter||m2.adapter;return r(t).then(function(u){return ul(t),u.data=il.call(t,u.data,u.headers,t.transformResponse),u},function(u){return g2(u)||(ul(t),u&&u.response&&(u.response.data=il.call(t,u.response.data,u.response.headers,t.transformResponse))),Promise.reject(u)})},Xr=zr,np=function(t,r){r=r||{};var i={};function u(h,o){return Xr.isPlainObject(h)&&Xr.isPlainObject(o)?Xr.merge(h,o):Xr.isPlainObject(o)?Xr.merge({},o):Xr.isArray(o)?o.slice():o}function a(h){if(Xr.isUndefined(r[h])){if(!Xr.isUndefined(t[h]))return u(void 0,t[h])}else return u(t[h],r[h])}function l(h){if(!Xr.isUndefined(r[h]))return u(void 0,r[h])}function f(h){if(Xr.isUndefined(r[h])){if(!Xr.isUndefined(t[h]))return u(void 0,t[h])}else return u(void 0,r[h])}function d(h){if(h in r)return u(t[h],r[h]);if(h in t)return u(void 0,t[h])}var p={url:l,method:l,data:l,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d};return Xr.forEach(Object.keys(t).concat(Object.keys(r)),function(o){var c=p[o]||a,m=c(o);Xr.isUndefined(m)&&c!==d||(i[o]=m)}),i},al,Ah;function ip(){return Ah||(Ah=1,al={version:"0.26.1"}),al}var y2=ip().version,of={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){of[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var bh={};of.transitional=function(t,r,i){function u(a,l){return"[Axios v"+y2+"] Transitional option '"+a+"'"+l+(i?". "+i:"")}return function(a,l,f){if(t===!1)throw new Error(u(l," has been removed"+(r?" in "+r:"")));return r&&!bh[l]&&(bh[l]=!0,console.warn(u(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,f):!0}};function A2(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var i=Object.keys(e),u=i.length;u-- >0;){var a=i[u],l=t[a];if(l){var f=e[a],d=f===void 0||l(f,a,e);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}var b2={assertOptions:A2,validators:of},up=zr,w2=$d,wh=$E,Eh=_2,Ss=np,ap=b2,nu=ap.validators;function Xu(e){this.defaults=e,this.interceptors={request:new wh,response:new wh}}Xu.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ss(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&ap.assertOptions(i,{silentJSONParsing:nu.transitional(nu.boolean),forcedJSONParsing:nu.transitional(nu.boolean),clarifyTimeoutError:nu.transitional(nu.boolean)},!1);var u=[],a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(a=a&&m.synchronous,u.unshift(m.fulfilled,m.rejected))});var l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});var f;if(!a){var d=[Eh,void 0];for(Array.prototype.unshift.apply(d,u),d=d.concat(l),f=Promise.resolve(r);d.length;)f=f.then(d.shift(),d.shift());return f}for(var p=r;u.length;){var h=u.shift(),o=u.shift();try{p=h(p)}catch(c){o(c);break}}try{f=Eh(p)}catch(c){return Promise.reject(c)}for(;l.length;)f=f.then(l.shift(),l.shift());return f};Xu.prototype.getUri=function(t){return t=Ss(this.defaults,t),w2(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};up.forEach(["delete","get","head","options"],function(t){Xu.prototype[t]=function(r,i){return this.request(Ss(i||{},{method:t,url:r,data:(i||{}).data}))}});up.forEach(["post","put","patch"],function(t){Xu.prototype[t]=function(r,i,u){return this.request(Ss(u||{},{method:t,url:r,data:i}))}});var E2=Xu,sl,Fh;function F2(){if(Fh)return sl;Fh=1;var e=Fs();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(l){i=l});var u=this;this.promise.then(function(a){if(u._listeners){var l,f=u._listeners.length;for(l=0;l<f;l++)u._listeners[l](a);u._listeners=null}}),this.promise.then=function(a){var l,f=new Promise(function(d){u.subscribe(d),l=d}).then(a);return f.cancel=function(){u.unsubscribe(l)},f},r(function(l){u.reason||(u.reason=new e(l),i(u.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(this._listeners){var u=this._listeners.indexOf(i);u!==-1&&this._listeners.splice(u,1)}},t.source=function(){var i,u=new t(function(l){i=l});return{token:u,cancel:i}},sl=t,sl}var ol,Ch;function C2(){return Ch||(Ch=1,ol=function(t){return function(i){return t.apply(null,i)}}),ol}var ll,Sh;function S2(){if(Sh)return ll;Sh=1;var e=zr;return ll=function(r){return e.isObject(r)&&r.isAxiosError===!0},ll}var Bh=zr,B2=Yd,Ha=E2,O2=np,M2=sf;function sp(e){var t=new Ha(e),r=B2(Ha.prototype.request,t);return Bh.extend(r,Ha.prototype,t),Bh.extend(r,t),r.create=function(u){return sp(O2(e,u))},r}var Un=sp(M2);Un.Axios=Ha;Un.Cancel=Fs();Un.CancelToken=F2();Un.isCancel=rp();Un.VERSION=ip().version;Un.all=function(t){return Promise.all(t)};Un.spread=C2();Un.isAxiosError=S2();NE.exports=Un;ns.default=Un;(function(e){e.exports=ns})(IE);var er={},lf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RequiredError=e.BaseAPI=e.COLLECTION_FORMATS=e.BASE_PATH=void 0;const t=rs;e.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class r{constructor(a,l=e.BASE_PATH,f=t.default){this.basePath=l,this.axios=f,a&&(this.configuration=a,this.basePath=a.basePath||this.basePath)}}e.BaseAPI=r;class i extends Error{constructor(a,l){super(l),this.field=a,this.name="RequiredError"}}e.RequiredError=i})(lf);var ff=or&&or.__awaiter||function(e,t,r,i){function u(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(h){try{p(i.next(h))}catch(o){l(o)}}function d(h){try{p(i.throw(h))}catch(o){l(o)}}function p(h){h.done?a(h.value):u(h.value).then(f,d)}p((i=i.apply(e,t||[])).next())})};Object.defineProperty(er,"__esModule",{value:!0});er.createRequestFunction=er.toPathString=er.serializeDataIfNeeded=er.setSearchParams=er.setOAuthToObject=er.setBearerAuthToObject=er.setBasicAuthToObject=er.setApiKeyToObject=er.assertParamExists=er.DUMMY_BASE_URL=void 0;const x2=lf;er.DUMMY_BASE_URL="https://example.com";er.assertParamExists=function(e,t,r){if(r==null)throw new x2.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};er.setApiKeyToObject=function(e,t,r){return ff(this,void 0,void 0,function*(){if(r&&r.apiKey){const i=typeof r.apiKey=="function"?yield r.apiKey(t):yield r.apiKey;e[t]=i}})};er.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})};er.setBearerAuthToObject=function(e,t){return ff(this,void 0,void 0,function*(){if(t&&t.accessToken){const r=typeof t.accessToken=="function"?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+r}})};er.setOAuthToObject=function(e,t,r,i){return ff(this,void 0,void 0,function*(){if(i&&i.accessToken){const u=typeof i.accessToken=="function"?yield i.accessToken(t,r):yield i.accessToken;e.Authorization="Bearer "+u}})};function Ll(e,t,r=""){t!=null&&(typeof t=="object"?Array.isArray(t)?t.forEach(i=>Ll(e,i,r)):Object.keys(t).forEach(i=>Ll(e,t[i],`${r}${r!==""?".":""}${i}`)):e.has(r)?e.append(r,t):e.set(r,t))}er.setSearchParams=function(e,...t){const r=new URLSearchParams(e.search);Ll(r,t),e.search=r.toString()};er.serializeDataIfNeeded=function(e,t,r){const i=typeof e!="string";return(i&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):i)?JSON.stringify(e!==void 0?e:{}):e||""};er.toPathString=function(e){return e.pathname+e.search+e.hash};er.createRequestFunction=function(e,t,r,i){return(u=t,a=r)=>{const l=Object.assign(Object.assign({},e.options),{url:((i==null?void 0:i.basePath)||a)+e.url});return u.request(l)}};(function(e){var t=or&&or.__awaiter||function(l,f,d,p){function h(o){return o instanceof d?o:new d(function(c){c(o)})}return new(d||(d=Promise))(function(o,c){function m(D){try{g(p.next(D))}catch(y){c(y)}}function A(D){try{g(p.throw(D))}catch(y){c(y)}}function g(D){D.done?o(D.value):h(D.value).then(m,A)}g((p=p.apply(l,f||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenAIApi=e.OpenAIApiFactory=e.OpenAIApiFp=e.OpenAIApiAxiosParamCreator=e.CreateImageRequestResponseFormatEnum=e.CreateImageRequestSizeEnum=e.ChatCompletionResponseMessageRoleEnum=e.ChatCompletionRequestMessageRoleEnum=void 0;const r=rs,i=er,u=lf;e.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},e.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},e.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},e.OpenAIApiAxiosParamCreator=function(l){return{cancelFineTune:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("cancelFineTune","fineTuneId",f);const p="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),createAnswer:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createAnswer","createAnswerRequest",f);const p="/answers",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createChatCompletion:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createChatCompletion","createChatCompletionRequest",f);const p="/chat/completions",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createClassification:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createClassification","createClassificationRequest",f);const p="/classifications",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createCompletion:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createCompletion","createCompletionRequest",f);const p="/completions",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createEdit:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createEdit","createEditRequest",f);const p="/edits",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createEmbedding:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createEmbedding","createEmbeddingRequest",f);const p="/embeddings",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createFile:(f,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createFile","file",f),i.assertParamExists("createFile","purpose",d);const h="/files",o=new URL(h,i.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const m=Object.assign(Object.assign({method:"POST"},c),p),A={},g={},D=new(l&&l.formDataCtor||FormData);f!==void 0&&D.append("file",f),d!==void 0&&D.append("purpose",d),A["Content-Type"]="multipart/form-data",i.setSearchParams(o,g);let y=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),D.getHeaders()),y),p.headers),m.data=D,{url:i.toPathString(o),options:m}}),createFineTune:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createFineTune","createFineTuneRequest",f);const p="/fine-tunes",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createImage:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImage","createImageRequest",f);const p="/images/generations",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createImageEdit:(f,d,p,h,o,c,m,A={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImageEdit","image",f),i.assertParamExists("createImageEdit","prompt",d);const g="/images/edits",D=new URL(g,i.DUMMY_BASE_URL);let y;l&&(y=l.baseOptions);const C=Object.assign(Object.assign({method:"POST"},y),A),w={},O={},F=new(l&&l.formDataCtor||FormData);f!==void 0&&F.append("image",f),p!==void 0&&F.append("mask",p),d!==void 0&&F.append("prompt",d),h!==void 0&&F.append("n",h),o!==void 0&&F.append("size",o),c!==void 0&&F.append("response_format",c),m!==void 0&&F.append("user",m),w["Content-Type"]="multipart/form-data",i.setSearchParams(D,O);let B=y&&y.headers?y.headers:{};return C.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),F.getHeaders()),B),A.headers),C.data=F,{url:i.toPathString(D),options:C}}),createImageVariation:(f,d,p,h,o,c={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createImageVariation","image",f);const m="/images/variations",A=new URL(m,i.DUMMY_BASE_URL);let g;l&&(g=l.baseOptions);const D=Object.assign(Object.assign({method:"POST"},g),c),y={},C={},w=new(l&&l.formDataCtor||FormData);f!==void 0&&w.append("image",f),d!==void 0&&w.append("n",d),p!==void 0&&w.append("size",p),h!==void 0&&w.append("response_format",h),o!==void 0&&w.append("user",o),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,C);let O=g&&g.headers?g.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),O),c.headers),D.data=w,{url:i.toPathString(A),options:D}}),createModeration:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createModeration","createModerationRequest",f);const p="/moderations",h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"POST"},o),d),m={},A={};m["Content-Type"]="application/json",i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),c.data=i.serializeDataIfNeeded(f,c,l),{url:i.toPathString(h),options:c}}),createSearch:(f,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createSearch","engineId",f),i.assertParamExists("createSearch","createSearchRequest",d);const h="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(f))),o=new URL(h,i.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const m=Object.assign(Object.assign({method:"POST"},c),p),A={},g={};A["Content-Type"]="application/json",i.setSearchParams(o,g);let D=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},A),D),p.headers),m.data=i.serializeDataIfNeeded(d,m,l),{url:i.toPathString(o),options:m}}),createTranscription:(f,d,p,h,o,c,m={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createTranscription","file",f),i.assertParamExists("createTranscription","model",d);const A="/audio/transcriptions",g=new URL(A,i.DUMMY_BASE_URL);let D;l&&(D=l.baseOptions);const y=Object.assign(Object.assign({method:"POST"},D),m),C={},w={},O=new(l&&l.formDataCtor||FormData);f!==void 0&&O.append("file",f),d!==void 0&&O.append("model",d),p!==void 0&&O.append("prompt",p),h!==void 0&&O.append("response_format",h),o!==void 0&&O.append("temperature",o),c!==void 0&&O.append("language",c),C["Content-Type"]="multipart/form-data",i.setSearchParams(g,w);let F=D&&D.headers?D.headers:{};return y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},C),O.getHeaders()),F),m.headers),y.data=O,{url:i.toPathString(g),options:y}}),createTranslation:(f,d,p,h,o,c={})=>t(this,void 0,void 0,function*(){i.assertParamExists("createTranslation","file",f),i.assertParamExists("createTranslation","model",d);const m="/audio/translations",A=new URL(m,i.DUMMY_BASE_URL);let g;l&&(g=l.baseOptions);const D=Object.assign(Object.assign({method:"POST"},g),c),y={},C={},w=new(l&&l.formDataCtor||FormData);f!==void 0&&w.append("file",f),d!==void 0&&w.append("model",d),p!==void 0&&w.append("prompt",p),h!==void 0&&w.append("response_format",h),o!==void 0&&w.append("temperature",o),y["Content-Type"]="multipart/form-data",i.setSearchParams(A,C);let O=g&&g.headers?g.headers:{};return D.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),w.getHeaders()),O),c.headers),D.data=w,{url:i.toPathString(A),options:D}}),deleteFile:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("deleteFile","fileId",f);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"DELETE"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),deleteModel:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("deleteModel","model",f);const p="/models/{model}".replace("{model}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"DELETE"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),downloadFile:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("downloadFile","fileId",f);const p="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),listEngines:(f={})=>t(this,void 0,void 0,function*(){const d="/engines",p=new URL(d,i.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},h),f),c={},m={};i.setSearchParams(p,m);let A=h&&h.headers?h.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},c),A),f.headers),{url:i.toPathString(p),options:o}}),listFiles:(f={})=>t(this,void 0,void 0,function*(){const d="/files",p=new URL(d,i.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},h),f),c={},m={};i.setSearchParams(p,m);let A=h&&h.headers?h.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},c),A),f.headers),{url:i.toPathString(p),options:o}}),listFineTuneEvents:(f,d,p={})=>t(this,void 0,void 0,function*(){i.assertParamExists("listFineTuneEvents","fineTuneId",f);const h="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(f))),o=new URL(h,i.DUMMY_BASE_URL);let c;l&&(c=l.baseOptions);const m=Object.assign(Object.assign({method:"GET"},c),p),A={},g={};d!==void 0&&(g.stream=d),i.setSearchParams(o,g);let D=c&&c.headers?c.headers:{};return m.headers=Object.assign(Object.assign(Object.assign({},A),D),p.headers),{url:i.toPathString(o),options:m}}),listFineTunes:(f={})=>t(this,void 0,void 0,function*(){const d="/fine-tunes",p=new URL(d,i.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},h),f),c={},m={};i.setSearchParams(p,m);let A=h&&h.headers?h.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},c),A),f.headers),{url:i.toPathString(p),options:o}}),listModels:(f={})=>t(this,void 0,void 0,function*(){const d="/models",p=new URL(d,i.DUMMY_BASE_URL);let h;l&&(h=l.baseOptions);const o=Object.assign(Object.assign({method:"GET"},h),f),c={},m={};i.setSearchParams(p,m);let A=h&&h.headers?h.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},c),A),f.headers),{url:i.toPathString(p),options:o}}),retrieveEngine:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveEngine","engineId",f);const p="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),retrieveFile:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveFile","fileId",f);const p="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),retrieveFineTune:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveFineTune","fineTuneId",f);const p="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}}),retrieveModel:(f,d={})=>t(this,void 0,void 0,function*(){i.assertParamExists("retrieveModel","model",f);const p="/models/{model}".replace("{model}",encodeURIComponent(String(f))),h=new URL(p,i.DUMMY_BASE_URL);let o;l&&(o=l.baseOptions);const c=Object.assign(Object.assign({method:"GET"},o),d),m={},A={};i.setSearchParams(h,A);let g=o&&o.headers?o.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},m),g),d.headers),{url:i.toPathString(h),options:c}})}},e.OpenAIApiFp=function(l){const f=e.OpenAIApiAxiosParamCreator(l);return{cancelFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield f.cancelFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createAnswer(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createAnswer(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createChatCompletion(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createChatCompletion(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createClassification(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createClassification(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createCompletion(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createCompletion(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createEdit(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createEdit(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createEmbedding(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createEmbedding(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createFile(d,p,h){return t(this,void 0,void 0,function*(){const o=yield f.createFile(d,p,h);return i.createRequestFunction(o,r.default,u.BASE_PATH,l)})},createFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createImage(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createImage(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createImageEdit(d,p,h,o,c,m,A,g){return t(this,void 0,void 0,function*(){const D=yield f.createImageEdit(d,p,h,o,c,m,A,g);return i.createRequestFunction(D,r.default,u.BASE_PATH,l)})},createImageVariation(d,p,h,o,c,m){return t(this,void 0,void 0,function*(){const A=yield f.createImageVariation(d,p,h,o,c,m);return i.createRequestFunction(A,r.default,u.BASE_PATH,l)})},createModeration(d,p){return t(this,void 0,void 0,function*(){const h=yield f.createModeration(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},createSearch(d,p,h){return t(this,void 0,void 0,function*(){const o=yield f.createSearch(d,p,h);return i.createRequestFunction(o,r.default,u.BASE_PATH,l)})},createTranscription(d,p,h,o,c,m,A){return t(this,void 0,void 0,function*(){const g=yield f.createTranscription(d,p,h,o,c,m,A);return i.createRequestFunction(g,r.default,u.BASE_PATH,l)})},createTranslation(d,p,h,o,c,m){return t(this,void 0,void 0,function*(){const A=yield f.createTranslation(d,p,h,o,c,m);return i.createRequestFunction(A,r.default,u.BASE_PATH,l)})},deleteFile(d,p){return t(this,void 0,void 0,function*(){const h=yield f.deleteFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},deleteModel(d,p){return t(this,void 0,void 0,function*(){const h=yield f.deleteModel(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},downloadFile(d,p){return t(this,void 0,void 0,function*(){const h=yield f.downloadFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},listEngines(d){return t(this,void 0,void 0,function*(){const p=yield f.listEngines(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listFiles(d){return t(this,void 0,void 0,function*(){const p=yield f.listFiles(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listFineTuneEvents(d,p,h){return t(this,void 0,void 0,function*(){const o=yield f.listFineTuneEvents(d,p,h);return i.createRequestFunction(o,r.default,u.BASE_PATH,l)})},listFineTunes(d){return t(this,void 0,void 0,function*(){const p=yield f.listFineTunes(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,l)})},listModels(d){return t(this,void 0,void 0,function*(){const p=yield f.listModels(d);return i.createRequestFunction(p,r.default,u.BASE_PATH,l)})},retrieveEngine(d,p){return t(this,void 0,void 0,function*(){const h=yield f.retrieveEngine(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},retrieveFile(d,p){return t(this,void 0,void 0,function*(){const h=yield f.retrieveFile(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},retrieveFineTune(d,p){return t(this,void 0,void 0,function*(){const h=yield f.retrieveFineTune(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})},retrieveModel(d,p){return t(this,void 0,void 0,function*(){const h=yield f.retrieveModel(d,p);return i.createRequestFunction(h,r.default,u.BASE_PATH,l)})}}},e.OpenAIApiFactory=function(l,f,d){const p=e.OpenAIApiFp(l);return{cancelFineTune(h,o){return p.cancelFineTune(h,o).then(c=>c(d,f))},createAnswer(h,o){return p.createAnswer(h,o).then(c=>c(d,f))},createChatCompletion(h,o){return p.createChatCompletion(h,o).then(c=>c(d,f))},createClassification(h,o){return p.createClassification(h,o).then(c=>c(d,f))},createCompletion(h,o){return p.createCompletion(h,o).then(c=>c(d,f))},createEdit(h,o){return p.createEdit(h,o).then(c=>c(d,f))},createEmbedding(h,o){return p.createEmbedding(h,o).then(c=>c(d,f))},createFile(h,o,c){return p.createFile(h,o,c).then(m=>m(d,f))},createFineTune(h,o){return p.createFineTune(h,o).then(c=>c(d,f))},createImage(h,o){return p.createImage(h,o).then(c=>c(d,f))},createImageEdit(h,o,c,m,A,g,D,y){return p.createImageEdit(h,o,c,m,A,g,D,y).then(C=>C(d,f))},createImageVariation(h,o,c,m,A,g){return p.createImageVariation(h,o,c,m,A,g).then(D=>D(d,f))},createModeration(h,o){return p.createModeration(h,o).then(c=>c(d,f))},createSearch(h,o,c){return p.createSearch(h,o,c).then(m=>m(d,f))},createTranscription(h,o,c,m,A,g,D){return p.createTranscription(h,o,c,m,A,g,D).then(y=>y(d,f))},createTranslation(h,o,c,m,A,g){return p.createTranslation(h,o,c,m,A,g).then(D=>D(d,f))},deleteFile(h,o){return p.deleteFile(h,o).then(c=>c(d,f))},deleteModel(h,o){return p.deleteModel(h,o).then(c=>c(d,f))},downloadFile(h,o){return p.downloadFile(h,o).then(c=>c(d,f))},listEngines(h){return p.listEngines(h).then(o=>o(d,f))},listFiles(h){return p.listFiles(h).then(o=>o(d,f))},listFineTuneEvents(h,o,c){return p.listFineTuneEvents(h,o,c).then(m=>m(d,f))},listFineTunes(h){return p.listFineTunes(h).then(o=>o(d,f))},listModels(h){return p.listModels(h).then(o=>o(d,f))},retrieveEngine(h,o){return p.retrieveEngine(h,o).then(c=>c(d,f))},retrieveFile(h,o){return p.retrieveFile(h,o).then(c=>c(d,f))},retrieveFineTune(h,o){return p.retrieveFineTune(h,o).then(c=>c(d,f))},retrieveModel(h,o){return p.retrieveModel(h,o).then(c=>c(d,f))}}};class a extends u.BaseAPI{cancelFineTune(f,d){return e.OpenAIApiFp(this.configuration).cancelFineTune(f,d).then(p=>p(this.axios,this.basePath))}createAnswer(f,d){return e.OpenAIApiFp(this.configuration).createAnswer(f,d).then(p=>p(this.axios,this.basePath))}createChatCompletion(f,d){return e.OpenAIApiFp(this.configuration).createChatCompletion(f,d).then(p=>p(this.axios,this.basePath))}createClassification(f,d){return e.OpenAIApiFp(this.configuration).createClassification(f,d).then(p=>p(this.axios,this.basePath))}createCompletion(f,d){return e.OpenAIApiFp(this.configuration).createCompletion(f,d).then(p=>p(this.axios,this.basePath))}createEdit(f,d){return e.OpenAIApiFp(this.configuration).createEdit(f,d).then(p=>p(this.axios,this.basePath))}createEmbedding(f,d){return e.OpenAIApiFp(this.configuration).createEmbedding(f,d).then(p=>p(this.axios,this.basePath))}createFile(f,d,p){return e.OpenAIApiFp(this.configuration).createFile(f,d,p).then(h=>h(this.axios,this.basePath))}createFineTune(f,d){return e.OpenAIApiFp(this.configuration).createFineTune(f,d).then(p=>p(this.axios,this.basePath))}createImage(f,d){return e.OpenAIApiFp(this.configuration).createImage(f,d).then(p=>p(this.axios,this.basePath))}createImageEdit(f,d,p,h,o,c,m,A){return e.OpenAIApiFp(this.configuration).createImageEdit(f,d,p,h,o,c,m,A).then(g=>g(this.axios,this.basePath))}createImageVariation(f,d,p,h,o,c){return e.OpenAIApiFp(this.configuration).createImageVariation(f,d,p,h,o,c).then(m=>m(this.axios,this.basePath))}createModeration(f,d){return e.OpenAIApiFp(this.configuration).createModeration(f,d).then(p=>p(this.axios,this.basePath))}createSearch(f,d,p){return e.OpenAIApiFp(this.configuration).createSearch(f,d,p).then(h=>h(this.axios,this.basePath))}createTranscription(f,d,p,h,o,c,m){return e.OpenAIApiFp(this.configuration).createTranscription(f,d,p,h,o,c,m).then(A=>A(this.axios,this.basePath))}createTranslation(f,d,p,h,o,c){return e.OpenAIApiFp(this.configuration).createTranslation(f,d,p,h,o,c).then(m=>m(this.axios,this.basePath))}deleteFile(f,d){return e.OpenAIApiFp(this.configuration).deleteFile(f,d).then(p=>p(this.axios,this.basePath))}deleteModel(f,d){return e.OpenAIApiFp(this.configuration).deleteModel(f,d).then(p=>p(this.axios,this.basePath))}downloadFile(f,d){return e.OpenAIApiFp(this.configuration).downloadFile(f,d).then(p=>p(this.axios,this.basePath))}listEngines(f){return e.OpenAIApiFp(this.configuration).listEngines(f).then(d=>d(this.axios,this.basePath))}listFiles(f){return e.OpenAIApiFp(this.configuration).listFiles(f).then(d=>d(this.axios,this.basePath))}listFineTuneEvents(f,d,p){return e.OpenAIApiFp(this.configuration).listFineTuneEvents(f,d,p).then(h=>h(this.axios,this.basePath))}listFineTunes(f){return e.OpenAIApiFp(this.configuration).listFineTunes(f).then(d=>d(this.axios,this.basePath))}listModels(f){return e.OpenAIApiFp(this.configuration).listModels(f).then(d=>d(this.axios,this.basePath))}retrieveEngine(f,d){return e.OpenAIApiFp(this.configuration).retrieveEngine(f,d).then(p=>p(this.axios,this.basePath))}retrieveFile(f,d){return e.OpenAIApiFp(this.configuration).retrieveFile(f,d).then(p=>p(this.axios,this.basePath))}retrieveFineTune(f,d){return e.OpenAIApiFp(this.configuration).retrieveFineTune(f,d).then(p=>p(this.axios,this.basePath))}retrieveModel(f,d){return e.OpenAIApiFp(this.configuration).retrieveModel(f,d).then(p=>p(this.axios,this.basePath))}}e.OpenAIApi=a})(Kd);var Bs={};const P2="openai",T2="3.2.1",I2="Node.js library for the OpenAI API",N2={type:"git",url:"git@github.com:openai/openai-node.git"},k2=["openai","open","ai","gpt-3","gpt3"],R2="OpenAI",L2="MIT",U2="./dist/index.js",j2="./dist/index.d.ts",V2={build:"tsc --outDir dist/"},q2={axios:"^0.26.0","form-data":"^4.0.0"},z2={"@types/node":"^12.11.5",typescript:"^3.6.4"},W2={name:P2,version:T2,description:I2,repository:N2,keywords:k2,author:R2,license:L2,main:U2,types:j2,scripts:V2,dependencies:q2,devDependencies:z2};var fl,Oh;function H2(){return Oh||(Oh=1,fl=typeof self=="object"?self.FormData:window.FormData),fl}Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Configuration=void 0;const G2=W2;class K2{constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${G2.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=H2())}isJsonMime(t){const r=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(r.test(t)||t.toLowerCase()==="application/json-patch+json")}}Bs.Configuration=K2;(function(e){var t=or&&or.__createBinding||(Object.create?function(i,u,a,l){l===void 0&&(l=a),Object.defineProperty(i,l,{enumerable:!0,get:function(){return u[a]}})}:function(i,u,a,l){l===void 0&&(l=a),i[l]=u[a]}),r=or&&or.__exportStar||function(i,u){for(var a in i)a!=="default"&&!u.hasOwnProperty(a)&&t(u,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kd,e),r(Bs,e)})(Nl);function cf(e){const t=new Nl.Configuration({apiKey:e});return new Nl.OpenAIApi(t)}async function Y2(e,t,r="text-davinci-003"){return await e.createCompletion({model:r,prompt:t,temperature:.8,max_tokens:250})}async function Z2(e,t,r="gpt-3.5-turbo"){return await e.createChatCompletion({model:r,messages:[{role:"user",content:t}],temperature:.8,max_tokens:250})}async function X2(e,t,r="text-embedding-ada-002"){return await e.createEmbedding({model:r,input:t})}async function J2(e){return await e.listModels()}const cl="preferredEmbeddingModelStore";function $2(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[cl]||""),{subscribe:t,updateEmbeddingModel:a=>{!a||!u||(localStorage[cl]=a,r(a))},getEmbeddingModel:()=>Pt(e),deleteEmbeddingModel:()=>{u&&(delete localStorage[cl],r(""))}}}const Ul=$2(),op=En(Ul,e=>Pt(Ul)),hl="oKeyStore";function Q2(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[hl]||""),{subscribe:t,updateKey:a=>{!a||!u||(localStorage[hl]=a,r(a))},getKey:()=>Pt(e),deleteKey:()=>{u&&(delete localStorage[hl],r(""))}}}const is=Q2(),Os=En(is,e=>Pt(is));var us={},eF={get exports(){return us},set exports(e){us=e}},as={},tF={get exports(){return as},set exports(e){as=e}},su=typeof Reflect=="object"?Reflect:null,Mh=su&&typeof su.apply=="function"?su.apply:function(t,r,i){return Function.prototype.apply.call(t,r,i)},Ga;su&&typeof su.ownKeys=="function"?Ga=su.ownKeys:Object.getOwnPropertySymbols?Ga=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ga=function(t){return Object.getOwnPropertyNames(t)};function rF(e){console&&console.warn&&console.warn(e)}var lp=Number.isNaN||function(t){return t!==t};function Ft(){Ft.init.call(this)}tF.exports=Ft;as.once=aF;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var xh=10;function Ms(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return xh},set:function(e){if(typeof e!="number"||e<0||lp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");xh=e}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||lp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function fp(e){return e._maxListeners===void 0?Ft.defaultMaxListeners:e._maxListeners}Ft.prototype.getMaxListeners=function(){return fp(this)};Ft.prototype.emit=function(t){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var u=t==="error",a=this._events;if(a!==void 0)u=u&&a.error===void 0;else if(!u)return!1;if(u){var l;if(r.length>0&&(l=r[0]),l instanceof Error)throw l;var f=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw f.context=l,f}var d=a[t];if(d===void 0)return!1;if(typeof d=="function")Mh(d,this,r);else for(var p=d.length,h=vp(d,p),i=0;i<p;++i)Mh(h[i],this,r);return!0};function cp(e,t,r,i){var u,a,l;if(Ms(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),l=a[t]),l===void 0)l=a[t]=r,++e._eventsCount;else if(typeof l=="function"?l=a[t]=i?[r,l]:[l,r]:i?l.unshift(r):l.push(r),u=fp(e),u>0&&l.length>u&&!l.warned){l.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=l.length,rF(f)}return e}Ft.prototype.addListener=function(t,r){return cp(this,t,r,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(t,r){return cp(this,t,r,!0)};function nF(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hp(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=nF.bind(i);return u.listener=r,i.wrapFn=u,u}Ft.prototype.once=function(t,r){return Ms(r),this.on(t,hp(this,t,r)),this};Ft.prototype.prependOnceListener=function(t,r){return Ms(r),this.prependListener(t,hp(this,t,r)),this};Ft.prototype.removeListener=function(t,r){var i,u,a,l,f;if(Ms(r),u=this._events,u===void 0)return this;if(i=u[t],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,i.listener||r));else if(typeof i!="function"){for(a=-1,l=i.length-1;l>=0;l--)if(i[l]===r||i[l].listener===r){f=i[l].listener,a=l;break}if(a<0)return this;a===0?i.shift():iF(i,a),i.length===1&&(u[t]=i[0]),u.removeListener!==void 0&&this.emit("removeListener",t,f||r)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(t){var r,i,u;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var a=Object.keys(i),l;for(u=0;u<a.length;++u)l=a[u],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function dp(e,t,r){var i=e._events;if(i===void 0)return[];var u=i[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?uF(u):vp(u,u.length)}Ft.prototype.listeners=function(t){return dp(this,t,!0)};Ft.prototype.rawListeners=function(t){return dp(this,t,!1)};Ft.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):pp.call(e,t)};Ft.prototype.listenerCount=pp;function pp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Ga(this._events):[]};function vp(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function iF(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function uF(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function aF(e,t){return new Promise(function(r,i){function u(l){e.removeListener(t,a),i(l)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}gp(e,t,a,{once:!0}),t!=="error"&&sF(e,u,{once:!0})})}function sF(e,t,r){typeof e.on=="function"&&gp(e,"error",t,r)}function gp(e,t,r,i){if(typeof e.on=="function")i.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(a){i.once&&e.removeEventListener(t,u),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function oF(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}var lF=oF;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var fF=function(e){return e!=null&&(mp(e)||cF(e)||!!e._isBuffer)};function mp(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function cF(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&mp(e.slice(0,0))}var hF=lF,dF=fF,pF=typeof Float64Array<"u";function vF(e,t){return e[0]-t[0]}function gF(){var e=this.stride,t=new Array(e.length),r;for(r=0;r<t.length;++r)t[r]=[Math.abs(e[r]),r];t.sort(vF);var i=new Array(t.length);for(r=0;r<i.length;++r)i[r]=t[r][1];return i}function mF(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i=e==="generic";if(t===-1){var u="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",g=new Function(u);return g()}else if(t===0){var u="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",g=new Function("TrivialArray",u);return g(ss[e][0])}var u=["'use strict'"],a=hF(t),l=a.map(function(D){return"i"+D}),f="this.offset+"+a.map(function(D){return"this.stride["+D+"]*i"+D}).join("+"),d=a.map(function(D){return"b"+D}).join(","),p=a.map(function(D){return"c"+D}).join(",");u.push("function "+r+"(a,"+d+","+p+",d){this.data=a","this.shape=["+d+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),u.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(D){return"this.shape["+D+"]"}).join("*"),"}})"),t===1?u.push("proto.order=[0]"):(u.push("Object.defineProperty(proto,'order',{get:"),t<4?(u.push("function "+r+"_order(){"),t===2?u.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&u.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):u.push("ORDER})")),u.push("proto.set=function "+r+"_set("+l.join(",")+",v){"),i?u.push("return this.data.set("+f+",v)}"):u.push("return this.data["+f+"]=v}"),u.push("proto.get=function "+r+"_get("+l.join(",")+"){"),i?u.push("return this.data.get("+f+")}"):u.push("return this.data["+f+"]}"),u.push("proto.index=function "+r+"_index(",l.join(),"){return "+f+"}"),u.push("proto.hi=function "+r+"_hi("+l.join(",")+"){return new "+r+"(this.data,"+a.map(function(D){return["(typeof i",D,"!=='number'||i",D,"<0)?this.shape[",D,"]:i",D,"|0"].join("")}).join(",")+","+a.map(function(D){return"this.stride["+D+"]"}).join(",")+",this.offset)}");var h=a.map(function(D){return"a"+D+"=this.shape["+D+"]"}),o=a.map(function(D){return"c"+D+"=this.stride["+D+"]"});u.push("proto.lo=function "+r+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+o.join(","));for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'&&i"+c+">=0){d=i"+c+"|0;b+=c"+c+"*d;a"+c+"-=d}");u.push("return new "+r+"(this.data,"+a.map(function(D){return"a"+D}).join(",")+","+a.map(function(D){return"c"+D}).join(",")+",b)}"),u.push("proto.step=function "+r+"_step("+l.join(",")+"){var "+a.map(function(D){return"a"+D+"=this.shape["+D+"]"}).join(",")+","+a.map(function(D){return"b"+D+"=this.stride["+D+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'){d=i"+c+"|0;if(d<0){c+=b"+c+"*(a"+c+"-1);a"+c+"=ceil(-a"+c+"/d)}else{a"+c+"=ceil(a"+c+"/d)}b"+c+"*=d}");u.push("return new "+r+"(this.data,"+a.map(function(D){return"a"+D}).join(",")+","+a.map(function(D){return"b"+D}).join(",")+",c)}");for(var m=new Array(t),A=new Array(t),c=0;c<t;++c)m[c]="a[i"+c+"]",A[c]="b[i"+c+"]";u.push("proto.transpose=function "+r+"_transpose("+l+"){"+l.map(function(D,y){return D+"=("+D+"===undefined?"+y+":"+D+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+m.join(",")+","+A.join(",")+",this.offset)}"),u.push("proto.pick=function "+r+"_pick("+l+"){var a=[],b=[],c=this.offset");for(var c=0;c<t;++c)u.push("if(typeof i"+c+"==='number'&&i"+c+">=0){c=(c+this.stride["+c+"]*i"+c+")|0}else{a.push(this.shape["+c+"]);b.push(this.stride["+c+"])}");u.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),u.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(D){return"shape["+D+"]"}).join(",")+","+a.map(function(D){return"stride["+D+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",u.join(`
`));return g(ss[e],gF)}function DF(e){if(dF(e))return"buffer";if(pF)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var ss={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function _F(e,t,r,i){if(e===void 0){var p=ss.array[0];return p([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var u=t.length;if(r===void 0){r=new Array(u);for(var a=u-1,l=1;a>=0;--a)r[a]=l,l*=t[a]}if(i===void 0){i=0;for(var a=0;a<u;++a)r[a]<0&&(i-=(t[a]-1)*r[a])}for(var f=DF(e),d=ss[f];d.length<=u+1;)d.push(mF(f,d.length-1));var p=d[u+1];return p(e,t,r,i)}var pu=_F,xs={};function yF(e,t){for(var r=1,i=e.length,u=e[0],a=e[0],l=1;l<i;++l)if(a=u,u=e[l],t(u,a)){if(l===r){r++;continue}e[r++]=u}return e.length=r,e}function AF(e){for(var t=1,r=e.length,i=e[0],u=e[0],a=1;a<r;++a,u=i)if(u=i,i=e[a],i!==u){if(a===t){t++;continue}e[t++]=i}return e.length=t,e}function bF(e,t,r){return e.length===0?e:t?(r||e.sort(t),yF(e,t)):(r||e.sort(),AF(e))}var Dp=bF,wF=Dp;function _p(e,t,r){var i=e.length,u=t.arrayArgs.length,a=t.indexArgs.length>0,l=[],f=[],d=0,p=0,h,o;for(h=0;h<i;++h)f.push(["i",h,"=0"].join(""));for(o=0;o<u;++o)for(h=0;h<i;++h)p=d,d=e[h],h===0?f.push(["d",o,"s",h,"=t",o,"p",d].join("")):f.push(["d",o,"s",h,"=(t",o,"p",d,"-s",p,"*t",o,"p",p,")"].join(""));for(f.length>0&&l.push("var "+f.join(",")),h=i-1;h>=0;--h)d=e[h],l.push(["for(i",h,"=0;i",h,"<s",d,";++i",h,"){"].join(""));for(l.push(r),h=0;h<i;++h){for(p=d,d=e[h],o=0;o<u;++o)l.push(["p",o,"+=d",o,"s",h].join(""));a&&(h>0&&l.push(["index[",p,"]-=s",p].join("")),l.push(["++index[",d,"]"].join(""))),l.push("}")}return l.join(`
`)}function EF(e,t,r,i){for(var u=t.length,a=r.arrayArgs.length,l=r.blockSize,f=r.indexArgs.length>0,d=[],p=0;p<a;++p)d.push(["var offset",p,"=p",p].join(""));for(var p=e;p<u;++p)d.push(["for(var j"+p+"=SS[",t[p],"]|0;j",p,">0;){"].join("")),d.push(["if(j",p,"<",l,"){"].join("")),d.push(["s",t[p],"=j",p].join("")),d.push(["j",p,"=0"].join("")),d.push(["}else{s",t[p],"=",l].join("")),d.push(["j",p,"-=",l,"}"].join("")),f&&d.push(["index[",t[p],"]=j",p].join(""));for(var p=0;p<a;++p){for(var h=["offset"+p],o=e;o<u;++o)h.push(["j",o,"*t",p,"p",t[o]].join(""));d.push(["p",p,"=(",h.join("+"),")"].join(""))}d.push(_p(t,r,i));for(var p=e;p<u;++p)d.push("}");return d.join(`
`)}function FF(e){for(var t=0,r=e[0].length;t<r;){for(var i=1;i<e.length;++i)if(e[i][t]!==e[0][t])return t;++t}return t}function dl(e,t,r){for(var i=e.body,u=[],a=[],l=0;l<e.args.length;++l){var f=e.args[l];if(!(f.count<=0)){var d=new RegExp(f.name,"g"),p="",h=t.arrayArgs.indexOf(l);switch(t.argTypes[l]){case"offset":var o=t.offsetArgIndex.indexOf(l),c=t.offsetArgs[o];h=c.array,p="+q"+o;case"array":p="p"+h+p;var m="l"+l,A="a"+h;if(t.arrayBlockIndices[h]===0)f.count===1?r[h]==="generic"?f.lvalue?(u.push(["var ",m,"=",A,".get(",p,")"].join("")),i=i.replace(d,m),a.push([A,".set(",p,",",m,")"].join(""))):i=i.replace(d,[A,".get(",p,")"].join("")):i=i.replace(d,[A,"[",p,"]"].join("")):r[h]==="generic"?(u.push(["var ",m,"=",A,".get(",p,")"].join("")),i=i.replace(d,m),f.lvalue&&a.push([A,".set(",p,",",m,")"].join(""))):(u.push(["var ",m,"=",A,"[",p,"]"].join("")),i=i.replace(d,m),f.lvalue&&a.push([A,"[",p,"]=",m].join("")));else{for(var g=[f.name],D=[p],y=0;y<Math.abs(t.arrayBlockIndices[h]);y++)g.push("\\s*\\[([^\\]]+)\\]"),D.push("$"+(y+1)+"*t"+h+"b"+y);if(d=new RegExp(g.join(""),"g"),p=D.join("+"),r[h]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");i=i.replace(d,[A,"[",p,"]"].join(""))}break;case"scalar":i=i.replace(d,"Y"+t.scalarArgs.indexOf(l));break;case"index":i=i.replace(d,"index");break;case"shape":i=i.replace(d,"shape");break}}}return[u.join(`
`),i,a.join(`
`)].join(`
`).trim()}function CF(e){for(var t=new Array(e.length),r=!0,i=0;i<e.length;++i){var u=e[i],a=u.match(/\d+/);a?a=a[0]:a="",u.charAt(0)===0?t[i]="u"+u.charAt(1)+a:t[i]=u.charAt(0)+a,i>0&&(r=r&&t[i]===t[i-1])}return r?t[0]:t.join("")}function SF(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,i=new Array(e.arrayArgs.length),u=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)u[a]=t[2*a],i[a]=t[2*a+1];for(var l=[],f=[],d=[],p=[],h=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(d.push(0),p.push(r),l.push(r),f.push(r+e.arrayBlockIndices[a])):(d.push(e.arrayBlockIndices[a]),p.push(e.arrayBlockIndices[a]+r),l.push(0),f.push(e.arrayBlockIndices[a]));for(var o=[],c=0;c<i[a].length;c++)d[a]<=i[a][c]&&i[a][c]<p[a]&&o.push(i[a][c]-d[a]);h.push(o)}for(var m=["SS"],A=["'use strict'"],g=[],c=0;c<r;++c)g.push(["s",c,"=SS[",c,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){m.push("a"+a),m.push("t"+a),m.push("p"+a);for(var c=0;c<r;++c)g.push(["t",a,"p",c,"=t",a,"[",d[a]+c,"]"].join(""));for(var c=0;c<Math.abs(e.arrayBlockIndices[a]);++c)g.push(["t",a,"b",c,"=t",a,"[",l[a]+c,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)m.push("Y"+a);if(e.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var D=new Array(r),a=0;a<r;++a)D[a]="0";g.push(["index=[",D.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var y=e.offsetArgs[a],C=[],c=0;c<y.offset.length;++c)y.offset[c]!==0&&(y.offset[c]===1?C.push(["t",y.array,"p",c].join("")):C.push([y.offset[c],"*t",y.array,"p",c].join("")));C.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",C.join("+")].join(""))}var w=wF([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));g=g.concat(w),g.length>0&&A.push("var "+g.join(","));for(var a=0;a<e.arrayArgs.length;++a)A.push("p"+a+"|=0");e.pre.body.length>3&&A.push(dl(e.pre,e,u));var O=dl(e.body,e,u),F=FF(h);F<r?A.push(EF(F,h[0],e,O)):A.push(_p(h[0],e,O)),e.post.body.length>3&&A.push(dl(e.post,e,u)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+A.join(`
`)+`
----------`);var B=[e.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",F,CF(u)].join(""),x=new Function(["function ",B,"(",m.join(","),"){",A.join(`
`),"} return ",B].join(""));return x()}var BF=SF,OF=BF;function MF(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var u=[],a=[],l=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],f=[],d=[],p=0;p<e.arrayArgs.length;++p){var h=e.arrayArgs[p];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),u.push("t"+h),u.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),l.push("array"+h+".data"),l.push("array"+h+".stride"),l.push("array"+h+".offset|0"),p>0&&(f.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[p]))),d.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[p])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var p=0;p<e.scalarArgs.length;++p)l.push("scalar"+e.scalarArgs[p]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",u.join(","),"])}","return proc(",l.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var o=new Function("compile",t.join(`
`));return o(OF.bind(void 0,e))}var xF=MF,PF=xF;function TF(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function IF(e){var t=new TF;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var i=0;i<r.length;++i){var u=r[i];if(u==="array"||typeof u=="object"&&u.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(u.blockIndices?u.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if(u==="scalar")t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if(u==="index"){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if(u==="shape"){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof u=="object"&&u.offset)t.argTypes[i]="offset",t.offsetArgs.push({array:u.array,offset:u.offset}),t.offsetArgIndex.push(i);else throw new Error("cwise: Unknown argument type "+r[i])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,PF(t)}var hf=IF;(function(e){var t=hf,r={body:"",args:[],thisVars:[],localVars:[]};function i(c){if(!c)return r;for(var m=0;m<c.args.length;++m){var A=c.args[m];m===0?c.args[m]={name:A,lvalue:!0,rvalue:!!c.rvalue,count:c.count||1}:c.args[m]={name:A,lvalue:!1,rvalue:!0,count:1}}return c.thisVars||(c.thisVars=[]),c.localVars||(c.localVars=[]),c}function u(c){return t({args:c.args,pre:i(c.pre),body:i(c.body),post:i(c.proc),funcName:c.funcName})}function a(c){for(var m=[],A=0;A<c.args.length;++A)m.push("a"+A);var g=new Function("P",["return function ",c.funcName,"_ndarrayops(",m.join(","),") {P(",m.join(","),");return a0}"].join(""));return g(u(c))}var l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var c in l){var m=l[c];e[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:c}),e[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+m+"=b"},rvalue:!0,funcName:c+"eq"}),e[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:c+"s"}),e[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+m+"=s"},rvalue:!0,funcName:c+"seq"})}})();var f={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var c in f){var m=f[c];e[c]=a({args:["array","array"],body:{args:["a","b"],body:"a="+m+"b"},funcName:c}),e[c+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+m+"a"},rvalue:!0,count:2,funcName:c+"eq"})}})();var d={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var c in d){var m=d[c];e[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+m+"c"},funcName:c}),e[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+m+"s"},funcName:c+"s"}),e[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+m+"b"},rvalue:!0,count:2,funcName:c+"eq"}),e[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+m+"s"},rvalue:!0,count:2,funcName:c+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var c=0;c<p.length;++c){var m=p[c];e[m]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:m}),e[m+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"})}})();var h=["max","min","atan2","pow"];(function(){for(var c=0;c<h.length;++c){var m=h[c];e[m]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m}),e[m+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:m+"s"}),e[m+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"eq"}),e[m+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"seq"})}})();var o=["atan2","pow"];(function(){for(var c=0;c<o.length;++c){var m=o[c];e[m+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"op"}),e[m+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:m+"ops"}),e[m+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opeq"}),e[m+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+m,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:m+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(xs);var NF=hf({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:`{
var _inline_1_v=_inline_1_arg1_,_inline_1_i
for(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {
_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]
}
_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]
}`,args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64}),Ph=pu,kF=NF,RF=function(t,r){for(var i=[],u=t,a=1;Array.isArray(u);)i.push(u.length),a*=u.length,u=u[0];return i.length===0?Ph():(r||(r=Ph(new Float64Array(a),i)),kF(r,t),r)};function yp(e,t,r){var i=e[r]|0;if(i<=0)return[];var u=new Array(i),a;if(r===e.length-1)for(a=0;a<i;++a)u[a]=t;else for(a=0;a<i;++a)u[a]=yp(e,t,r+1);return u}function LF(e,t){var r,i;for(r=new Array(e),i=0;i<e;++i)r[i]=t;return r}function UF(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return LF(e|0,t);break;case"object":if(typeof e.length=="number")return yp(e,t,0);break}return[]}var jF=UF,Ap={};(function(e){(function(t,r){r(e)})(or,function(t){var r,i,u,a,l,f,d,p,h,o,c,m,A,g,D,y,C,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},i={},i[r.BooleanLiteral]="Boolean",i[r.EOF]="<end>",i[r.Identifier]="Identifier",i[r.Keyword]="Keyword",i[r.NullLiteral]="Null",i[r.NumericLiteral]="Numeric",i[r.Punctuator]="Punctuator",i[r.StringLiteral]="String",i[r.RegularExpression]="RegularExpression",u=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},l={Data:1,Get:2,Set:4},f={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},d={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function O(_,E){if(!_)throw new Error("ASSERT: "+E)}function F(_){return _>=48&&_<=57}function B(_){return"0123456789abcdefABCDEF".indexOf(_)>=0}function x(_){return"01234567".indexOf(_)>=0}function T(_){return _===32||_===9||_===11||_===12||_===160||_>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(_)>=0}function I(_){return _===10||_===13||_===8232||_===8233}function V(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_===92||_>=128&&d.NonAsciiIdentifierStart.test(String.fromCharCode(_))}function J(_){return _===36||_===95||_>=65&&_<=90||_>=97&&_<=122||_>=48&&_<=57||_===92||_>=128&&d.NonAsciiIdentifierPart.test(String.fromCharCode(_))}function K(_){switch(_){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function W(_){switch(_){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function G(_){return _==="eval"||_==="arguments"}function j(_){if(o&&W(_))return!0;switch(_.length){case 2:return _==="if"||_==="in"||_==="do";case 3:return _==="var"||_==="for"||_==="new"||_==="try"||_==="let";case 4:return _==="this"||_==="else"||_==="case"||_==="void"||_==="with"||_==="enum";case 5:return _==="while"||_==="break"||_==="catch"||_==="throw"||_==="const"||_==="yield"||_==="class"||_==="super";case 6:return _==="return"||_==="typeof"||_==="delete"||_==="switch"||_==="export"||_==="import";case 7:return _==="default"||_==="finally"||_==="extends";case 8:return _==="function"||_==="continue"||_==="debugger";case 10:return _==="instanceof";default:return!1}}function H(_,E,N,Z,fe){var be;O(typeof N=="number","Comment must have valid position"),!(C.lastCommentStart>=N)&&(C.lastCommentStart=N,be={type:_,value:E},w.range&&(be.range=[N,Z]),w.loc&&(be.loc=fe),w.comments.push(be),w.attachComment&&(w.leadingComments.push(be),w.trailingComments.push(be)))}function re(_){var E,N,Z,fe;for(E=c-_,N={start:{line:m,column:c-A-_}};c<g;)if(Z=h.charCodeAt(c),++c,I(Z)){w.comments&&(fe=h.slice(E+_,c-1),N.end={line:m,column:c-A-1},H("Line",fe,E,c-1,N)),Z===13&&h.charCodeAt(c)===10&&++c,++m,A=c;return}w.comments&&(fe=h.slice(E+_,c),N.end={line:m,column:c-A},H("Line",fe,E,c,N))}function he(){var _,E,N,Z;for(w.comments&&(_=c-2,E={start:{line:m,column:c-A-2}});c<g;)if(N=h.charCodeAt(c),I(N))N===13&&h.charCodeAt(c+1)===10&&++c,++m,++c,A=c,c>=g&&U({},f.UnexpectedToken,"ILLEGAL");else if(N===42){if(h.charCodeAt(c+1)===47){++c,++c,w.comments&&(Z=h.slice(_+2,c-2),E.end={line:m,column:c-A},H("Block",Z,_,c,E));return}++c}else++c;U({},f.UnexpectedToken,"ILLEGAL")}function ve(){var _,E;for(E=c===0;c<g;)if(_=h.charCodeAt(c),T(_))++c;else if(I(_))++c,_===13&&h.charCodeAt(c)===10&&++c,++m,A=c,E=!0;else if(_===47)if(_=h.charCodeAt(c+1),_===47)++c,++c,re(2),E=!0;else if(_===42)++c,++c,he();else break;else if(E&&_===45)if(h.charCodeAt(c+1)===45&&h.charCodeAt(c+2)===62)c+=3,re(3);else break;else if(_===60)if(h.slice(c+1,c+4)==="!--")++c,++c,++c,++c,re(4);else break;else break}function we(_){var E,N,Z,fe=0;for(N=_==="u"?4:2,E=0;E<N;++E)if(c<g&&B(h[c]))Z=h[c++],fe=fe*16+"0123456789abcdef".indexOf(Z.toLowerCase());else return"";return String.fromCharCode(fe)}function Se(){var _,E;for(_=h.charCodeAt(c++),E=String.fromCharCode(_),_===92&&(h.charCodeAt(c)!==117&&U({},f.UnexpectedToken,"ILLEGAL"),++c,_=we("u"),(!_||_==="\\"||!V(_.charCodeAt(0)))&&U({},f.UnexpectedToken,"ILLEGAL"),E=_);c<g&&(_=h.charCodeAt(c),!!J(_));)++c,E+=String.fromCharCode(_),_===92&&(E=E.substr(0,E.length-1),h.charCodeAt(c)!==117&&U({},f.UnexpectedToken,"ILLEGAL"),++c,_=we("u"),(!_||_==="\\"||!J(_.charCodeAt(0)))&&U({},f.UnexpectedToken,"ILLEGAL"),E+=_);return E}function Pe(){var _,E;for(_=c++;c<g;){if(E=h.charCodeAt(c),E===92)return c=_,Se();if(J(E))++c;else break}return h.slice(_,c)}function Ce(){var _,E,N;return _=c,E=h.charCodeAt(c)===92?Se():Pe(),E.length===1?N=r.Identifier:j(E)?N=r.Keyword:E==="null"?N=r.NullLiteral:E==="true"||E==="false"?N=r.BooleanLiteral:N=r.Identifier,{type:N,value:E,lineNumber:m,lineStart:A,start:_,end:c}}function xe(){var _=c,E=h.charCodeAt(c),N,Z=h[c],fe,be,et;switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++c,w.tokenize&&(E===40?w.openParenToken=w.tokens.length:E===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(E),lineNumber:m,lineStart:A,start:_,end:c};default:if(N=h.charCodeAt(c+1),N===61)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return c+=2,{type:r.Punctuator,value:String.fromCharCode(E)+String.fromCharCode(N),lineNumber:m,lineStart:A,start:_,end:c};case 33:case 61:return c+=2,h.charCodeAt(c)===61&&++c,{type:r.Punctuator,value:h.slice(_,c),lineNumber:m,lineStart:A,start:_,end:c}}}if(et=h.substr(c,4),et===">>>=")return c+=4,{type:r.Punctuator,value:et,lineNumber:m,lineStart:A,start:_,end:c};if(be=et.substr(0,3),be===">>>"||be==="<<="||be===">>=")return c+=3,{type:r.Punctuator,value:be,lineNumber:m,lineStart:A,start:_,end:c};if(fe=be.substr(0,2),Z===fe[1]&&"+-<>&|".indexOf(Z)>=0||fe==="=>")return c+=2,{type:r.Punctuator,value:fe,lineNumber:m,lineStart:A,start:_,end:c};if("<>=!+-*%&|^/".indexOf(Z)>=0)return++c,{type:r.Punctuator,value:Z,lineNumber:m,lineStart:A,start:_,end:c};U({},f.UnexpectedToken,"ILLEGAL")}function Ie(_){for(var E="";c<g&&B(h[c]);)E+=h[c++];return E.length===0&&U({},f.UnexpectedToken,"ILLEGAL"),V(h.charCodeAt(c))&&U({},f.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+E,16),lineNumber:m,lineStart:A,start:_,end:c}}function Le(_){for(var E="0"+h[c++];c<g&&x(h[c]);)E+=h[c++];return(V(h.charCodeAt(c))||F(h.charCodeAt(c)))&&U({},f.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(E,8),octal:!0,lineNumber:m,lineStart:A,start:_,end:c}}function at(){var _,E;for(_=c+1;_<g;++_){if(E=h[_],E==="8"||E==="9")return!1;if(!x(E))return!0}return!0}function ct(){var _,E,N;if(N=h[c],O(F(N.charCodeAt(0))||N===".","Numeric literal must start with a decimal digit or a decimal point"),E=c,_="",N!=="."){if(_=h[c++],N=h[c],_==="0"){if(N==="x"||N==="X")return++c,Ie(E);if(x(N)&&at())return Le(E)}for(;F(h.charCodeAt(c));)_+=h[c++];N=h[c]}if(N==="."){for(_+=h[c++];F(h.charCodeAt(c));)_+=h[c++];N=h[c]}if(N==="e"||N==="E")if(_+=h[c++],N=h[c],(N==="+"||N==="-")&&(_+=h[c++]),F(h.charCodeAt(c)))for(;F(h.charCodeAt(c));)_+=h[c++];else U({},f.UnexpectedToken,"ILLEGAL");return V(h.charCodeAt(c))&&U({},f.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(_),lineNumber:m,lineStart:A,start:E,end:c}}function Qe(){var _="",E,N,Z,fe,be,et,lt=!1,kt,rr;for(kt=m,rr=A,E=h[c],O(E==="'"||E==='"',"String literal must starts with a quote"),N=c,++c;c<g;)if(Z=h[c++],Z===E){E="";break}else if(Z==="\\")if(Z=h[c++],!Z||!I(Z.charCodeAt(0)))switch(Z){case"u":case"x":et=c,be=we(Z),be?_+=be:(c=et,_+=Z);break;case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;default:x(Z)?(fe="01234567".indexOf(Z),fe!==0&&(lt=!0),c<g&&x(h[c])&&(lt=!0,fe=fe*8+"01234567".indexOf(h[c++]),"0123".indexOf(Z)>=0&&c<g&&x(h[c])&&(fe=fe*8+"01234567".indexOf(h[c++]))),_+=String.fromCharCode(fe)):_+=Z;break}else++m,Z==="\r"&&h[c]===`
`&&++c,A=c;else{if(I(Z.charCodeAt(0)))break;_+=Z}return E!==""&&U({},f.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:_,octal:lt,startLineNumber:kt,startLineStart:rr,lineNumber:m,lineStart:A,start:N,end:c}}function it(_,E){var N;try{N=new RegExp(_,E)}catch{U({},f.InvalidRegExp)}return N}function ht(){var _,E,N,Z,fe;for(_=h[c],O(_==="/","Regular expression literal must start with a slash"),E=h[c++],N=!1,Z=!1;c<g;)if(_=h[c++],E+=_,_==="\\")_=h[c++],I(_.charCodeAt(0))&&U({},f.UnterminatedRegExp),E+=_;else if(I(_.charCodeAt(0)))U({},f.UnterminatedRegExp);else if(N)_==="]"&&(N=!1);else if(_==="/"){Z=!0;break}else _==="["&&(N=!0);return Z||U({},f.UnterminatedRegExp),fe=E.substr(1,E.length-2),{value:fe,literal:E}}function dt(){var _,E,N,Z;for(E="",N="";c<g&&(_=h[c],!!J(_.charCodeAt(0)));)if(++c,_==="\\"&&c<g)if(_=h[c],_==="u"){if(++c,Z=c,_=we("u"),_)for(N+=_,E+="\\u";Z<c;++Z)E+=h[Z];else c=Z,N+="u",E+="\\u";Y({},f.UnexpectedToken,"ILLEGAL")}else E+="\\",Y({},f.UnexpectedToken,"ILLEGAL");else N+=_,E+=_;return{value:N,literal:E}}function rt(){var _,E,N,Z;return y=null,ve(),_=c,E=ht(),N=dt(),Z=it(E.value,N.value),w.tokenize?{type:r.RegularExpression,value:Z,lineNumber:m,lineStart:A,start:_,end:c}:{literal:E.literal+N.literal,value:Z,start:_,end:c}}function Je(){var _,E,N,Z;return ve(),_=c,E={start:{line:m,column:c-A}},N=rt(),E.end={line:m,column:c-A},w.tokenize||(w.tokens.length>0&&(Z=w.tokens[w.tokens.length-1],Z.range[0]===_&&Z.type==="Punctuator"&&(Z.value==="/"||Z.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:N.literal,range:[_,c],loc:E})),N}function At(_){return _.type===r.Identifier||_.type===r.Keyword||_.type===r.BooleanLiteral||_.type===r.NullLiteral}function Ar(){var _,E;if(_=w.tokens[w.tokens.length-1],!_)return Je();if(_.type==="Punctuator"){if(_.value==="]")return xe();if(_.value===")")return E=w.tokens[w.openParenToken-1],E&&E.type==="Keyword"&&(E.value==="if"||E.value==="while"||E.value==="for"||E.value==="with")?Je():xe();if(_.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-4],!E)return xe()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(E=w.tokens[w.openCurlyToken-5],!E)return Je()}else return xe();return u.indexOf(E.value)>=0?xe():Je()}return Je()}return _.type==="Keyword"&&_.value!=="this"?Je():xe()}function wt(){var _;return ve(),c>=g?{type:r.EOF,lineNumber:m,lineStart:A,start:c,end:c}:(_=h.charCodeAt(c),V(_)?Ce():_===40||_===41||_===59?xe():_===39||_===34?Qe():_===46?F(h.charCodeAt(c+1))?ct():xe():F(_)?ct():w.tokenize&&_===47?Ar():xe())}function ye(){var _,E,N;return ve(),_={start:{line:m,column:c-A}},E=wt(),_.end={line:m,column:c-A},E.type!==r.EOF&&(N=h.slice(E.start,E.end),w.tokens.push({type:i[E.type],value:N,range:[E.start,E.end],loc:_})),E}function _e(){var _;return _=y,c=_.end,m=_.lineNumber,A=_.lineStart,y=typeof w.tokens<"u"?ye():wt(),c=_.end,m=_.lineNumber,A=_.lineStart,_}function pt(){var _,E,N;_=c,E=m,N=A,y=typeof w.tokens<"u"?ye():wt(),c=_,m=E,A=N}function Nt(_,E){this.line=_,this.column=E}function ur(_,E,N,Z){this.start=new Nt(_,E),this.end=new Nt(N,Z)}p={name:"SyntaxTree",processComment:function(_){var E,N;if(!(_.type===a.Program&&_.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=_.range[1]?(N=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=_.range[1]&&(N=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=_.range[0];)E=w.bottomRightStack.pop();E?E.leadingComments&&E.leadingComments[E.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=E.leadingComments,delete E.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=_.range[0]&&(_.leadingComments=w.leadingComments,w.leadingComments=[]),N&&(_.trailingComments=N),w.bottomRightStack.push(_)}},markEnd:function(_,E){return w.range&&(_.range=[E.start,c]),w.loc&&(_.loc=new ur(E.startLineNumber===void 0?E.lineNumber:E.startLineNumber,E.start-(E.startLineStart===void 0?E.lineStart:E.startLineStart),m,c-A),this.postProcess(_)),w.attachComment&&this.processComment(_),_},postProcess:function(_){return w.source&&(_.loc.source=w.source),_},createArrayExpression:function(_){return{type:a.ArrayExpression,elements:_}},createAssignmentExpression:function(_,E,N){return{type:a.AssignmentExpression,operator:_,left:E,right:N}},createBinaryExpression:function(_,E,N){var Z=_==="||"||_==="&&"?a.LogicalExpression:a.BinaryExpression;return{type:Z,operator:_,left:E,right:N}},createBlockStatement:function(_){return{type:a.BlockStatement,body:_}},createBreakStatement:function(_){return{type:a.BreakStatement,label:_}},createCallExpression:function(_,E){return{type:a.CallExpression,callee:_,arguments:E}},createCatchClause:function(_,E){return{type:a.CatchClause,param:_,body:E}},createConditionalExpression:function(_,E,N){return{type:a.ConditionalExpression,test:_,consequent:E,alternate:N}},createContinueStatement:function(_){return{type:a.ContinueStatement,label:_}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(_,E){return{type:a.DoWhileStatement,body:_,test:E}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(_){return{type:a.ExpressionStatement,expression:_}},createForStatement:function(_,E,N,Z){return{type:a.ForStatement,init:_,test:E,update:N,body:Z}},createForInStatement:function(_,E,N){return{type:a.ForInStatement,left:_,right:E,body:N,each:!1}},createFunctionDeclaration:function(_,E,N,Z){return{type:a.FunctionDeclaration,id:_,params:E,defaults:N,body:Z,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(_,E,N,Z){return{type:a.FunctionExpression,id:_,params:E,defaults:N,body:Z,rest:null,generator:!1,expression:!1}},createIdentifier:function(_){return{type:a.Identifier,name:_}},createIfStatement:function(_,E,N){return{type:a.IfStatement,test:_,consequent:E,alternate:N}},createLabeledStatement:function(_,E){return{type:a.LabeledStatement,label:_,body:E}},createLiteral:function(_){return{type:a.Literal,value:_.value,raw:h.slice(_.start,_.end)}},createMemberExpression:function(_,E,N){return{type:a.MemberExpression,computed:_==="[",object:E,property:N}},createNewExpression:function(_,E){return{type:a.NewExpression,callee:_,arguments:E}},createObjectExpression:function(_){return{type:a.ObjectExpression,properties:_}},createPostfixExpression:function(_,E){return{type:a.UpdateExpression,operator:_,argument:E,prefix:!1}},createProgram:function(_){return{type:a.Program,body:_}},createProperty:function(_,E,N){return{type:a.Property,key:E,value:N,kind:_}},createReturnStatement:function(_){return{type:a.ReturnStatement,argument:_}},createSequenceExpression:function(_){return{type:a.SequenceExpression,expressions:_}},createSwitchCase:function(_,E){return{type:a.SwitchCase,test:_,consequent:E}},createSwitchStatement:function(_,E){return{type:a.SwitchStatement,discriminant:_,cases:E}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(_){return{type:a.ThrowStatement,argument:_}},createTryStatement:function(_,E,N,Z){return{type:a.TryStatement,block:_,guardedHandlers:E,handlers:N,finalizer:Z}},createUnaryExpression:function(_,E){return _==="++"||_==="--"?{type:a.UpdateExpression,operator:_,argument:E,prefix:!0}:{type:a.UnaryExpression,operator:_,argument:E,prefix:!0}},createVariableDeclaration:function(_,E){return{type:a.VariableDeclaration,declarations:_,kind:E}},createVariableDeclarator:function(_,E){return{type:a.VariableDeclarator,id:_,init:E}},createWhileStatement:function(_,E){return{type:a.WhileStatement,test:_,body:E}},createWithStatement:function(_,E){return{type:a.WithStatement,object:_,body:E}}};function R(){var _,E,N,Z;return _=c,E=m,N=A,ve(),Z=m!==E,c=_,m=E,A=N,Z}function U(_,E){var N,Z=Array.prototype.slice.call(arguments,2),fe=E.replace(/%(\d)/g,function(be,et){return O(et<Z.length,"Message reference must be in range"),Z[et]});throw typeof _.lineNumber=="number"?(N=new Error("Line "+_.lineNumber+": "+fe),N.index=_.start,N.lineNumber=_.lineNumber,N.column=_.start-A+1):(N=new Error("Line "+m+": "+fe),N.index=c,N.lineNumber=m,N.column=c-A+1),N.description=fe,N}function Y(){try{U.apply(null,arguments)}catch(_){if(w.errors)w.errors.push(_);else throw _}}function ue(_){if(_.type===r.EOF&&U(_,f.UnexpectedEOS),_.type===r.NumericLiteral&&U(_,f.UnexpectedNumber),_.type===r.StringLiteral&&U(_,f.UnexpectedString),_.type===r.Identifier&&U(_,f.UnexpectedIdentifier),_.type===r.Keyword){if(K(_.value))U(_,f.UnexpectedReserved);else if(o&&W(_.value)){Y(_,f.StrictReservedWord);return}U(_,f.UnexpectedToken,_.value)}U(_,f.UnexpectedToken,_.value)}function ee(_){var E=_e();(E.type!==r.Punctuator||E.value!==_)&&ue(E)}function ce(_){var E=_e();(E.type!==r.Keyword||E.value!==_)&&ue(E)}function ne(_){return y.type===r.Punctuator&&y.value===_}function ae(_){return y.type===r.Keyword&&y.value===_}function De(){var _;return y.type!==r.Punctuator?!1:(_=y.value,_==="="||_==="*="||_==="/="||_==="%="||_==="+="||_==="-="||_==="<<="||_===">>="||_===">>>="||_==="&="||_==="^="||_==="|=")}function Be(){var _,E=c,N=m,Z=A,fe=y;if(h.charCodeAt(c)===59||ne(";")){_e();return}if(_=m,ve(),m!==_){c=E,m=N,A=Z,y=fe;return}y.type!==r.EOF&&!ne("}")&&ue(y)}function We(_){return _.type===a.Identifier||_.type===a.MemberExpression}function Ae(){var _=[],E;for(E=y,ee("[");!ne("]");)ne(",")?(_e(),_.push(null)):(_.push(br()),ne("]")||ee(","));return _e(),D.markEnd(D.createArrayExpression(_),E)}function Lt(_,E){var N,Z,fe;return N=o,fe=y,Z=Ci(),E&&o&&G(_[0].name)&&Y(E,f.StrictParamName),o=N,D.markEnd(D.createFunctionExpression(null,_,[],Z),fe)}function Mt(){var _,E;return E=y,_=_e(),_.type===r.StringLiteral||_.type===r.NumericLiteral?(o&&_.octal&&Y(_,f.StrictOctalLiteral),D.markEnd(D.createLiteral(_),E)):D.markEnd(D.createIdentifier(_.value),E)}function Jt(){var _,E,N,Z,fe,be;if(_=y,be=y,_.type===r.Identifier)return N=Mt(),_.value==="get"&&!ne(":")?(E=Mt(),ee("("),ee(")"),Z=Lt([]),D.markEnd(D.createProperty("get",E,Z),be)):_.value==="set"&&!ne(":")?(E=Mt(),ee("("),_=y,_.type!==r.Identifier?(ee(")"),Y(_,f.UnexpectedToken,_.value),Z=Lt([])):(fe=[Qr()],ee(")"),Z=Lt(fe,_)),D.markEnd(D.createProperty("set",E,Z),be)):(ee(":"),Z=br(),D.markEnd(D.createProperty("init",N,Z),be));if(_.type===r.EOF||_.type===r.Punctuator)ue(_);else return E=Mt(),ee(":"),Z=br(),D.markEnd(D.createProperty("init",E,Z),be)}function Ut(){var _=[],E,N,Z,fe,be={},et=String,lt;for(lt=y,ee("{");!ne("}");)E=Jt(),E.key.type===a.Identifier?N=E.key.name:N=et(E.key.value),fe=E.kind==="init"?l.Data:E.kind==="get"?l.Get:l.Set,Z="$"+N,Object.prototype.hasOwnProperty.call(be,Z)?(be[Z]===l.Data?o&&fe===l.Data?Y({},f.StrictDuplicateProperty):fe!==l.Data&&Y({},f.AccessorDataProperty):fe===l.Data?Y({},f.AccessorDataProperty):be[Z]&fe&&Y({},f.AccessorGetSet),be[Z]|=fe):be[Z]=fe,_.push(E),ne("}")||ee(",");return ee("}"),D.markEnd(D.createObjectExpression(_),lt)}function pr(){var _;return ee("("),_=$t(),ee(")"),_}function jt(){var _,E,N,Z;if(ne("("))return pr();if(ne("["))return Ae();if(ne("{"))return Ut();if(_=y.type,Z=y,_===r.Identifier)N=D.createIdentifier(_e().value);else if(_===r.StringLiteral||_===r.NumericLiteral)o&&y.octal&&Y(y,f.StrictOctalLiteral),N=D.createLiteral(_e());else if(_===r.Keyword){if(ae("function"))return Si();ae("this")?(_e(),N=D.createThisExpression()):ue(_e())}else _===r.BooleanLiteral?(E=_e(),E.value=E.value==="true",N=D.createLiteral(E)):_===r.NullLiteral?(E=_e(),E.value=null,N=D.createLiteral(E)):ne("/")||ne("/=")?(typeof w.tokens<"u"?N=D.createLiteral(Je()):N=D.createLiteral(rt()),pt()):ue(_e());return D.markEnd(N,Z)}function vr(){var _=[];if(ee("("),!ne(")"))for(;c<g&&(_.push(br()),!ne(")"));)ee(",");return ee(")"),_}function ar(){var _,E;return E=y,_=_e(),At(_)||ue(_),D.markEnd(D.createIdentifier(_.value),E)}function sr(){return ee("."),ar()}function $r(){var _;return ee("["),_=$t(),ee("]"),_}function fr(){var _,E,N;return N=y,ce("new"),_=jn(),E=ne("(")?vr():[],D.markEnd(D.createNewExpression(_,E),N)}function pn(){var _,E,N,Z,fe=C.allowIn;for(Z=y,C.allowIn=!0,_=ae("new")?fr():jt();;){if(ne("."))N=sr(),_=D.createMemberExpression(".",_,N);else if(ne("("))E=vr(),_=D.createCallExpression(_,E);else if(ne("["))N=$r(),_=D.createMemberExpression("[",_,N);else break;D.markEnd(_,Z)}return C.allowIn=fe,_}function jn(){var _,E,N;for(O(C.allowIn,"callee of new expression always allow in keyword."),N=y,_=ae("new")?fr():jt();ne(".")||ne("[");)ne("[")?(E=$r(),_=D.createMemberExpression("[",_,E)):(E=sr(),_=D.createMemberExpression(".",_,E)),D.markEnd(_,N);return _}function Sn(){var _,E,N=y;return _=pn(),y.type===r.Punctuator&&(ne("++")||ne("--"))&&!R()&&(o&&_.type===a.Identifier&&G(_.name)&&Y({},f.StrictLHSPostfix),We(_)||Y({},f.InvalidLHSInAssignment),E=_e(),_=D.markEnd(D.createPostfixExpression(E.value,_),N)),_}function Bn(){var _,E,N;return y.type!==r.Punctuator&&y.type!==r.Keyword?E=Sn():ne("++")||ne("--")?(N=y,_=_e(),E=Bn(),o&&E.type===a.Identifier&&G(E.name)&&Y({},f.StrictLHSPrefix),We(E)||Y({},f.InvalidLHSInAssignment),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,N)):ne("+")||ne("-")||ne("~")||ne("!")?(N=y,_=_e(),E=Bn(),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,N)):ae("delete")||ae("void")||ae("typeof")?(N=y,_=_e(),E=Bn(),E=D.createUnaryExpression(_.value,E),E=D.markEnd(E,N),o&&E.operator==="delete"&&E.argument.type===a.Identifier&&Y({},f.StrictDelete)):E=Sn(),E}function Li(_,E){var N=0;if(_.type!==r.Punctuator&&_.type!==r.Keyword)return 0;switch(_.value){case"||":N=1;break;case"&&":N=2;break;case"|":N=3;break;case"^":N=4;break;case"&":N=5;break;case"==":case"!=":case"===":case"!==":N=6;break;case"<":case">":case"<=":case">=":case"instanceof":N=7;break;case"in":N=E?7:0;break;case"<<":case">>":case">>>":N=8;break;case"+":case"-":N=9;break;case"*":case"/":case"%":N=11;break}return N}function Ei(){var _,E,N,Z,fe,be,et,lt,kt,rr;if(_=y,kt=Bn(),Z=y,fe=Li(Z,C.allowIn),fe===0)return kt;for(Z.prec=fe,_e(),E=[_,y],et=Bn(),be=[kt,Z,et];(fe=Li(y,C.allowIn))>0;){for(;be.length>2&&fe<=be[be.length-2].prec;)et=be.pop(),lt=be.pop().value,kt=be.pop(),N=D.createBinaryExpression(lt,kt,et),E.pop(),_=E[E.length-1],D.markEnd(N,_),be.push(N);Z=_e(),Z.prec=fe,be.push(Z),E.push(y),N=Bn(),be.push(N)}for(rr=be.length-1,N=be[rr],E.pop();rr>1;)N=D.createBinaryExpression(be[rr-1].value,be[rr-2],N),rr-=2,_=E.pop(),D.markEnd(N,_);return N}function vu(){var _,E,N,Z,fe;return fe=y,_=Ei(),ne("?")&&(_e(),E=C.allowIn,C.allowIn=!0,N=br(),C.allowIn=E,ee(":"),Z=br(),_=D.createConditionalExpression(_,N,Z),D.markEnd(_,fe)),_}function br(){var _,E,N,Z,fe;return _=y,fe=y,Z=E=vu(),De()&&(We(E)||Y({},f.InvalidLHSInAssignment),o&&E.type===a.Identifier&&G(E.name)&&Y(_,f.StrictLHSAssignment),_=_e(),N=br(),Z=D.markEnd(D.createAssignmentExpression(_.value,E,N),fe)),Z}function $t(){var _,E=y;if(_=br(),ne(",")){for(_=D.createSequenceExpression([_]);c<g&&ne(",");)_e(),_.expressions.push(br());D.markEnd(_,E)}return _}function gu(){for(var _=[],E;c<g&&!(ne("}")||(E=vn(),typeof E>"u"));)_.push(E);return _}function ri(){var _,E;return E=y,ee("{"),_=gu(),ee("}"),D.markEnd(D.createBlockStatement(_),E)}function Qr(){var _,E;return E=y,_=_e(),_.type!==r.Identifier&&ue(_),D.markEnd(D.createIdentifier(_.value),E)}function Vn(_){var E=null,N,Z;return Z=y,N=Qr(),o&&G(N.name)&&Y({},f.StrictVarName),_==="const"?(ee("="),E=br()):ne("=")&&(_e(),E=br()),D.markEnd(D.createVariableDeclarator(N,E),Z)}function Fi(_){var E=[];do{if(E.push(Vn(_)),!ne(","))break;_e()}while(c<g);return E}function mu(){var _;return ce("var"),_=Fi(),Be(),D.createVariableDeclaration(_,"var")}function Du(_){var E,N;return N=y,ce(_),E=Fi(_),Be(),D.markEnd(D.createVariableDeclaration(E,_),N)}function Ui(){return ee(";"),D.createEmptyStatement()}function _u(){var _=$t();return Be(),D.createExpressionStatement(_)}function yu(){var _,E,N;return ce("if"),ee("("),_=$t(),ee(")"),E=Pr(),ae("else")?(_e(),N=Pr()):N=null,D.createIfStatement(_,E,N)}function Au(){var _,E,N;return ce("do"),N=C.inIteration,C.inIteration=!0,_=Pr(),C.inIteration=N,ce("while"),ee("("),E=$t(),ee(")"),ne(";")&&_e(),D.createDoWhileStatement(_,E)}function bu(){var _,E,N;return ce("while"),ee("("),_=$t(),ee(")"),N=C.inIteration,C.inIteration=!0,E=Pr(),C.inIteration=N,D.createWhileStatement(_,E)}function wu(){var _,E,N;return N=y,_=_e(),E=Fi(),D.markEnd(D.createVariableDeclaration(E,_.value),N)}function Eu(){var _,E,N,Z,fe,be,et,lt=C.allowIn;return _=E=N=null,ce("for"),ee("("),ne(";")?_e():(ae("var")||ae("let")?(C.allowIn=!1,_=wu(),C.allowIn=lt,_.declarations.length===1&&ae("in")&&(_e(),Z=_,fe=$t(),_=null)):(C.allowIn=!1,_=$t(),C.allowIn=lt,ae("in")&&(We(_)||Y({},f.InvalidLHSInForIn),_e(),Z=_,fe=$t(),_=null)),typeof Z>"u"&&ee(";")),typeof Z>"u"&&(ne(";")||(E=$t()),ee(";"),ne(")")||(N=$t())),ee(")"),et=C.inIteration,C.inIteration=!0,be=Pr(),C.inIteration=et,typeof Z>"u"?D.createForStatement(_,E,N,be):D.createForInStatement(Z,fe,be)}function ni(){var _=null,E;return ce("continue"),h.charCodeAt(c)===59?(_e(),C.inIteration||U({},f.IllegalContinue),D.createContinueStatement(null)):R()?(C.inIteration||U({},f.IllegalContinue),D.createContinueStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(C.labelSet,E)||U({},f.UnknownLabel,_.name)),Be(),_===null&&!C.inIteration&&U({},f.IllegalContinue),D.createContinueStatement(_))}function Fu(){var _=null,E;return ce("break"),h.charCodeAt(c)===59?(_e(),C.inIteration||C.inSwitch||U({},f.IllegalBreak),D.createBreakStatement(null)):R()?(C.inIteration||C.inSwitch||U({},f.IllegalBreak),D.createBreakStatement(null)):(y.type===r.Identifier&&(_=Qr(),E="$"+_.name,Object.prototype.hasOwnProperty.call(C.labelSet,E)||U({},f.UnknownLabel,_.name)),Be(),_===null&&!(C.inIteration||C.inSwitch)&&U({},f.IllegalBreak),D.createBreakStatement(_))}function ii(){var _=null;return ce("return"),C.inFunctionBody||Y({},f.IllegalReturn),h.charCodeAt(c)===32&&V(h.charCodeAt(c+1))?(_=$t(),Be(),D.createReturnStatement(_)):R()?D.createReturnStatement(null):(ne(";")||!ne("}")&&y.type!==r.EOF&&(_=$t()),Be(),D.createReturnStatement(_))}function Cu(){var _,E;return o&&(ve(),Y({},f.StrictModeWith)),ce("with"),ee("("),_=$t(),ee(")"),E=Pr(),D.createWithStatement(_,E)}function Su(){var _,E=[],N,Z;for(Z=y,ae("default")?(_e(),_=null):(ce("case"),_=$t()),ee(":");c<g&&!(ne("}")||ae("default")||ae("case"));)N=Pr(),E.push(N);return D.markEnd(D.createSwitchCase(_,E),Z)}function Bu(){var _,E,N,Z,fe;if(ce("switch"),ee("("),_=$t(),ee(")"),ee("{"),E=[],ne("}"))return _e(),D.createSwitchStatement(_,E);for(Z=C.inSwitch,C.inSwitch=!0,fe=!1;c<g&&!ne("}");)N=Su(),N.test===null&&(fe&&U({},f.MultipleDefaultsInSwitch),fe=!0),E.push(N);return C.inSwitch=Z,ee("}"),D.createSwitchStatement(_,E)}function ji(){var _;return ce("throw"),R()&&U({},f.NewlineAfterThrow),_=$t(),Be(),D.createThrowStatement(_)}function On(){var _,E,N;return N=y,ce("catch"),ee("("),ne(")")&&ue(y),_=Qr(),o&&G(_.name)&&Y({},f.StrictCatchVariable),ee(")"),E=ri(),D.markEnd(D.createCatchClause(_,E),N)}function gr(){var _,E=[],N=null;return ce("try"),_=ri(),ae("catch")&&E.push(On()),ae("finally")&&(_e(),N=ri()),E.length===0&&!N&&U({},f.NoCatchOrFinally),D.createTryStatement(_,[],E,N)}function tr(){return ce("debugger"),Be(),D.createDebuggerStatement()}function Pr(){var _=y.type,E,N,Z,fe;if(_===r.EOF&&ue(y),_===r.Punctuator&&y.value==="{")return ri();if(fe=y,_===r.Punctuator)switch(y.value){case";":return D.markEnd(Ui(),fe);case"(":return D.markEnd(_u(),fe)}if(_===r.Keyword)switch(y.value){case"break":return D.markEnd(Fu(),fe);case"continue":return D.markEnd(ni(),fe);case"debugger":return D.markEnd(tr(),fe);case"do":return D.markEnd(Au(),fe);case"for":return D.markEnd(Eu(),fe);case"function":return D.markEnd(Mn(),fe);case"if":return D.markEnd(yu(),fe);case"return":return D.markEnd(ii(),fe);case"switch":return D.markEnd(Bu(),fe);case"throw":return D.markEnd(ji(),fe);case"try":return D.markEnd(gr(),fe);case"var":return D.markEnd(mu(),fe);case"while":return D.markEnd(bu(),fe);case"with":return D.markEnd(Cu(),fe)}return E=$t(),E.type===a.Identifier&&ne(":")?(_e(),Z="$"+E.name,Object.prototype.hasOwnProperty.call(C.labelSet,Z)&&U({},f.Redeclaration,"Label",E.name),C.labelSet[Z]=!0,N=Pr(),delete C.labelSet[Z],D.markEnd(D.createLabeledStatement(E,N),fe)):(Be(),D.markEnd(D.createExpressionStatement(E),fe))}function Ci(){var _,E=[],N,Z,fe,be,et,lt,kt,rr;for(rr=y,ee("{");c<g&&!(y.type!==r.StringLiteral||(N=y,_=vn(),E.push(_),_.expression.type!==a.Literal));)Z=h.slice(N.start+1,N.end-1),Z==="use strict"?(o=!0,fe&&Y(fe,f.StrictOctalLiteral)):!fe&&N.octal&&(fe=N);for(be=C.labelSet,et=C.inIteration,lt=C.inSwitch,kt=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;c<g&&!(ne("}")||(_=vn(),typeof _>"u"));)E.push(_);return ee("}"),C.labelSet=be,C.inIteration=et,C.inSwitch=lt,C.inFunctionBody=kt,D.markEnd(D.createBlockStatement(E),rr)}function qn(_){var E,N=[],Z,fe,be,et,lt;if(ee("("),!ne(")"))for(be={};c<g&&(Z=y,E=Qr(),et="$"+Z.value,o?(G(Z.value)&&(fe=Z,lt=f.StrictParamName),Object.prototype.hasOwnProperty.call(be,et)&&(fe=Z,lt=f.StrictParamDupe)):_||(G(Z.value)?(_=Z,lt=f.StrictParamName):W(Z.value)?(_=Z,lt=f.StrictReservedWord):Object.prototype.hasOwnProperty.call(be,et)&&(_=Z,lt=f.StrictParamDupe)),N.push(E),be[et]=!0,!ne(")"));)ee(",");return ee(")"),{params:N,stricted:fe,firstRestricted:_,message:lt}}function Mn(){var _,E=[],N,Z,fe,be,et,lt,kt,rr;return rr=y,ce("function"),Z=y,_=Qr(),o?G(Z.value)&&Y(Z,f.StrictFunctionName):G(Z.value)?(et=Z,lt=f.StrictFunctionName):W(Z.value)&&(et=Z,lt=f.StrictReservedWord),be=qn(et),E=be.params,fe=be.stricted,et=be.firstRestricted,be.message&&(lt=be.message),kt=o,N=Ci(),o&&et&&U(et,lt),o&&fe&&Y(fe,lt),o=kt,D.markEnd(D.createFunctionDeclaration(_,E,[],N),rr)}function Si(){var _,E=null,N,Z,fe,be,et=[],lt,kt,rr;return rr=y,ce("function"),ne("(")||(_=y,E=Qr(),o?G(_.value)&&Y(_,f.StrictFunctionName):G(_.value)?(Z=_,fe=f.StrictFunctionName):W(_.value)&&(Z=_,fe=f.StrictReservedWord)),be=qn(Z),et=be.params,N=be.stricted,Z=be.firstRestricted,be.message&&(fe=be.message),kt=o,lt=Ci(),o&&Z&&U(Z,fe),o&&N&&Y(N,fe),o=kt,D.markEnd(D.createFunctionExpression(E,et,[],lt),rr)}function vn(){if(y.type===r.Keyword)switch(y.value){case"const":case"let":return Du(y.value);case"function":return Mn();default:return Pr()}if(y.type!==r.EOF)return Pr()}function en(){for(var _,E=[],N,Z,fe;c<g&&(N=y,!(N.type!==r.StringLiteral||(_=vn(),E.push(_),_.expression.type!==a.Literal)));)Z=h.slice(N.start+1,N.end-1),Z==="use strict"?(o=!0,fe&&Y(fe,f.StrictOctalLiteral)):!fe&&N.octal&&(fe=N);for(;c<g&&(_=vn(),!(typeof _>"u"));)E.push(_);return E}function Ts(){var _,E;return ve(),pt(),E=y,o=!1,_=en(),D.markEnd(D.createProgram(_),E)}function Ou(){var _,E,N,Z=[];for(_=0;_<w.tokens.length;++_)E=w.tokens[_],N={type:E.type,value:E.value},w.range&&(N.range=E.range),w.loc&&(N.loc=E.loc),Z.push(N);w.tokens=Z}function Vi(_,E){var N,Z,fe;N=String,typeof _!="string"&&!(_ instanceof String)&&(_=N(_)),D=p,h=_,c=0,m=h.length>0?1:0,A=0,g=h.length,y=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},E=E||{},E.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]);try{if(pt(),y.type===r.EOF)return w.tokens;for(Z=_e();y.type!==r.EOF;)try{Z=_e()}catch(be){if(Z=y,w.errors){w.errors.push(be);break}else throw be}Ou(),fe=w.tokens,typeof w.comments<"u"&&(fe.comments=w.comments),typeof w.errors<"u"&&(fe.errors=w.errors)}catch(be){throw be}finally{w={}}return fe}function Ju(_,E){var N,Z;Z=String,typeof _!="string"&&!(_ instanceof String)&&(_=Z(_)),D=p,h=_,c=0,m=h.length>0?1:0,A=0,g=h.length,y=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof E<"u"&&(w.range=typeof E.range=="boolean"&&E.range,w.loc=typeof E.loc=="boolean"&&E.loc,w.attachComment=typeof E.attachComment=="boolean"&&E.attachComment,w.loc&&E.source!==null&&E.source!==void 0&&(w.source=Z(E.source)),typeof E.tokens=="boolean"&&E.tokens&&(w.tokens=[]),typeof E.comment=="boolean"&&E.comment&&(w.comments=[]),typeof E.tolerant=="boolean"&&E.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{N=Ts(),typeof w.comments<"u"&&(N.comments=w.comments),typeof w.tokens<"u"&&(Ou(),N.tokens=w.tokens),typeof w.errors<"u"&&(N.errors=w.errors)}catch(fe){throw fe}finally{w={}}return N}t.version="1.2.5",t.tokenize=Vi,t.parse=Ju,t.Syntax=function(){var _,E={};typeof Object.create=="function"&&(E=Object.create(null));for(_ in a)a.hasOwnProperty(_)&&(E[_]=a[_]);return typeof Object.freeze=="function"&&Object.freeze(E),E}()})})(Ap);var VF=Ap,Th=Dp,qF=0;function zF(e,t,r){this.name=e,this.lvalue=t,this.rvalue=r,this.count=0}function WF(e,t,r,i){this.body=e,this.args=t,this.thisVars=r,this.localVars=i}function HF(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof or<"u"?e in or:typeof self<"u"?e in self:!1}function GF(e){for(var t=e.body[0].expression.callee.params,r=new Array(t.length),i=0;i<t.length;++i)r[i]=t[i].name;return r}function KF(e){for(var t=["(",e,")()"].join(""),r=VF.parse(t,{range:!0}),i="_inline_"+qF+++"_",u=GF(r),a=new Array(u.length),l=0;l<u.length;++l)a[l]=new zF([i,"arg",l,"_"].join(""),!1,!1);for(var f=new Array(t.length),l=0,d=t.length;l<d;++l)f[l]=t.charAt(l);var p=[],h=[];function o(O){var F=i+O.replace(/\_/g,"__");return p.push(F),F}function c(O){var F="this_"+O.replace(/\_/g,"__");return h.push(F),F}function m(O,F){for(var B=O.range[0],x=O.range[1],T=B+1;T<x;++T)f[T]="";f[B]=F}function A(O){return"'"+O.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(O){return f.slice(O.range[0],O.range[1]).join("")}var D=1,y=2;function C(O){return O.parent.type==="AssignmentExpression"&&O.parent.left===O?O.parent.operator==="="?D:D|y:O.parent.type==="UpdateExpression"?D|y:y}(function O(F,B){if(F.parent=B,F.type==="MemberExpression")F.computed?(O(F.object,F),O(F.property,F)):F.object.type==="ThisExpression"?m(F,c(F.property.name)):O(F.object,F);else{if(F.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(F.type==="Identifier"){var x=F.name,T=u.indexOf(x);if(T>=0){var I=a[T],V=C(F);V&D&&(I.lvalue=!0),V&y&&(I.rvalue=!0),++I.count,m(F,I.name)}else HF(x)||m(F,o(x))}else if(F.type==="Literal")typeof F.value=="string"&&m(F,A(F.value));else{if(F.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var J=Object.keys(F),K=0,W=J.length;K<W;++K)if(J[K]!=="parent"){var G=F[J[K]];if(G)if(G instanceof Array)for(var j=0;j<G.length;++j)G[j]&&typeof G[j].type=="string"&&O(G[j],F);else typeof G.type=="string"&&O(G,F)}}}})(r.body[0].expression.callee.body,void 0),Th(p),Th(h);var w=new WF(g(r.body[0].expression.callee.body),a,h,p);return w}var YF=KF,pl=YF,ZF=hf,ja=["args","body"],XF=["pre","post","printCode","funcName","blockSize"];function JF(e){for(var t in e)ja.indexOf(t)<0&&XF.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var r=0;r<ja.length;++r)if(!e[ja[r]])throw new Error("cwise: Missing argument: "+ja[r]);return ZF({args:e.args,pre:pl(e.pre||function(){}),body:pl(e.body),post:pl(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var Ps=JF,$F=jF,QF=Ps,eC=QF({args:["array","scalar","index"],body:function(t,r,i){var u=r,a;for(a=0;a<i.length-1;++a)u=u[i[a]];u[i[i.length-1]]=t}}),tC=function(t){var r=$F(t.shape);return eC(t,r),r},os={},rC={get exports(){return os},set exports(e){os=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l,f){for(var d=new Float64Array(l*f),p=0;p<d.length;p++)d[p]=a()*1e-4;return(0,i.default)(d,[l,f])};var r=pu,i=u(r);function u(l){return l&&l.__esModule?l:{default:l}}function a(){var l=2*Math.random()-1,f=2*Math.random()-1,d=l*l+f*f;return d==0||d>1?a():l*Math.sqrt(-2*Math.log(d)/d)}e.exports=t.default})(rC,os);var Zu={},nC={get exports(){return Zu},set exports(e){Zu=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,c){var m=o.shape[0],A=(0,i.default)(new Float64Array(m*m),[m,m]);switch(c){case"euclidean":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=f(o.pick(g,null),o.pick(D,null));A.set(g,D,y),A.set(D,g,y)}break;case"manhattan":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=d(o.pick(g,null),o.pick(D,null));A.set(g,D,y),A.set(D,g,y)}break;case"jaccard":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=p(o.pick(g,null),o.pick(D,null));A.set(g,D,y),A.set(D,g,y)}break;case"dice":for(var g=0;g<m;g++)for(var D=g+1;D<m;D++){var y=h(o.pick(g,null),o.pick(D,null));A.set(g,D,y),A.set(D,g,y)}break}return A};var r=pu,i=l(r),u=Ps,a=l(u);function l(o){return o&&o.__esModule?o:{default:o}}var f=(0,a.default)({args:["array","array"],pre:function(c,m){this.sum=0},body:function(c,m){var A=c-m;this.sum+=A*A},post:function(c,m){return Math.sqrt(this.sum)}}),d=(0,a.default)({args:["array","array"],pre:function(c,m){this.sum=0},body:function(c,m){this.sum+=Math.abs(c-m)},post:function(c,m){return this.sum}}),p=(0,a.default)({args:["array","array"],pre:function(c,m){this.tf=0,this.tt=0},body:function(c,m){var A=Math.round(c),g=Math.round(m);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(c,m){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),h=(0,a.default)({args:["array","array"],pre:function(c,m){this.tf=0,this.tt=0},body:function(c,m){var A=Math.round(c),g=Math.round(m);this.tf+=+(A!=g),this.tt+=+(A==1&&g==1)},post:function(c,m){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});e.exports=t.default})(nC,Zu);var ls={},iC={get exports(){return ls},set exports(e){ls=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(h,o){for(var c=100,m=h.shape[0],A=(0,i.default)(new Float64Array(m*m),[m,m]),g=(0,i.default)(new Float64Array(m*m),[m,m]),D=void 0,y=void 0,C=1/0,w=Math.log(o),O=void 0,F=void 0,B=void 0,x=void 0,T=0;T<m;T++){D=1,y=-1/0,C=1/0;for(var I=0;I<c;I++){for(var V=0;V<m;V++)A.set(T,V,Math.exp(-h.get(T,V)*D));A.set(T,T,0),B=0;for(var V=0;V<m;V++)B+=A.get(T,V);B==0&&(B=f),x=0;for(var V=0;V<m;V++)A.set(T,V,A.get(T,V)/B),x+=h.get(T,V)*A.get(T,V);if(F=Math.log(B)+D*x,O=F-w,Math.abs(O)<=p)break;O>0?(y=D,C==1/0?D=D*2:D=(D+C)/2):(C=D,y==-1/0?D=D/2:D=(D+y)/2)}}a.default.add(g,A,A.transpose(1,0));var J=Math.max(a.default.sum(g),d);return a.default.divseq(g,J),a.default.maxseq(g,d),g};var r=pu,i=l(r),u=xs,a=l(u);function l(h){return h&&h.__esModule?h:{default:h}}var f=1e-7,d=Number.EPSILON||2220446049250313e-31,p=1e-5;e.exports=t.default})(iC,ls);var fs={},uC={get exports(){return fs},set exports(e){fs=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(m,A,g){var D=m.shape[0],y=m.shape[1],C=(0,i.default)(new Float64Array(D*D),[D,D]),w=(0,p.default)(m,"euclidean");c(w);var O=(g+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(w,1),g),O);for(var F=0;F<D;F++)w.set(F,F,0);var B=Math.max(a.default.sum(w),o);a.default.divs(C,w,B),a.default.maxseq(C,o);var x=(0,i.default)(new Float64Array(D*D),[D,D]),T=(0,i.default)(new Float64Array(D*D),[D,D]);a.default.div(x,A,C),a.default.logeq(x),a.default.assign(T,A);var I=a.default.sum(a.default.muleq(x,T)),V=(0,i.default)(new Float64Array(m.size),m.shape),J=(0,i.default)(new Float64Array(D*D),[D,D]);a.default.sub(J,A,C),a.default.muleq(J,w);for(var F=0;F<D;F++)for(var K=0;K<y;K++){var W=(0,i.default)(new Float64Array(m.shape[0]),[m.shape[0]]);a.default.assign(W,m.pick(null,K)),a.default.addseq(a.default.negeq(W),m.get(F,K)),a.default.muleq(W,J.pick(F,null)),V.set(F,K,a.default.sum(W))}var G=2*(g+1)/g;return a.default.mulseq(V,G),[I,V]};var r=pu,i=h(r),u=xs,a=h(u),l=Ps,f=h(l),d=Zu,p=h(d);function h(m){return m&&m.__esModule?m:{default:m}}var o=Number.EPSILON||2220446049250313e-31,c=(0,f.default)({args:["array"],body:function(A){}});e.exports=t.default})(uC,fs);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function W(G,j){var H=[],re=!0,he=!1,ve=void 0;try{for(var we=G[Symbol.iterator](),Se;!(re=(Se=we.next()).done)&&(H.push(Se.value),!(j&&H.length===j));re=!0);}catch(Pe){he=!0,ve=Pe}finally{try{!re&&we.return&&we.return()}finally{if(he)throw ve}}return H}return function(G,j){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return W(G,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function W(G,j){for(var H=0;H<j.length;H++){var re=j[H];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(G,re.key,re)}}return function(G,j,H){return j&&W(G.prototype,j),H&&W(G,H),G}}(),u=as,a=pu,l=x(a),f=xs,d=x(f),p=RF,h=x(p),o=tC,c=x(o),m=Ps,A=x(m),g=os,D=x(g),y=Zu,C=x(y),w=ls,O=x(w),F=fs,B=x(F);function x(W){return W&&W.__esModule?W:{default:W}}function T(W){if(Array.isArray(W)){for(var G=0,j=Array(W.length);G<W.length;G++)j[G]=W[G];return j}else return Array.from(W)}function I(W,G){if(!(W instanceof G))throw new TypeError("Cannot call a class as a function")}function V(W,G){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:W}function J(W,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(W,G):W.__proto__=G)}var K=function(W){J(G,W);function G(j){I(this,G);var H=V(this,Object.getPrototypeOf(G).call(this));return j=j||{},H.dim=j.dim||2,H.perplexity=j.perplexity||30,H.earlyExaggeration=j.earlyExaggeration||4,H.learningRate=j.learningRate||1e3,H.nIter=j.nIter||1e3,H.metric=j.metric||"euclidean",H.barneshut=j.barneshut||!1,H.inputData=null,H.outputEmbedding=null,H}return i(G,[{key:"init",value:function(H){H=H||{};var re=H.data||[],he=H.type||"dense";if(he==="dense")this.inputData=(0,h.default)(re);else if(he==="sparse"){for(var ve=[],we=1,Se=function(ht){var dt=Math.max.apply(null,re.map(function(rt){return rt[ht]}))+1;ve.push(dt),we*=dt},Pe=0;Pe<re[0].length;Pe++)Se(Pe);this.inputData=(0,l.default)(new Float64Array(we),ve);var Ce=!0,xe=!1,Ie=void 0;try{for(var Le=re[Symbol.iterator](),at;!(Ce=(at=Le.next()).done);Ce=!0){var ct,Qe=at.value;(ct=this.inputData).set.apply(ct,T(Qe).concat([1]))}}catch(it){xe=!0,Ie=it}finally{try{!Ce&&Le.return&&Le.return()}finally{if(xe)throw Ie}}}else throw new Error("input data type must be dense or sparse");this.outputEmbedding=(0,D.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,C.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,O.default)(this.distances,this.perplexity);var H=Number.MAX_VALUE,re=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),d.default.mulseq(this.P,this.earlyExaggeration);var he=this._gradDesc(re,50,.5,0,0),ve=r(he,2);H=ve[0],re=ve[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var we=this._gradDesc(re+1,100,.8,0,0),Se=r(we,2);H=Se[0],re=Se[1],this.emit("progressStatus","Final optimization with momentum 0.8"),d.default.divseq(this.P,this.earlyExaggeration);var Pe=this._gradDesc(re+1,this.nIter,.8,1e-6,1e-6),Ce=r(Pe,2);return H=Ce[0],re=Ce[1],this.emit("progressStatus","Optimization end"),[H,re]}},{key:"rerun",value:function(){this.outputEmbedding=(0,D.default)(this.inputData.shape[0],this.dim);var H=this.run(),re=r(H,2),he=re[0],ve=re[1];return[he,ve]}},{key:"getOutput",value:function(){return(0,c.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var H=(0,l.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),re=(0,l.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),he=0;he<this.outputEmbedding.shape[1];he++){var ve=d.default.sup(d.default.abs(re,this.outputEmbedding.pick(null,he)));d.default.divs(H.pick(null,he),this.outputEmbedding.pick(null,he),ve)}return(0,c.default)(H)}},{key:"_gradDesc",value:function(H,re,he){for(var ve=arguments.length<=3||arguments[3]===void 0?1e-6:arguments[3],we=arguments.length<=4||arguments[4]===void 0?1e-6:arguments[4],Se=30,Pe=(0,l.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),Ce=new Float64Array(this.outputEmbedding.size),xe=0;xe<Ce.length;xe++)Ce[xe]=1;var Ie=(0,l.default)(Ce,this.outputEmbedding.shape),Le=Number.MAX_VALUE,at=Number.MAX_VALUE,ct=0,Qe=(0,A.default)({args:["array"],pre:function(pt){this.sum=0},body:function(pt){this.sum+=pt*pt},post:function(pt){return Math.sqrt(this.sum)}}),it=(0,A.default)({args:["array","array","array"],body:function(pt,Nt,ur){}}),ht=void 0;for(ht=H;ht<re;ht++){var dt=(0,B.default)(this.outputEmbedding,this.P,this.alpha),rt=r(dt,2),Je=rt[0],At=rt[1],Ar=Math.abs(Je-Le);Le=Je;var wt=Qe(At);if(this.emit("progressIter",[ht,Le,wt]),Le<at)at=Le,ct=ht;else if(ht-ct>Se)break;if(ve>=wt||we>=Ar)break;it(Ie,Pe,At),d.default.muleq(At,Ie);var ye=(0,l.default)(new Float64Array(At.size),At.shape);d.default.muls(ye,At,this.learningRate),d.default.mulseq(Pe,he),d.default.subeq(Pe,ye),d.default.addeq(this.outputEmbedding,Pe),this.emit("progressData",this.getOutputScaled())}return[Le,ht]}}]),G}(u.EventEmitter);t.default=K,e.exports=t.default})(eF,us);const aC=Xl(us);function sC(e){let t,r=e[19].message+"",i;return{c(){t=oe("p"),i=Ze(r),this.h()},l(u){t=le(u,"P",{style:!0});var a=ie(t);i=Xe(a,r),a.forEach(q),this.h()},h(){Wt(t,"color","red")},m(u,a){Fe(u,t,a),Q(t,i)},p(u,a){a&32&&r!==(r=u[19].message+"")&&wn(i,r)},i:Te,o:Te,d(u){u&&q(t)}}}function oC(e){let t,r,i,u,a,l,f,d,p,h,o,c,m,A,g,D,y,C,w,O,F,B,x,T,I,V,J;r=new TE({props:{dimensions:e[3],center:e[7]}});let K=e[4].embedExponentialScaling&&Ih(e);return{c(){t=oe("div"),mt(r.$$.fragment),u=Ke(),a=oe("div"),l=oe("div"),f=oe("label"),d=oe("span"),p=Ze("Exponential Scaling"),h=Ke(),o=oe("input"),m=Ke(),K&&K.c(),A=Ke(),g=oe("div"),D=oe("label"),y=oe("span"),C=Ze("# Prompts"),w=Ke(),O=oe("input"),F=Ke(),B=oe("div"),x=oe("button"),T=Ze("Shuffle"),this.h()},l(W){t=le(W,"DIV",{class:!0});var G=ie(t);Dt(r.$$.fragment,G),G.forEach(q),u=Ye(W),a=le(W,"DIV",{class:!0});var j=ie(a);l=le(j,"DIV",{class:!0});var H=ie(l);f=le(H,"LABEL",{class:!0});var re=ie(f);d=le(re,"SPAN",{class:!0});var he=ie(d);p=Xe(he,"Exponential Scaling"),he.forEach(q),re.forEach(q),h=Ye(H),o=le(H,"INPUT",{type:!0,class:!0}),H.forEach(q),m=Ye(j),K&&K.l(j),A=Ye(j),g=le(j,"DIV",{class:!0});var ve=ie(g);D=le(ve,"LABEL",{class:!0});var we=ie(D);y=le(we,"SPAN",{class:!0});var Se=ie(y);C=Xe(Se,"# Prompts"),Se.forEach(q),we.forEach(q),w=Ye(ve),O=le(ve,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ve.forEach(q),F=Ye(j),B=le(j,"DIV",{class:!0});var Pe=ie(B);x=le(Pe,"BUTTON",{class:!0});var Ce=ie(x);T=Xe(Ce,"Shuffle"),Ce.forEach(q),Pe.forEach(q),j.forEach(q),this.h()},h(){k(t,"class","w-full h-full"),Hl(()=>e[14].call(t)),k(d,"class","label-text"),k(f,"class","label"),k(o,"type","checkbox"),k(o,"class","toggle"),o.checked=c=e[4].embedExponentialScaling,k(l,"class","min-w-max px-2"),k(y,"class","label-text"),k(D,"class","label"),O.value=e[8],k(O,"type","range"),k(O,"min","1"),k(O,"max",e[2]),k(O,"step","1"),k(O,"class","range"),k(g,"class","w-full px-2"),k(x,"class","btn btn-sm btn-primary"),k(B,"class","w-32 px-2 pb-1 flex flex-col justify-end"),k(a,"class","px-2 py-4 pb-0 flex")},m(W,G){Fe(W,t,G),_t(r,t,null),i=Gl(t,e[14].bind(t)),Fe(W,u,G),Fe(W,a,G),Q(a,l),Q(l,f),Q(f,d),Q(d,p),Q(l,h),Q(l,o),Q(a,m),K&&K.m(a,null),Q(a,A),Q(a,g),Q(g,D),Q(D,y),Q(y,C),Q(g,w),Q(g,O),Q(a,F),Q(a,B),Q(B,x),Q(x,T),I=!0,V||(J=[Re(o,"change",e[10]),Re(O,"change",e[9]),Re(x,"click",e[12])],V=!0)},p(W,G){const j={};G&8&&(j.dimensions=W[3]),G&128&&(j.center=W[7]),r.$set(j),(!I||G&16&&c!==(c=W[4].embedExponentialScaling))&&(o.checked=c),W[4].embedExponentialScaling?K?K.p(W,G):(K=Ih(W),K.c(),K.m(a,A)):K&&(K.d(1),K=null),(!I||G&256)&&(O.value=W[8]),(!I||G&4)&&k(O,"max",W[2])},i(W){I||(ke(r.$$.fragment,W),I=!0)},o(W){ze(r.$$.fragment,W),I=!1},d(W){W&&q(t),yt(r),i(),W&&q(u),W&&q(a),K&&K.d(),V=!1,Jr(J)}}}function Ih(e){let t,r,i,u,a,l,f,d,p;return{c(){t=oe("div"),r=oe("label"),i=oe("span"),u=Ze("Scaling Power"),a=Ke(),l=oe("input"),this.h()},l(h){t=le(h,"DIV",{class:!0});var o=ie(t);r=le(o,"LABEL",{class:!0});var c=ie(r);i=le(c,"SPAN",{class:!0});var m=ie(i);u=Xe(m,"Scaling Power"),m.forEach(q),c.forEach(q),a=Ye(o),l=le(o,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),o.forEach(q),this.h()},h(){k(i,"class","label-text"),k(r,"class","label"),l.value=f=e[4].embedWeightScaling,k(l,"type","range"),k(l,"min","0.5"),k(l,"max","3"),k(l,"step","0.1"),k(l,"class","range"),k(t,"class","w-full px-2")},m(h,o){Fe(h,t,o),Q(t,r),Q(r,i),Q(i,u),Q(t,a),Q(t,l),d||(p=Re(l,"change",e[11]),d=!0)},p(h,o){o&16&&f!==(f=h[4].embedWeightScaling)&&(l.value=f)},d(h){h&&q(t),d=!1,p()}}}function lC(e){let t,r,i,u,a,l;return{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("progress"),this.h()},l(f){t=le(f,"DIV",{class:!0});var d=ie(t);r=le(d,"DIV",{class:!0});var p=ie(r);i=le(p,"DIV",{class:!0});var h=ie(i);u=le(h,"PROGRESS",{class:!0,max:!0}),ie(u).forEach(q),h.forEach(q),p.forEach(q),d.forEach(q),this.h()},h(){k(u,"class","progress progress-primary w-56"),u.value=a=Object.keys(e[6]).length,k(u,"max",l=Object.keys(e[4].weightedPrompts).length),k(i,"class","h-20 w-52"),k(r,"class","flex flex-col justify-center"),k(t,"class","w-full h-full flex justify-center")},m(f,d){Fe(f,t,d),Q(t,r),Q(r,i),Q(i,u)},p(f,d){d&64&&a!==(a=Object.keys(f[6]).length)&&(u.value=a),d&16&&l!==(l=Object.keys(f[4].weightedPrompts).length)&&k(u,"max",l)},i:Te,o:Te,d(f){f&&q(t)}}}function fC(e){let t,r,i,u={ctx:e,current:null,token:null,hasCatch:!0,pending:lC,then:oC,catch:sC,value:18,error:19,blocks:[,,,]};return Di(r=e[5],u),{c(){t=lr(),u.block.c()},l(a){t=lr(),u.block.l(a)},m(a,l){Fe(a,t,l),u.block.m(a,u.anchor=l),u.mount=()=>t.parentNode,u.anchor=t,i=!0},p(a,[l]){e=a,u.ctx=e,l&32&&r!==(r=e[5])&&Di(r,u)||vs(u,e,l)},i(a){i||(ke(u.block),i=!0)},o(a){for(let l=0;l<3;l+=1){const f=u.blocks[l];ze(f)}i=!1},d(a){a&&q(t),u.block.d(a),u.token=null,u=null}}}function Nh(e){return!e.embeddings||Object.entries(e.embeddings).length!==Object.entries(e.weightedPrompts).length||(e.lastPromptChange||0)>(e.lastEmbeddingChange||0)}function cC(e,t,r){let i,u,a,l,f,d,p;Bt(e,Cn,F=>r(4,f=F)),Bt(e,Os,F=>r(13,d=F)),Bt(e,op,F=>r(15,p=F));let h=0,o=0,c=null,m={};function A(F){F.target.value>0&&F.target.value<=i&&It.updateActivePrompt({...f,embedPromptLimit:F.target.value})}function g(F){It.updateActivePrompt({...f,embedExponentialScaling:!f.embedExponentialScaling})}function D(F){It.updateActivePrompt({...f,embedWeightScaling:F.target.value})}function y(F){let B=new aC({dim:2,perplexity:30,earlyExaggeration:4,learningRate:100,nIter:5e3,metric:"euclidean"});const x=Object.keys(F),T=Object.values(F);B.init({data:T,type:"dense"}),B.run();let V=B.getOutputScaled().map(([K,W])=>[(K+1)/2,(W+1)/2]);return x.reduce((K,W,G)=>(K[W]=V[G],K),{})}async function C(){It.updateActivePrompt({...f,scaledEmbedMappings:y(f.embeddings)})}async function w(){if(!d||!f.weightedPrompts)return;const F=Object.entries(f.weightedPrompts).map(([x,T])=>[x,T.text]),B=cf(d);r(6,m={});for(let x of F){const T=await X2(B,x[1],p);r(6,m[x[0]]=T.data.data[0].embedding,m)}It.updateActivePrompt({...f,embeddings:m,lastEmbeddingChange:Date.now(),scaledEmbedMappings:y(m)})}Sy(()=>{console.log(f.embedPromptLimit,i)}),By(()=>{console.log(f.embedPromptLimit,i)}),Oy(()=>{console.log(f.embedPromptLimit,i),d&&Nh(f)&&r(5,c=w())});function O(){h=this.clientWidth,o=this.clientHeight,r(0,h),r(1,o)}return e.$$.update=()=>{e.$$.dirty&16&&r(2,i=Object.keys(f.weightedPrompts||{}).length),e.$$.dirty&20&&r(8,u=f.embedPromptLimit||i),e.$$.dirty&3&&r(3,a=[h||250,o||250]),e.$$.dirty&8&&r(7,l=nf(a)),e.$$.dirty&8208&&d&&Nh(f)&&r(5,c=w())},[h,o,i,a,f,c,m,l,u,A,g,D,C,d,O]}class hC extends Yt{constructor(t){super(),Zt(this,t,cC,fC,Xt,{})}}const Va="zeroPromptHandlingStore";function dC(){const e=Fn(!1),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[Va]?JSON.parse(localStorage[Va]):!1),{subscribe:t,update:a=>{u&&(localStorage[Va]=JSON.stringify(!!a),r(!!a))},get:()=>Pt(e),delete:()=>{u&&(delete localStorage[Va],r(!1))}}}const jl=dC(),bp=En(jl,e=>Pt(jl));function kh(e,t,r){const i=e.slice();return i[8]=t[r][0],i[9]=t[r][1],i}function Rh(e,t){let r,i=t[9].text+"",u,a,l,f=ti(t[9],t[1].weightMode)+"",d,p,h;return{key:e,first:null,c(){r=oe("span"),u=Ze(i),a=Ze("::"),l=oe("b"),d=Ze(f),p=Ke(),this.h()},l(o){r=le(o,"SPAN",{style:!0});var c=ie(r);u=Xe(c,i),a=Xe(c,"::"),l=le(c,"B",{});var m=ie(l);d=Xe(m,f),p=Ye(m),m.forEach(q),c.forEach(q),this.h()},h(){k(r,"style",h=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`),this.first=r},m(o,c){Fe(o,r,c),Q(r,u),Q(r,a),Q(r,l),Q(l,d),Q(l,p)},p(o,c){t=o,c&6&&i!==(i=t[9].text+"")&&wn(u,i),c&6&&f!==(f=ti(t[9],t[1].weightMode)+"")&&wn(d,f),c&7&&h!==(h=`color: rgba(255,255,255,${t[3](t[9][t[0]])});`)&&k(r,"style",h)},d(o){o&&q(r)}}}function pC(e){let t,r,i=[],u=new Map,a,l,f=Object.entries(e[1].weightedPrompts).filter(e[6]);const d=p=>p[8];for(let p=0;p<f.length;p+=1){let h=kh(e,f,p),o=d(h);u.set(o,i[p]=Rh(o,h))}return{c(){t=oe("div"),r=oe("p");for(let p=0;p<i.length;p+=1)i[p].c();this.h()},l(p){t=le(p,"DIV",{class:!0});var h=ie(t);r=le(h,"P",{class:!0});var o=ie(r);for(let c=0;c<i.length;c+=1)i[c].l(o);o.forEach(q),h.forEach(q),this.h()},h(){k(r,"class","text-sm select-none"),k(t,"class","normal-case font-light text-left cursor-copy bg-slate-900 rounded-md p-4 w-full h-32 overflow-y-auto hover:bg-slate-800 active:bg-slate-950")},m(p,h){Fe(p,t,h),Q(t,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,null);a||(l=Re(t,"click",e[4]),a=!0)},p(p,[h]){h&15&&(f=Object.entries(p[1].weightedPrompts).filter(p[6]),i=Ai(i,h,d,1,p,f,u,r,du,Rh,null,kh))},i:Te,o:Te,d(p){p&&q(t);for(let h=0;h<i.length;h+=1)i[h].d();a=!1,l()}}}function vC(e,t,r){let i,u,a,l;Bt(e,Cn,o=>r(1,a=o)),Bt(e,bp,o=>r(2,l=o));let f="parsedWeight";function d(o){return((o/i/u+.75)/2).toFixed(2)}function p(){const o=Object.entries(a.weightedPrompts).filter(c=>l||ti(c[1],a.weightMode)).map(([c,m])=>`${m.text}::${ti(m,a.weightMode)}`).join(" ");navigator.clipboard.writeText(o)}const h=o=>l||ti(o[1],a.weightMode);return e.$$.update=()=>{if(e.$$.dirty&2)switch(a.weightMode){case"circle":r(0,f="circleWeight");break;case"bars":r(0,f="barWeight");break;case"embed":r(0,f="embedWeight");break}e.$$.dirty&3&&r(5,i=Object.values(a.weightedPrompts).reduce((o,c)=>c[f]+o,0)),e.$$.dirty&35&&(u=Math.max(...Object.values(a.weightedPrompts).map(o=>o[f]/i)))},[f,a,l,d,p,i,h]}class gC extends Yt{constructor(t){super(),Zt(this,t,vC,pC,Xt,{})}}function mC(e){let t,r,i,u;return{c(){t=Gt("svg"),r=Gt("rect"),i=Gt("rect"),u=Gt("rect"),this.h()},l(a){t=Kt(a,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var l=ie(t);r=Kt(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(r).forEach(q),i=Kt(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(i).forEach(q),u=Kt(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(u).forEach(q),l.forEach(q),this.h()},h(){k(r,"x","5"),k(r,"y","12"),k(r,"width","40"),k(r,"height","4"),k(r,"fill","rgba(255,255,255, 0.7)"),k(i,"x","5"),k(i,"y","23"),k(i,"width","30"),k(i,"height","4"),k(i,"fill","rgba(255,255,255, 0.7)"),k(u,"x","5"),k(u,"y","34"),k(u,"width","35"),k(u,"height","4"),k(u,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 50 50")},m(a,l){Fe(a,t,l),Q(t,r),Q(t,i),Q(t,u)},p:Te,i:Te,o:Te,d(a){a&&q(t)}}}class DC extends Yt{constructor(t){super(),Zt(this,t,null,mC,Xt,{})}}function _C(e){let t,r,i;return{c(){t=Gt("svg"),r=Gt("circle"),i=Gt("circle"),this.h()},l(u){t=Kt(u,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var a=ie(t);r=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ie(r).forEach(q),i=Kt(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),ie(i).forEach(q),a.forEach(q),this.h()},h(){k(r,"cx","25"),k(r,"cy","25"),k(r,"r","20"),k(r,"stroke","rgba(255,255,255, 0.7)"),k(r,"stroke-width","2"),k(r,"fill","none"),k(i,"cx","25"),k(i,"cy","25"),k(i,"r","2"),k(i,"stroke","rgba(255,255,255, 0.7)"),k(i,"stroke-width","1"),k(i,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 50 50")},m(u,a){Fe(u,t,a),Q(t,r),Q(t,i)},p:Te,i:Te,o:Te,d(u){u&&q(t)}}}class yC extends Yt{constructor(t){super(),Zt(this,t,null,_C,Xt,{})}}function AC(e){let t,r,i,u,a,l;return{c(){t=Gt("svg"),r=Gt("circle"),i=Gt("circle"),u=Gt("circle"),a=Gt("circle"),l=Gt("circle"),this.h()},l(f){t=Kt(f,"svg",{xmlns:!0,fill:!0,class:!0,viewBox:!0});var d=ie(t);r=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(r).forEach(q),i=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(i).forEach(q),u=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(u).forEach(q),a=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(a).forEach(q),l=Kt(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),ie(l).forEach(q),d.forEach(q),this.h()},h(){k(r,"cx","20"),k(r,"cy","80"),k(r,"r","5"),k(r,"fill","rgba(255,255,255, 0.7)"),k(i,"cx","40"),k(i,"cy","40"),k(i,"r","5"),k(i,"fill","rgba(255,255,255, 0.7)"),k(u,"cx","70"),k(u,"cy","20"),k(u,"r","5"),k(u,"fill","rgba(255,255,255, 0.7)"),k(a,"cx","80"),k(a,"cy","60"),k(a,"r","5"),k(a,"fill","rgba(255,255,255, 0.7)"),k(l,"cx","60"),k(l,"cy","75"),k(l,"r","5"),k(l,"fill","rgba(255,255,255, 0.7)"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"fill","rgba(255,255,255, 0.7)"),k(t,"class","h-6 w-6"),k(t,"viewBox","0 0 100 100")},m(f,d){Fe(f,t,d),Q(t,r),Q(t,i),Q(t,u),Q(t,a),Q(t,l)},p:Te,i:Te,o:Te,d(f){f&&q(t)}}}class bC extends Yt{constructor(t){super(),Zt(this,t,null,AC,Xt,{})}}function Lh(e){let t,r,i,u,a,l;return r=new bC({}),{c(){t=oe("button"),mt(r.$$.fragment),this.h()},l(f){t=le(f,"BUTTON",{class:!0});var d=ie(t);Dt(r.$$.fragment,d),d.forEach(q),this.h()},h(){k(t,"class",i=e[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm")},m(f,d){Fe(f,t,d),_t(r,t,null),u=!0,a||(l=Re(t,"click",e[5]),a=!0)},p(f,d){(!u||d&1&&i!==(i=f[0].weightMode==="embed"?"btn btn-sm btn-active":"btn btn-sm"))&&k(t,"class",i)},i(f){u||(ke(r.$$.fragment,f),u=!0)},o(f){ze(r.$$.fragment,f),u=!1},d(f){f&&q(t),yt(r),a=!1,l()}}}function wC(e){let t,r;return t=new hC({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function EC(e){let t,r;return t=new bE({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function FC(e){let t,r;return t=new ME({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function CC(e){let t,r,i,u,a,l,f,d,p,h,o,c,m,A,g,D,y,C,w,O;a=new DC({}),p=new yC({});let F=e[1]&&Lh(e);const B=[FC,EC,wC],x=[];function T(I,V){return I[0].weightMode==="bars"?0:I[0].weightMode==="circle"?1:I[0].weightMode==="embed"?2:-1}return~(m=T(e))&&(A=x[m]=B[m](e)),y=new gC({}),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("button"),mt(a.$$.fragment),f=Ke(),d=oe("button"),mt(p.$$.fragment),o=Ke(),F&&F.c(),c=Ke(),A&&A.c(),g=Ke(),D=oe("div"),mt(y.$$.fragment),this.h()},l(I){t=le(I,"DIV",{class:!0});var V=ie(t);r=le(V,"DIV",{class:!0});var J=ie(r);i=le(J,"DIV",{class:!0});var K=ie(i);u=le(K,"BUTTON",{class:!0});var W=ie(u);Dt(a.$$.fragment,W),W.forEach(q),f=Ye(K),d=le(K,"BUTTON",{class:!0});var G=ie(d);Dt(p.$$.fragment,G),G.forEach(q),o=Ye(K),F&&F.l(K),K.forEach(q),c=Ye(J),A&&A.l(J),g=Ye(J),D=le(J,"DIV",{class:!0});var j=ie(D);Dt(y.$$.fragment,j),j.forEach(q),J.forEach(q),V.forEach(q),this.h()},h(){k(u,"class",l=e[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"),k(d,"class",h=e[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"),k(i,"class","btn-group btn-group-horizontal w-full flex justify-end p-2"),k(D,"class","h-48 w-full p-4 flex flex-col"),k(r,"class","flex flex-col h-full place-content-between"),k(t,"class","w-full h-full flex flex-col")},m(I,V){Fe(I,t,V),Q(t,r),Q(r,i),Q(i,u),_t(a,u,null),Q(i,f),Q(i,d),_t(p,d,null),Q(i,o),F&&F.m(i,null),Q(r,c),~m&&x[m].m(r,null),Q(r,g),Q(r,D),_t(y,D,null),C=!0,w||(O=[Re(u,"click",e[3]),Re(d,"click",e[4])],w=!0)},p(I,[V]){(!C||V&1&&l!==(l=I[0].weightMode==="bars"?"btn btn-sm btn-active":"btn btn-sm"))&&k(u,"class",l),(!C||V&1&&h!==(h=I[0].weightMode==="circle"?"btn btn-sm btn-active":"btn btn-sm"))&&k(d,"class",h),I[1]?F?(F.p(I,V),V&2&&ke(F,1)):(F=Lh(I),F.c(),ke(F,1),F.m(i,null)):F&&(Nn(),ze(F,1,1,()=>{F=null}),kn());let J=m;m=T(I),m!==J&&(A&&(Nn(),ze(x[J],1,1,()=>{x[J]=null}),kn()),~m?(A=x[m],A||(A=x[m]=B[m](I),A.c()),ke(A,1),A.m(r,g)):A=null)},i(I){C||(ke(a.$$.fragment,I),ke(p.$$.fragment,I),ke(F),ke(A),ke(y.$$.fragment,I),C=!0)},o(I){ze(a.$$.fragment,I),ze(p.$$.fragment,I),ze(F),ze(A),ze(y.$$.fragment,I),C=!1},d(I){I&&q(t),yt(a),yt(p),F&&F.d(),~m&&x[m].d(),yt(y),w=!1,Jr(O)}}}function SC(e,t,r){let i,u;Bt(e,Cn,p=>r(0,i=p)),Bt(e,Os,p=>r(1,u=p));function a(p){const h={...i,weightMode:p};It.updateActivePrompt(h)}return[i,u,a,()=>a("bars"),()=>a("circle"),()=>a("embed")]}class BC extends Yt{constructor(t){super(),Zt(this,t,SC,CC,Xt,{})}}function OC(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,l)=>{if(l.startsWith("prompt")){const f=l.split("_")[1];a[f]=JSON.parse(localStorage[l])}return a},{})||{}),{subscribe:t,updatePrompt:(a,l)=>{const f=Pt(e),p={...f[a]||{},...l};u&&(localStorage[`prompt_${a}`]=JSON.stringify(p));const h={...f,[a]:p};r(h)},getPrompt:a=>Pt(e)[a],deletePrompt:a=>{u&&delete localStorage[`prompt_${a}`];const l={...Pt(e)};delete l[a],r(l)}}}const cs=OC(),MC=En(cs,e=>Object.entries(Pt(cs)));var hs={},xC={get exports(){return hs},set exports(e){hs=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,i="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",f="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",o=1,c=2,m=4,A=1,g=2,D=1,y=2,C=4,w=8,O=16,F=32,B=64,x=128,T=256,I=512,V=30,J="...",K=800,W=16,G=1,j=2,H=3,re=1/0,he=9007199254740991,ve=17976931348623157e292,we=0/0,Se=4294967295,Pe=Se-1,Ce=Se>>>1,xe=[["ary",x],["bind",D],["bindKey",y],["curry",w],["curryRight",O],["flip",I],["partial",F],["partialRight",B],["rearg",T]],Ie="[object Arguments]",Le="[object Array]",at="[object AsyncFunction]",ct="[object Boolean]",Qe="[object Date]",it="[object DOMException]",ht="[object Error]",dt="[object Function]",rt="[object GeneratorFunction]",Je="[object Map]",At="[object Number]",Ar="[object Null]",wt="[object Object]",ye="[object Promise]",_e="[object Proxy]",pt="[object RegExp]",Nt="[object Set]",ur="[object String]",R="[object Symbol]",U="[object Undefined]",Y="[object WeakMap]",ue="[object WeakSet]",ee="[object ArrayBuffer]",ce="[object DataView]",ne="[object Float32Array]",ae="[object Float64Array]",De="[object Int8Array]",Be="[object Int16Array]",We="[object Int32Array]",Ae="[object Uint8Array]",Lt="[object Uint8ClampedArray]",Mt="[object Uint16Array]",Jt="[object Uint32Array]",Ut=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,sr=RegExp(vr.source),$r=RegExp(ar.source),fr=/<%-([\s\S]+?)%>/g,pn=/<%([\s\S]+?)%>/g,jn=/<%=([\s\S]+?)%>/g,Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bn=/^\w*$/,Li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ei=/[\\^$.*+?()[\]{}|]/g,vu=RegExp(Ei.source),br=/^\s+/,$t=/\s/,gu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ri=/\{\n\/\* \[wrapped with (.+)\] \*/,Qr=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fi=/[()=,{}\[\]\/\s]/,mu=/\\(\\)?/g,Du=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ui=/\w*$/,_u=/^[-+]0x[0-9a-f]+$/i,yu=/^0b[01]+$/i,Au=/^\[object .+?Constructor\]$/,bu=/^0o[0-7]+$/i,wu=/^(?:0|[1-9]\d*)$/,Eu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ni=/($^)/,Fu=/['\n\r\u2028\u2029\\]/g,ii="\\ud800-\\udfff",Cu="\\u0300-\\u036f",Su="\\ufe20-\\ufe2f",Bu="\\u20d0-\\u20ff",ji=Cu+Su+Bu,On="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",tr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ci="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mn="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",vn=tr+Pr+Ci+qn,en="['’]",Ts="["+ii+"]",Ou="["+vn+"]",Vi="["+ji+"]",Ju="\\d+",_="["+On+"]",E="["+gr+"]",N="[^"+ii+vn+Ju+On+gr+Mn+"]",Z="\\ud83c[\\udffb-\\udfff]",fe="(?:"+Vi+"|"+Z+")",be="[^"+ii+"]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+Mn+"]",rr="\\u200d",df="(?:"+E+"|"+N+")",Op="(?:"+kt+"|"+N+")",pf="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",vf="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",gf=fe+"?",mf="["+Si+"]?",Mp="(?:"+rr+"(?:"+[be,et,lt].join("|")+")"+mf+gf+")*",xp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Df=mf+gf+Mp,Tp="(?:"+[_,et,lt].join("|")+")"+Df,Ip="(?:"+[be+Vi+"?",Vi,et,lt,Ts].join("|")+")",Np=RegExp(en,"g"),kp=RegExp(Vi,"g"),Is=RegExp(Z+"(?="+Z+")|"+Ip+Df,"g"),Rp=RegExp([kt+"?"+E+"+"+pf+"(?="+[Ou,kt,"$"].join("|")+")",Op+"+"+vf+"(?="+[Ou,kt+df,"$"].join("|")+")",kt+"?"+df+"+"+pf,kt+"+"+vf,Pp,xp,Ju,Tp].join("|"),"g"),Lp=RegExp("["+rr+ii+ji+Si+"]"),Up=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vp=-1,Tt={};Tt[ne]=Tt[ae]=Tt[De]=Tt[Be]=Tt[We]=Tt[Ae]=Tt[Lt]=Tt[Mt]=Tt[Jt]=!0,Tt[Ie]=Tt[Le]=Tt[ee]=Tt[ct]=Tt[ce]=Tt[Qe]=Tt[ht]=Tt[dt]=Tt[Je]=Tt[At]=Tt[wt]=Tt[pt]=Tt[Nt]=Tt[ur]=Tt[Y]=!1;var xt={};xt[Ie]=xt[Le]=xt[ee]=xt[ce]=xt[ct]=xt[Qe]=xt[ne]=xt[ae]=xt[De]=xt[Be]=xt[We]=xt[Je]=xt[At]=xt[wt]=xt[pt]=xt[Nt]=xt[ur]=xt[R]=xt[Ae]=xt[Lt]=xt[Mt]=xt[Jt]=!0,xt[ht]=xt[dt]=xt[Y]=!1;var qp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gp=parseFloat,Kp=parseInt,_f=typeof or=="object"&&or&&or.Object===Object&&or,Yp=typeof self=="object"&&self&&self.Object===Object&&self,wr=_f||Yp||Function("return this")(),Ns=t&&!t.nodeType&&t,Bi=Ns&&!0&&e&&!e.nodeType&&e,yf=Bi&&Bi.exports===Ns,ks=yf&&_f.process,tn=function(){try{var X=Bi&&Bi.require&&Bi.require("util").types;return X||ks&&ks.binding&&ks.binding("util")}catch{}}(),Af=tn&&tn.isArrayBuffer,bf=tn&&tn.isDate,wf=tn&&tn.isMap,Ef=tn&&tn.isRegExp,Ff=tn&&tn.isSet,Cf=tn&&tn.isTypedArray;function Wr(X,se,te){switch(te.length){case 0:return X.call(se);case 1:return X.call(se,te[0]);case 2:return X.call(se,te[0],te[1]);case 3:return X.call(se,te[0],te[1],te[2])}return X.apply(se,te)}function Zp(X,se,te,Oe){for(var Ge=-1,vt=X==null?0:X.length;++Ge<vt;){var cr=X[Ge];se(Oe,cr,te(cr),X)}return Oe}function rn(X,se){for(var te=-1,Oe=X==null?0:X.length;++te<Oe&&se(X[te],te,X)!==!1;);return X}function Xp(X,se){for(var te=X==null?0:X.length;te--&&se(X[te],te,X)!==!1;);return X}function Sf(X,se){for(var te=-1,Oe=X==null?0:X.length;++te<Oe;)if(!se(X[te],te,X))return!1;return!0}function ui(X,se){for(var te=-1,Oe=X==null?0:X.length,Ge=0,vt=[];++te<Oe;){var cr=X[te];se(cr,te,X)&&(vt[Ge++]=cr)}return vt}function $u(X,se){var te=X==null?0:X.length;return!!te&&qi(X,se,0)>-1}function Rs(X,se,te){for(var Oe=-1,Ge=X==null?0:X.length;++Oe<Ge;)if(te(se,X[Oe]))return!0;return!1}function Rt(X,se){for(var te=-1,Oe=X==null?0:X.length,Ge=Array(Oe);++te<Oe;)Ge[te]=se(X[te],te,X);return Ge}function ai(X,se){for(var te=-1,Oe=se.length,Ge=X.length;++te<Oe;)X[Ge+te]=se[te];return X}function Ls(X,se,te,Oe){var Ge=-1,vt=X==null?0:X.length;for(Oe&&vt&&(te=X[++Ge]);++Ge<vt;)te=se(te,X[Ge],Ge,X);return te}function Jp(X,se,te,Oe){var Ge=X==null?0:X.length;for(Oe&&Ge&&(te=X[--Ge]);Ge--;)te=se(te,X[Ge],Ge,X);return te}function Us(X,se){for(var te=-1,Oe=X==null?0:X.length;++te<Oe;)if(se(X[te],te,X))return!0;return!1}var $p=js("length");function Qp(X){return X.split("")}function e1(X){return X.match(Vn)||[]}function Bf(X,se,te){var Oe;return te(X,function(Ge,vt,cr){if(se(Ge,vt,cr))return Oe=vt,!1}),Oe}function Qu(X,se,te,Oe){for(var Ge=X.length,vt=te+(Oe?1:-1);Oe?vt--:++vt<Ge;)if(se(X[vt],vt,X))return vt;return-1}function qi(X,se,te){return se===se?h1(X,se,te):Qu(X,Of,te)}function t1(X,se,te,Oe){for(var Ge=te-1,vt=X.length;++Ge<vt;)if(Oe(X[Ge],se))return Ge;return-1}function Of(X){return X!==X}function Mf(X,se){var te=X==null?0:X.length;return te?qs(X,se)/te:we}function js(X){return function(se){return se==null?r:se[X]}}function Vs(X){return function(se){return X==null?r:X[se]}}function xf(X,se,te,Oe,Ge){return Ge(X,function(vt,cr,St){te=Oe?(Oe=!1,vt):se(te,vt,cr,St)}),te}function r1(X,se){var te=X.length;for(X.sort(se);te--;)X[te]=X[te].value;return X}function qs(X,se){for(var te,Oe=-1,Ge=X.length;++Oe<Ge;){var vt=se(X[Oe]);vt!==r&&(te=te===r?vt:te+vt)}return te}function zs(X,se){for(var te=-1,Oe=Array(X);++te<X;)Oe[te]=se(te);return Oe}function n1(X,se){return Rt(se,function(te){return[te,X[te]]})}function Pf(X){return X&&X.slice(0,kf(X)+1).replace(br,"")}function Hr(X){return function(se){return X(se)}}function Ws(X,se){return Rt(se,function(te){return X[te]})}function Mu(X,se){return X.has(se)}function Tf(X,se){for(var te=-1,Oe=X.length;++te<Oe&&qi(se,X[te],0)>-1;);return te}function If(X,se){for(var te=X.length;te--&&qi(se,X[te],0)>-1;);return te}function i1(X,se){for(var te=X.length,Oe=0;te--;)X[te]===se&&++Oe;return Oe}var u1=Vs(qp),a1=Vs(zp);function s1(X){return"\\"+Hp[X]}function o1(X,se){return X==null?r:X[se]}function zi(X){return Lp.test(X)}function l1(X){return Up.test(X)}function f1(X){for(var se,te=[];!(se=X.next()).done;)te.push(se.value);return te}function Hs(X){var se=-1,te=Array(X.size);return X.forEach(function(Oe,Ge){te[++se]=[Ge,Oe]}),te}function Nf(X,se){return function(te){return X(se(te))}}function si(X,se){for(var te=-1,Oe=X.length,Ge=0,vt=[];++te<Oe;){var cr=X[te];(cr===se||cr===h)&&(X[te]=h,vt[Ge++]=te)}return vt}function ea(X){var se=-1,te=Array(X.size);return X.forEach(function(Oe){te[++se]=Oe}),te}function c1(X){var se=-1,te=Array(X.size);return X.forEach(function(Oe){te[++se]=[Oe,Oe]}),te}function h1(X,se,te){for(var Oe=te-1,Ge=X.length;++Oe<Ge;)if(X[Oe]===se)return Oe;return-1}function d1(X,se,te){for(var Oe=te+1;Oe--;)if(X[Oe]===se)return Oe;return Oe}function Wi(X){return zi(X)?v1(X):$p(X)}function gn(X){return zi(X)?g1(X):Qp(X)}function kf(X){for(var se=X.length;se--&&$t.test(X.charAt(se)););return se}var p1=Vs(Wp);function v1(X){for(var se=Is.lastIndex=0;Is.test(X);)++se;return se}function g1(X){return X.match(Is)||[]}function m1(X){return X.match(Rp)||[]}var D1=function X(se){se=se==null?wr:Hi.defaults(wr.Object(),se,Hi.pick(wr,jp));var te=se.Array,Oe=se.Date,Ge=se.Error,vt=se.Function,cr=se.Math,St=se.Object,Gs=se.RegExp,_1=se.String,nn=se.TypeError,ta=te.prototype,y1=vt.prototype,Gi=St.prototype,ra=se["__core-js_shared__"],na=y1.toString,bt=Gi.hasOwnProperty,A1=0,Rf=function(){var n=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ia=Gi.toString,b1=na.call(St),w1=wr._,E1=Gs("^"+na.call(bt).replace(Ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=yf?se.Buffer:r,oi=se.Symbol,aa=se.Uint8Array,Lf=ua?ua.allocUnsafe:r,sa=Nf(St.getPrototypeOf,St),Uf=St.create,jf=Gi.propertyIsEnumerable,oa=ta.splice,Vf=oi?oi.isConcatSpreadable:r,xu=oi?oi.iterator:r,Oi=oi?oi.toStringTag:r,la=function(){try{var n=Ii(St,"defineProperty");return n({},"",{}),n}catch{}}(),F1=se.clearTimeout!==wr.clearTimeout&&se.clearTimeout,C1=Oe&&Oe.now!==wr.Date.now&&Oe.now,S1=se.setTimeout!==wr.setTimeout&&se.setTimeout,fa=cr.ceil,ca=cr.floor,Ks=St.getOwnPropertySymbols,B1=ua?ua.isBuffer:r,qf=se.isFinite,O1=ta.join,M1=Nf(St.keys,St),hr=cr.max,Or=cr.min,x1=Oe.now,P1=se.parseInt,zf=cr.random,T1=ta.reverse,Ys=Ii(se,"DataView"),Pu=Ii(se,"Map"),Zs=Ii(se,"Promise"),Ki=Ii(se,"Set"),Tu=Ii(se,"WeakMap"),Iu=Ii(St,"create"),ha=Tu&&new Tu,Yi={},I1=Ni(Ys),N1=Ni(Pu),k1=Ni(Zs),R1=Ni(Ki),L1=Ni(Tu),da=oi?oi.prototype:r,Nu=da?da.valueOf:r,Wf=da?da.toString:r;function M(n){if(Qt(n)&&!$e(n)&&!(n instanceof ot)){if(n instanceof un)return n;if(bt.call(n,"__wrapped__"))return Hc(n)}return new un(n)}var Zi=function(){function n(){}return function(s){if(!Vt(s))return{};if(Uf)return Uf(s);n.prototype=s;var v=new n;return n.prototype=r,v}}();function pa(){}function un(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:fr,evaluate:pn,interpolate:jn,variable:"",imports:{_:M}},M.prototype=pa.prototype,M.prototype.constructor=M,un.prototype=Zi(pa.prototype),un.prototype.constructor=un;function ot(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function U1(){var n=new ot(this.__wrapped__);return n.__actions__=Rr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Rr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Rr(this.__views__),n}function j1(){if(this.__filtered__){var n=new ot(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function V1(){var n=this.__wrapped__.value(),s=this.__dir__,v=$e(n),b=s<0,S=v?n.length:0,P=Qv(0,S,this.__views__),L=P.start,z=P.end,$=z-L,de=b?z:L-1,pe=this.__iteratees__,me=pe.length,Ee=0,Me=Or($,this.__takeCount__);if(!v||!b&&S==$&&Me==$)return pc(n,this.__actions__);var Ve=[];e:for(;$--&&Ee<Me;){de+=s;for(var nt=-1,qe=n[de];++nt<me;){var st=pe[nt],ft=st.iteratee,Yr=st.type,Nr=ft(qe);if(Yr==j)qe=Nr;else if(!Nr){if(Yr==G)continue e;break e}}Ve[Ee++]=qe}return Ve}ot.prototype=Zi(pa.prototype),ot.prototype.constructor=ot;function Mi(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function q1(){this.__data__=Iu?Iu(null):{},this.size=0}function z1(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function W1(n){var s=this.__data__;if(Iu){var v=s[n];return v===d?r:v}return bt.call(s,n)?s[n]:r}function H1(n){var s=this.__data__;return Iu?s[n]!==r:bt.call(s,n)}function G1(n,s){var v=this.__data__;return this.size+=this.has(n)?0:1,v[n]=Iu&&s===r?d:s,this}Mi.prototype.clear=q1,Mi.prototype.delete=z1,Mi.prototype.get=W1,Mi.prototype.has=H1,Mi.prototype.set=G1;function zn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function K1(){this.__data__=[],this.size=0}function Y1(n){var s=this.__data__,v=va(s,n);if(v<0)return!1;var b=s.length-1;return v==b?s.pop():oa.call(s,v,1),--this.size,!0}function Z1(n){var s=this.__data__,v=va(s,n);return v<0?r:s[v][1]}function X1(n){return va(this.__data__,n)>-1}function J1(n,s){var v=this.__data__,b=va(v,n);return b<0?(++this.size,v.push([n,s])):v[b][1]=s,this}zn.prototype.clear=K1,zn.prototype.delete=Y1,zn.prototype.get=Z1,zn.prototype.has=X1,zn.prototype.set=J1;function Wn(n){var s=-1,v=n==null?0:n.length;for(this.clear();++s<v;){var b=n[s];this.set(b[0],b[1])}}function $1(){this.size=0,this.__data__={hash:new Mi,map:new(Pu||zn),string:new Mi}}function Q1(n){var s=Sa(this,n).delete(n);return this.size-=s?1:0,s}function ev(n){return Sa(this,n).get(n)}function tv(n){return Sa(this,n).has(n)}function rv(n,s){var v=Sa(this,n),b=v.size;return v.set(n,s),this.size+=v.size==b?0:1,this}Wn.prototype.clear=$1,Wn.prototype.delete=Q1,Wn.prototype.get=ev,Wn.prototype.has=tv,Wn.prototype.set=rv;function xi(n){var s=-1,v=n==null?0:n.length;for(this.__data__=new Wn;++s<v;)this.add(n[s])}function nv(n){return this.__data__.set(n,d),this}function iv(n){return this.__data__.has(n)}xi.prototype.add=xi.prototype.push=nv,xi.prototype.has=iv;function mn(n){var s=this.__data__=new zn(n);this.size=s.size}function uv(){this.__data__=new zn,this.size=0}function av(n){var s=this.__data__,v=s.delete(n);return this.size=s.size,v}function sv(n){return this.__data__.get(n)}function ov(n){return this.__data__.has(n)}function lv(n,s){var v=this.__data__;if(v instanceof zn){var b=v.__data__;if(!Pu||b.length<u-1)return b.push([n,s]),this.size=++v.size,this;v=this.__data__=new Wn(b)}return v.set(n,s),this.size=v.size,this}mn.prototype.clear=uv,mn.prototype.delete=av,mn.prototype.get=sv,mn.prototype.has=ov,mn.prototype.set=lv;function Hf(n,s){var v=$e(n),b=!v&&ki(n),S=!v&&!b&&di(n),P=!v&&!b&&!S&&Qi(n),L=v||b||S||P,z=L?zs(n.length,_1):[],$=z.length;for(var de in n)(s||bt.call(n,de))&&!(L&&(de=="length"||S&&(de=="offset"||de=="parent")||P&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Yn(de,$)))&&z.push(de);return z}function Gf(n){var s=n.length;return s?n[ao(0,s-1)]:r}function fv(n,s){return Ba(Rr(n),Pi(s,0,n.length))}function cv(n){return Ba(Rr(n))}function Xs(n,s,v){(v!==r&&!Dn(n[s],v)||v===r&&!(s in n))&&Hn(n,s,v)}function ku(n,s,v){var b=n[s];(!(bt.call(n,s)&&Dn(b,v))||v===r&&!(s in n))&&Hn(n,s,v)}function va(n,s){for(var v=n.length;v--;)if(Dn(n[v][0],s))return v;return-1}function hv(n,s,v,b){return li(n,function(S,P,L){s(b,S,v(S),L)}),b}function Kf(n,s){return n&&Pn(s,mr(s),n)}function dv(n,s){return n&&Pn(s,Ur(s),n)}function Hn(n,s,v){s=="__proto__"&&la?la(n,s,{configurable:!0,enumerable:!0,value:v,writable:!0}):n[s]=v}function Js(n,s){for(var v=-1,b=s.length,S=te(b),P=n==null;++v<b;)S[v]=P?r:Po(n,s[v]);return S}function Pi(n,s,v){return n===n&&(v!==r&&(n=n<=v?n:v),s!==r&&(n=n>=s?n:s)),n}function an(n,s,v,b,S,P){var L,z=s&o,$=s&c,de=s&m;if(v&&(L=S?v(n,b,S,P):v(n)),L!==r)return L;if(!Vt(n))return n;var pe=$e(n);if(pe){if(L=tg(n),!z)return Rr(n,L)}else{var me=Mr(n),Ee=me==dt||me==rt;if(di(n))return mc(n,z);if(me==wt||me==Ie||Ee&&!S){if(L=$||Ee?{}:kc(n),!z)return $?Wv(n,dv(L,n)):zv(n,Kf(L,n))}else{if(!xt[me])return S?n:{};L=rg(n,me,z)}}P||(P=new mn);var Me=P.get(n);if(Me)return Me;P.set(n,L),c0(n)?n.forEach(function(qe){L.add(an(qe,s,v,qe,n,P))}):l0(n)&&n.forEach(function(qe,st){L.set(st,an(qe,s,v,st,n,P))});var Ve=de?$?Do:mo:$?Ur:mr,nt=pe?r:Ve(n);return rn(nt||n,function(qe,st){nt&&(st=qe,qe=n[st]),ku(L,st,an(qe,s,v,st,n,P))}),L}function pv(n){var s=mr(n);return function(v){return Yf(v,n,s)}}function Yf(n,s,v){var b=v.length;if(n==null)return!b;for(n=St(n);b--;){var S=v[b],P=s[S],L=n[S];if(L===r&&!(S in n)||!P(L))return!1}return!0}function Zf(n,s,v){if(typeof n!="function")throw new nn(l);return zu(function(){n.apply(r,v)},s)}function Ru(n,s,v,b){var S=-1,P=$u,L=!0,z=n.length,$=[],de=s.length;if(!z)return $;v&&(s=Rt(s,Hr(v))),b?(P=Rs,L=!1):s.length>=u&&(P=Mu,L=!1,s=new xi(s));e:for(;++S<z;){var pe=n[S],me=v==null?pe:v(pe);if(pe=b||pe!==0?pe:0,L&&me===me){for(var Ee=de;Ee--;)if(s[Ee]===me)continue e;$.push(pe)}else P(s,me,b)||$.push(pe)}return $}var li=bc(xn),Xf=bc(Qs,!0);function vv(n,s){var v=!0;return li(n,function(b,S,P){return v=!!s(b,S,P),v}),v}function ga(n,s,v){for(var b=-1,S=n.length;++b<S;){var P=n[b],L=s(P);if(L!=null&&(z===r?L===L&&!Kr(L):v(L,z)))var z=L,$=P}return $}function gv(n,s,v,b){var S=n.length;for(v=tt(v),v<0&&(v=-v>S?0:S+v),b=b===r||b>S?S:tt(b),b<0&&(b+=S),b=v>b?0:d0(b);v<b;)n[v++]=s;return n}function Jf(n,s){var v=[];return li(n,function(b,S,P){s(b,S,P)&&v.push(b)}),v}function Er(n,s,v,b,S){var P=-1,L=n.length;for(v||(v=ig),S||(S=[]);++P<L;){var z=n[P];s>0&&v(z)?s>1?Er(z,s-1,v,b,S):ai(S,z):b||(S[S.length]=z)}return S}var $s=wc(),$f=wc(!0);function xn(n,s){return n&&$s(n,s,mr)}function Qs(n,s){return n&&$f(n,s,mr)}function ma(n,s){return ui(s,function(v){return Zn(n[v])})}function Ti(n,s){s=ci(s,n);for(var v=0,b=s.length;n!=null&&v<b;)n=n[Tn(s[v++])];return v&&v==b?n:r}function Qf(n,s,v){var b=s(n);return $e(n)?b:ai(b,v(n))}function Tr(n){return n==null?n===r?U:Ar:Oi&&Oi in St(n)?$v(n):cg(n)}function eo(n,s){return n>s}function mv(n,s){return n!=null&&bt.call(n,s)}function Dv(n,s){return n!=null&&s in St(n)}function _v(n,s,v){return n>=Or(s,v)&&n<hr(s,v)}function to(n,s,v){for(var b=v?Rs:$u,S=n[0].length,P=n.length,L=P,z=te(P),$=1/0,de=[];L--;){var pe=n[L];L&&s&&(pe=Rt(pe,Hr(s))),$=Or(pe.length,$),z[L]=!v&&(s||S>=120&&pe.length>=120)?new xi(L&&pe):r}pe=n[0];var me=-1,Ee=z[0];e:for(;++me<S&&de.length<$;){var Me=pe[me],Ve=s?s(Me):Me;if(Me=v||Me!==0?Me:0,!(Ee?Mu(Ee,Ve):b(de,Ve,v))){for(L=P;--L;){var nt=z[L];if(!(nt?Mu(nt,Ve):b(n[L],Ve,v)))continue e}Ee&&Ee.push(Ve),de.push(Me)}}return de}function yv(n,s,v,b){return xn(n,function(S,P,L){s(b,v(S),P,L)}),b}function Lu(n,s,v){s=ci(s,n),n=jc(n,s);var b=n==null?n:n[Tn(on(s))];return b==null?r:Wr(b,n,v)}function ec(n){return Qt(n)&&Tr(n)==Ie}function Av(n){return Qt(n)&&Tr(n)==ee}function bv(n){return Qt(n)&&Tr(n)==Qe}function Uu(n,s,v,b,S){return n===s?!0:n==null||s==null||!Qt(n)&&!Qt(s)?n!==n&&s!==s:wv(n,s,v,b,Uu,S)}function wv(n,s,v,b,S,P){var L=$e(n),z=$e(s),$=L?Le:Mr(n),de=z?Le:Mr(s);$=$==Ie?wt:$,de=de==Ie?wt:de;var pe=$==wt,me=de==wt,Ee=$==de;if(Ee&&di(n)){if(!di(s))return!1;L=!0,pe=!1}if(Ee&&!pe)return P||(P=new mn),L||Qi(n)?Tc(n,s,v,b,S,P):Xv(n,s,$,v,b,S,P);if(!(v&A)){var Me=pe&&bt.call(n,"__wrapped__"),Ve=me&&bt.call(s,"__wrapped__");if(Me||Ve){var nt=Me?n.value():n,qe=Ve?s.value():s;return P||(P=new mn),S(nt,qe,v,b,P)}}return Ee?(P||(P=new mn),Jv(n,s,v,b,S,P)):!1}function Ev(n){return Qt(n)&&Mr(n)==Je}function ro(n,s,v,b){var S=v.length,P=S,L=!b;if(n==null)return!P;for(n=St(n);S--;){var z=v[S];if(L&&z[2]?z[1]!==n[z[0]]:!(z[0]in n))return!1}for(;++S<P;){z=v[S];var $=z[0],de=n[$],pe=z[1];if(L&&z[2]){if(de===r&&!($ in n))return!1}else{var me=new mn;if(b)var Ee=b(de,pe,$,n,s,me);if(!(Ee===r?Uu(pe,de,A|g,b,me):Ee))return!1}}return!0}function tc(n){if(!Vt(n)||ag(n))return!1;var s=Zn(n)?E1:Au;return s.test(Ni(n))}function Fv(n){return Qt(n)&&Tr(n)==pt}function Cv(n){return Qt(n)&&Mr(n)==Nt}function Sv(n){return Qt(n)&&Ia(n.length)&&!!Tt[Tr(n)]}function rc(n){return typeof n=="function"?n:n==null?jr:typeof n=="object"?$e(n)?uc(n[0],n[1]):ic(n):E0(n)}function no(n){if(!qu(n))return M1(n);var s=[];for(var v in St(n))bt.call(n,v)&&v!="constructor"&&s.push(v);return s}function Bv(n){if(!Vt(n))return fg(n);var s=qu(n),v=[];for(var b in n)b=="constructor"&&(s||!bt.call(n,b))||v.push(b);return v}function io(n,s){return n<s}function nc(n,s){var v=-1,b=Lr(n)?te(n.length):[];return li(n,function(S,P,L){b[++v]=s(S,P,L)}),b}function ic(n){var s=yo(n);return s.length==1&&s[0][2]?Lc(s[0][0],s[0][1]):function(v){return v===n||ro(v,n,s)}}function uc(n,s){return bo(n)&&Rc(s)?Lc(Tn(n),s):function(v){var b=Po(v,n);return b===r&&b===s?To(v,n):Uu(s,b,A|g)}}function Da(n,s,v,b,S){n!==s&&$s(s,function(P,L){if(S||(S=new mn),Vt(P))Ov(n,s,L,v,Da,b,S);else{var z=b?b(Eo(n,L),P,L+"",n,s,S):r;z===r&&(z=P),Xs(n,L,z)}},Ur)}function Ov(n,s,v,b,S,P,L){var z=Eo(n,v),$=Eo(s,v),de=L.get($);if(de){Xs(n,v,de);return}var pe=P?P(z,$,v+"",n,s,L):r,me=pe===r;if(me){var Ee=$e($),Me=!Ee&&di($),Ve=!Ee&&!Me&&Qi($);pe=$,Ee||Me||Ve?$e(z)?pe=z:nr(z)?pe=Rr(z):Me?(me=!1,pe=mc($,!0)):Ve?(me=!1,pe=Dc($,!0)):pe=[]:Wu($)||ki($)?(pe=z,ki(z)?pe=p0(z):(!Vt(z)||Zn(z))&&(pe=kc($))):me=!1}me&&(L.set($,pe),S(pe,$,b,P,L),L.delete($)),Xs(n,v,pe)}function ac(n,s){var v=n.length;if(v)return s+=s<0?v:0,Yn(s,v)?n[s]:r}function sc(n,s,v){s.length?s=Rt(s,function(P){return $e(P)?function(L){return Ti(L,P.length===1?P[0]:P)}:P}):s=[jr];var b=-1;s=Rt(s,Hr(Ue()));var S=nc(n,function(P,L,z){var $=Rt(s,function(de){return de(P)});return{criteria:$,index:++b,value:P}});return r1(S,function(P,L){return qv(P,L,v)})}function Mv(n,s){return oc(n,s,function(v,b){return To(n,b)})}function oc(n,s,v){for(var b=-1,S=s.length,P={};++b<S;){var L=s[b],z=Ti(n,L);v(z,L)&&ju(P,ci(L,n),z)}return P}function xv(n){return function(s){return Ti(s,n)}}function uo(n,s,v,b){var S=b?t1:qi,P=-1,L=s.length,z=n;for(n===s&&(s=Rr(s)),v&&(z=Rt(n,Hr(v)));++P<L;)for(var $=0,de=s[P],pe=v?v(de):de;($=S(z,pe,$,b))>-1;)z!==n&&oa.call(z,$,1),oa.call(n,$,1);return n}function lc(n,s){for(var v=n?s.length:0,b=v-1;v--;){var S=s[v];if(v==b||S!==P){var P=S;Yn(S)?oa.call(n,S,1):lo(n,S)}}return n}function ao(n,s){return n+ca(zf()*(s-n+1))}function Pv(n,s,v,b){for(var S=-1,P=hr(fa((s-n)/(v||1)),0),L=te(P);P--;)L[b?P:++S]=n,n+=v;return L}function so(n,s){var v="";if(!n||s<1||s>he)return v;do s%2&&(v+=n),s=ca(s/2),s&&(n+=n);while(s);return v}function ut(n,s){return Fo(Uc(n,s,jr),n+"")}function Tv(n){return Gf(eu(n))}function Iv(n,s){var v=eu(n);return Ba(v,Pi(s,0,v.length))}function ju(n,s,v,b){if(!Vt(n))return n;s=ci(s,n);for(var S=-1,P=s.length,L=P-1,z=n;z!=null&&++S<P;){var $=Tn(s[S]),de=v;if($==="__proto__"||$==="constructor"||$==="prototype")return n;if(S!=L){var pe=z[$];de=b?b(pe,$,z):r,de===r&&(de=Vt(pe)?pe:Yn(s[S+1])?[]:{})}ku(z,$,de),z=z[$]}return n}var fc=ha?function(n,s){return ha.set(n,s),n}:jr,Nv=la?function(n,s){return la(n,"toString",{configurable:!0,enumerable:!1,value:No(s),writable:!0})}:jr;function kv(n){return Ba(eu(n))}function sn(n,s,v){var b=-1,S=n.length;s<0&&(s=-s>S?0:S+s),v=v>S?S:v,v<0&&(v+=S),S=s>v?0:v-s>>>0,s>>>=0;for(var P=te(S);++b<S;)P[b]=n[b+s];return P}function Rv(n,s){var v;return li(n,function(b,S,P){return v=s(b,S,P),!v}),!!v}function _a(n,s,v){var b=0,S=n==null?b:n.length;if(typeof s=="number"&&s===s&&S<=Ce){for(;b<S;){var P=b+S>>>1,L=n[P];L!==null&&!Kr(L)&&(v?L<=s:L<s)?b=P+1:S=P}return S}return oo(n,s,jr,v)}function oo(n,s,v,b){var S=0,P=n==null?0:n.length;if(P===0)return 0;s=v(s);for(var L=s!==s,z=s===null,$=Kr(s),de=s===r;S<P;){var pe=ca((S+P)/2),me=v(n[pe]),Ee=me!==r,Me=me===null,Ve=me===me,nt=Kr(me);if(L)var qe=b||Ve;else de?qe=Ve&&(b||Ee):z?qe=Ve&&Ee&&(b||!Me):$?qe=Ve&&Ee&&!Me&&(b||!nt):Me||nt?qe=!1:qe=b?me<=s:me<s;qe?S=pe+1:P=pe}return Or(P,Pe)}function cc(n,s){for(var v=-1,b=n.length,S=0,P=[];++v<b;){var L=n[v],z=s?s(L):L;if(!v||!Dn(z,$)){var $=z;P[S++]=L===0?0:L}}return P}function hc(n){return typeof n=="number"?n:Kr(n)?we:+n}function Gr(n){if(typeof n=="string")return n;if($e(n))return Rt(n,Gr)+"";if(Kr(n))return Wf?Wf.call(n):"";var s=n+"";return s=="0"&&1/n==-re?"-0":s}function fi(n,s,v){var b=-1,S=$u,P=n.length,L=!0,z=[],$=z;if(v)L=!1,S=Rs;else if(P>=u){var de=s?null:Yv(n);if(de)return ea(de);L=!1,S=Mu,$=new xi}else $=s?[]:z;e:for(;++b<P;){var pe=n[b],me=s?s(pe):pe;if(pe=v||pe!==0?pe:0,L&&me===me){for(var Ee=$.length;Ee--;)if($[Ee]===me)continue e;s&&$.push(me),z.push(pe)}else S($,me,v)||($!==z&&$.push(me),z.push(pe))}return z}function lo(n,s){return s=ci(s,n),n=jc(n,s),n==null||delete n[Tn(on(s))]}function dc(n,s,v,b){return ju(n,s,v(Ti(n,s)),b)}function ya(n,s,v,b){for(var S=n.length,P=b?S:-1;(b?P--:++P<S)&&s(n[P],P,n););return v?sn(n,b?0:P,b?P+1:S):sn(n,b?P+1:0,b?S:P)}function pc(n,s){var v=n;return v instanceof ot&&(v=v.value()),Ls(s,function(b,S){return S.func.apply(S.thisArg,ai([b],S.args))},v)}function fo(n,s,v){var b=n.length;if(b<2)return b?fi(n[0]):[];for(var S=-1,P=te(b);++S<b;)for(var L=n[S],z=-1;++z<b;)z!=S&&(P[S]=Ru(P[S]||L,n[z],s,v));return fi(Er(P,1),s,v)}function vc(n,s,v){for(var b=-1,S=n.length,P=s.length,L={};++b<S;){var z=b<P?s[b]:r;v(L,n[b],z)}return L}function co(n){return nr(n)?n:[]}function ho(n){return typeof n=="function"?n:jr}function ci(n,s){return $e(n)?n:bo(n,s)?[n]:Wc(gt(n))}var Lv=ut;function hi(n,s,v){var b=n.length;return v=v===r?b:v,!s&&v>=b?n:sn(n,s,v)}var gc=F1||function(n){return wr.clearTimeout(n)};function mc(n,s){if(s)return n.slice();var v=n.length,b=Lf?Lf(v):new n.constructor(v);return n.copy(b),b}function po(n){var s=new n.constructor(n.byteLength);return new aa(s).set(new aa(n)),s}function Uv(n,s){var v=s?po(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.byteLength)}function jv(n){var s=new n.constructor(n.source,Ui.exec(n));return s.lastIndex=n.lastIndex,s}function Vv(n){return Nu?St(Nu.call(n)):{}}function Dc(n,s){var v=s?po(n.buffer):n.buffer;return new n.constructor(v,n.byteOffset,n.length)}function _c(n,s){if(n!==s){var v=n!==r,b=n===null,S=n===n,P=Kr(n),L=s!==r,z=s===null,$=s===s,de=Kr(s);if(!z&&!de&&!P&&n>s||P&&L&&$&&!z&&!de||b&&L&&$||!v&&$||!S)return 1;if(!b&&!P&&!de&&n<s||de&&v&&S&&!b&&!P||z&&v&&S||!L&&S||!$)return-1}return 0}function qv(n,s,v){for(var b=-1,S=n.criteria,P=s.criteria,L=S.length,z=v.length;++b<L;){var $=_c(S[b],P[b]);if($){if(b>=z)return $;var de=v[b];return $*(de=="desc"?-1:1)}}return n.index-s.index}function yc(n,s,v,b){for(var S=-1,P=n.length,L=v.length,z=-1,$=s.length,de=hr(P-L,0),pe=te($+de),me=!b;++z<$;)pe[z]=s[z];for(;++S<L;)(me||S<P)&&(pe[v[S]]=n[S]);for(;de--;)pe[z++]=n[S++];return pe}function Ac(n,s,v,b){for(var S=-1,P=n.length,L=-1,z=v.length,$=-1,de=s.length,pe=hr(P-z,0),me=te(pe+de),Ee=!b;++S<pe;)me[S]=n[S];for(var Me=S;++$<de;)me[Me+$]=s[$];for(;++L<z;)(Ee||S<P)&&(me[Me+v[L]]=n[S++]);return me}function Rr(n,s){var v=-1,b=n.length;for(s||(s=te(b));++v<b;)s[v]=n[v];return s}function Pn(n,s,v,b){var S=!v;v||(v={});for(var P=-1,L=s.length;++P<L;){var z=s[P],$=b?b(v[z],n[z],z,v,n):r;$===r&&($=n[z]),S?Hn(v,z,$):ku(v,z,$)}return v}function zv(n,s){return Pn(n,Ao(n),s)}function Wv(n,s){return Pn(n,Ic(n),s)}function Aa(n,s){return function(v,b){var S=$e(v)?Zp:hv,P=s?s():{};return S(v,n,Ue(b,2),P)}}function Xi(n){return ut(function(s,v){var b=-1,S=v.length,P=S>1?v[S-1]:r,L=S>2?v[2]:r;for(P=n.length>3&&typeof P=="function"?(S--,P):r,L&&Ir(v[0],v[1],L)&&(P=S<3?r:P,S=1),s=St(s);++b<S;){var z=v[b];z&&n(s,z,b,P)}return s})}function bc(n,s){return function(v,b){if(v==null)return v;if(!Lr(v))return n(v,b);for(var S=v.length,P=s?S:-1,L=St(v);(s?P--:++P<S)&&b(L[P],P,L)!==!1;);return v}}function wc(n){return function(s,v,b){for(var S=-1,P=St(s),L=b(s),z=L.length;z--;){var $=L[n?z:++S];if(v(P[$],$,P)===!1)break}return s}}function Hv(n,s,v){var b=s&D,S=Vu(n);function P(){var L=this&&this!==wr&&this instanceof P?S:n;return L.apply(b?v:this,arguments)}return P}function Ec(n){return function(s){s=gt(s);var v=zi(s)?gn(s):r,b=v?v[0]:s.charAt(0),S=v?hi(v,1).join(""):s.slice(1);return b[n]()+S}}function Ji(n){return function(s){return Ls(b0(A0(s).replace(Np,"")),n,"")}}function Vu(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var v=Zi(n.prototype),b=n.apply(v,s);return Vt(b)?b:v}}function Gv(n,s,v){var b=Vu(n);function S(){for(var P=arguments.length,L=te(P),z=P,$=$i(S);z--;)L[z]=arguments[z];var de=P<3&&L[0]!==$&&L[P-1]!==$?[]:si(L,$);if(P-=de.length,P<v)return Oc(n,s,ba,S.placeholder,r,L,de,r,r,v-P);var pe=this&&this!==wr&&this instanceof S?b:n;return Wr(pe,this,L)}return S}function Fc(n){return function(s,v,b){var S=St(s);if(!Lr(s)){var P=Ue(v,3);s=mr(s),v=function(z){return P(S[z],z,S)}}var L=n(s,v,b);return L>-1?S[P?s[L]:L]:r}}function Cc(n){return Kn(function(s){var v=s.length,b=v,S=un.prototype.thru;for(n&&s.reverse();b--;){var P=s[b];if(typeof P!="function")throw new nn(l);if(S&&!L&&Ca(P)=="wrapper")var L=new un([],!0)}for(b=L?b:v;++b<v;){P=s[b];var z=Ca(P),$=z=="wrapper"?_o(P):r;$&&wo($[0])&&$[1]==(x|w|F|T)&&!$[4].length&&$[9]==1?L=L[Ca($[0])].apply(L,$[3]):L=P.length==1&&wo(P)?L[z]():L.thru(P)}return function(){var de=arguments,pe=de[0];if(L&&de.length==1&&$e(pe))return L.plant(pe).value();for(var me=0,Ee=v?s[me].apply(this,de):pe;++me<v;)Ee=s[me].call(this,Ee);return Ee}})}function ba(n,s,v,b,S,P,L,z,$,de){var pe=s&x,me=s&D,Ee=s&y,Me=s&(w|O),Ve=s&I,nt=Ee?r:Vu(n);function qe(){for(var st=arguments.length,ft=te(st),Yr=st;Yr--;)ft[Yr]=arguments[Yr];if(Me)var Nr=$i(qe),Zr=i1(ft,Nr);if(b&&(ft=yc(ft,b,S,Me)),P&&(ft=Ac(ft,P,L,Me)),st-=Zr,Me&&st<de){var ir=si(ft,Nr);return Oc(n,s,ba,qe.placeholder,v,ft,ir,z,$,de-st)}var _n=me?v:this,Jn=Ee?_n[n]:n;return st=ft.length,z?ft=hg(ft,z):Ve&&st>1&&ft.reverse(),pe&&$<st&&(ft.length=$),this&&this!==wr&&this instanceof qe&&(Jn=nt||Vu(Jn)),Jn.apply(_n,ft)}return qe}function Sc(n,s){return function(v,b){return yv(v,n,s(b),{})}}function wa(n,s){return function(v,b){var S;if(v===r&&b===r)return s;if(v!==r&&(S=v),b!==r){if(S===r)return b;typeof v=="string"||typeof b=="string"?(v=Gr(v),b=Gr(b)):(v=hc(v),b=hc(b)),S=n(v,b)}return S}}function vo(n){return Kn(function(s){return s=Rt(s,Hr(Ue())),ut(function(v){var b=this;return n(s,function(S){return Wr(S,b,v)})})})}function Ea(n,s){s=s===r?" ":Gr(s);var v=s.length;if(v<2)return v?so(s,n):s;var b=so(s,fa(n/Wi(s)));return zi(s)?hi(gn(b),0,n).join(""):b.slice(0,n)}function Kv(n,s,v,b){var S=s&D,P=Vu(n);function L(){for(var z=-1,$=arguments.length,de=-1,pe=b.length,me=te(pe+$),Ee=this&&this!==wr&&this instanceof L?P:n;++de<pe;)me[de]=b[de];for(;$--;)me[de++]=arguments[++z];return Wr(Ee,S?v:this,me)}return L}function Bc(n){return function(s,v,b){return b&&typeof b!="number"&&Ir(s,v,b)&&(v=b=r),s=Xn(s),v===r?(v=s,s=0):v=Xn(v),b=b===r?s<v?1:-1:Xn(b),Pv(s,v,b,n)}}function Fa(n){return function(s,v){return typeof s=="string"&&typeof v=="string"||(s=ln(s),v=ln(v)),n(s,v)}}function Oc(n,s,v,b,S,P,L,z,$,de){var pe=s&w,me=pe?L:r,Ee=pe?r:L,Me=pe?P:r,Ve=pe?r:P;s|=pe?F:B,s&=~(pe?B:F),s&C||(s&=~(D|y));var nt=[n,s,S,Me,me,Ve,Ee,z,$,de],qe=v.apply(r,nt);return wo(n)&&Vc(qe,nt),qe.placeholder=b,qc(qe,n,s)}function go(n){var s=cr[n];return function(v,b){if(v=ln(v),b=b==null?0:Or(tt(b),292),b&&qf(v)){var S=(gt(v)+"e").split("e"),P=s(S[0]+"e"+(+S[1]+b));return S=(gt(P)+"e").split("e"),+(S[0]+"e"+(+S[1]-b))}return s(v)}}var Yv=Ki&&1/ea(new Ki([,-0]))[1]==re?function(n){return new Ki(n)}:Lo;function Mc(n){return function(s){var v=Mr(s);return v==Je?Hs(s):v==Nt?c1(s):n1(s,n(s))}}function Gn(n,s,v,b,S,P,L,z){var $=s&y;if(!$&&typeof n!="function")throw new nn(l);var de=b?b.length:0;if(de||(s&=~(F|B),b=S=r),L=L===r?L:hr(tt(L),0),z=z===r?z:tt(z),de-=S?S.length:0,s&B){var pe=b,me=S;b=S=r}var Ee=$?r:_o(n),Me=[n,s,v,b,S,pe,me,P,L,z];if(Ee&&lg(Me,Ee),n=Me[0],s=Me[1],v=Me[2],b=Me[3],S=Me[4],z=Me[9]=Me[9]===r?$?0:n.length:hr(Me[9]-de,0),!z&&s&(w|O)&&(s&=~(w|O)),!s||s==D)var Ve=Hv(n,s,v);else s==w||s==O?Ve=Gv(n,s,z):(s==F||s==(D|F))&&!S.length?Ve=Kv(n,s,v,b):Ve=ba.apply(r,Me);var nt=Ee?fc:Vc;return qc(nt(Ve,Me),n,s)}function xc(n,s,v,b){return n===r||Dn(n,Gi[v])&&!bt.call(b,v)?s:n}function Pc(n,s,v,b,S,P){return Vt(n)&&Vt(s)&&(P.set(s,n),Da(n,s,r,Pc,P),P.delete(s)),n}function Zv(n){return Wu(n)?r:n}function Tc(n,s,v,b,S,P){var L=v&A,z=n.length,$=s.length;if(z!=$&&!(L&&$>z))return!1;var de=P.get(n),pe=P.get(s);if(de&&pe)return de==s&&pe==n;var me=-1,Ee=!0,Me=v&g?new xi:r;for(P.set(n,s),P.set(s,n);++me<z;){var Ve=n[me],nt=s[me];if(b)var qe=L?b(nt,Ve,me,s,n,P):b(Ve,nt,me,n,s,P);if(qe!==r){if(qe)continue;Ee=!1;break}if(Me){if(!Us(s,function(st,ft){if(!Mu(Me,ft)&&(Ve===st||S(Ve,st,v,b,P)))return Me.push(ft)})){Ee=!1;break}}else if(!(Ve===nt||S(Ve,nt,v,b,P))){Ee=!1;break}}return P.delete(n),P.delete(s),Ee}function Xv(n,s,v,b,S,P,L){switch(v){case ce:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case ee:return!(n.byteLength!=s.byteLength||!P(new aa(n),new aa(s)));case ct:case Qe:case At:return Dn(+n,+s);case ht:return n.name==s.name&&n.message==s.message;case pt:case ur:return n==s+"";case Je:var z=Hs;case Nt:var $=b&A;if(z||(z=ea),n.size!=s.size&&!$)return!1;var de=L.get(n);if(de)return de==s;b|=g,L.set(n,s);var pe=Tc(z(n),z(s),b,S,P,L);return L.delete(n),pe;case R:if(Nu)return Nu.call(n)==Nu.call(s)}return!1}function Jv(n,s,v,b,S,P){var L=v&A,z=mo(n),$=z.length,de=mo(s),pe=de.length;if($!=pe&&!L)return!1;for(var me=$;me--;){var Ee=z[me];if(!(L?Ee in s:bt.call(s,Ee)))return!1}var Me=P.get(n),Ve=P.get(s);if(Me&&Ve)return Me==s&&Ve==n;var nt=!0;P.set(n,s),P.set(s,n);for(var qe=L;++me<$;){Ee=z[me];var st=n[Ee],ft=s[Ee];if(b)var Yr=L?b(ft,st,Ee,s,n,P):b(st,ft,Ee,n,s,P);if(!(Yr===r?st===ft||S(st,ft,v,b,P):Yr)){nt=!1;break}qe||(qe=Ee=="constructor")}if(nt&&!qe){var Nr=n.constructor,Zr=s.constructor;Nr!=Zr&&"constructor"in n&&"constructor"in s&&!(typeof Nr=="function"&&Nr instanceof Nr&&typeof Zr=="function"&&Zr instanceof Zr)&&(nt=!1)}return P.delete(n),P.delete(s),nt}function Kn(n){return Fo(Uc(n,r,Yc),n+"")}function mo(n){return Qf(n,mr,Ao)}function Do(n){return Qf(n,Ur,Ic)}var _o=ha?function(n){return ha.get(n)}:Lo;function Ca(n){for(var s=n.name+"",v=Yi[s],b=bt.call(Yi,s)?v.length:0;b--;){var S=v[b],P=S.func;if(P==null||P==n)return S.name}return s}function $i(n){var s=bt.call(M,"placeholder")?M:n;return s.placeholder}function Ue(){var n=M.iteratee||ko;return n=n===ko?rc:n,arguments.length?n(arguments[0],arguments[1]):n}function Sa(n,s){var v=n.__data__;return ug(s)?v[typeof s=="string"?"string":"hash"]:v.map}function yo(n){for(var s=mr(n),v=s.length;v--;){var b=s[v],S=n[b];s[v]=[b,S,Rc(S)]}return s}function Ii(n,s){var v=o1(n,s);return tc(v)?v:r}function $v(n){var s=bt.call(n,Oi),v=n[Oi];try{n[Oi]=r;var b=!0}catch{}var S=ia.call(n);return b&&(s?n[Oi]=v:delete n[Oi]),S}var Ao=Ks?function(n){return n==null?[]:(n=St(n),ui(Ks(n),function(s){return jf.call(n,s)}))}:Uo,Ic=Ks?function(n){for(var s=[];n;)ai(s,Ao(n)),n=sa(n);return s}:Uo,Mr=Tr;(Ys&&Mr(new Ys(new ArrayBuffer(1)))!=ce||Pu&&Mr(new Pu)!=Je||Zs&&Mr(Zs.resolve())!=ye||Ki&&Mr(new Ki)!=Nt||Tu&&Mr(new Tu)!=Y)&&(Mr=function(n){var s=Tr(n),v=s==wt?n.constructor:r,b=v?Ni(v):"";if(b)switch(b){case I1:return ce;case N1:return Je;case k1:return ye;case R1:return Nt;case L1:return Y}return s});function Qv(n,s,v){for(var b=-1,S=v.length;++b<S;){var P=v[b],L=P.size;switch(P.type){case"drop":n+=L;break;case"dropRight":s-=L;break;case"take":s=Or(s,n+L);break;case"takeRight":n=hr(n,s-L);break}}return{start:n,end:s}}function eg(n){var s=n.match(ri);return s?s[1].split(Qr):[]}function Nc(n,s,v){s=ci(s,n);for(var b=-1,S=s.length,P=!1;++b<S;){var L=Tn(s[b]);if(!(P=n!=null&&v(n,L)))break;n=n[L]}return P||++b!=S?P:(S=n==null?0:n.length,!!S&&Ia(S)&&Yn(L,S)&&($e(n)||ki(n)))}function tg(n){var s=n.length,v=new n.constructor(s);return s&&typeof n[0]=="string"&&bt.call(n,"index")&&(v.index=n.index,v.input=n.input),v}function kc(n){return typeof n.constructor=="function"&&!qu(n)?Zi(sa(n)):{}}function rg(n,s,v){var b=n.constructor;switch(s){case ee:return po(n);case ct:case Qe:return new b(+n);case ce:return Uv(n,v);case ne:case ae:case De:case Be:case We:case Ae:case Lt:case Mt:case Jt:return Dc(n,v);case Je:return new b;case At:case ur:return new b(n);case pt:return jv(n);case Nt:return new b;case R:return Vv(n)}}function ng(n,s){var v=s.length;if(!v)return n;var b=v-1;return s[b]=(v>1?"& ":"")+s[b],s=s.join(v>2?", ":" "),n.replace(gu,`{
/* [wrapped with `+s+`] */
`)}function ig(n){return $e(n)||ki(n)||!!(Vf&&n&&n[Vf])}function Yn(n,s){var v=typeof n;return s=s??he,!!s&&(v=="number"||v!="symbol"&&wu.test(n))&&n>-1&&n%1==0&&n<s}function Ir(n,s,v){if(!Vt(v))return!1;var b=typeof s;return(b=="number"?Lr(v)&&Yn(s,v.length):b=="string"&&s in v)?Dn(v[s],n):!1}function bo(n,s){if($e(n))return!1;var v=typeof n;return v=="number"||v=="symbol"||v=="boolean"||n==null||Kr(n)?!0:Bn.test(n)||!Sn.test(n)||s!=null&&n in St(s)}function ug(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function wo(n){var s=Ca(n),v=M[s];if(typeof v!="function"||!(s in ot.prototype))return!1;if(n===v)return!0;var b=_o(v);return!!b&&n===b[0]}function ag(n){return!!Rf&&Rf in n}var sg=ra?Zn:jo;function qu(n){var s=n&&n.constructor,v=typeof s=="function"&&s.prototype||Gi;return n===v}function Rc(n){return n===n&&!Vt(n)}function Lc(n,s){return function(v){return v==null?!1:v[n]===s&&(s!==r||n in St(v))}}function og(n){var s=Pa(n,function(b){return v.size===p&&v.clear(),b}),v=s.cache;return s}function lg(n,s){var v=n[1],b=s[1],S=v|b,P=S<(D|y|x),L=b==x&&v==w||b==x&&v==T&&n[7].length<=s[8]||b==(x|T)&&s[7].length<=s[8]&&v==w;if(!(P||L))return n;b&D&&(n[2]=s[2],S|=v&D?0:C);var z=s[3];if(z){var $=n[3];n[3]=$?yc($,z,s[4]):z,n[4]=$?si(n[3],h):s[4]}return z=s[5],z&&($=n[5],n[5]=$?Ac($,z,s[6]):z,n[6]=$?si(n[5],h):s[6]),z=s[7],z&&(n[7]=z),b&x&&(n[8]=n[8]==null?s[8]:Or(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=S,n}function fg(n){var s=[];if(n!=null)for(var v in St(n))s.push(v);return s}function cg(n){return ia.call(n)}function Uc(n,s,v){return s=hr(s===r?n.length-1:s,0),function(){for(var b=arguments,S=-1,P=hr(b.length-s,0),L=te(P);++S<P;)L[S]=b[s+S];S=-1;for(var z=te(s+1);++S<s;)z[S]=b[S];return z[s]=v(L),Wr(n,this,z)}}function jc(n,s){return s.length<2?n:Ti(n,sn(s,0,-1))}function hg(n,s){for(var v=n.length,b=Or(s.length,v),S=Rr(n);b--;){var P=s[b];n[b]=Yn(P,v)?S[P]:r}return n}function Eo(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var Vc=zc(fc),zu=S1||function(n,s){return wr.setTimeout(n,s)},Fo=zc(Nv);function qc(n,s,v){var b=s+"";return Fo(n,ng(b,dg(eg(b),v)))}function zc(n){var s=0,v=0;return function(){var b=x1(),S=W-(b-v);if(v=b,S>0){if(++s>=K)return arguments[0]}else s=0;return n.apply(r,arguments)}}function Ba(n,s){var v=-1,b=n.length,S=b-1;for(s=s===r?b:s;++v<s;){var P=ao(v,S),L=n[P];n[P]=n[v],n[v]=L}return n.length=s,n}var Wc=og(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(Li,function(v,b,S,P){s.push(S?P.replace(mu,"$1"):b||v)}),s});function Tn(n){if(typeof n=="string"||Kr(n))return n;var s=n+"";return s=="0"&&1/n==-re?"-0":s}function Ni(n){if(n!=null){try{return na.call(n)}catch{}try{return n+""}catch{}}return""}function dg(n,s){return rn(xe,function(v){var b="_."+v[0];s&v[1]&&!$u(n,b)&&n.push(b)}),n.sort()}function Hc(n){if(n instanceof ot)return n.clone();var s=new un(n.__wrapped__,n.__chain__);return s.__actions__=Rr(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function pg(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=hr(tt(s),0);var b=n==null?0:n.length;if(!b||s<1)return[];for(var S=0,P=0,L=te(fa(b/s));S<b;)L[P++]=sn(n,S,S+=s);return L}function vg(n){for(var s=-1,v=n==null?0:n.length,b=0,S=[];++s<v;){var P=n[s];P&&(S[b++]=P)}return S}function gg(){var n=arguments.length;if(!n)return[];for(var s=te(n-1),v=arguments[0],b=n;b--;)s[b-1]=arguments[b];return ai($e(v)?Rr(v):[v],Er(s,1))}var mg=ut(function(n,s){return nr(n)?Ru(n,Er(s,1,nr,!0)):[]}),Dg=ut(function(n,s){var v=on(s);return nr(v)&&(v=r),nr(n)?Ru(n,Er(s,1,nr,!0),Ue(v,2)):[]}),_g=ut(function(n,s){var v=on(s);return nr(v)&&(v=r),nr(n)?Ru(n,Er(s,1,nr,!0),r,v):[]});function yg(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),sn(n,s<0?0:s,b)):[]}function Ag(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,0,s<0?0:s)):[]}function bg(n,s){return n&&n.length?ya(n,Ue(s,3),!0,!0):[]}function wg(n,s){return n&&n.length?ya(n,Ue(s,3),!0):[]}function Eg(n,s,v,b){var S=n==null?0:n.length;return S?(v&&typeof v!="number"&&Ir(n,s,v)&&(v=0,b=S),gv(n,s,v,b)):[]}function Gc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),Qu(n,Ue(s,3),S)}function Kc(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b-1;return v!==r&&(S=tt(v),S=v<0?hr(b+S,0):Or(S,b-1)),Qu(n,Ue(s,3),S,!0)}function Yc(n){var s=n==null?0:n.length;return s?Er(n,1):[]}function Fg(n){var s=n==null?0:n.length;return s?Er(n,re):[]}function Cg(n,s){var v=n==null?0:n.length;return v?(s=s===r?1:tt(s),Er(n,s)):[]}function Sg(n){for(var s=-1,v=n==null?0:n.length,b={};++s<v;){var S=n[s];b[S[0]]=S[1]}return b}function Zc(n){return n&&n.length?n[0]:r}function Bg(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=v==null?0:tt(v);return S<0&&(S=hr(b+S,0)),qi(n,s,S)}function Og(n){var s=n==null?0:n.length;return s?sn(n,0,-1):[]}var Mg=ut(function(n){var s=Rt(n,co);return s.length&&s[0]===n[0]?to(s):[]}),xg=ut(function(n){var s=on(n),v=Rt(n,co);return s===on(v)?s=r:v.pop(),v.length&&v[0]===n[0]?to(v,Ue(s,2)):[]}),Pg=ut(function(n){var s=on(n),v=Rt(n,co);return s=typeof s=="function"?s:r,s&&v.pop(),v.length&&v[0]===n[0]?to(v,r,s):[]});function Tg(n,s){return n==null?"":O1.call(n,s)}function on(n){var s=n==null?0:n.length;return s?n[s-1]:r}function Ig(n,s,v){var b=n==null?0:n.length;if(!b)return-1;var S=b;return v!==r&&(S=tt(v),S=S<0?hr(b+S,0):Or(S,b-1)),s===s?d1(n,s,S):Qu(n,Of,S,!0)}function Ng(n,s){return n&&n.length?ac(n,tt(s)):r}var kg=ut(Xc);function Xc(n,s){return n&&n.length&&s&&s.length?uo(n,s):n}function Rg(n,s,v){return n&&n.length&&s&&s.length?uo(n,s,Ue(v,2)):n}function Lg(n,s,v){return n&&n.length&&s&&s.length?uo(n,s,r,v):n}var Ug=Kn(function(n,s){var v=n==null?0:n.length,b=Js(n,s);return lc(n,Rt(s,function(S){return Yn(S,v)?+S:S}).sort(_c)),b});function jg(n,s){var v=[];if(!(n&&n.length))return v;var b=-1,S=[],P=n.length;for(s=Ue(s,3);++b<P;){var L=n[b];s(L,b,n)&&(v.push(L),S.push(b))}return lc(n,S),v}function Co(n){return n==null?n:T1.call(n)}function Vg(n,s,v){var b=n==null?0:n.length;return b?(v&&typeof v!="number"&&Ir(n,s,v)?(s=0,v=b):(s=s==null?0:tt(s),v=v===r?b:tt(v)),sn(n,s,v)):[]}function qg(n,s){return _a(n,s)}function zg(n,s,v){return oo(n,s,Ue(v,2))}function Wg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s);if(b<v&&Dn(n[b],s))return b}return-1}function Hg(n,s){return _a(n,s,!0)}function Gg(n,s,v){return oo(n,s,Ue(v,2),!0)}function Kg(n,s){var v=n==null?0:n.length;if(v){var b=_a(n,s,!0)-1;if(Dn(n[b],s))return b}return-1}function Yg(n){return n&&n.length?cc(n):[]}function Zg(n,s){return n&&n.length?cc(n,Ue(s,2)):[]}function Xg(n){var s=n==null?0:n.length;return s?sn(n,1,s):[]}function Jg(n,s,v){return n&&n.length?(s=v||s===r?1:tt(s),sn(n,0,s<0?0:s)):[]}function $g(n,s,v){var b=n==null?0:n.length;return b?(s=v||s===r?1:tt(s),s=b-s,sn(n,s<0?0:s,b)):[]}function Qg(n,s){return n&&n.length?ya(n,Ue(s,3),!1,!0):[]}function em(n,s){return n&&n.length?ya(n,Ue(s,3)):[]}var tm=ut(function(n){return fi(Er(n,1,nr,!0))}),rm=ut(function(n){var s=on(n);return nr(s)&&(s=r),fi(Er(n,1,nr,!0),Ue(s,2))}),nm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,fi(Er(n,1,nr,!0),r,s)});function im(n){return n&&n.length?fi(n):[]}function um(n,s){return n&&n.length?fi(n,Ue(s,2)):[]}function am(n,s){return s=typeof s=="function"?s:r,n&&n.length?fi(n,r,s):[]}function So(n){if(!(n&&n.length))return[];var s=0;return n=ui(n,function(v){if(nr(v))return s=hr(v.length,s),!0}),zs(s,function(v){return Rt(n,js(v))})}function Jc(n,s){if(!(n&&n.length))return[];var v=So(n);return s==null?v:Rt(v,function(b){return Wr(s,r,b)})}var sm=ut(function(n,s){return nr(n)?Ru(n,s):[]}),om=ut(function(n){return fo(ui(n,nr))}),lm=ut(function(n){var s=on(n);return nr(s)&&(s=r),fo(ui(n,nr),Ue(s,2))}),fm=ut(function(n){var s=on(n);return s=typeof s=="function"?s:r,fo(ui(n,nr),r,s)}),cm=ut(So);function hm(n,s){return vc(n||[],s||[],ku)}function dm(n,s){return vc(n||[],s||[],ju)}var pm=ut(function(n){var s=n.length,v=s>1?n[s-1]:r;return v=typeof v=="function"?(n.pop(),v):r,Jc(n,v)});function $c(n){var s=M(n);return s.__chain__=!0,s}function vm(n,s){return s(n),n}function Oa(n,s){return s(n)}var gm=Kn(function(n){var s=n.length,v=s?n[0]:0,b=this.__wrapped__,S=function(P){return Js(P,n)};return s>1||this.__actions__.length||!(b instanceof ot)||!Yn(v)?this.thru(S):(b=b.slice(v,+v+(s?1:0)),b.__actions__.push({func:Oa,args:[S],thisArg:r}),new un(b,this.__chain__).thru(function(P){return s&&!P.length&&P.push(r),P}))});function mm(){return $c(this)}function Dm(){return new un(this.value(),this.__chain__)}function _m(){this.__values__===r&&(this.__values__=h0(this.value()));var n=this.__index__>=this.__values__.length,s=n?r:this.__values__[this.__index__++];return{done:n,value:s}}function ym(){return this}function Am(n){for(var s,v=this;v instanceof pa;){var b=Hc(v);b.__index__=0,b.__values__=r,s?S.__wrapped__=b:s=b;var S=b;v=v.__wrapped__}return S.__wrapped__=n,s}function bm(){var n=this.__wrapped__;if(n instanceof ot){var s=n;return this.__actions__.length&&(s=new ot(this)),s=s.reverse(),s.__actions__.push({func:Oa,args:[Co],thisArg:r}),new un(s,this.__chain__)}return this.thru(Co)}function wm(){return pc(this.__wrapped__,this.__actions__)}var Em=Aa(function(n,s,v){bt.call(n,v)?++n[v]:Hn(n,v,1)});function Fm(n,s,v){var b=$e(n)?Sf:vv;return v&&Ir(n,s,v)&&(s=r),b(n,Ue(s,3))}function Cm(n,s){var v=$e(n)?ui:Jf;return v(n,Ue(s,3))}var Sm=Fc(Gc),Bm=Fc(Kc);function Om(n,s){return Er(Ma(n,s),1)}function Mm(n,s){return Er(Ma(n,s),re)}function xm(n,s,v){return v=v===r?1:tt(v),Er(Ma(n,s),v)}function Qc(n,s){var v=$e(n)?rn:li;return v(n,Ue(s,3))}function e0(n,s){var v=$e(n)?Xp:Xf;return v(n,Ue(s,3))}var Pm=Aa(function(n,s,v){bt.call(n,v)?n[v].push(s):Hn(n,v,[s])});function Tm(n,s,v,b){n=Lr(n)?n:eu(n),v=v&&!b?tt(v):0;var S=n.length;return v<0&&(v=hr(S+v,0)),Na(n)?v<=S&&n.indexOf(s,v)>-1:!!S&&qi(n,s,v)>-1}var Im=ut(function(n,s,v){var b=-1,S=typeof s=="function",P=Lr(n)?te(n.length):[];return li(n,function(L){P[++b]=S?Wr(s,L,v):Lu(L,s,v)}),P}),Nm=Aa(function(n,s,v){Hn(n,v,s)});function Ma(n,s){var v=$e(n)?Rt:nc;return v(n,Ue(s,3))}function km(n,s,v,b){return n==null?[]:($e(s)||(s=s==null?[]:[s]),v=b?r:v,$e(v)||(v=v==null?[]:[v]),sc(n,s,v))}var Rm=Aa(function(n,s,v){n[v?0:1].push(s)},function(){return[[],[]]});function Lm(n,s,v){var b=$e(n)?Ls:xf,S=arguments.length<3;return b(n,Ue(s,4),v,S,li)}function Um(n,s,v){var b=$e(n)?Jp:xf,S=arguments.length<3;return b(n,Ue(s,4),v,S,Xf)}function jm(n,s){var v=$e(n)?ui:Jf;return v(n,Ta(Ue(s,3)))}function Vm(n){var s=$e(n)?Gf:Tv;return s(n)}function qm(n,s,v){(v?Ir(n,s,v):s===r)?s=1:s=tt(s);var b=$e(n)?fv:Iv;return b(n,s)}function zm(n){var s=$e(n)?cv:kv;return s(n)}function Wm(n){if(n==null)return 0;if(Lr(n))return Na(n)?Wi(n):n.length;var s=Mr(n);return s==Je||s==Nt?n.size:no(n).length}function Hm(n,s,v){var b=$e(n)?Us:Rv;return v&&Ir(n,s,v)&&(s=r),b(n,Ue(s,3))}var Gm=ut(function(n,s){if(n==null)return[];var v=s.length;return v>1&&Ir(n,s[0],s[1])?s=[]:v>2&&Ir(s[0],s[1],s[2])&&(s=[s[0]]),sc(n,Er(s,1),[])}),xa=C1||function(){return wr.Date.now()};function Km(n,s){if(typeof s!="function")throw new nn(l);return n=tt(n),function(){if(--n<1)return s.apply(this,arguments)}}function t0(n,s,v){return s=v?r:s,s=n&&s==null?n.length:s,Gn(n,x,r,r,r,r,s)}function r0(n,s){var v;if(typeof s!="function")throw new nn(l);return n=tt(n),function(){return--n>0&&(v=s.apply(this,arguments)),n<=1&&(s=r),v}}var Bo=ut(function(n,s,v){var b=D;if(v.length){var S=si(v,$i(Bo));b|=F}return Gn(n,b,s,v,S)}),n0=ut(function(n,s,v){var b=D|y;if(v.length){var S=si(v,$i(n0));b|=F}return Gn(s,b,n,v,S)});function i0(n,s,v){s=v?r:s;var b=Gn(n,w,r,r,r,r,r,s);return b.placeholder=i0.placeholder,b}function u0(n,s,v){s=v?r:s;var b=Gn(n,O,r,r,r,r,r,s);return b.placeholder=u0.placeholder,b}function a0(n,s,v){var b,S,P,L,z,$,de=0,pe=!1,me=!1,Ee=!0;if(typeof n!="function")throw new nn(l);s=ln(s)||0,Vt(v)&&(pe=!!v.leading,me="maxWait"in v,P=me?hr(ln(v.maxWait)||0,s):P,Ee="trailing"in v?!!v.trailing:Ee);function Me(ir){var _n=b,Jn=S;return b=S=r,de=ir,L=n.apply(Jn,_n),L}function Ve(ir){return de=ir,z=zu(st,s),pe?Me(ir):L}function nt(ir){var _n=ir-$,Jn=ir-de,F0=s-_n;return me?Or(F0,P-Jn):F0}function qe(ir){var _n=ir-$,Jn=ir-de;return $===r||_n>=s||_n<0||me&&Jn>=P}function st(){var ir=xa();if(qe(ir))return ft(ir);z=zu(st,nt(ir))}function ft(ir){return z=r,Ee&&b?Me(ir):(b=S=r,L)}function Yr(){z!==r&&gc(z),de=0,b=$=S=z=r}function Nr(){return z===r?L:ft(xa())}function Zr(){var ir=xa(),_n=qe(ir);if(b=arguments,S=this,$=ir,_n){if(z===r)return Ve($);if(me)return gc(z),z=zu(st,s),Me($)}return z===r&&(z=zu(st,s)),L}return Zr.cancel=Yr,Zr.flush=Nr,Zr}var Ym=ut(function(n,s){return Zf(n,1,s)}),Zm=ut(function(n,s,v){return Zf(n,ln(s)||0,v)});function Xm(n){return Gn(n,I)}function Pa(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new nn(l);var v=function(){var b=arguments,S=s?s.apply(this,b):b[0],P=v.cache;if(P.has(S))return P.get(S);var L=n.apply(this,b);return v.cache=P.set(S,L)||P,L};return v.cache=new(Pa.Cache||Wn),v}Pa.Cache=Wn;function Ta(n){if(typeof n!="function")throw new nn(l);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function Jm(n){return r0(2,n)}var $m=Lv(function(n,s){s=s.length==1&&$e(s[0])?Rt(s[0],Hr(Ue())):Rt(Er(s,1),Hr(Ue()));var v=s.length;return ut(function(b){for(var S=-1,P=Or(b.length,v);++S<P;)b[S]=s[S].call(this,b[S]);return Wr(n,this,b)})}),Oo=ut(function(n,s){var v=si(s,$i(Oo));return Gn(n,F,r,s,v)}),s0=ut(function(n,s){var v=si(s,$i(s0));return Gn(n,B,r,s,v)}),Qm=Kn(function(n,s){return Gn(n,T,r,r,r,s)});function eD(n,s){if(typeof n!="function")throw new nn(l);return s=s===r?s:tt(s),ut(n,s)}function tD(n,s){if(typeof n!="function")throw new nn(l);return s=s==null?0:hr(tt(s),0),ut(function(v){var b=v[s],S=hi(v,0,s);return b&&ai(S,b),Wr(n,this,S)})}function rD(n,s,v){var b=!0,S=!0;if(typeof n!="function")throw new nn(l);return Vt(v)&&(b="leading"in v?!!v.leading:b,S="trailing"in v?!!v.trailing:S),a0(n,s,{leading:b,maxWait:s,trailing:S})}function nD(n){return t0(n,1)}function iD(n,s){return Oo(ho(s),n)}function uD(){if(!arguments.length)return[];var n=arguments[0];return $e(n)?n:[n]}function aD(n){return an(n,m)}function sD(n,s){return s=typeof s=="function"?s:r,an(n,m,s)}function oD(n){return an(n,o|m)}function lD(n,s){return s=typeof s=="function"?s:r,an(n,o|m,s)}function fD(n,s){return s==null||Yf(n,s,mr(s))}function Dn(n,s){return n===s||n!==n&&s!==s}var cD=Fa(eo),hD=Fa(function(n,s){return n>=s}),ki=ec(function(){return arguments}())?ec:function(n){return Qt(n)&&bt.call(n,"callee")&&!jf.call(n,"callee")},$e=te.isArray,dD=Af?Hr(Af):Av;function Lr(n){return n!=null&&Ia(n.length)&&!Zn(n)}function nr(n){return Qt(n)&&Lr(n)}function pD(n){return n===!0||n===!1||Qt(n)&&Tr(n)==ct}var di=B1||jo,vD=bf?Hr(bf):bv;function gD(n){return Qt(n)&&n.nodeType===1&&!Wu(n)}function mD(n){if(n==null)return!0;if(Lr(n)&&($e(n)||typeof n=="string"||typeof n.splice=="function"||di(n)||Qi(n)||ki(n)))return!n.length;var s=Mr(n);if(s==Je||s==Nt)return!n.size;if(qu(n))return!no(n).length;for(var v in n)if(bt.call(n,v))return!1;return!0}function DD(n,s){return Uu(n,s)}function _D(n,s,v){v=typeof v=="function"?v:r;var b=v?v(n,s):r;return b===r?Uu(n,s,r,v):!!b}function Mo(n){if(!Qt(n))return!1;var s=Tr(n);return s==ht||s==it||typeof n.message=="string"&&typeof n.name=="string"&&!Wu(n)}function yD(n){return typeof n=="number"&&qf(n)}function Zn(n){if(!Vt(n))return!1;var s=Tr(n);return s==dt||s==rt||s==at||s==_e}function o0(n){return typeof n=="number"&&n==tt(n)}function Ia(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=he}function Vt(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Qt(n){return n!=null&&typeof n=="object"}var l0=wf?Hr(wf):Ev;function AD(n,s){return n===s||ro(n,s,yo(s))}function bD(n,s,v){return v=typeof v=="function"?v:r,ro(n,s,yo(s),v)}function wD(n){return f0(n)&&n!=+n}function ED(n){if(sg(n))throw new Ge(a);return tc(n)}function FD(n){return n===null}function CD(n){return n==null}function f0(n){return typeof n=="number"||Qt(n)&&Tr(n)==At}function Wu(n){if(!Qt(n)||Tr(n)!=wt)return!1;var s=sa(n);if(s===null)return!0;var v=bt.call(s,"constructor")&&s.constructor;return typeof v=="function"&&v instanceof v&&na.call(v)==b1}var xo=Ef?Hr(Ef):Fv;function SD(n){return o0(n)&&n>=-he&&n<=he}var c0=Ff?Hr(Ff):Cv;function Na(n){return typeof n=="string"||!$e(n)&&Qt(n)&&Tr(n)==ur}function Kr(n){return typeof n=="symbol"||Qt(n)&&Tr(n)==R}var Qi=Cf?Hr(Cf):Sv;function BD(n){return n===r}function OD(n){return Qt(n)&&Mr(n)==Y}function MD(n){return Qt(n)&&Tr(n)==ue}var xD=Fa(io),PD=Fa(function(n,s){return n<=s});function h0(n){if(!n)return[];if(Lr(n))return Na(n)?gn(n):Rr(n);if(xu&&n[xu])return f1(n[xu]());var s=Mr(n),v=s==Je?Hs:s==Nt?ea:eu;return v(n)}function Xn(n){if(!n)return n===0?n:0;if(n=ln(n),n===re||n===-re){var s=n<0?-1:1;return s*ve}return n===n?n:0}function tt(n){var s=Xn(n),v=s%1;return s===s?v?s-v:s:0}function d0(n){return n?Pi(tt(n),0,Se):0}function ln(n){if(typeof n=="number")return n;if(Kr(n))return we;if(Vt(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=Vt(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=Pf(n);var v=yu.test(n);return v||bu.test(n)?Kp(n.slice(2),v?2:8):_u.test(n)?we:+n}function p0(n){return Pn(n,Ur(n))}function TD(n){return n?Pi(tt(n),-he,he):n===0?n:0}function gt(n){return n==null?"":Gr(n)}var ID=Xi(function(n,s){if(qu(s)||Lr(s)){Pn(s,mr(s),n);return}for(var v in s)bt.call(s,v)&&ku(n,v,s[v])}),v0=Xi(function(n,s){Pn(s,Ur(s),n)}),ka=Xi(function(n,s,v,b){Pn(s,Ur(s),n,b)}),ND=Xi(function(n,s,v,b){Pn(s,mr(s),n,b)}),kD=Kn(Js);function RD(n,s){var v=Zi(n);return s==null?v:Kf(v,s)}var LD=ut(function(n,s){n=St(n);var v=-1,b=s.length,S=b>2?s[2]:r;for(S&&Ir(s[0],s[1],S)&&(b=1);++v<b;)for(var P=s[v],L=Ur(P),z=-1,$=L.length;++z<$;){var de=L[z],pe=n[de];(pe===r||Dn(pe,Gi[de])&&!bt.call(n,de))&&(n[de]=P[de])}return n}),UD=ut(function(n){return n.push(r,Pc),Wr(g0,r,n)});function jD(n,s){return Bf(n,Ue(s,3),xn)}function VD(n,s){return Bf(n,Ue(s,3),Qs)}function qD(n,s){return n==null?n:$s(n,Ue(s,3),Ur)}function zD(n,s){return n==null?n:$f(n,Ue(s,3),Ur)}function WD(n,s){return n&&xn(n,Ue(s,3))}function HD(n,s){return n&&Qs(n,Ue(s,3))}function GD(n){return n==null?[]:ma(n,mr(n))}function KD(n){return n==null?[]:ma(n,Ur(n))}function Po(n,s,v){var b=n==null?r:Ti(n,s);return b===r?v:b}function YD(n,s){return n!=null&&Nc(n,s,mv)}function To(n,s){return n!=null&&Nc(n,s,Dv)}var ZD=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),n[s]=v},No(jr)),XD=Sc(function(n,s,v){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),bt.call(n,s)?n[s].push(v):n[s]=[v]},Ue),JD=ut(Lu);function mr(n){return Lr(n)?Hf(n):no(n)}function Ur(n){return Lr(n)?Hf(n,!0):Bv(n)}function $D(n,s){var v={};return s=Ue(s,3),xn(n,function(b,S,P){Hn(v,s(b,S,P),b)}),v}function QD(n,s){var v={};return s=Ue(s,3),xn(n,function(b,S,P){Hn(v,S,s(b,S,P))}),v}var e_=Xi(function(n,s,v){Da(n,s,v)}),g0=Xi(function(n,s,v,b){Da(n,s,v,b)}),t_=Kn(function(n,s){var v={};if(n==null)return v;var b=!1;s=Rt(s,function(P){return P=ci(P,n),b||(b=P.length>1),P}),Pn(n,Do(n),v),b&&(v=an(v,o|c|m,Zv));for(var S=s.length;S--;)lo(v,s[S]);return v});function r_(n,s){return m0(n,Ta(Ue(s)))}var n_=Kn(function(n,s){return n==null?{}:Mv(n,s)});function m0(n,s){if(n==null)return{};var v=Rt(Do(n),function(b){return[b]});return s=Ue(s),oc(n,v,function(b,S){return s(b,S[0])})}function i_(n,s,v){s=ci(s,n);var b=-1,S=s.length;for(S||(S=1,n=r);++b<S;){var P=n==null?r:n[Tn(s[b])];P===r&&(b=S,P=v),n=Zn(P)?P.call(n):P}return n}function u_(n,s,v){return n==null?n:ju(n,s,v)}function a_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:ju(n,s,v,b)}var D0=Mc(mr),_0=Mc(Ur);function s_(n,s,v){var b=$e(n),S=b||di(n)||Qi(n);if(s=Ue(s,4),v==null){var P=n&&n.constructor;S?v=b?new P:[]:Vt(n)?v=Zn(P)?Zi(sa(n)):{}:v={}}return(S?rn:xn)(n,function(L,z,$){return s(v,L,z,$)}),v}function o_(n,s){return n==null?!0:lo(n,s)}function l_(n,s,v){return n==null?n:dc(n,s,ho(v))}function f_(n,s,v,b){return b=typeof b=="function"?b:r,n==null?n:dc(n,s,ho(v),b)}function eu(n){return n==null?[]:Ws(n,mr(n))}function c_(n){return n==null?[]:Ws(n,Ur(n))}function h_(n,s,v){return v===r&&(v=s,s=r),v!==r&&(v=ln(v),v=v===v?v:0),s!==r&&(s=ln(s),s=s===s?s:0),Pi(ln(n),s,v)}function d_(n,s,v){return s=Xn(s),v===r?(v=s,s=0):v=Xn(v),n=ln(n),_v(n,s,v)}function p_(n,s,v){if(v&&typeof v!="boolean"&&Ir(n,s,v)&&(s=v=r),v===r&&(typeof s=="boolean"?(v=s,s=r):typeof n=="boolean"&&(v=n,n=r)),n===r&&s===r?(n=0,s=1):(n=Xn(n),s===r?(s=n,n=0):s=Xn(s)),n>s){var b=n;n=s,s=b}if(v||n%1||s%1){var S=zf();return Or(n+S*(s-n+Gp("1e-"+((S+"").length-1))),s)}return ao(n,s)}var v_=Ji(function(n,s,v){return s=s.toLowerCase(),n+(v?y0(s):s)});function y0(n){return Io(gt(n).toLowerCase())}function A0(n){return n=gt(n),n&&n.replace(Eu,u1).replace(kp,"")}function g_(n,s,v){n=gt(n),s=Gr(s);var b=n.length;v=v===r?b:Pi(tt(v),0,b);var S=v;return v-=s.length,v>=0&&n.slice(v,S)==s}function m_(n){return n=gt(n),n&&$r.test(n)?n.replace(ar,a1):n}function D_(n){return n=gt(n),n&&vu.test(n)?n.replace(Ei,"\\$&"):n}var __=Ji(function(n,s,v){return n+(v?"-":"")+s.toLowerCase()}),y_=Ji(function(n,s,v){return n+(v?" ":"")+s.toLowerCase()}),A_=Ec("toLowerCase");function b_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;if(!s||b>=s)return n;var S=(s-b)/2;return Ea(ca(S),v)+n+Ea(fa(S),v)}function w_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?n+Ea(s-b,v):n}function E_(n,s,v){n=gt(n),s=tt(s);var b=s?Wi(n):0;return s&&b<s?Ea(s-b,v)+n:n}function F_(n,s,v){return v||s==null?s=0:s&&(s=+s),P1(gt(n).replace(br,""),s||0)}function C_(n,s,v){return(v?Ir(n,s,v):s===r)?s=1:s=tt(s),so(gt(n),s)}function S_(){var n=arguments,s=gt(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var B_=Ji(function(n,s,v){return n+(v?"_":"")+s.toLowerCase()});function O_(n,s,v){return v&&typeof v!="number"&&Ir(n,s,v)&&(s=v=r),v=v===r?Se:v>>>0,v?(n=gt(n),n&&(typeof s=="string"||s!=null&&!xo(s))&&(s=Gr(s),!s&&zi(n))?hi(gn(n),0,v):n.split(s,v)):[]}var M_=Ji(function(n,s,v){return n+(v?" ":"")+Io(s)});function x_(n,s,v){return n=gt(n),v=v==null?0:Pi(tt(v),0,n.length),s=Gr(s),n.slice(v,v+s.length)==s}function P_(n,s,v){var b=M.templateSettings;v&&Ir(n,s,v)&&(s=r),n=gt(n),s=ka({},s,b,xc);var S=ka({},s.imports,b.imports,xc),P=mr(S),L=Ws(S,P),z,$,de=0,pe=s.interpolate||ni,me="__p += '",Ee=Gs((s.escape||ni).source+"|"+pe.source+"|"+(pe===jn?Du:ni).source+"|"+(s.evaluate||ni).source+"|$","g"),Me="//# sourceURL="+(bt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vp+"]")+`
`;n.replace(Ee,function(qe,st,ft,Yr,Nr,Zr){return ft||(ft=Yr),me+=n.slice(de,Zr).replace(Fu,s1),st&&(z=!0,me+=`' +
__e(`+st+`) +
'`),Nr&&($=!0,me+=`';
`+Nr+`;
__p += '`),ft&&(me+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),de=Zr+qe.length,qe}),me+=`';
`;var Ve=bt.call(s,"variable")&&s.variable;if(!Ve)me=`with (obj) {
`+me+`
}
`;else if(Fi.test(Ve))throw new Ge(f);me=($?me.replace(Ut,""):me).replace(pr,"$1").replace(jt,"$1;"),me="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var nt=w0(function(){return vt(P,Me+"return "+me).apply(r,L)});if(nt.source=me,Mo(nt))throw nt;return nt}function T_(n){return gt(n).toLowerCase()}function I_(n){return gt(n).toUpperCase()}function N_(n,s,v){if(n=gt(n),n&&(v||s===r))return Pf(n);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=gn(s),P=Tf(b,S),L=If(b,S)+1;return hi(b,P,L).join("")}function k_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.slice(0,kf(n)+1);if(!n||!(s=Gr(s)))return n;var b=gn(n),S=If(b,gn(s))+1;return hi(b,0,S).join("")}function R_(n,s,v){if(n=gt(n),n&&(v||s===r))return n.replace(br,"");if(!n||!(s=Gr(s)))return n;var b=gn(n),S=Tf(b,gn(s));return hi(b,S).join("")}function L_(n,s){var v=V,b=J;if(Vt(s)){var S="separator"in s?s.separator:S;v="length"in s?tt(s.length):v,b="omission"in s?Gr(s.omission):b}n=gt(n);var P=n.length;if(zi(n)){var L=gn(n);P=L.length}if(v>=P)return n;var z=v-Wi(b);if(z<1)return b;var $=L?hi(L,0,z).join(""):n.slice(0,z);if(S===r)return $+b;if(L&&(z+=$.length-z),xo(S)){if(n.slice(z).search(S)){var de,pe=$;for(S.global||(S=Gs(S.source,gt(Ui.exec(S))+"g")),S.lastIndex=0;de=S.exec(pe);)var me=de.index;$=$.slice(0,me===r?z:me)}}else if(n.indexOf(Gr(S),z)!=z){var Ee=$.lastIndexOf(S);Ee>-1&&($=$.slice(0,Ee))}return $+b}function U_(n){return n=gt(n),n&&sr.test(n)?n.replace(vr,p1):n}var j_=Ji(function(n,s,v){return n+(v?" ":"")+s.toUpperCase()}),Io=Ec("toUpperCase");function b0(n,s,v){return n=gt(n),s=v?r:s,s===r?l1(n)?m1(n):e1(n):n.match(s)||[]}var w0=ut(function(n,s){try{return Wr(n,r,s)}catch(v){return Mo(v)?v:new Ge(v)}}),V_=Kn(function(n,s){return rn(s,function(v){v=Tn(v),Hn(n,v,Bo(n[v],n))}),n});function q_(n){var s=n==null?0:n.length,v=Ue();return n=s?Rt(n,function(b){if(typeof b[1]!="function")throw new nn(l);return[v(b[0]),b[1]]}):[],ut(function(b){for(var S=-1;++S<s;){var P=n[S];if(Wr(P[0],this,b))return Wr(P[1],this,b)}})}function z_(n){return pv(an(n,o))}function No(n){return function(){return n}}function W_(n,s){return n==null||n!==n?s:n}var H_=Cc(),G_=Cc(!0);function jr(n){return n}function ko(n){return rc(typeof n=="function"?n:an(n,o))}function K_(n){return ic(an(n,o))}function Y_(n,s){return uc(n,an(s,o))}var Z_=ut(function(n,s){return function(v){return Lu(v,n,s)}}),X_=ut(function(n,s){return function(v){return Lu(n,v,s)}});function Ro(n,s,v){var b=mr(s),S=ma(s,b);v==null&&!(Vt(s)&&(S.length||!b.length))&&(v=s,s=n,n=this,S=ma(s,mr(s)));var P=!(Vt(v)&&"chain"in v)||!!v.chain,L=Zn(n);return rn(S,function(z){var $=s[z];n[z]=$,L&&(n.prototype[z]=function(){var de=this.__chain__;if(P||de){var pe=n(this.__wrapped__),me=pe.__actions__=Rr(this.__actions__);return me.push({func:$,args:arguments,thisArg:n}),pe.__chain__=de,pe}return $.apply(n,ai([this.value()],arguments))})}),n}function J_(){return wr._===this&&(wr._=w1),this}function Lo(){}function $_(n){return n=tt(n),ut(function(s){return ac(s,n)})}var Q_=vo(Rt),ey=vo(Sf),ty=vo(Us);function E0(n){return bo(n)?js(Tn(n)):xv(n)}function ry(n){return function(s){return n==null?r:Ti(n,s)}}var ny=Bc(),iy=Bc(!0);function Uo(){return[]}function jo(){return!1}function uy(){return{}}function ay(){return""}function sy(){return!0}function oy(n,s){if(n=tt(n),n<1||n>he)return[];var v=Se,b=Or(n,Se);s=Ue(s),n-=Se;for(var S=zs(b,s);++v<n;)s(v);return S}function ly(n){return $e(n)?Rt(n,Tn):Kr(n)?[n]:Rr(Wc(gt(n)))}function fy(n){var s=++A1;return gt(n)+s}var cy=wa(function(n,s){return n+s},0),hy=go("ceil"),dy=wa(function(n,s){return n/s},1),py=go("floor");function vy(n){return n&&n.length?ga(n,jr,eo):r}function gy(n,s){return n&&n.length?ga(n,Ue(s,2),eo):r}function my(n){return Mf(n,jr)}function Dy(n,s){return Mf(n,Ue(s,2))}function _y(n){return n&&n.length?ga(n,jr,io):r}function yy(n,s){return n&&n.length?ga(n,Ue(s,2),io):r}var Ay=wa(function(n,s){return n*s},1),by=go("round"),wy=wa(function(n,s){return n-s},0);function Ey(n){return n&&n.length?qs(n,jr):0}function Fy(n,s){return n&&n.length?qs(n,Ue(s,2)):0}return M.after=Km,M.ary=t0,M.assign=ID,M.assignIn=v0,M.assignInWith=ka,M.assignWith=ND,M.at=kD,M.before=r0,M.bind=Bo,M.bindAll=V_,M.bindKey=n0,M.castArray=uD,M.chain=$c,M.chunk=pg,M.compact=vg,M.concat=gg,M.cond=q_,M.conforms=z_,M.constant=No,M.countBy=Em,M.create=RD,M.curry=i0,M.curryRight=u0,M.debounce=a0,M.defaults=LD,M.defaultsDeep=UD,M.defer=Ym,M.delay=Zm,M.difference=mg,M.differenceBy=Dg,M.differenceWith=_g,M.drop=yg,M.dropRight=Ag,M.dropRightWhile=bg,M.dropWhile=wg,M.fill=Eg,M.filter=Cm,M.flatMap=Om,M.flatMapDeep=Mm,M.flatMapDepth=xm,M.flatten=Yc,M.flattenDeep=Fg,M.flattenDepth=Cg,M.flip=Xm,M.flow=H_,M.flowRight=G_,M.fromPairs=Sg,M.functions=GD,M.functionsIn=KD,M.groupBy=Pm,M.initial=Og,M.intersection=Mg,M.intersectionBy=xg,M.intersectionWith=Pg,M.invert=ZD,M.invertBy=XD,M.invokeMap=Im,M.iteratee=ko,M.keyBy=Nm,M.keys=mr,M.keysIn=Ur,M.map=Ma,M.mapKeys=$D,M.mapValues=QD,M.matches=K_,M.matchesProperty=Y_,M.memoize=Pa,M.merge=e_,M.mergeWith=g0,M.method=Z_,M.methodOf=X_,M.mixin=Ro,M.negate=Ta,M.nthArg=$_,M.omit=t_,M.omitBy=r_,M.once=Jm,M.orderBy=km,M.over=Q_,M.overArgs=$m,M.overEvery=ey,M.overSome=ty,M.partial=Oo,M.partialRight=s0,M.partition=Rm,M.pick=n_,M.pickBy=m0,M.property=E0,M.propertyOf=ry,M.pull=kg,M.pullAll=Xc,M.pullAllBy=Rg,M.pullAllWith=Lg,M.pullAt=Ug,M.range=ny,M.rangeRight=iy,M.rearg=Qm,M.reject=jm,M.remove=jg,M.rest=eD,M.reverse=Co,M.sampleSize=qm,M.set=u_,M.setWith=a_,M.shuffle=zm,M.slice=Vg,M.sortBy=Gm,M.sortedUniq=Yg,M.sortedUniqBy=Zg,M.split=O_,M.spread=tD,M.tail=Xg,M.take=Jg,M.takeRight=$g,M.takeRightWhile=Qg,M.takeWhile=em,M.tap=vm,M.throttle=rD,M.thru=Oa,M.toArray=h0,M.toPairs=D0,M.toPairsIn=_0,M.toPath=ly,M.toPlainObject=p0,M.transform=s_,M.unary=nD,M.union=tm,M.unionBy=rm,M.unionWith=nm,M.uniq=im,M.uniqBy=um,M.uniqWith=am,M.unset=o_,M.unzip=So,M.unzipWith=Jc,M.update=l_,M.updateWith=f_,M.values=eu,M.valuesIn=c_,M.without=sm,M.words=b0,M.wrap=iD,M.xor=om,M.xorBy=lm,M.xorWith=fm,M.zip=cm,M.zipObject=hm,M.zipObjectDeep=dm,M.zipWith=pm,M.entries=D0,M.entriesIn=_0,M.extend=v0,M.extendWith=ka,Ro(M,M),M.add=cy,M.attempt=w0,M.camelCase=v_,M.capitalize=y0,M.ceil=hy,M.clamp=h_,M.clone=aD,M.cloneDeep=oD,M.cloneDeepWith=lD,M.cloneWith=sD,M.conformsTo=fD,M.deburr=A0,M.defaultTo=W_,M.divide=dy,M.endsWith=g_,M.eq=Dn,M.escape=m_,M.escapeRegExp=D_,M.every=Fm,M.find=Sm,M.findIndex=Gc,M.findKey=jD,M.findLast=Bm,M.findLastIndex=Kc,M.findLastKey=VD,M.floor=py,M.forEach=Qc,M.forEachRight=e0,M.forIn=qD,M.forInRight=zD,M.forOwn=WD,M.forOwnRight=HD,M.get=Po,M.gt=cD,M.gte=hD,M.has=YD,M.hasIn=To,M.head=Zc,M.identity=jr,M.includes=Tm,M.indexOf=Bg,M.inRange=d_,M.invoke=JD,M.isArguments=ki,M.isArray=$e,M.isArrayBuffer=dD,M.isArrayLike=Lr,M.isArrayLikeObject=nr,M.isBoolean=pD,M.isBuffer=di,M.isDate=vD,M.isElement=gD,M.isEmpty=mD,M.isEqual=DD,M.isEqualWith=_D,M.isError=Mo,M.isFinite=yD,M.isFunction=Zn,M.isInteger=o0,M.isLength=Ia,M.isMap=l0,M.isMatch=AD,M.isMatchWith=bD,M.isNaN=wD,M.isNative=ED,M.isNil=CD,M.isNull=FD,M.isNumber=f0,M.isObject=Vt,M.isObjectLike=Qt,M.isPlainObject=Wu,M.isRegExp=xo,M.isSafeInteger=SD,M.isSet=c0,M.isString=Na,M.isSymbol=Kr,M.isTypedArray=Qi,M.isUndefined=BD,M.isWeakMap=OD,M.isWeakSet=MD,M.join=Tg,M.kebabCase=__,M.last=on,M.lastIndexOf=Ig,M.lowerCase=y_,M.lowerFirst=A_,M.lt=xD,M.lte=PD,M.max=vy,M.maxBy=gy,M.mean=my,M.meanBy=Dy,M.min=_y,M.minBy=yy,M.stubArray=Uo,M.stubFalse=jo,M.stubObject=uy,M.stubString=ay,M.stubTrue=sy,M.multiply=Ay,M.nth=Ng,M.noConflict=J_,M.noop=Lo,M.now=xa,M.pad=b_,M.padEnd=w_,M.padStart=E_,M.parseInt=F_,M.random=p_,M.reduce=Lm,M.reduceRight=Um,M.repeat=C_,M.replace=S_,M.result=i_,M.round=by,M.runInContext=X,M.sample=Vm,M.size=Wm,M.snakeCase=B_,M.some=Hm,M.sortedIndex=qg,M.sortedIndexBy=zg,M.sortedIndexOf=Wg,M.sortedLastIndex=Hg,M.sortedLastIndexBy=Gg,M.sortedLastIndexOf=Kg,M.startCase=M_,M.startsWith=x_,M.subtract=wy,M.sum=Ey,M.sumBy=Fy,M.template=P_,M.times=oy,M.toFinite=Xn,M.toInteger=tt,M.toLength=d0,M.toLower=T_,M.toNumber=ln,M.toSafeInteger=TD,M.toString=gt,M.toUpper=I_,M.trim=N_,M.trimEnd=k_,M.trimStart=R_,M.truncate=L_,M.unescape=U_,M.uniqueId=fy,M.upperCase=j_,M.upperFirst=Io,M.each=Qc,M.eachRight=e0,M.first=Zc,Ro(M,function(){var n={};return xn(M,function(s,v){bt.call(M.prototype,v)||(n[v]=s)}),n}(),{chain:!1}),M.VERSION=i,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){M[n].placeholder=M}),rn(["drop","take"],function(n,s){ot.prototype[n]=function(v){v=v===r?1:hr(tt(v),0);var b=this.__filtered__&&!s?new ot(this):this.clone();return b.__filtered__?b.__takeCount__=Or(v,b.__takeCount__):b.__views__.push({size:Or(v,Se),type:n+(b.__dir__<0?"Right":"")}),b},ot.prototype[n+"Right"]=function(v){return this.reverse()[n](v).reverse()}}),rn(["filter","map","takeWhile"],function(n,s){var v=s+1,b=v==G||v==H;ot.prototype[n]=function(S){var P=this.clone();return P.__iteratees__.push({iteratee:Ue(S,3),type:v}),P.__filtered__=P.__filtered__||b,P}}),rn(["head","last"],function(n,s){var v="take"+(s?"Right":"");ot.prototype[n]=function(){return this[v](1).value()[0]}}),rn(["initial","tail"],function(n,s){var v="drop"+(s?"":"Right");ot.prototype[n]=function(){return this.__filtered__?new ot(this):this[v](1)}}),ot.prototype.compact=function(){return this.filter(jr)},ot.prototype.find=function(n){return this.filter(n).head()},ot.prototype.findLast=function(n){return this.reverse().find(n)},ot.prototype.invokeMap=ut(function(n,s){return typeof n=="function"?new ot(this):this.map(function(v){return Lu(v,n,s)})}),ot.prototype.reject=function(n){return this.filter(Ta(Ue(n)))},ot.prototype.slice=function(n,s){n=tt(n);var v=this;return v.__filtered__&&(n>0||s<0)?new ot(v):(n<0?v=v.takeRight(-n):n&&(v=v.drop(n)),s!==r&&(s=tt(s),v=s<0?v.dropRight(-s):v.take(s-n)),v)},ot.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ot.prototype.toArray=function(){return this.take(Se)},xn(ot.prototype,function(n,s){var v=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),S=M[b?"take"+(s=="last"?"Right":""):s],P=b||/^find/.test(s);S&&(M.prototype[s]=function(){var L=this.__wrapped__,z=b?[1]:arguments,$=L instanceof ot,de=z[0],pe=$||$e(L),me=function(st){var ft=S.apply(M,ai([st],z));return b&&Ee?ft[0]:ft};pe&&v&&typeof de=="function"&&de.length!=1&&($=pe=!1);var Ee=this.__chain__,Me=!!this.__actions__.length,Ve=P&&!Ee,nt=$&&!Me;if(!P&&pe){L=nt?L:new ot(this);var qe=n.apply(L,z);return qe.__actions__.push({func:Oa,args:[me],thisArg:r}),new un(qe,Ee)}return Ve&&nt?n.apply(this,z):(qe=this.thru(me),Ve?b?qe.value()[0]:qe.value():qe)})}),rn(["pop","push","shift","sort","splice","unshift"],function(n){var s=ta[n],v=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",b=/^(?:pop|shift)$/.test(n);M.prototype[n]=function(){var S=arguments;if(b&&!this.__chain__){var P=this.value();return s.apply($e(P)?P:[],S)}return this[v](function(L){return s.apply($e(L)?L:[],S)})}}),xn(ot.prototype,function(n,s){var v=M[s];if(v){var b=v.name+"";bt.call(Yi,b)||(Yi[b]=[]),Yi[b].push({name:s,func:v})}}),Yi[ba(r,y).name]=[{name:"wrapper",func:r}],ot.prototype.clone=U1,ot.prototype.reverse=j1,ot.prototype.value=V1,M.prototype.at=gm,M.prototype.chain=mm,M.prototype.commit=Dm,M.prototype.next=_m,M.prototype.plant=Am,M.prototype.reverse=bm,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=wm,M.prototype.first=M.prototype.head,xu&&(M.prototype[xu]=ym),M},Hi=D1();Bi?((Bi.exports=Hi)._=Hi,Ns._=Hi):wr._=Hi}).call(or)})(xC,hs);const PC=hs,vl="panelModeStore";function TC(){const e=Fn("select"),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[vl]||""),{subscribe:t,updateMode:a=>{!a||!u||(localStorage[vl]=a,r(a))},getMode:()=>Pt(e),resetMode:()=>{u&&(delete localStorage[vl],r("select"))}}}const Ln=TC(),IC=En(Ln,e=>Pt(Ln)),gl="selectedPromptStore";function NC(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[gl]||""),{subscribe:t,updateId:a=>{!a||!u||(localStorage[gl]=a,r(a))},getId:()=>Pt(e),clearId:()=>{u&&(delete localStorage[gl],r(""))}}}const Vl=NC(),kC=En(Vl,e=>Pt(Vl));function Uh(e,t,r){const i=e.slice();return i[6]=t[r][0],i[7]=t[r][1],i}function jh(e,t,r){const i=e.slice();return i[10]=t[r][0],i[11]=t[r][1],i}function Vh(e){let t=e[11].text+"",r,i,u,a=ti(e[11],e[7].weightMode)+"",l,f;return{c(){r=Ze(t),i=Ze("::"),u=oe("b"),l=Ze(a),f=Ke()},l(d){r=Xe(d,t),i=Xe(d,"::"),u=le(d,"B",{});var p=ie(u);l=Xe(p,a),p.forEach(q),f=Ye(d)},m(d,p){Fe(d,r,p),Fe(d,i,p),Fe(d,u,p),Q(u,l),Fe(d,f,p)},p(d,p){p&1&&t!==(t=d[11].text+"")&&wn(r,t),p&1&&a!==(a=ti(d[11],d[7].weightMode)+"")&&wn(l,a)},d(d){d&&q(r),d&&q(i),d&&q(u),d&&q(f)}}}function qh(e,t){let r,i,u,a,l,f=Object.entries(t[7].weightedPrompts),d=[];for(let h=0;h<f.length;h+=1)d[h]=Vh(jh(t,f,h));function p(){return t[4](t[6],t[7])}return{key:e,first:null,c(){r=oe("li"),i=oe("a");for(let h=0;h<d.length;h+=1)d[h].c();u=Ke(),this.h()},l(h){r=le(h,"LI",{});var o=ie(r);i=le(o,"A",{class:!0});var c=ie(i);for(let m=0;m<d.length;m+=1)d[m].l(c);c.forEach(q),u=Ye(o),o.forEach(q),this.h()},h(){k(i,"class","text-xs inline-block"),this.first=r},m(h,o){Fe(h,r,o),Q(r,i);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(i,null);Q(r,u),a||(l=Re(i,"click",p),a=!0)},p(h,o){if(t=h,o&3){f=Object.entries(t[7].weightedPrompts);let c;for(c=0;c<f.length;c+=1){const m=jh(t,f,c);d[c]?d[c].p(m,o):(d[c]=Vh(m),d[c].c(),d[c].m(i,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=f.length}},d(h){h&&q(r),fd(d,h),a=!1,l()}}}function RC(e){let t,r,i,u,a,l=[],f=new Map,d,p,h=e[1](e[0],zh,"desc");const o=c=>c[6];for(let c=0;c<h.length;c+=1){let m=Uh(e,h,c),A=o(m);f.set(A,l[c]=qh(A,m))}return{c(){t=oe("ul"),r=oe("li"),i=oe("a"),u=Ze("New +"),a=Ke();for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){t=le(c,"UL",{class:!0});var m=ie(t);r=le(m,"LI",{});var A=ie(r);i=le(A,"A",{class:!0});var g=ie(i);u=Xe(g,"New +"),g.forEach(q),A.forEach(q),a=Ye(m);for(let D=0;D<l.length;D+=1)l[D].l(m);m.forEach(q),this.h()},h(){k(i,"class","text-xs inline-block"),k(t,"class","menu h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(c,m){Fe(c,t,m),Q(t,r),Q(r,i),Q(i,u),Q(t,a);for(let A=0;A<l.length;A+=1)l[A]&&l[A].m(t,null);d||(p=Re(i,"click",e[2]),d=!0)},p(c,[m]){m&11&&(h=c[1](c[0],zh,"desc"),l=Ai(l,m,o,1,c,h,f,t,du,qh,null,Uh))},i:Te,o:Te,d(c){c&&q(t);for(let m=0;m<l.length;m+=1)l[m].d();d=!1,p()}}}const zh=e=>e[1].date;function LC(e,t,r){let i,u;Bt(e,Cn,p=>r(5,i=p)),Bt(e,MC,p=>r(0,u=p));const{orderBy:a}=PC;function l(){It.updateActivePrompt(cu({},i.weightMode)),Ln.updateMode("edit")}function f(p,h){Vl.updateId(p),It.updateActivePrompt({...h}),Ln.updateMode("edit")}return[u,a,l,f,(p,h)=>f(p,h)]}class UC extends Yt{constructor(t){super(),Zt(this,t,LC,RC,Xt,{})}}let qa;const jC=new Uint8Array(16);function VC(){if(!qa&&(qa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qa(jC)}const Cr=[];for(let e=0;e<256;++e)Cr.push((e+256).toString(16).slice(1));function qC(e,t=0){return(Cr[e[t+0]]+Cr[e[t+1]]+Cr[e[t+2]]+Cr[e[t+3]]+"-"+Cr[e[t+4]]+Cr[e[t+5]]+"-"+Cr[e[t+6]]+Cr[e[t+7]]+"-"+Cr[e[t+8]]+Cr[e[t+9]]+"-"+Cr[e[t+10]]+Cr[e[t+11]]+Cr[e[t+12]]+Cr[e[t+13]]+Cr[e[t+14]]+Cr[e[t+15]]).toLowerCase()}const zC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wh={randomUUID:zC};function wp(e,t,r){if(Wh.randomUUID&&!t&&!e)return Wh.randomUUID();e=e||{};const i=e.random||(e.rng||VC)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(let u=0;u<16;++u)t[r+u]=i[u];return t}return qC(i)}function WC(e){const t=[],r=/((?:[^:]+|:(?!:))+)(?:::(\d+(?:\.\d+)?))?(?=\s|$)/g;let i;for(;(i=r.exec(e))!==null;){const u=i[1].trim(),a=i[2]?parseFloat(i[2]):1;u&&t.push([u,a])}return t}function ml(e){if(typeof e!="string")throw new Error("Input must be a string");const t=e.length-1;let r=e;for(;r[t]===",";)r=r.slice(0,t);return r}function Dl(e){if(typeof e!="string")throw new Error("Input must be a string");const t=["-","#","*","•","◦",">","<","+","^","~","(",")","[","]","{","}"];let r=e.trim();for(;t.includes(r[0]);)r=r.slice(1).trim();return/^\d+(\.|\))\s/.test(r)&&(r=r.replace(/^\d+(\.|\))\s/,"")),r}function ql(e){if(e=e.replace(/^\n+|\n+$/g,""),e.includes("::"))return WC(e);if(e.includes(`
`))return e.split(`
`).map(a=>Dl(ml(a))).filter(a=>a.length>0).map(a=>[a,1]);const t=e.match(/[^.!?]+[.!?]+/g)||[],r=t.length,i=e.split(",").map(a=>Dl(ml(a))).filter(a=>a.length>0),u=i.length-1;return r>u?t.map(a=>Dl(ml(a))).filter(a=>a.length>0).map(a=>[a,1]):i.map(a=>[a,1])}function HC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ep=HC,GC=typeof or=="object"&&or&&or.Object===Object&&or,KC=GC,YC=KC,ZC=typeof self=="object"&&self&&self.Object===Object&&self,XC=YC||ZC||Function("return this")(),Fp=XC,JC=Fp,$C=function(){return JC.Date.now()},QC=$C,e3=/\s/;function t3(e){for(var t=e.length;t--&&e3.test(e.charAt(t)););return t}var r3=t3,n3=r3,i3=/^\s+/;function u3(e){return e&&e.slice(0,n3(e)+1).replace(i3,"")}var a3=u3,s3=Fp,o3=s3.Symbol,Cp=o3,Hh=Cp,Sp=Object.prototype,l3=Sp.hasOwnProperty,f3=Sp.toString,Hu=Hh?Hh.toStringTag:void 0;function c3(e){var t=l3.call(e,Hu),r=e[Hu];try{e[Hu]=void 0;var i=!0}catch{}var u=f3.call(e);return i&&(t?e[Hu]=r:delete e[Hu]),u}var h3=c3,d3=Object.prototype,p3=d3.toString;function v3(e){return p3.call(e)}var g3=v3,Gh=Cp,m3=h3,D3=g3,_3="[object Null]",y3="[object Undefined]",Kh=Gh?Gh.toStringTag:void 0;function A3(e){return e==null?e===void 0?y3:_3:Kh&&Kh in Object(e)?m3(e):D3(e)}var b3=A3;function w3(e){return e!=null&&typeof e=="object"}var E3=w3,F3=b3,C3=E3,S3="[object Symbol]";function B3(e){return typeof e=="symbol"||C3(e)&&F3(e)==S3}var O3=B3,M3=a3,Yh=Ep,x3=O3,Zh=0/0,P3=/^[-+]0x[0-9a-f]+$/i,T3=/^0b[01]+$/i,I3=/^0o[0-7]+$/i,N3=parseInt;function k3(e){if(typeof e=="number")return e;if(x3(e))return Zh;if(Yh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=M3(e);var r=T3.test(e);return r||I3.test(e)?N3(e.slice(2),r?2:8):P3.test(e)?Zh:+e}var R3=k3,L3=Ep,_l=QC,Xh=R3,U3="Expected a function",j3=Math.max,V3=Math.min;function q3(e,t,r){var i,u,a,l,f,d,p=0,h=!1,o=!1,c=!0;if(typeof e!="function")throw new TypeError(U3);t=Xh(t)||0,L3(r)&&(h=!!r.leading,o="maxWait"in r,a=o?j3(Xh(r.maxWait)||0,t):a,c="trailing"in r?!!r.trailing:c);function m(B){var x=i,T=u;return i=u=void 0,p=B,l=e.apply(T,x),l}function A(B){return p=B,f=setTimeout(y,t),h?m(B):l}function g(B){var x=B-d,T=B-p,I=t-x;return o?V3(I,a-T):I}function D(B){var x=B-d,T=B-p;return d===void 0||x>=t||x<0||o&&T>=a}function y(){var B=_l();if(D(B))return C(B);f=setTimeout(y,g(B))}function C(B){return f=void 0,c&&i?m(B):(i=u=void 0,l)}function w(){f!==void 0&&clearTimeout(f),p=0,i=d=u=f=void 0}function O(){return f===void 0?l:C(_l())}function F(){var B=_l(),x=D(B);if(i=arguments,u=this,d=B,x){if(f===void 0)return A(d);if(o)return clearTimeout(f),f=setTimeout(y,t),m(d)}return f===void 0&&(f=setTimeout(y,t)),l}return F.cancel=w,F.flush=O,F}var Jh=q3;function $h(e,t,r){const i=e.slice();return i[13]=t[r].id,i[14]=t[r].text,i}function Qh(e,t){let r,i,u,a,l;function f(...d){return t[9](t[13],...d)}return{key:e,first:null,c(){r=oe("li"),i=oe("input"),this.h()},l(d){r=le(d,"LI",{class:!0});var p=ie(r);i=le(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(q),this.h()},h(){i.value=u=t[14],k(i,"type","text"),k(i,"placeholder",""),k(i,"class","input input-bordered input-sm w-full"),k(r,"class","p-1"),this.first=r},m(d,p){Fe(d,r,p),Q(r,i),a||(l=Re(i,"input",f),a=!0)},p(d,p){t=d,p&2&&u!==(u=t[14])&&i.value!==u&&(i.value=u)},d(d){d&&q(r),a=!1,l()}}}function z3(e){let t,r,i,u,a,l,f,d,p,h,o,c=[],m=new Map,A,g,D,y,C,w=e[1];const O=F=>F[13];for(let F=0;F<w.length;F+=1){let B=$h(e,w,F),x=O(B);m.set(x,c[F]=Qh(x,B))}return{c(){t=oe("div"),r=oe("button"),i=Ze("Paste"),u=Ke(),a=oe("button"),l=Ze("Save"),f=Ke(),d=oe("button"),p=Ze("Delete"),h=Ke(),o=oe("ul");for(let F=0;F<c.length;F+=1)c[F].c();A=Ke(),g=oe("li"),D=oe("input"),this.h()},l(F){t=le(F,"DIV",{class:!0});var B=ie(t);r=le(B,"BUTTON",{class:!0});var x=ie(r);i=Xe(x,"Paste"),x.forEach(q),u=Ye(B),a=le(B,"BUTTON",{class:!0});var T=ie(a);l=Xe(T,"Save"),T.forEach(q),f=Ye(B),d=le(B,"BUTTON",{class:!0});var I=ie(d);p=Xe(I,"Delete"),I.forEach(q),B.forEach(q),h=Ye(F),o=le(F,"UL",{class:!0});var V=ie(o);for(let K=0;K<c.length;K+=1)c[K].l(V);A=Ye(V),g=le(V,"LI",{class:!0});var J=ie(g);D=le(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(q),V.forEach(q),this.h()},h(){k(r,"class","btn btn-sm btn-info mx-2"),k(a,"class","btn btn-sm btn-success mx-2"),k(d,"class","btn btn-sm btn-error mx-2"),k(t,"class","flex px-8 py-2 justify-center bg-base-100"),k(D,"type","text"),k(D,"placeholder","Add prompt"),k(D,"class","input input-bordered input-sm w-full italic"),k(g,"class","p-1"),k(o,"class","h-screen p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(F,B){Fe(F,t,B),Q(t,r),Q(r,i),Q(t,u),Q(t,a),Q(a,l),Q(t,f),Q(t,d),Q(d,p),Fe(F,h,B),Fe(F,o,B);for(let x=0;x<c.length;x+=1)c[x]&&c[x].m(o,null);Q(o,A),Q(o,g),Q(g,D),mi(D,e[0]),y||(C=[Re(r,"click",e[3]),Re(a,"click",e[2]),Re(d,"click",e[4]),Re(D,"input",e[10]),Re(D,"input",e[11])],y=!0)},p(F,[B]){B&34&&(w=F[1],c=Ai(c,B,O,1,F,w,m,o,du,Qh,A,$h)),B&1&&D.value!==F[0]&&mi(D,F[0])},i:Te,o:Te,d(F){F&&q(t),F&&q(h),F&&q(o);for(let B=0;B<c.length;B+=1)c[B].d();y=!1,Jr(C)}}}function W3(e,t,r){let i,u,a;Bt(e,Cn,D=>r(8,u=D)),Bt(e,kC,D=>r(12,a=D));let l="",f=Object.keys(u.weightedPrompts).length;function d(){cs.updatePrompt(wp(),{...u,date:Date.now()}),Ln.updateMode("select")}function p(){navigator.clipboard.readText().then(D=>{const y=ql(D),C=Math.max(...y.map(([O,F])=>F)),w=y.reduce((O,[F,B],x)=>(O[x]=Dr(x,F,B,B/C),O),{});It.updateActivePrompt(cu(w,u.weightMode))})}function h(){a&&cs.deletePrompt(a),Ln.updateMode("select"),It.deleteActivePrompt()}const o=Jh((D,y)=>{const C={...u.weightedPrompts},w={...C[D],text:y};C[D]=w,It.updateActivePrompt({...u,weightedPrompts:C})},500),c=Jh(D=>{const y=Object.keys(u.weightedPrompts).length,C={...u.weightedPrompts},w=Dr(y,D,1);C[y]=w,It.updateActivePrompt({...u,weightedPrompts:C})},500),m=(D,y)=>o(D,y.target.value);function A(){l=this.value,r(0,l),r(8,u),r(7,f)}const g=D=>c(D.target.value);return e.$$.update=()=>{if(e.$$.dirty&384){const D=Object.keys(u.weightedPrompts).length;D>f&&(r(7,f=D),r(0,l=""))}e.$$.dirty&256&&r(1,i=Object.entries(u.weightedPrompts).map(([D,y])=>({id:D,text:y.text})))},[l,i,d,p,h,o,c,f,u,m,A,g]}class H3 extends Yt{constructor(t){super(),Zt(this,t,W3,z3,Xt,{})}}const G3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. The first sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. The middle three sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. The final sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,K3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 10 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. Four sentences should describe the subject.
    d. Four sentences should describe the scene.
    e. Tow sentences should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`,Y3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 10 concepts.
    a. Each concept should be 10 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
`,Z3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. Several concepts must include the subject.
3. The prompt should be constructed of 20 concepts.
    a. Each concept should be 5 to 15 words.
    b. Concepts can be lists of comma separated words.
    c. Concepts should not be complete sentences.
    d. Some concepts should describe the subject.
    e. Some concepts should describe the scene.
    f. Some concepts should be stylistic cues.
    g. Some concepts should be descriptions of light and color.
    h. Some concepts should be lists of relevant artists.
4. Use visually descriptive language.
5. The concepts should work together to describe a piece of art.

Format rules:
1. Each concept should be separated by a newline.
2. Do not number or name the concepts.
3. Do not use hyphens to mark list items.
4. Do not title the list.
`,X3=`Prompt Rules:

1. Any stylistic or artistic cues must be included.
2. The prompt should be constructed of 5 sentences.
    a. Each sentence should be 10 to 20 words.
    b. Each sentence should be a complete thought.
    c. One sentence should describe the subject. Example: A graceful woman with a flowing chiffon dress glides through a shimmering koi pond.
    d. Two sentences should describe visual elements of the scene. Example: The water is crystal clear, and you can see colorful koi swimming around.
    e. One sentence should describe the art with artist names and style cues. Example: A dreamy flowerpunk painting by Kilian Eng.
    f. One sentence should be a poetic concept or feeling. Example: The unfathomable depths of a lover's sigh.
        i. The poetic concept should be intense.
        ii. The poetic concept should be emotional.
        iii. The poetic concept should include abstract words.
3. Use visually descriptive language.
4. Each sentences should work together to describe a piece of art.
5. Include descriptions of light and color.

Format rules:
1. Each sentence should be separated by a newline.
`;function J3(){const e=Fn({}),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&Object.keys(localStorage).reduce((a,l)=>{if(l.startsWith("directive")){const f=l.split("_")[1];a[f]=JSON.parse(localStorage[l])}return a},{})||{}),{subscribe:t,updateDirective:(a,l)=>{const f=Pt(e),p={...f[a]||{},...l};u&&(localStorage[`directive_${a}`]=JSON.stringify(p));const h={...f,[a]:p};r(h)},getDirective:a=>Pt(e)[a],deleteDirective:a=>{u&&delete localStorage[`directive_${a}`];const l={...Pt(e)};delete l[a],r(l)}}}const ds=J3(),$3=En(ds,e=>Object.entries(Pt(ds))),yl="preferredModelStore";function Q3(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[yl]||""),{subscribe:t,updateModel:a=>{!a||!u||(localStorage[yl]=a,r(a))},getModel:()=>Pt(e),deleteModel:()=>{u&&(delete localStorage[yl],r(""))}}}const zl=Q3(),Bp=En(zl,e=>Pt(zl)),Al="preferredDirectiveStore";function eS(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[Al]||""),{subscribe:t,updateDirectiveKey:a=>{!a||!u||(localStorage[Al]=a,r(a))},getDirectiveKey:()=>Pt(e),deleteDirectiveKey:()=>{u&&(delete localStorage[Al],r(""))}}}const ps=eS(),tS=En(ps,e=>Pt(ps)),bl="metaPromptStore";function rS(){const e=Fn(""),{subscribe:t,set:r,update:i}=e,u=typeof window<"u";return r(u&&localStorage[bl]||""),{subscribe:t,updateMetaPrompt:a=>{!a||!u||(localStorage[bl]=a,r(a))},getMetaPrompt:()=>Pt(e),deleteMetaPrompt:()=>{u&&(delete localStorage[bl],r(""))}}}const Wl=rS(),nS=En(Wl,e=>Pt(Wl));function ed(e,t,r){const i=e.slice();return i[30]=t[r][0],i[31]=t[r][1],i}function iS(e){let t,r,i;return{c(){t=oe("div"),r=oe("p"),i=Ze("Open AI Key must be provided in settings."),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);r=le(a,"P",{});var l=ie(r);i=Xe(l,"Open AI Key must be provided in settings."),l.forEach(q),a.forEach(q),this.h()},h(){k(t,"class","w-full p-2 flex justify-center")},m(u,a){Fe(u,t,a),Q(t,r),Q(r,i)},p:Te,d(u){u&&q(t)}}}function uS(e){let t,r,i,u,a,l,f,d,p,h,o=[],c=new Map,m,A,g,D,y,C,w,O=Object.entries(e[1]);const F=x=>x[30];for(let x=0;x<O.length;x+=1){let T=ed(e,O,x),I=F(T);c.set(I,o[x]=td(I,T))}let B=e[0]&&rd(e);return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ze("Pick a directive for prompt creation"),l=Ke(),f=oe("select"),d=oe("option"),p=Ze("Pick one");for(let x=0;x<o.length;x+=1)o[x].c();m=oe("option"),A=Ze("New"),D=Ke(),B&&B.c(),y=lr(),this.h()},l(x){t=le(x,"DIV",{class:!0});var T=ie(t);r=le(T,"DIV",{class:!0});var I=ie(r);i=le(I,"LABEL",{class:!0});var V=ie(i);u=le(V,"SPAN",{class:!0});var J=ie(u);a=Xe(J,"Pick a directive for prompt creation"),J.forEach(q),V.forEach(q),l=Ye(I),f=le(I,"SELECT",{class:!0});var K=ie(f);d=le(K,"OPTION",{});var W=ie(d);p=Xe(W,"Pick one"),W.forEach(q);for(let j=0;j<o.length;j+=1)o[j].l(K);m=le(K,"OPTION",{});var G=ie(m);A=Xe(G,"New"),G.forEach(q),K.forEach(q),I.forEach(q),T.forEach(q),D=Ye(x),B&&B.l(x),y=lr(),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=h=e[0]===null,d.__value="Pick one",d.value=d.__value,m.__value="new",m.value=m.__value,m.selected=g=e[0]==="new",k(f,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(x,T){Fe(x,t,T),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,l),Q(r,f),Q(f,d),Q(d,p);for(let I=0;I<o.length;I+=1)o[I]&&o[I].m(f,null);Q(f,m),Q(m,A),ou(f,e[0]),Fe(x,D,T),B&&B.m(x,T),Fe(x,y,T),C||(w=Re(f,"change",e[11]),C=!0)},p(x,T){T[0]&3&&h!==(h=x[0]===null)&&(d.selected=h),T[0]&3&&(O=Object.entries(x[1]),o=Ai(o,T,F,1,x,O,c,f,du,td,m,ed)),T[0]&3&&g!==(g=x[0]==="new")&&(m.selected=g),T[0]&3&&ou(f,x[0]),x[0]?B?B.p(x,T):(B=rd(x),B.c(),B.m(y.parentNode,y)):B&&(B.d(1),B=null)},d(x){x&&q(t);for(let T=0;T<o.length;T+=1)o[T].d();x&&q(D),B&&B.d(x),x&&q(y),C=!1,w()}}}function td(e,t){let r,i=t[31].name+"",u,a=t[31].builtIn?" (Built-In)":" (User)",l,f,d;return{key:e,first:null,c(){r=oe("option"),u=Ze(i),l=Ze(a),this.h()},l(p){r=le(p,"OPTION",{});var h=ie(r);u=Xe(h,i),l=Xe(h,a),h.forEach(q),this.h()},h(){r.__value=f=t[30],r.value=r.__value,r.selected=d=t[0]===t[30],this.first=r},m(p,h){Fe(p,r,h),Q(r,u),Q(r,l)},p(p,h){t=p,h[0]&2&&i!==(i=t[31].name+"")&&wn(u,i),h[0]&2&&a!==(a=t[31].builtIn?" (Built-In)":" (User)")&&wn(l,a),h[0]&2&&f!==(f=t[30])&&(r.__value=f,r.value=r.__value),h[0]&3&&d!==(d=t[0]===t[30])&&(r.selected=d)},d(p){p&&q(r)}}}function rd(e){let t,r,i,u,a,l,f,d,p,h,o=!e[6]&&nd(e);function c(g,D){return g[5]?sS:aS}let m=c(e),A=m(e);return{c(){o&&o.c(),t=Ke(),r=oe("div"),i=oe("textarea"),u=Ke(),a=oe("div"),l=oe("textarea"),f=Ke(),A.c(),d=lr(),this.h()},l(g){o&&o.l(g),t=Ye(g),r=le(g,"DIV",{class:!0});var D=ie(r);i=le(D,"TEXTAREA",{class:!0,placeholder:!0}),ie(i).forEach(q),D.forEach(q),u=Ye(g),a=le(g,"DIV",{class:!0});var y=ie(a);l=le(y,"TEXTAREA",{class:!0,placeholder:!0}),ie(l).forEach(q),y.forEach(q),f=Ye(g),A.l(g),d=lr(),this.h()},h(){k(i,"class","textarea textarea-bordered w-full h-full"),k(i,"placeholder","GPT Directives"),k(r,"class","w-full p-2 h-1/2"),l.value=e[7],k(l,"class","textarea textarea-bordered w-full h-full"),k(l,"placeholder","Describe the prompt to generate."),k(a,"class","w-full p-2 h-1/5")},m(g,D){o&&o.m(g,D),Fe(g,t,D),Fe(g,r,D),Q(r,i),mi(i,e[4]),Fe(g,u,D),Fe(g,a,D),Q(a,l),Fe(g,f,D),A.m(g,D),Fe(g,d,D),p||(h=[Re(i,"input",e[17]),Re(l,"input",e[18])],p=!0)},p(g,D){g[6]?o&&(o.d(1),o=null):o?o.p(g,D):(o=nd(g),o.c(),o.m(t.parentNode,t)),D[0]&16&&mi(i,g[4]),D[0]&128&&(l.value=g[7]),m===(m=c(g))&&A?A.p(g,D):(A.d(1),A=m(g),A&&(A.c(),A.m(d.parentNode,d)))},d(g){o&&o.d(g),g&&q(t),g&&q(r),g&&q(u),g&&q(a),g&&q(f),A.d(g),g&&q(d),p=!1,Jr(h)}}}function nd(e){let t,r,i,u,a,l,f;return{c(){t=oe("div"),r=oe("input"),i=Ke(),u=oe("button"),a=Ze("Save"),this.h()},l(d){t=le(d,"DIV",{class:!0});var p=ie(t);r=le(p,"INPUT",{type:!0,placeholder:!0,class:!0}),i=Ye(p),u=le(p,"BUTTON",{class:!0});var h=ie(u);a=Xe(h,"Save"),h.forEach(q),p.forEach(q),this.h()},h(){k(r,"type","text"),k(r,"placeholder","Name"),k(r,"class","input input-bordered input-sm w-full max-w-xs"),k(u,"class","btn btn-sm btn-primary ml-4"),k(t,"class","w-full p-2 h-12 flex justify-between")},m(d,p){Fe(d,t,p),Q(t,r),mi(r,e[3]),Q(t,i),Q(t,u),Q(u,a),l||(f=[Re(r,"input",e[16]),Re(u,"click",e[9])],l=!0)},p(d,p){p[0]&8&&r.value!==d[3]&&mi(r,d[3])},d(d){d&&q(t),l=!1,Jr(f)}}}function aS(e){let t,r,i={ctx:e,current:null,token:null,hasCatch:!1,pending:fS,then:lS,catch:oS,value:29};return Di(r=e[2],i),{c(){t=oe("div"),i.block.c(),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);i.block.l(a),a.forEach(q),this.h()},h(){k(t,"class","w-full p-2 h-12 flex justify-end")},m(u,a){Fe(u,t,a),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null},p(u,a){e=u,i.ctx=e,a[0]&4&&r!==(r=e[2])&&Di(r,i)||vs(i,e,a)},d(u){u&&q(t),i.block.d(),i.token=null,i=null}}}function sS(e){let t,r,i,u,a,l,f,d={ctx:e,current:null,token:null,hasCatch:!1,pending:dS,then:hS,catch:cS,value:29};return Di(a=e[2],d),{c(){t=oe("div"),r=oe("button"),i=Ze("Delete"),u=Ke(),d.block.c(),this.h()},l(p){t=le(p,"DIV",{class:!0});var h=ie(t);r=le(h,"BUTTON",{class:!0});var o=ie(r);i=Xe(o,"Delete"),o.forEach(q),u=Ye(h),d.block.l(h),h.forEach(q),this.h()},h(){k(r,"class","btn btn-sm btn-error ml-4"),k(t,"class","w-full p-2 h-12 flex justify-between")},m(p,h){Fe(p,t,h),Q(t,r),Q(r,i),Q(t,u),d.block.m(t,d.anchor=null),d.mount=()=>t,d.anchor=null,l||(f=Re(r,"click",e[10]),l=!0)},p(p,h){e=p,d.ctx=e,h[0]&4&&a!==(a=e[2])&&Di(a,d)||vs(d,e,h)},d(p){p&&q(t),d.block.d(),d.token=null,d=null,l=!1,f()}}}function oS(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function lS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ze("Generate"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var l=ie(t);r=Xe(l,"Generate"),l.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn-primary ml-4")},m(a,l){Fe(a,t,l),Q(t,r),i||(u=Re(t,"click",e[12]),i=!0)},p:Te,d(a){a&&q(t),i=!1,u()}}}function fS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ze("Generating"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var l=ie(t);r=Xe(l,"Generating"),l.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn ml-4 disabled")},m(a,l){Fe(a,t,l),Q(t,r),i||(u=Re(t,"click",e[12]),i=!0)},p:Te,d(a){a&&q(t),i=!1,u()}}}function cS(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function hS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ze("Generate"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var l=ie(t);r=Xe(l,"Generate"),l.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn-primary ml-4")},m(a,l){Fe(a,t,l),Q(t,r),i||(u=Re(t,"click",e[12]),i=!0)},p:Te,d(a){a&&q(t),i=!1,u()}}}function dS(e){let t,r,i,u;return{c(){t=oe("button"),r=Ze("Generating"),this.h()},l(a){t=le(a,"BUTTON",{class:!0});var l=ie(t);r=Xe(l,"Generating"),l.forEach(q),this.h()},h(){k(t,"class","btn btn-sm btn ml-4 disabled")},m(a,l){Fe(a,t,l),Q(t,r),i||(u=Re(t,"click",e[12]),i=!0)},p:Te,d(a){a&&q(t),i=!1,u()}}}function pS(e){let t;function r(a,l){return a[8]?uS:iS}let u=r(e)(e);return{c(){t=oe("div"),u.c(),this.h()},l(a){t=le(a,"DIV",{class:!0});var l=ie(t);u.l(l),l.forEach(q),this.h()},h(){k(t,"class","h-full p-2 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(a,l){Fe(a,t,l),u.m(t,null)},p(a,l){u.p(a,l)},i:Te,o:Te,d(a){a&&q(t),u.d()}}}function vS(e,t,r){let i,u,a,l,f,d,p,h,o,c;Bt(e,nS,j=>r(7,f=j)),Bt(e,Cn,j=>r(19,d=j)),Bt(e,tS,j=>r(14,p=j)),Bt(e,$3,j=>r(15,h=j)),Bt(e,Bp,j=>r(20,o=j)),Bt(e,Os,j=>r(21,c=j));let m=c,A=o,g=null;const D=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001"];let y={C:{name:"Five Sentences",text:G3,builtIn:!0},D:{name:"Ten Sentences",text:K3,builtIn:!0},E:{name:"Fragments",text:Y3,builtIn:!0},F:{name:"Concept Shotgun",text:Z3,builtIn:!0},G:{name:"Poetic Accents",text:X3,builtIn:!0}},C=null,w="",O="";function F(){const j=C==="new"?wp():C;ds.updateDirective(j,{name:w,text:O,builtIn:!1}),C==="new"&&r(0,C=j)}function B(){ds.deleteDirective(C),r(0,C=null),r(3,w=""),r(4,O=""),ps.deleteDirectiveKey(null)}function x(j){r(0,C=j),console.log(C),ps.updateDirectiveKey(j),j&&j!=="new"?(r(3,w=u[j].name),r(4,O=u[j].text)):j==="new"&&(r(3,w=""),r(4,O=""))}function T(j){x(j.target.value)}function I(j,H){r(2,g=Z2(j,H,A||"gpt-3.5-turbo")),g.then(he=>{console.log(he),he.data.choices.forEach((ve,we)=>{const Se=ql(ve.message.content);console.log(Se);const Pe=Se.reduce((Ce,[xe,Ie],Le)=>(Ce[Le]=Dr(Le,xe,Ie),Ce),{});It.updateActivePrompt(cu(Pe,d.weightMode)),Ln.updateMode("edit")})})}function V(j,H){r(2,g=Y2(j,H,A||"text-davinci-003")),g.then(he=>{console.log(he),he.data.choices.forEach((ve,we)=>{const Se=ql(ve.text);console.log(Se);const Pe=Se.reduce((Ce,[xe,Ie],Le)=>(Ce[Le]=Dr(Le,xe,Ie),Ce),{});It.updateActivePrompt(cu(Pe,d.weightMode)),Ln.updateMode("edit")})})}function J(){if(!m||!O||!f)return;const j=cf(m),H=`${O}

        Using the above rules create a prompt from:
        ${f}
        `;D.includes(A)?V(j,H):I(j,H)}function K(){w=this.value,r(3,w)}function W(){O=this.value,r(4,O)}const G=j=>Wl.updateMetaPrompt(j.target.value);return e.$$.update=()=>{e.$$.dirty[0]&32768&&r(13,i=h.reduce((j,[H,re])=>(j[H]={name:re.name,text:re.text,builtIn:!1},j),{})),e.$$.dirty[0]&8192&&r(1,u=Object.entries({...y,...i}).reduce((j,[H,re])=>(j[H]=re,j),{})),e.$$.dirty[0]&16385&&(C===null&&r(0,C=p),x(C)),e.$$.dirty[0]&3&&r(6,a=C&&C!=="new"&&u[C].builtIn),e.$$.dirty[0]&3&&r(5,l=C&&C!=="new"&&!u[C].builtIn)},[C,u,g,w,O,l,a,f,m,F,B,T,J,i,p,h,K,W,G]}class gS extends Yt{constructor(t){super(),Zt(this,t,vS,pS,Xt,{},null,[-1,-1])}}function id(e,t,r){const i=e.slice();return i[20]=t[r],i}function ud(e,t,r){const i=e.slice();return i[20]=t[r],i}function mS(e){return{c:Te,l:Te,m:Te,p:Te,d:Te}}function DS(e){let t,r,i=e[0].length>0&&ad(e),u=e[1].length>0&&od(e);return{c(){i&&i.c(),t=Ke(),u&&u.c(),r=lr()},l(a){i&&i.l(a),t=Ye(a),u&&u.l(a),r=lr()},m(a,l){i&&i.m(a,l),Fe(a,t,l),u&&u.m(a,l),Fe(a,r,l)},p(a,l){a[0].length>0?i?i.p(a,l):(i=ad(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[1].length>0?u?u.p(a,l):(u=od(a),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(a){i&&i.d(a),a&&q(t),u&&u.d(a),a&&q(r)}}}function ad(e){let t,r,i,u,a,l,f,d,p,h,o=[],c=new Map,m,A,g=e[0];const D=y=>y[20];for(let y=0;y<g.length;y+=1){let C=ud(e,g,y),w=D(C);c.set(w,o[y]=sd(w,C))}return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ze("Pick a model to use for model generation"),l=Ke(),f=oe("select"),d=oe("option"),p=Ze("Pick one");for(let y=0;y<o.length;y+=1)o[y].c();this.h()},l(y){t=le(y,"DIV",{class:!0});var C=ie(t);r=le(C,"DIV",{class:!0});var w=ie(r);i=le(w,"LABEL",{class:!0});var O=ie(i);u=le(O,"SPAN",{class:!0});var F=ie(u);a=Xe(F,"Pick a model to use for model generation"),F.forEach(q),O.forEach(q),l=Ye(w),f=le(w,"SELECT",{class:!0});var B=ie(f);d=le(B,"OPTION",{});var x=ie(d);p=Xe(x,"Pick one"),x.forEach(q);for(let T=0;T<o.length;T+=1)o[T].l(B);B.forEach(q),w.forEach(q),C.forEach(q),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=h=e[2]===null,d.__value="Pick one",d.value=d.__value,k(f,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(y,C){Fe(y,t,C),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,l),Q(r,f),Q(f,d),Q(d,p);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(f,null);ou(f,e[2]),m||(A=Re(f,"change",e[7]),m=!0)},p(y,C){C&5&&h!==(h=y[2]===null)&&(d.selected=h),C&5&&(g=y[0],o=Ai(o,C,D,1,y,g,c,f,du,sd,null,ud)),C&5&&ou(f,y[2])},d(y){y&&q(t);for(let C=0;C<o.length;C+=1)o[C].d();m=!1,A()}}}function sd(e,t){let r,i=t[20]+"",u,a,l;return{key:e,first:null,c(){r=oe("option"),u=Ze(i),this.h()},l(f){r=le(f,"OPTION",{});var d=ie(r);u=Xe(d,i),d.forEach(q),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=l=t[2]===t[20],this.first=r},m(f,d){Fe(f,r,d),Q(r,u)},p(f,d){t=f,d&1&&i!==(i=t[20]+"")&&wn(u,i),d&1&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&5&&l!==(l=t[2]===t[20])&&(r.selected=l)},d(f){f&&q(r)}}}function od(e){let t,r,i,u,a,l,f,d,p,h,o=[],c=new Map,m,A,g=e[1];const D=y=>y[20];for(let y=0;y<g.length;y+=1){let C=id(e,g,y),w=D(C);c.set(w,o[y]=ld(w,C))}return{c(){t=oe("div"),r=oe("div"),i=oe("label"),u=oe("span"),a=Ze("Pick a model to use for prompt embedding"),l=Ke(),f=oe("select"),d=oe("option"),p=Ze("Pick one");for(let y=0;y<o.length;y+=1)o[y].c();this.h()},l(y){t=le(y,"DIV",{class:!0});var C=ie(t);r=le(C,"DIV",{class:!0});var w=ie(r);i=le(w,"LABEL",{class:!0});var O=ie(i);u=le(O,"SPAN",{class:!0});var F=ie(u);a=Xe(F,"Pick a model to use for prompt embedding"),F.forEach(q),O.forEach(q),l=Ye(w),f=le(w,"SELECT",{class:!0});var B=ie(f);d=le(B,"OPTION",{});var x=ie(d);p=Xe(x,"Pick one"),x.forEach(q);for(let T=0;T<o.length;T+=1)o[T].l(B);B.forEach(q),w.forEach(q),C.forEach(q),this.h()},h(){k(u,"class","label-text"),k(i,"class","label"),d.disabled=!0,d.selected=h=e[3]===null,d.__value="Pick one",d.value=d.__value,k(f,"class","select select-bordered"),k(r,"class","form-control w-full max-w-xs mb-4"),k(t,"class","flex justify-center")},m(y,C){Fe(y,t,C),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(r,l),Q(r,f),Q(f,d),Q(d,p);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(f,null);ou(f,e[3]),m||(A=Re(f,"change",e[8]),m=!0)},p(y,C){C&10&&h!==(h=y[3]===null)&&(d.selected=h),C&10&&(g=y[1],o=Ai(o,C,D,1,y,g,c,f,du,ld,null,id)),C&10&&ou(f,y[3])},d(y){y&&q(t);for(let C=0;C<o.length;C+=1)o[C].d();m=!1,A()}}}function ld(e,t){let r,i=t[20]+"",u,a,l;return{key:e,first:null,c(){r=oe("option"),u=Ze(i),this.h()},l(f){r=le(f,"OPTION",{});var d=ie(r);u=Xe(d,i),d.forEach(q),this.h()},h(){r.__value=a=t[20],r.value=r.__value,r.selected=l=t[3]===t[20],this.first=r},m(f,d){Fe(f,r,d),Q(r,u)},p(f,d){t=f,d&2&&i!==(i=t[20]+"")&&wn(u,i),d&2&&a!==(a=t[20])&&(r.__value=a,r.value=r.__value),d&10&&l!==(l=t[3]===t[20])&&(r.selected=l)},d(f){f&&q(r)}}}function _S(e){let t,r,i;return{c(){t=oe("div"),r=oe("div"),i=oe("progress"),this.h()},l(u){t=le(u,"DIV",{class:!0});var a=ie(t);r=le(a,"DIV",{class:!0});var l=ie(r);i=le(l,"PROGRESS",{class:!0}),ie(i).forEach(q),l.forEach(q),a.forEach(q),this.h()},h(){k(i,"class","progress progress-primary w-56"),k(r,"class","form-control w-full flex flex-col max-w-xs"),k(t,"class","py-10 flex justify-center")},m(u,a){Fe(u,t,a),Q(t,r),Q(r,i)},p:Te,d(u){u&&q(t)}}}function yS(e){let t,r,i,u,a,l,f,d,p,h,o,c,m,A,g,D,y,C,w,O,F,B,x,T,I={ctx:e,current:null,token:null,hasCatch:!1,pending:_S,then:DS,catch:mS,value:19};return Di(B=e[4],I),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("label"),a=oe("span"),l=Ze("Include Prompts With Zero Weight"),f=Ke(),d=oe("input"),p=Ke(),h=oe("div"),o=oe("div"),c=oe("label"),m=oe("span"),A=Ze("Open AI Key"),g=Ke(),D=oe("input"),y=Ke(),C=oe("label"),w=oe("button"),O=Ze("Clear"),F=Ke(),I.block.c(),this.h()},l(V){t=le(V,"DIV",{class:!0});var J=ie(t);r=le(J,"DIV",{class:!0});var K=ie(r);i=le(K,"DIV",{class:!0});var W=ie(i);u=le(W,"LABEL",{class:!0});var G=ie(u);a=le(G,"SPAN",{class:!0});var j=ie(a);l=Xe(j,"Include Prompts With Zero Weight"),j.forEach(q),G.forEach(q),f=Ye(W),d=le(W,"INPUT",{type:!0,class:!0}),W.forEach(q),K.forEach(q),p=Ye(J),h=le(J,"DIV",{class:!0});var H=ie(h);o=le(H,"DIV",{class:!0});var re=ie(o);c=le(re,"LABEL",{class:!0});var he=ie(c);m=le(he,"SPAN",{class:!0});var ve=ie(m);A=Xe(ve,"Open AI Key"),ve.forEach(q),he.forEach(q),g=Ye(re),D=le(re,"INPUT",{type:!0,placeholder:!0,class:!0}),y=Ye(re),C=le(re,"LABEL",{class:!0});var we=ie(C);w=le(we,"BUTTON",{class:!0});var Se=ie(w);O=Xe(Se,"Clear"),Se.forEach(q),we.forEach(q),re.forEach(q),H.forEach(q),F=Ye(J),I.block.l(J),J.forEach(q),this.h()},h(){k(a,"class","label-text-alt"),k(u,"class","label"),k(d,"type","checkbox"),k(d,"class","toggle"),d.checked=e[5],k(i,"class","form-control w-full max-w-xs"),k(r,"class","flex justify-center"),k(m,"class","label-text-alt"),k(c,"class","label"),D.value=e[6],k(D,"type","password"),k(D,"placeholder","Open AI Key"),k(D,"class","input input-bordered w-full max-w-xs"),k(w,"class","btn btn-xs btn-error"),k(C,"class","label"),k(o,"class","form-control w-full max-w-xs"),k(h,"class","flex justify-center"),k(t,"class","h-full p-4 w-full bg-base-100 overflow-y-auto text-base-content inline-block")},m(V,J){Fe(V,t,J),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(a,l),Q(i,f),Q(i,d),Q(t,p),Q(t,h),Q(h,o),Q(o,c),Q(c,m),Q(m,A),Q(o,g),Q(o,D),Q(o,y),Q(o,C),Q(C,w),Q(w,O),Q(t,F),I.block.m(t,I.anchor=null),I.mount=()=>t,I.anchor=null,x||(T=[Re(d,"change",e[11]),Re(D,"input",e[9]),Re(w,"click",e[10])],x=!0)},p(V,[J]){e=V,J&32&&(d.checked=e[5]),J&64&&D.value!==e[6]&&(D.value=e[6]),I.ctx=e,J&16&&B!==(B=e[4])&&Di(B,I)||vs(I,e,J)},i:Te,o:Te,d(V){V&&q(t),I.block.d(),I.token=null,I=null,x=!1,Jr(T)}}}function AS(e,t,r){let i,u,a,l,f;Bt(e,bp,B=>r(5,i=B)),Bt(e,Cn,B=>r(13,u=B)),Bt(e,op,B=>r(14,a=B)),Bt(e,Bp,B=>r(15,l=B)),Bt(e,Os,B=>r(6,f=B));const d=["text-davinci-003","text-curie-001","text-babage-001","text-ada-001","gpt-3.5-turbo","gpt-3.5-turbo-0301"],p=["text-embedding-ada-002"];let h=f,o=[],c=[],m=l,A=a,g=null;async function D(B){if(!B||o.length&&c.length)return;const x=cf(B);r(4,g=J2(x));const T=await g;T.data&&r(0,o=T.data.data.map(({id:I})=>I).filter(I=>d.includes(I))),r(1,c=T.data.data.map(({id:I})=>I).filter(I=>p.includes(I)))}function y(B){r(2,m=B.target.value),zl.updateModel(m)}function C(B){r(3,A=B.target.value),Ul.updateEmbeddingModel(A)}function w(B){const x=B.target.value;is.updateKey(x),x.length===51&&D(x),x.length===0&&O()}function O(){is.deleteKey(),r(12,h=""),r(0,o=[]),r(1,c=[]),u.weightMode==="embed"&&It.updateActivePrompt({...u,weightMode:"circle"})}function F(){jl.update(!i)}return e.$$.update=()=>{e.$$.dirty&4096&&D(h)},[o,c,m,A,g,i,f,y,C,w,O,F,h]}class bS extends Yt{constructor(t){super(),Zt(this,t,AS,yS,Xt,{})}}function wS(e){let t,r;return t=new bS({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function ES(e){let t,r;return t=new gS({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function FS(e){let t,r;return t=new H3({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function CS(e){let t,r;return t=new UC({}),{c(){mt(t.$$.fragment)},l(i){Dt(t.$$.fragment,i)},m(i,u){_t(t,i,u),r=!0},i(i){r||(ke(t.$$.fragment,i),r=!0)},o(i){ze(t.$$.fragment,i),r=!1},d(i){yt(t,i)}}}function SS(e){let t,r,i,u,a,l,f,d,p,h,o,c,m,A,g,D,y,C,w,O,F,B,x,T;const I=[CS,FS,ES,wS],V=[];function J(K,W){return K[0]==="select"?0:K[0]==="edit"?1:K[0]==="generate"?2:K[0]==="settings"?3:-1}return~(O=J(e))&&(F=V[O]=I[O](e)),{c(){t=oe("div"),r=oe("div"),i=oe("div"),u=oe("button"),a=Ze("Select"),f=Ke(),d=oe("button"),p=Ze("Edit"),o=Ke(),c=oe("button"),m=Ze("Generate"),g=Ke(),D=oe("button"),y=Ze("Settings"),w=Ke(),F&&F.c(),this.h()},l(K){t=le(K,"DIV",{class:!0});var W=ie(t);r=le(W,"DIV",{class:!0});var G=ie(r);i=le(G,"DIV",{class:!0});var j=ie(i);u=le(j,"BUTTON",{class:!0});var H=ie(u);a=Xe(H,"Select"),H.forEach(q),f=Ye(j),d=le(j,"BUTTON",{class:!0});var re=ie(d);p=Xe(re,"Edit"),re.forEach(q),o=Ye(j),c=le(j,"BUTTON",{class:!0});var he=ie(c);m=Xe(he,"Generate"),he.forEach(q),g=Ye(j),D=le(j,"BUTTON",{class:!0});var ve=ie(D);y=Xe(ve,"Settings"),ve.forEach(q),j.forEach(q),w=Ye(G),F&&F.l(G),G.forEach(q),W.forEach(q),this.h()},h(){k(u,"class",l=e[0]==="select"?"btn btn-active":"btn"),k(d,"class",h=e[0]==="edit"?"btn btn-active":"btn"),k(c,"class",A=e[0]==="generate"?"btn btn-active":"btn"),k(D,"class",C=e[0]==="settings"?"btn btn-active":"btn"),k(i,"class","btn-group btn-group-vertical sm:btn-group-horizontal bg-base-100 w-full flex justify-center p-2"),k(r,"class","h-screen overflow-y-auto flex flex-col"),k(t,"class","max-w-md w-1/2 h-screen overflow-y-auto")},m(K,W){Fe(K,t,W),Q(t,r),Q(r,i),Q(i,u),Q(u,a),Q(i,f),Q(i,d),Q(d,p),Q(i,o),Q(i,c),Q(c,m),Q(i,g),Q(i,D),Q(D,y),Q(r,w),~O&&V[O].m(r,null),B=!0,x||(T=[Re(u,"click",e[2]),Re(d,"click",e[3]),Re(c,"click",e[4]),Re(D,"click",e[5])],x=!0)},p(K,[W]){(!B||W&1&&l!==(l=K[0]==="select"?"btn btn-active":"btn"))&&k(u,"class",l),(!B||W&1&&h!==(h=K[0]==="edit"?"btn btn-active":"btn"))&&k(d,"class",h),(!B||W&1&&A!==(A=K[0]==="generate"?"btn btn-active":"btn"))&&k(c,"class",A),(!B||W&1&&C!==(C=K[0]==="settings"?"btn btn-active":"btn"))&&k(D,"class",C);let G=O;O=J(K),O!==G&&(F&&(Nn(),ze(V[G],1,1,()=>{V[G]=null}),kn()),~O?(F=V[O],F||(F=V[O]=I[O](K),F.c()),ke(F,1),F.m(r,null)):F=null)},i(K){B||(ke(F),B=!0)},o(K){ze(F),B=!1},d(K){K&&q(t),~O&&V[O].d(),x=!1,Jr(T)}}}function BS(e,t,r){let i;Bt(e,IC,p=>r(0,i=p));function u(p){Ln.updateMode(p)}const a=()=>u("select"),l=()=>u("edit"),f=()=>u("generate"),d=()=>u("settings");return e.$$.update=()=>{e.$$.dirty&1&&(i||Ln.updateMode("select"))},[i,u,a,l,f,d]}class OS extends Yt{constructor(t){super(),Zt(this,t,BS,SS,Xt,{})}}function MS(e){let t,r,i,u;return t=new OS({}),i=new BC({}),{c(){mt(t.$$.fragment),r=Ke(),mt(i.$$.fragment)},l(a){Dt(t.$$.fragment,a),r=Ye(a),Dt(i.$$.fragment,a)},m(a,l){_t(t,a,l),Fe(a,r,l),_t(i,a,l),u=!0},p:Te,i(a){u||(ke(t.$$.fragment,a),ke(i.$$.fragment,a),u=!0)},o(a){ze(t.$$.fragment,a),ze(i.$$.fragment,a),u=!1},d(a){yt(t,a),a&&q(r),yt(i,a)}}}class TS extends Yt{constructor(t){super(),Zt(this,t,null,MS,Xt,{})}}export{TS as default};
